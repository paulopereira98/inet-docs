<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-240922-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-240922-3');
</script>
    
    <title>Collecting Results &#8212; INET 4.3.0 documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="../_static/material-design-lite-1.3.0/material.blue-light_blue.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_materialdesign_theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fontawesome/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Visualization" href="ch-visualization.html" />
    <link rel="prev" title="Packet Filter Expressions" href="ch-packetfilter.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header  ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link" href="index.html">User’s Guide</a><i class="material-icons">navigate_next</i>
            <a class="mdl-navigation__link is-active">Collecting Results</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
<a id="button-show-source"
    class="mdl-button mdl-js-button mdl-button--icon"
    href="../_sources/users-guide/ch-collecting-results.rst.txt" rel="nofollow">
  <i class="material-icons">code</i>
</a>
<div class="mdl-tooltip" data-mdl-for="button-show-source">
Show Source
</div>
        </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-queueing.html">Queueing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-tsn.html">Time-Sensitive Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-clock.html">Clock Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packetfilter.html">Packet Filter Expressions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/index.html">Migrating Code from INET 3.x</a></li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>
        <main class="mdl-layout__content" tabIndex="0">

	<script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js "></script>
    <header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-queueing.html">Queueing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-tsn.html">Time-Sensitive Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-clock.html">Clock Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packetfilter.html">Packet Filter Expressions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/index.html">Migrating Code from INET 3.x</a></li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>

    <div class="document">
        <div class="page-content">
        
  <div class="section" id="collecting-results">
<span id="ug-cha-collecting-results"></span><h1>Collecting Results<a class="headerlink" href="#collecting-results" title="Permalink to this headline">¶</a></h1>
<p>The following sections introduce the INET specific concepts and features for
collecting simulation results. For more information in general on collecting
statistics please refer to the OMNeT++ manual.</p>
<div class="section" id="recording-statistics">
<span id="ug-sec-results-recording-statistics"></span><h2>Recording Statistics<a class="headerlink" href="#recording-statistics" title="Permalink to this headline">¶</a></h2>
<p>Most INET modules are already equipped with the collection of various statistics.
You can find these as <cite>&#64;statistic</cite> properties in the corresponding NED files.
By default, many of them are already configured to be automatically recorded
as either scalars, vectors, or histograms depending on the typical usefulness
of the statistic. Note that it’s possible to change the default recording mode
from INI files as described in the OMNeT++ manual.</p>
<p>If the default statistics, provided by the INET modules, are not sufficient,
then you can derive new modules using only NED files, and add new statistics
to them based on the signals already emitted by the module. The emitted signals
can also be found as &#64;signal properties declared in the corresponding NED files.</p>
<p>If even declaring new statistics isn’t sufficient, then you can also derive new
C++ classes from the module implementations, and add new signals and/or add new
statistic collection code to them. This is the most cumbersome way to collect
new results, but it’s also the most expressive allowing to collect any kind of
statistic.</p>
</div>
<div class="section" id="measuring-along-packet-flows">
<h2>Measuring along Packet Flows<a class="headerlink" href="#measuring-along-packet-flows" title="Permalink to this headline">¶</a></h2>
<p>By default, INET statistics are only capable of collecting results based on the
data that individual protocol modules and applications can access. Each module
collects statistics independently of the rest of the network often rendering
the statistics less useful in complex scenarios. For example, a TCP protocol
module that communicates with multiple other TCP modules cannot distinguish
between the packets based on the path they took. To overcome this issue, INET
introduces the notion of packet flows.</p>
<p>A packet flow is a logical classification of packets, identified by its name,
over the whole network and over the duration of the whole simulation. Basically,
at any given moment any packet that is present anywhere in the network can be
part of any number of packet flows. Packets may enter a packet flow and leave
it multiple times. Different packet flows can overlap both in time and also
along the network topology. Note that a packet flow doesn’t necessarily have
a single entry and a single exit point.</p>
<p>A packet flow is usually defined by active modules that classify certain packets
(e.g. matching a filter) to be entering the flow, and similarly other modules
that decide when packets leave the flow. Both kind of modules are inserted into
the network for this specific purpose usually at the network interface level.
While a packet is being part of any number of packet flows, certain INET modules
(e.g. queues) are going to automatically record certain events that happen with
the packets (e.g. queueing).</p>
<p>So far, the notion of packet flows were introduced on the packet level. That is
at any given time a packet is either completely part of a packet flow or not.
In fact, this is a simplification for easier understanding. This approach is
clearly not sufficient in the general case, because packets can be fragmented
and aggregated throughout the network, and they can traverse many different
paths. Therefore the packet flow membership is actually specified on a per bit
basis. The implementation takes care of efficiently representing this data, so
the coherent parts of a packet that belongs to the same packet flow is marked
together.</p>
<p>Using the packet flow mechanism, one can easily measure the timing of various
things that happen to a packet (or to a part of it). The following quantities
are automatically measured (if requested) along packet flows:</p>
<ul class="simple">
<li><p>total elapsed time measured from entering the packet flow</p></li>
<li><p>total time spent in queues (e.g. transmission queue)</p></li>
<li><p>total delay spent in various non-queue modules (e.g. interframe gap)</p></li>
<li><p>total time spent in various packet processing modules (e.g. packet server)</p></li>
<li><p>total transmission time of transmitters</p></li>
<li><p>total propagation time spent on the transmission medium</p></li>
</ul>
<p>The collected timing data is attached to coherent regions of the packets while
the packets are in the packet flow. The actual measurement, that is collecting
the statistical results is usually done when the packets leave the packet flow.</p>
<p>If the timing statistics are not sufficient, it’s also possible to collect all
packet events that happens to packets in the packet flow. The following packet
events can be automatically collected along packet flows:</p>
<ul class="simple">
<li><p>packet is enqueued in a packet queue (e.g. transmission queue)</p></li>
<li><p>packet is delayed (e.g. interframe gap)</p></li>
<li><p>packet is processed (e.g. packet server)</p></li>
<li><p>packet is transmitted by a wired or wireless transmitter</p></li>
<li><p>packet is propagated on a wired or wireless transmission medium</p></li>
</ul>
<p>The collected packet event data structure is also attached to coherent regions
of the packet while the packets are in the packet flow. To actually make a
measurement, a new measurement module must be implemented which processes the
collected data.</p>
<p>In order to configure one of the above packet flow measurements, you can use
the following modules:</p>
<ul class="simple">
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.queueing.flow.FlowMeasurementStarter.html">FlowMeasurementStarter</a>: classifies packets to enter packet flows and
starts timing measurements or packet event collection.</p></li>
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.queueing.flow.FlowMeasurementRecorder.html">FlowMeasurementRecorder</a>: completes timing measurements, collects statistics
and makes packets leave the packet flow.</p></li>
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.protocolelement.measurement.MeasurementLayer.html">MeasurementLayer</a>: can be added to network nodes and network interfaces
for optional packet flow measurements.</p></li>
</ul>
</div>
<div class="section" id="recording-pcap-traces">
<span id="ug-sec-results-recording-pcap-traces"></span><h2>Recording PCAP Traces<a class="headerlink" href="#recording-pcap-traces" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to understand the behavior of a communication network on the
network level is to look at the actual packets that are exchanged. INET supports
recording such packet traces in the widely used PCAP and its more recent sibling
the PCAPng file formats. These file formats allow analyzing the network traffic
using the well-known Wireshark packet analyizer.</p>
<p>All network nodes and network interfaces support the recording of incoming and
outgoing traffic into PCAP files via optional <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.common.packet.recorder.PcapRecorder.html">PcapRecorder</a> modules. By
default, this module records all packets emitted with configured signals from
its parent module. For example, a recorder module put in the network interface
module records all traffic specific to that network interface, and similarly a
recorder put in the network node records all traffic from the given node. It’s
also possible to put a PCAP recorder module on the network level to produce a
PCAP file that contains all network traffic. If the traffic of more than one
network interface is recorded into a signle file, then the newer PCAPng file
format must be used to also record the data of the corresponding network interfaces.</p>
<p>Recording PCAP traces also supports using packet filters, which in turn allows
one to produce multiple files for the same network interface containing different
kind of traffic.</p>
</div>
<div class="section" id="recording-routing-tables">
<span id="ug-sec-results-recording-routing-tables"></span><h2>Recording Routing Tables<a class="headerlink" href="#recording-routing-tables" title="Permalink to this headline">¶</a></h2>
<p>Understanding the behavior of routing protocols, especially with respect to the
dynamic state of all routing tables, in a complex communication network is a
difficult thing to do. In order to ease this task, INET provides a special
<a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.ipv4.RoutingTableRecorder.html">RoutingTableRecorder</a> module which is capable of recording all network
interface data along with all routes in all routing tables into a single log
file.</p>
<p>The log file uses a simple text based format. It contains one line for each
network interface added, changed, or deleted, and it also contains one line
for each route added, changed, or deleted in all network nodes. The resulting
log file can be used, for example, to verify that certain changes don’t affect
the way routes are discovered in the network.</p>
<span class="target" id="ug-sec-results-eventlog-recording"></span></div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">Collecting Results</a><ul>
<li><a class="reference internal" href="#recording-statistics">Recording Statistics</a></li>
<li><a class="reference internal" href="#measuring-along-packet-flows">Measuring along Packet Flows</a></li>
<li><a class="reference internal" href="#recording-pcap-traces">Recording PCAP Traces</a></li>
<li><a class="reference internal" href="#recording-routing-tables">Recording Routing Tables</a></li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
     <a id="button-prev" href="ch-packetfilter.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="P">
         <i class="pagenation-arrow-L fas fa-arrow-left fa-lg"></i>
         <div class="pagenation-text">
            <span class="pagenation-direction">Previous</span>
            <div>Packet Filter Expressions</div>
         </div>
     </a>
     <a id="button-next" href="ch-visualization.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="N">
         <i class="pagenation-arrow-R fas fa-arrow-right fa-lg"></i>
        <div class="pagenation-text">
            <span class="pagenation-direction">Next</span>
            <div>Visualization</div>
        </div>
     </a>
  </div>
        
        </main>
    </div>
  </body>
</html>