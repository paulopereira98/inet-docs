<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-240922-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-240922-3');
</script>
    
    <title>Clock Model &#8212; INET 4.3.0 documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="../_static/material-design-lite-1.3.0/material.blue-light_blue.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_materialdesign_theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fontawesome/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Physical Layer" href="ch-physicallayer.html" />
    <link rel="prev" title="MAC Protocols for Wireless Sensor Networks" href="ch-sensor-macs.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header  ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link" href="index.html">User’s Guide</a><i class="material-icons">navigate_next</i>
            <a class="mdl-navigation__link is-active">Clock Model</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
<a id="button-show-source"
    class="mdl-button mdl-js-button mdl-button--icon"
    href="../_sources/users-guide/ch-clock.rst.txt" rel="nofollow">
  <i class="material-icons">code</i>
</a>
<div class="mdl-tooltip" data-mdl-for="button-show-source">
Show Source
</div>
        </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-queueing.html">Queueing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-tsn.html">Time-Sensitive Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Clock Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packetfilter.html">Packet Filter Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-collecting-results.html">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/index.html">Migrating Code from INET 3.x</a></li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>
        <main class="mdl-layout__content" tabIndex="0">

	<script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js "></script>
    <header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-queueing.html">Queueing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-tsn.html">Time-Sensitive Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Clock Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packetfilter.html">Packet Filter Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-collecting-results.html">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers-guide/index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/index.html">Migrating Code from INET 3.x</a></li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>

    <div class="document">
        <div class="page-content">
        
  <div class="section" id="clock-model">
<span id="ug-cha-clock"></span><h1>Clock Model<a class="headerlink" href="#clock-model" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="ug-sec-clock-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>In most communication network simulations, time is simply modeled as a global
quantity. All components of the network share the same time throughout the
simulation independently of where they are physically located or how they are
logically connected to the network.</p>
<p>In contast, in time sensitive networking, the bookkeeping of time is an essential
part, which should be explicitly simulated independently of the underlying global
time. The reason is that the differences among the local time of the communication
network components significantly affects the simulation results.</p>
<p>In such simulations, hardware clocks are simulated on their own, and communication
protocols don’t rely on the global value of simulation time, which is in fact
unknown in reality, but on the value of their own clocks. With having hardware
clocks modeled, it’s also often required to use various time synhronization
protocols, because clocks tend to drift over time and communication protocols
rely on the precision of the clocks they are using.</p>
<p>In INET, the clock model is a completely optional feature, which has no effect
on the simulation performance when disabled. Even if the feature is enabled,
the usage of clock modules by communication protocols and applications is still
optional, and enabling the feature has negligible performance hit when not in
use. For testing that the mere usage of a clock has no effect on the simulation
results, INET also includes an ideal clock mechanism.</p>
</div>
<div class="section" id="clocks">
<h2>Clocks<a class="headerlink" href="#clocks" title="Permalink to this headline">¶</a></h2>
<p>Clocks are implemented as modules, and are used by other modules via direct C++
method calls. Clock modules implement the <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.contract.IClock.html">IClock</a> module interface and
the corresponding <code class="code literal-cpp docutils literal notranslate"><span class="pre">IClock</span></code> C++ interface.</p>
<p>The C++ interface provides an API similar to the standard OMNeT++ simulation time
based scheduling mechanism, but it relies on the underlying clock implementation
for (re)scheduling events according to the clock. These events are transparently
scheduled for the client module, and they will be delivered to it when the clock
timers expire.</p>
<p>The clock API uses the clock time instead of the simulation time as arguments and
return values. The interface contains functions such as <code class="code literal-cpp docutils literal notranslate"><span class="pre">getClockTime()</span></code>,
<code class="code literal-cpp docutils literal notranslate"><span class="pre">scheduleClockEventAt()</span></code>, <code class="code literal-cpp docutils literal notranslate"><span class="pre">scheduleClockEventAfter()</span></code>,
<code class="code literal-cpp docutils literal notranslate"><span class="pre">cancelClockEvent()</span></code>.</p>
<p>INET contains optional clock modules (not used by default) at the network node
and the network interface levels. The following clock models are available:</p>
<ul class="simple">
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.model.IdealClock.html">IdealClock</a>: clock time is identical to the simulation time.</p></li>
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.model.OscillatorBasedClock.html">OscillatorBasedClock</a>: clock time is the number of oscillator ticks
multiplied by the nominal tick length.</p></li>
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.model.SettableClock.html">SettableClock</a>: a clock which can be set to a different clock time.</p></li>
</ul>
</div>
<div class="section" id="clock-time">
<h2>Clock Time<a class="headerlink" href="#clock-time" title="Permalink to this headline">¶</a></h2>
<p>In order to avoid confusing the simulation time (which is basically unknown to
communication protocols and hardware elements) with the clock time maintained
by hardware clocks, INET introduces a new C++ type called the <code class="code literal-cpp docutils literal notranslate"><span class="pre">ClockTime</span></code>.</p>
<p>This type is pretty much the same as the default <code class="code literal-cpp docutils literal notranslate"><span class="pre">SimTime</span></code>, but the two
types cannot be implicitly converted into each other. This approach prevents
accidentally using clock time where simulation time is needed, and vice versa.
Simlarly to how <code class="code literal-cpp docutils literal notranslate"><span class="pre">simtime_t</span></code> is an alias for <code class="code literal-cpp docutils literal notranslate"><span class="pre">SimTime</span></code>, INET also
introduces the <code class="code literal-cpp docutils literal notranslate"><span class="pre">clocktime_t</span></code> alias for <code class="code literal-cpp docutils literal notranslate"><span class="pre">ClockTime</span></code> type.</p>
<p>For the explicit conversion between clock time and simulation time, one can use
the <code class="code literal-cpp docutils literal notranslate"><span class="pre">CLOCKTIME_AS_SIMTIME</span></code> and the <code class="code literal-cpp docutils literal notranslate"><span class="pre">SIMTIME_AS_CLOCKTIME</span></code> C++ macros.
Note that these macros don’t change the numerical value, they simply convert
between the C++ types.</p>
<p>When the actual clock time is used by a clock, the value may be rounded according
to the clock granularity and rounding mode (e.g. <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.model.OscillatorBasedClock.html">OscillatorBasedClock</a>). For
example, when a clock with a us granularity is instructed to wait for 100 ns,
while its oscillator is right in the middle of its ticking period, it may actually
wait for the next tick to happen to start the timer, and wait another tick to
happen to account for the requested wait time interval.</p>
</div>
<div class="section" id="oscillators">
<h2>Oscillators<a class="headerlink" href="#oscillators" title="Permalink to this headline">¶</a></h2>
<p>The clock interface is quite general in the sense that it allows many different
ways to implement it. Nevertheless, the most common way is to use an oscillator
based clock model.</p>
<p>An oscillator efficiently models the periodic generation of ticks that are usually
counted by a clock module. The tick period is not necessarily constant, it can
change over time. Oscillators implement the <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.contract.IOscillator.html">IOscillator</a> module interface
and the corresponding <code class="code literal-cpp docutils literal notranslate"><span class="pre">IOscillator</span></code> C++ interface.</p>
<p>The following oscillator models are available:</p>
<ul class="simple">
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.oscillator.IdealOscillator.html">IdealOscillator</a>: generates ticks periodically with a constant length
(mostly useful for testing).</p></li>
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.oscillator.ConstantDriftOscillator.html">ConstantDriftOscillator</a>: tick length changes proportional to the elapsed
simulation time (clock drift).</p></li>
<li><p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.oscillator.RandomDriftOscillator.html">RandomDriftOscillator</a>: updates clock drift with a random walk process.</p></li>
</ul>
</div>
<div class="section" id="clock-users">
<h2>Clock Users<a class="headerlink" href="#clock-users" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to use a clock in applications and communication protocols is
to add a <cite>clockModule</cite> parameter that specifies where the clock module can be
found. Then the C++ user module should be simply derived from either
<code class="code literal-cpp docutils literal notranslate"><span class="pre">ClockUserModuleBase</span></code> or the parameterizable <code class="code literal-cpp docutils literal notranslate"><span class="pre">ClockUserModuleMixin</span></code>
base classes. The clock can be used via the inherited clock related methods
or through the methods of the <code class="code literal-cpp docutils literal notranslate"><span class="pre">IClock</span></code> C++ interface on the inherited
clock field.</p>
</div>
<div class="section" id="clock-events">
<h2>Clock Events<a class="headerlink" href="#clock-events" title="Permalink to this headline">¶</a></h2>
<p>The clock model requires the use of a specific C++ class called <code class="code literal-cpp docutils literal notranslate"><span class="pre">ClockEvent</span></code>
to schedule clock timers. It’s also allowed to derive new C++ classes from
<code class="code literal-cpp docutils literal notranslate"><span class="pre">ClockEvent</span></code> if necessary. In any case, clock events must be scheduled and
canceled via the <code class="code literal-cpp docutils literal notranslate"><span class="pre">IClock</span></code> C++ interface to operate properly.</p>
</div>
<div class="section" id="controlling-clocks-according-to-a-scenario">
<h2>Controlling Clocks According to a Scenario<a class="headerlink" href="#controlling-clocks-according-to-a-scenario" title="Permalink to this headline">¶</a></h2>
<p>In order to support the simulation of specific scenarios, where the clock time
or the oscillator drift must be changed according to a predefined script, INET
provides clocks and oscillators that implement the interface required by the
<a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.common.scenario.ScenarioManager.html">ScenarioManager</a> module. This allows the user to update the clock and
oscillator state from the <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.common.scenario.ScenarioManager.html">ScenarioManager</a> XML script and to also mix
these operations with many other supported operations.</p>
<p>For example, the <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.model.SettableClock.html">SettableClock</a> model supports setting the clock time and
also to optionally reset the oscillator at a specific moment of simulation time
as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;set-clock</span> <span class="na">at=</span><span class="s">&quot;10 s&quot;</span> <span class="na">module=</span><span class="s">&quot;server.clock&quot;</span> <span class="na">time=</span><span class="s">&quot;1.2 s&quot;</span> <span class="na">reset-oscillator=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The above example means that the clock time of the server node’s clock will be
set to 1.2 seconds when the simulation time reaches 10 seconds, and the clock’s
oscillator will restart its duty cycle.</p>
<p>For another example, the <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.clock.oscillator.ConstantDriftOscillator.html">ConstantDriftOscillator</a> supports changing the
state of the oscillator with the following command:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;set-oscillator</span> <span class="na">at=</span><span class="s">&quot;10 us&quot;</span> <span class="na">module=</span><span class="s">&quot;server.clock.oscillator&quot;</span> <span class="na">drift-rate=</span><span class="s">&quot;42 ppm&quot;</span> <span class="na">tick-offset=</span><span class="s">&quot;1 us&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This example simultaneously changes the drift rate and the tick offset of the
oscillator in the server node’s clock.</p>
</div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">Clock Model</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#clocks">Clocks</a></li>
<li><a class="reference internal" href="#clock-time">Clock Time</a></li>
<li><a class="reference internal" href="#oscillators">Oscillators</a></li>
<li><a class="reference internal" href="#clock-users">Clock Users</a></li>
<li><a class="reference internal" href="#clock-events">Clock Events</a></li>
<li><a class="reference internal" href="#controlling-clocks-according-to-a-scenario">Controlling Clocks According to a Scenario</a></li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
     <a id="button-prev" href="ch-sensor-macs.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="P">
         <i class="pagenation-arrow-L fas fa-arrow-left fa-lg"></i>
         <div class="pagenation-text">
            <span class="pagenation-direction">Previous</span>
            <div>MAC Protocols for Wireless Sensor Networks</div>
         </div>
     </a>
     <a id="button-next" href="ch-physicallayer.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="N">
         <i class="pagenation-arrow-R fas fa-arrow-right fa-lg"></i>
        <div class="pagenation-text">
            <span class="pagenation-direction">Next</span>
            <div>The Physical Layer</div>
        </div>
     </a>
  </div>
        
        </main>
    </div>
  </body>
</html>