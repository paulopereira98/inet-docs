<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-240922-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-240922-3');
</script>
    
    <title>Network Interafces &#8212; INET 4.3.0 documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="../_static/material-design-lite-1.3.0/material.blue-light_blue.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_materialdesign_theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fontawesome/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header  ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link is-active">Network Interafces</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
<a id="button-show-source"
    class="mdl-button mdl-js-button mdl-button--icon"
    href="../_sources/developers-guide/ch-network-interfaces.rst.txt" rel="nofollow">
  <i class="material-icons">code</i>
</a>
<div class="mdl-tooltip" data-mdl-for="button-show-source">
Show Source
</div>
        </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">User’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-queueing.html">Queueing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-tsn.html">Time-Sensitive Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-clock.html">Clock Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-packetfilter.html">Packet Filter Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-collecting-results.html">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/index.html">Migrating Code from INET 3.x</a></li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>
        <main class="mdl-layout__content" tabIndex="0">

	<script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js "></script>
    <header class="mdl-layout__drawer">
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">User’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-usage.html">Using the INET Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-nodes.html">Network Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-interfaces.html">Network Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-queueing.html">Queueing Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-apps.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transport.html">Transport Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv4.html">The IPv4 Protocol Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ipv6.html">IPv6 and Mobile IPv6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-other-network-protocols.html">Other Network Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-routing.html">Internet Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-adhoc-routing.html">Ad Hoc Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-diffserv.html">Differentiated Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mpls.html">The MPLS Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ppp.html">Point-to-Point Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-ethernet.html">The Ethernet Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-tsn.html">Time-Sensitive Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-80211.html">The 802.11 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-802154.html">The 802.15.4 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-sensor-macs.html">MAC Protocols for Wireless Sensor Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-clock.html">Clock Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-physicallayer.html">The Physical Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-transmission-medium.html">The Transmission Medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-environment.html">The Physical Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-mobility.html">Node Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-power.html">Modeling Power Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-emulation.html">Network Emulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-network-autoconfig.html">Network Autoconfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-scenario-scripting.html">Scenario Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-lifecycle.html">Modeling Node Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-packetfilter.html">Packet Filter Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-collecting-results.html">Collecting Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-visualization.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-instrument-figures.html">Instrument Figures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-authors-guide.html">Appendix: Author’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../users-guide/ch-history.html">History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ch-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-packets.html">Working with Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-sockets.html">Using Sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ch-authors-guide.html">Appendix: Author’s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/index.html">Migrating Code from INET 3.x</a></li>
<li class="toctree-l1"><a class="reference external" href="https://omnetpp.org/doc/inet/api-current/neddoc/">NED Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://inet.omnetpp.org">← Back to the INET Site</a></li>
</ul>

            </nav>
        
        </div>
    
</header>

    <div class="document">
        <div class="page-content">
        
  <div class="section" id="network-interafces">
<span id="dg-cha-network-interfaces"></span><h1>Network Interafces<a class="headerlink" href="#network-interafces" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="the-interface-table">
<h2>The Interface Table<a class="headerlink" href="#the-interface-table" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.common.InterfaceTable.html">InterfaceTable</a> module holds one of the key data structures in
the INET Framework: information about the network interfaces in the
host. The interface table module does not send or receive messages;
other modules access it using standard C++ member function calls.</p>
<p>TODO</p>
<div class="section" id="accessing-the-interface-table">
<h3>Accessing the Interface Table<a class="headerlink" href="#accessing-the-interface-table" title="Permalink to this headline">¶</a></h3>
<p>If a module wants to work with the interface table, first it needs to
obtain a pointer to it. This can be done with the help of the
<code class="code literal-cpp docutils literal notranslate"><span class="pre">InterfaceTableAccess</span></code> utility class:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">IInterfaceTable</span> <span class="o">*</span><span class="n">ift</span> <span class="o">=</span> <span class="n">InterfaceTableAccess</span><span class="p">().</span><span class="n">get</span><span class="p">();</span>
</pre></div>
</div>
<p><code class="code literal-cpp docutils literal notranslate"><span class="pre">InterfaceTableAccess</span></code> requires the interface table module to be a
direct child of the host and be called <code class="docutils literal notranslate"><span class="pre">&quot;interfaceTable&quot;</span></code> in order
to be able to find it. The <code class="code literal-cpp docutils literal notranslate"><span class="pre">get()</span></code> method never returns
<code class="docutils literal notranslate"><span class="pre">NULL</span></code>: if it cannot find the interface table module or cannot cast
it to the appropriate C++ type (<code class="code literal-cpp docutils literal notranslate"><span class="pre">IInterfaceTable</span></code>), it throws an
exception and stop the simulation with an error message.</p>
<p>For completeness, <code class="code literal-cpp docutils literal notranslate"><span class="pre">InterfaceTableAccess</span></code> also has a
<code class="code literal-cpp docutils literal notranslate"><span class="pre">getIfExists()</span></code> method which can be used if the code does not
require the presence of the interface table. This method returns
<code class="docutils literal notranslate"><span class="pre">NULL</span></code> if the interface table cannot be found.</p>
<p>Note that the returned C++ type is <code class="code literal-cpp docutils literal notranslate"><span class="pre">IInterfaceTable</span></code>; the initial
“<code class="docutils literal notranslate"><span class="pre">I</span></code>” stands for “interface”. <code class="code literal-cpp docutils literal notranslate"><span class="pre">IInterfaceTable</span></code> is an abstract
class interface that <code class="code literal-cpp docutils literal notranslate"><span class="pre">InterfaceTable</span></code> implements. Using the
abstract class interface allows one to transparently replace the
interface table with another implementation, without the need for any
change or even recompilation of the INET Framework.</p>
</div>
<div class="section" id="interface-entries">
<h3>Interface Entries<a class="headerlink" href="#interface-entries" title="Permalink to this headline">¶</a></h3>
<p>Interfaces in the interface table are represented with the
<code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> class. <code class="code literal-cpp docutils literal notranslate"><span class="pre">IInterfaceTable</span></code> provides member
functions for adding, removing, enumerating and looking up interfaces.</p>
<p>Interfaces have unique names and interface IDs; either can be used to
look up an interface (IDs are naturally more efficient). Interface IDs
are invariant to the addition and removal of other interfaces.</p>
<p>Data stored by an interface entry include:</p>
<ul class="simple">
<li><p><em>name</em> and <em>interface ID</em> (as described above)</p></li>
<li><p><em>MTU</em>: Maximum Transmission Unit, e.g. 1500 on Ethernet</p></li>
<li><p>several flags:</p>
<ul>
<li><p><em>down</em>: current state (up or down)</p></li>
<li><p><em>broadcast</em>: whether the interface supports broadcast</p></li>
<li><p><em>multicast</em> whether the interface supports multicast</p></li>
<li><p><em>pointToPoint</em>: whether the interface is point-to-point link</p></li>
<li><p><em>loopback</em>: whether the interface is a loopback interface</p></li>
</ul>
</li>
<li><p><em>datarate</em> in bit/s</p></li>
<li><p><em>link-layer address</em> (for now, only IEEE 802 MAC addresses are
supported)</p></li>
<li><p><em>network-layer gate index</em>: which gate of the network layer within
the host the NIC is connected to</p></li>
<li><p><em>host gate IDs</em>: the IDs of the input and output gate of the host the
NIC is connected to</p></li>
</ul>
<p>Extensibility: You have probably noticed that the above list does not
contain data such as the IPv4 or IPv6 address of the interface. Such
information is not part of <code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> because we do not want
<a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.common.InterfaceTable.html">InterfaceTable</a> to depend on either the IPv4 or the IPv6 protocol
implementation; we want both to be optional, and we want
<a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.common.InterfaceTable.html">InterfaceTable</a> to be able to support possibly other network
protocols as well.</p>
<p>Thus, extra data items are added to <code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> via extension.
Two kinds of extensions are envisioned: extension by the link layer
(i.e. the NIC), and extension by the network layer protocol:</p>
<ul class="simple">
<li><p>NICs can extend interface entries via C++ class inheritance, that is,
by simply subclassing <code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> and adding extra data and
functions. This is possible because NICs create and register entries
in <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.common.InterfaceTable.html">InterfaceTable</a>, so in their code one can just write
<code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">MyExtendedNetworkInterface()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">NetworkInterface()</span></code>.</p></li>
<li><p><strong>Network layer protocols</strong> cannot add data via subclassing, so
composition has to be used. <code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> contains pointers
to network-layer specific data structures. For example, there are
pointers to IPv4 specific data, and IPv6 specific data. These objects
can be accessed with the following <code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> member
functions: <code class="code literal-cpp docutils literal notranslate"><span class="pre">ipv4Data()</span></code>, <code class="code literal-cpp docutils literal notranslate"><span class="pre">ipv6Data()</span></code>, and
<code class="code literal-cpp docutils literal notranslate"><span class="pre">getGenericNetworkProtocolData()</span></code>. They return pointers of the
types <code class="code literal-cpp docutils literal notranslate"><span class="pre">Ipv4InterfaceData</span></code>, <code class="code literal-cpp docutils literal notranslate"><span class="pre">Ipv6InterfaceData</span></code>, and
<code class="code literal-cpp docutils literal notranslate"><span class="pre">GenericNetworkProtocolInterfaceData</span></code>, respectively. For
illustration, <code class="code literal-cpp docutils literal notranslate"><span class="pre">Ipv4InterfaceData</span></code> is installed onto the
interface entries by the <a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.ipv4.Ipv4RoutingTable.html">Ipv4RoutingTable</a> module, and it
contains data such as the IP address of the interface, the netmask,
link metric for routing, and IP multicast addresses associated with
the interface. A protocol data pointer will be <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if the
corresponding network protocol is not used in the simulation; for
example, in IPv4 simulations only <code class="code literal-cpp docutils literal notranslate"><span class="pre">ipv4Data()</span></code> will return a
non-<code class="docutils literal notranslate"><span class="pre">NULL</span></code> value.</p></li>
</ul>
</div>
<div class="section" id="interface-registration">
<h3>Interface Registration<a class="headerlink" href="#interface-registration" title="Permalink to this headline">¶</a></h3>
<p>Interfaces are registered dynamically in the initialization phase by
modules that represent network interface cards (NICs). The INET
Framework makes use of the multi-stage initialization feature of
OMNeT++, and interface registration takes place in the first stage (i.e.
stage <code class="docutils literal notranslate"><span class="pre">INITSTAGE_LINK_LAYER</span></code>).</p>
<p>Example code that performs interface registration:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">PPP</span><span class="o">::</span><span class="n">initialize</span><span class="p">(</span><span class="kt">int</span> <span class="n">stage</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">stage</span> <span class="o">==</span> <span class="n">INITSTAGE_LINK_LAYER</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
        <span class="n">networkInterface</span> <span class="o">=</span> <span class="n">registerInterface</span><span class="p">(</span><span class="n">datarate</span><span class="p">);</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="n">NetworkInterface</span> <span class="o">*</span><span class="n">PPP</span><span class="o">::</span><span class="n">registerInterface</span><span class="p">(</span><span class="kt">double</span> <span class="n">datarate</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">NetworkInterface</span> <span class="o">*</span><span class="n">e</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NetworkInterface</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

    <span class="c1">// interface name: NIC module&#39;s name without special characters ([])</span>
    <span class="n">e</span><span class="o">-&gt;</span><span class="n">setName</span><span class="p">(</span><span class="n">OPP_Global</span><span class="o">::</span><span class="n">stripnonalnum</span><span class="p">(</span><span class="n">getParentModule</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">getFullName</span><span class="p">()).</span><span class="n">c_str</span><span class="p">());</span>

    <span class="c1">// data rate</span>
    <span class="n">e</span><span class="o">-&gt;</span><span class="n">setDatarate</span><span class="p">(</span><span class="n">datarate</span><span class="p">);</span>

    <span class="c1">// generate a link-layer address to be used as interface token for IPv6</span>
    <span class="n">InterfaceToken</span> <span class="nf">token</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">simulation</span><span class="p">.</span><span class="n">getUniqueNumber</span><span class="p">(),</span> <span class="mi">64</span><span class="p">);</span>
    <span class="n">e</span><span class="o">-&gt;</span><span class="n">setInterfaceToken</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>

    <span class="c1">// set MTU from module parameter of similar name</span>
    <span class="n">e</span><span class="o">-&gt;</span><span class="n">setMtu</span><span class="p">(</span><span class="n">par</span><span class="p">(</span><span class="s">&quot;mtu&quot;</span><span class="p">));</span>

    <span class="c1">// capabilities</span>
    <span class="n">e</span><span class="o">-&gt;</span><span class="n">setMulticast</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
    <span class="n">e</span><span class="o">-&gt;</span><span class="n">setPointToPoint</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>

    <span class="c1">// add</span>
    <span class="n">IInterfaceTable</span> <span class="o">*</span><span class="n">ift</span> <span class="o">=</span> <span class="n">findModuleFromPar</span><span class="o">&lt;</span><span class="n">IInterfaceTable</span><span class="o">&gt;</span><span class="p">(</span><span class="n">par</span><span class="p">(</span><span class="s">&quot;interfaceTableModule&quot;</span><span class="p">),</span> <span class="k">this</span><span class="p">);</span>
    <span class="n">ift</span><span class="o">-&gt;</span><span class="n">addInterface</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">e</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>TODO</p>
</div>
<div class="section" id="interface-change-notifications">
<h3>Interface Change Notifications<a class="headerlink" href="#interface-change-notifications" title="Permalink to this headline">¶</a></h3>
<p><a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.common.InterfaceTable.html">InterfaceTable</a> has a change notification mechanism built in, with
the granularity of interface entries.</p>
<p>Clients that wish to be notified when something changes in
<a class="reference-ned reference external" href="https://doc.omnetpp.org/inet/api-current/neddoc/inet.networklayer.common.InterfaceTable.html">InterfaceTable</a> can subscribe to the following notification
categories in the host’s <span class="reference-ned">NotificationBoard</span>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NF_INTERFACE_CREATED</span></code>: an interface entry has been created and
added to the interface table</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NF_INTERFACE_DELETED</span></code>: an interface entry is going to be
removed from the interface table. This is a pre-delete notification
so that clients have access to interface data that are possibly
needed to react to the change</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NF_INTERFACE_CONFIG_CHANGED</span></code>: a configuration setting in an
interface entry has changed (e.g. MTU or IP address)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NF_INTERFACE_STATE_CHANGED</span></code>: a state variable in an interface
entry has changed (e.g. the up/down flag)</p></li>
</ul>
<p>In all those notifications, the data field is a pointer to the
corresponding <code class="code literal-cpp docutils literal notranslate"><span class="pre">NetworkInterface</span></code> object. This is even true for
<code class="docutils literal notranslate"><span class="pre">NF_INTERFACE_DELETED</span></code> (which is actually a pre-delete
notification).</p>
</div>
</div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">Network Interafces</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#the-interface-table">The Interface Table</a><ul>
<li><a class="reference internal" href="#accessing-the-interface-table">Accessing the Interface Table</a></li>
<li><a class="reference internal" href="#interface-entries">Interface Entries</a></li>
<li><a class="reference internal" href="#interface-registration">Interface Registration</a></li>
<li><a class="reference internal" href="#interface-change-notifications">Interface Change Notifications</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
  </div>
        
        </main>
    </div>
  </body>
</html>