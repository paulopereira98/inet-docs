<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>INET Framework for OMNeT++/OMNEST: inet::power::SimpleEpEnergyStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="opp.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classinet_1_1power_1_1_simple_ep_energy_storage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classinet_1_1power_1_1_simple_ep_energy_storage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inet::power::SimpleEpEnergyStorage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements a simple total power integrating energy storage.  
 <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#details">More...</a></p>

<p><code>#include &lt;SimpleEpEnergyStorage.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inet::power::SimpleEpEnergyStorage:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinet_1_1power_1_1_simple_ep_energy_storage.png" usemap="#inet::power::SimpleEpEnergyStorage_map" alt=""/>
  <map id="inet::power::SimpleEpEnergyStorage_map" name="inet::power::SimpleEpEnergyStorage_map">
<area href="classinet_1_1power_1_1_ep_energy_storage_base.html" alt="inet::power::EpEnergyStorageBase" shape="rect" coords="460,224,680,248"/>
<area href="classinet_1_1_string_format_1_1_i_directive_resolver.html" alt="inet::StringFormat::IDirectiveResolver" shape="rect" coords="690,224,910,248"/>
<area href="classinet_1_1_lifecycle_controller.html" title="Manages operations like shutdown/restart, suspend/resume, crash/recover and similar operations for no..." alt="inet::LifecycleController" shape="rect" coords="920,224,1140,248"/>
<area href="classinet_1_1power_1_1_ep_energy_source_base.html" alt="inet::power::EpEnergySourceBase" shape="rect" coords="230,168,450,192"/>
<area href="classinet_1_1power_1_1_ep_energy_sink_base.html" alt="inet::power::EpEnergySinkBase" shape="rect" coords="690,168,910,192"/>
<area href="classinet_1_1power_1_1_i_ep_energy_storage.html" title="TODO." alt="inet::power::IEpEnergyStorage" shape="rect" coords="1150,168,1370,192"/>
<area href="classinet_1_1power_1_1_i_energy_storage.html" title="This class is a base interface that must be implemented by energy storage models to integrate with ot..." alt="inet::power::IEnergyStorage" shape="rect" coords="1380,112,1600,136"/>
<area href="classinet_1_1power_1_1_i_ep_energy_sink.html" title="TODO." alt="inet::power::IEpEnergySink" shape="rect" coords="1380,56,1600,80"/>
<area href="classinet_1_1power_1_1_i_ep_energy_source.html" title="This class is an interface that should be implemented by power based energy source models to integrat..." alt="inet::power::IEpEnergySource" shape="rect" coords="1380,0,1600,24"/>
<area href="classinet_1_1power_1_1_i_ep_energy_sink.html" title="TODO." alt="inet::power::IEpEnergySink" shape="rect" coords="920,56,1140,80"/>
<area href="classinet_1_1power_1_1_energy_sink_base.html" alt="inet::power::EnergySinkBase" shape="rect" coords="920,0,1140,24"/>
<area href="classinet_1_1power_1_1_i_ep_energy_source.html" title="This class is an interface that should be implemented by power based energy source models to integrat..." alt="inet::power::IEpEnergySource" shape="rect" coords="460,56,680,80"/>
<area href="classinet_1_1power_1_1_energy_source_base.html" alt="inet::power::EnergySourceBase" shape="rect" coords="460,0,680,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80cd3aaeae4a3a61f098961290c1a2f7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a80cd3aaeae4a3a61f098961290c1a2f7">~SimpleEpEnergyStorage</a> ()</td></tr>
<tr class="separator:a80cd3aaeae4a3a61f098961290c1a2f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44086e9c2e28886f6cee1efb6b69a9eb"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a44086e9c2e28886f6cee1efb6b69a9eb">getNominalEnergyCapacity</a> () const override</td></tr>
<tr class="memdesc:a44086e9c2e28886f6cee1efb6b69a9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the nominal energy capacity in the range [0, +infinity].  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a44086e9c2e28886f6cee1efb6b69a9eb">More...</a><br /></td></tr>
<tr class="separator:a44086e9c2e28886f6cee1efb6b69a9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfa9020ac9f00ca202b0705cae4a86f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">getResidualEnergyCapacity</a> () const override</td></tr>
<tr class="memdesc:a2dfa9020ac9f00ca202b0705cae4a86f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the residual energy capacity in the range [0, nominalCapacity].  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">More...</a><br /></td></tr>
<tr class="separator:a2dfa9020ac9f00ca202b0705cae4a86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_ep_energy_storage_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html">inet::power::EpEnergyStorageBase</a></td></tr>
<tr class="memitem:a1ce5adbd2551992bdf567bad1c831a9d inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a1ce5adbd2551992bdf567bad1c831a9d">addEnergyConsumer</a> (const <a class="el" href="classinet_1_1power_1_1_i_energy_consumer.html">IEnergyConsumer</a> *energyConsumer) override</td></tr>
<tr class="memdesc:a1ce5adbd2551992bdf567bad1c831a9d inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new energy consumer to the energy source.  <a href="classinet_1_1power_1_1_ep_energy_storage_base.html#a1ce5adbd2551992bdf567bad1c831a9d">More...</a><br /></td></tr>
<tr class="separator:a1ce5adbd2551992bdf567bad1c831a9d inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f22aca81d7cdd7300dd38e98d4d996e inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a5f22aca81d7cdd7300dd38e98d4d996e">removeEnergyConsumer</a> (const <a class="el" href="classinet_1_1power_1_1_i_energy_consumer.html">IEnergyConsumer</a> *energyConsumer) override</td></tr>
<tr class="memdesc:a5f22aca81d7cdd7300dd38e98d4d996e inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a previously added energy consumer from this energy source.  <a href="classinet_1_1power_1_1_ep_energy_storage_base.html#a5f22aca81d7cdd7300dd38e98d4d996e">More...</a><br /></td></tr>
<tr class="separator:a5f22aca81d7cdd7300dd38e98d4d996e inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab58e85ec39cb66dff46de27bc2c38227 inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#ab58e85ec39cb66dff46de27bc2c38227">addEnergyGenerator</a> (const <a class="el" href="classinet_1_1power_1_1_i_energy_generator.html">IEnergyGenerator</a> *energyGenerator) override</td></tr>
<tr class="memdesc:ab58e85ec39cb66dff46de27bc2c38227 inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new energy generator to the energy sink.  <a href="classinet_1_1power_1_1_ep_energy_storage_base.html#ab58e85ec39cb66dff46de27bc2c38227">More...</a><br /></td></tr>
<tr class="separator:ab58e85ec39cb66dff46de27bc2c38227 inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c52a986aacae00fb5f6500f756918a8 inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a5c52a986aacae00fb5f6500f756918a8">removeEnergyGenerator</a> (const <a class="el" href="classinet_1_1power_1_1_i_energy_generator.html">IEnergyGenerator</a> *energyGenerator) override</td></tr>
<tr class="memdesc:a5c52a986aacae00fb5f6500f756918a8 inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a previously added energy generator from this energy sink.  <a href="classinet_1_1power_1_1_ep_energy_storage_base.html#a5c52a986aacae00fb5f6500f756918a8">More...</a><br /></td></tr>
<tr class="separator:a5c52a986aacae00fb5f6500f756918a8 inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28fad9b98bdebbfeda87f40cad69b70e inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a28fad9b98bdebbfeda87f40cad69b70e">receiveSignal</a> (cComponent *source, simsignal_t signal, double value, cObject *details) override</td></tr>
<tr class="separator:a28fad9b98bdebbfeda87f40cad69b70e inherit pub_methods_classinet_1_1power_1_1_ep_energy_storage_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_ep_energy_source_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_ep_energy_source_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_source_base.html">inet::power::EpEnergySourceBase</a></td></tr>
<tr class="memitem:aeb7d71be9f061bcfd6baf718611a30db inherit pub_methods_classinet_1_1power_1_1_ep_energy_source_base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_source_base.html#aeb7d71be9f061bcfd6baf718611a30db">getTotalPowerConsumption</a> () const override</td></tr>
<tr class="memdesc:aeb7d71be9f061bcfd6baf718611a30db inherit pub_methods_classinet_1_1power_1_1_ep_energy_source_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total power consumption in the range [0, +infinity).  <a href="classinet_1_1power_1_1_ep_energy_source_base.html#aeb7d71be9f061bcfd6baf718611a30db">More...</a><br /></td></tr>
<tr class="separator:aeb7d71be9f061bcfd6baf718611a30db inherit pub_methods_classinet_1_1power_1_1_ep_energy_source_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_energy_source_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_energy_source_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_energy_source_base.html">inet::power::EnergySourceBase</a></td></tr>
<tr class="memitem:a297ab4e6af5b576944e2a7cf8ac475c0 inherit pub_methods_classinet_1_1power_1_1_energy_source_base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_energy_source_base.html#a297ab4e6af5b576944e2a7cf8ac475c0">getNumEnergyConsumers</a> () const override</td></tr>
<tr class="memdesc:a297ab4e6af5b576944e2a7cf8ac475c0 inherit pub_methods_classinet_1_1power_1_1_energy_source_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of energy consumers in the range [0, +infinity).  <a href="classinet_1_1power_1_1_energy_source_base.html#a297ab4e6af5b576944e2a7cf8ac475c0">More...</a><br /></td></tr>
<tr class="separator:a297ab4e6af5b576944e2a7cf8ac475c0 inherit pub_methods_classinet_1_1power_1_1_energy_source_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b700d67f6feab0565a636f9af9e5a76 inherit pub_methods_classinet_1_1power_1_1_energy_source_base"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classinet_1_1power_1_1_i_energy_consumer.html">IEnergyConsumer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_energy_source_base.html#a3b700d67f6feab0565a636f9af9e5a76">getEnergyConsumer</a> (int index) const override</td></tr>
<tr class="memdesc:a3b700d67f6feab0565a636f9af9e5a76 inherit pub_methods_classinet_1_1power_1_1_energy_source_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the energy consumer for the provided index.  <a href="classinet_1_1power_1_1_energy_source_base.html#a3b700d67f6feab0565a636f9af9e5a76">More...</a><br /></td></tr>
<tr class="separator:a3b700d67f6feab0565a636f9af9e5a76 inherit pub_methods_classinet_1_1power_1_1_energy_source_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_i_energy_source"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_i_energy_source')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_i_energy_source.html">inet::power::IEnergySource</a></td></tr>
<tr class="memitem:a3faaf30d8464bf94a3a58cbd0f7c999d inherit pub_methods_classinet_1_1power_1_1_i_energy_source"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_i_energy_source.html#a3faaf30d8464bf94a3a58cbd0f7c999d">~IEnergySource</a> ()</td></tr>
<tr class="separator:a3faaf30d8464bf94a3a58cbd0f7c999d inherit pub_methods_classinet_1_1power_1_1_i_energy_source"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_ep_energy_sink_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_sink_base.html">inet::power::EpEnergySinkBase</a></td></tr>
<tr class="memitem:a658d1616b9f9a6deb7f38d38c5578e99 inherit pub_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_sink_base.html#a658d1616b9f9a6deb7f38d38c5578e99">getTotalPowerGeneration</a> () const override</td></tr>
<tr class="memdesc:a658d1616b9f9a6deb7f38d38c5578e99 inherit pub_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total power generation in the range [0, +infinity).  <a href="classinet_1_1power_1_1_ep_energy_sink_base.html#a658d1616b9f9a6deb7f38d38c5578e99">More...</a><br /></td></tr>
<tr class="separator:a658d1616b9f9a6deb7f38d38c5578e99 inherit pub_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_energy_sink_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_energy_sink_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_energy_sink_base.html">inet::power::EnergySinkBase</a></td></tr>
<tr class="memitem:a287e3dc0e95cdcf9b1f50fcc283d386b inherit pub_methods_classinet_1_1power_1_1_energy_sink_base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_energy_sink_base.html#a287e3dc0e95cdcf9b1f50fcc283d386b">getNumEnergyGenerators</a> () const override</td></tr>
<tr class="memdesc:a287e3dc0e95cdcf9b1f50fcc283d386b inherit pub_methods_classinet_1_1power_1_1_energy_sink_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of energy generators in the range [0, +infinity).  <a href="classinet_1_1power_1_1_energy_sink_base.html#a287e3dc0e95cdcf9b1f50fcc283d386b">More...</a><br /></td></tr>
<tr class="separator:a287e3dc0e95cdcf9b1f50fcc283d386b inherit pub_methods_classinet_1_1power_1_1_energy_sink_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d01158a2c95a2f1e67ee193ab5e9c0c inherit pub_methods_classinet_1_1power_1_1_energy_sink_base"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classinet_1_1power_1_1_i_energy_generator.html">IEnergyGenerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_energy_sink_base.html#a2d01158a2c95a2f1e67ee193ab5e9c0c">getEnergyGenerator</a> (int index) const override</td></tr>
<tr class="memdesc:a2d01158a2c95a2f1e67ee193ab5e9c0c inherit pub_methods_classinet_1_1power_1_1_energy_sink_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the energy generator for the provided index.  <a href="classinet_1_1power_1_1_energy_sink_base.html#a2d01158a2c95a2f1e67ee193ab5e9c0c">More...</a><br /></td></tr>
<tr class="separator:a2d01158a2c95a2f1e67ee193ab5e9c0c inherit pub_methods_classinet_1_1power_1_1_energy_sink_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1power_1_1_i_energy_sink"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1power_1_1_i_energy_sink')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_i_energy_sink.html">inet::power::IEnergySink</a></td></tr>
<tr class="memitem:a5c7e6da2301aada80fa126eff0293efb inherit pub_methods_classinet_1_1power_1_1_i_energy_sink"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_i_energy_sink.html#a5c7e6da2301aada80fa126eff0293efb">~IEnergySink</a> ()</td></tr>
<tr class="separator:a5c7e6da2301aada80fa126eff0293efb inherit pub_methods_classinet_1_1power_1_1_i_energy_sink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_lifecycle_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_lifecycle_controller')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_lifecycle_controller.html">inet::LifecycleController</a></td></tr>
<tr class="memitem:a42453a02488f3a5e34f4d32a1cad3404 inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a42453a02488f3a5e34f4d32a1cad3404">LifecycleController</a> ()</td></tr>
<tr class="separator:a42453a02488f3a5e34f4d32a1cad3404 inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42dd949ae2cdacc9e160fa01aaf398e inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#af42dd949ae2cdacc9e160fa01aaf398e">~LifecycleController</a> ()</td></tr>
<tr class="separator:af42dd949ae2cdacc9e160fa01aaf398e inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ad32fc577038680291dfe9b98efcab inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">initiateOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, <a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *completionCallback=nullptr)</td></tr>
<tr class="memdesc:af3ad32fc577038680291dfe9b98efcab inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an operation.  <a href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">More...</a><br /></td></tr>
<tr class="separator:af3ad32fc577038680291dfe9b98efcab inherit pub_methods_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae21ec52516e924982523f7b99d575dca"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize</a> (int stage) override</td></tr>
<tr class="separator:ae21ec52516e924982523f7b99d575dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca193e7c6e00f0605f7e7043532c9ff2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage</a> (cMessage *message) override</td></tr>
<tr class="separator:aca193e7c6e00f0605f7e7043532c9ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ed88813ddaf42abb11393f9ee26b52"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a43ed88813ddaf42abb11393f9ee26b52">refreshDisplay</a> () const override</td></tr>
<tr class="separator:a43ed88813ddaf42abb11393f9ee26b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fd864a238f161f084db503382e6ba3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ab4fd864a238f161f084db503382e6ba3">updateDisplayString</a> () const</td></tr>
<tr class="separator:ab4fd864a238f161f084db503382e6ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab239ad29a8859e1583ff58087678d5aa"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ab239ad29a8859e1583ff58087678d5aa">resolveDirective</a> (char directive) const override</td></tr>
<tr class="separator:ab239ad29a8859e1583ff58087678d5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1477f9a89ab4fdd5e1e1c8e3310216cc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a1477f9a89ab4fdd5e1e1c8e3310216cc">updateTotalPowerConsumption</a> () override</td></tr>
<tr class="separator:a1477f9a89ab4fdd5e1e1c8e3310216cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec215eb427bb74337395c1e38584819c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aec215eb427bb74337395c1e38584819c">updateTotalPowerGeneration</a> () override</td></tr>
<tr class="separator:aec215eb427bb74337395c1e38584819c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8688bbc8381f0b6359a0845d13551755"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a8688bbc8381f0b6359a0845d13551755">executeNodeOperation</a> (<a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> newResidualCapacity)</td></tr>
<tr class="separator:a8688bbc8381f0b6359a0845d13551755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37ce1dfc9d36ad0be4383708a0c291fb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity</a> (<a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> newResidualCapacity)</td></tr>
<tr class="separator:a37ce1dfc9d36ad0be4383708a0c291fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5733c7ccf6f164cd4089e4880ddce665"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity</a> ()</td></tr>
<tr class="separator:a5733c7ccf6f164cd4089e4880ddce665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873f91ce8abcd24466a9730628768205"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer</a> ()</td></tr>
<tr class="separator:a873f91ce8abcd24466a9730628768205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1power_1_1_ep_energy_source_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1power_1_1_ep_energy_source_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_source_base.html">inet::power::EpEnergySourceBase</a></td></tr>
<tr class="memitem:a5f88bf52e430e141ff0b00ca5353160b inherit pro_methods_classinet_1_1power_1_1_ep_energy_source_base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_source_base.html#a5f88bf52e430e141ff0b00ca5353160b">computeTotalPowerConsumption</a> () const</td></tr>
<tr class="separator:a5f88bf52e430e141ff0b00ca5353160b inherit pro_methods_classinet_1_1power_1_1_ep_energy_source_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1power_1_1_ep_energy_sink_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_sink_base.html">inet::power::EpEnergySinkBase</a></td></tr>
<tr class="memitem:a82ca6896d5cc21cff4d1543baa1a2fe3 inherit pro_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_sink_base.html#a82ca6896d5cc21cff4d1543baa1a2fe3">computeTotalPowerGeneration</a> () const</td></tr>
<tr class="separator:a82ca6896d5cc21cff4d1543baa1a2fe3 inherit pro_methods_classinet_1_1power_1_1_ep_energy_sink_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_lifecycle_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_lifecycle_controller')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_lifecycle_controller.html">inet::LifecycleController</a></td></tr>
<tr class="memitem:a01ced5500f11293fdac668c7c960e036 inherit pro_methods_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a01ced5500f11293fdac668c7c960e036">resumeOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation)</td></tr>
<tr class="separator:a01ced5500f11293fdac668c7c960e036 inherit pro_methods_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72baa37abc2852188d2fc63200c46347 inherit pro_methods_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a72baa37abc2852188d2fc63200c46347">doOneStage</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, cModule *submodule)</td></tr>
<tr class="separator:a72baa37abc2852188d2fc63200c46347 inherit pro_methods_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95debaebc45a7601377c0d759c2643b8 inherit pro_methods_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a95debaebc45a7601377c0d759c2643b8">moduleOperationStageCompleted</a> (<a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a> *callback)</td></tr>
<tr class="separator:a95debaebc45a7601377c0d759c2643b8 inherit pro_methods_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4004f25e601656a13112b45b34e61fb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td></tr>
<tr class="memdesc:a4004f25e601656a13112b45b34e61fb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The nominal capacity is in the range [0, +infinity).  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">More...</a><br /></td></tr>
<tr class="separator:a4004f25e601656a13112b45b34e61fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3ab412b36f6b72922ac119e10cbec3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td></tr>
<tr class="memdesc:a6f3ab412b36f6b72922ac119e10cbec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The residual capacity is in the range [0, nominalCapacity].  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">More...</a><br /></td></tr>
<tr class="separator:a6f3ab412b36f6b72922ac119e10cbec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0df02b49d05440e5e56df150291fdd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td></tr>
<tr class="memdesc:aa0df02b49d05440e5e56df150291fdd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the amount of capacity change which will be reported.  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">More...</a><br /></td></tr>
<tr class="separator:aa0df02b49d05440e5e56df150291fdd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a85a8509d1e1dc10f0ce5049c00e86"><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a89a85a8509d1e1dc10f0ce5049c00e86">lastResidualCapacityUpdate</a> = -1</td></tr>
<tr class="memdesc:a89a85a8509d1e1dc10f0ce5049c00e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">The simulation time when the residual capacity was last updated.  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a89a85a8509d1e1dc10f0ce5049c00e86">More...</a><br /></td></tr>
<tr class="separator:a89a85a8509d1e1dc10f0ce5049c00e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34518531722ab5c771280e144c923da4"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a> = nullptr</td></tr>
<tr class="memdesc:a34518531722ab5c771280e144c923da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timer that is scheduled to the earliest time when the energy storage will be depleted, the energy storage will be charged.  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">More...</a><br /></td></tr>
<tr class="separator:a34518531722ab5c771280e144c923da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b23442f9433983e7fbe1d225a63495"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td></tr>
<tr class="memdesc:a68b23442f9433983e7fbe1d225a63495"><td class="mdescLeft">&#160;</td><td class="mdescRight">The capacity that will be set when the timer expires.  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">More...</a><br /></td></tr>
<tr class="separator:a68b23442f9433983e7fbe1d225a63495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a0d4a5fe51b4a6c9a3c4d38a646091"><td class="memItemLeft" align="right" valign="top">cModule *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">networkNode</a> = nullptr</td></tr>
<tr class="memdesc:ac9a0d4a5fe51b4a6c9a3c4d38a646091"><td class="mdescLeft">&#160;</td><td class="mdescRight">The containing node module.  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">More...</a><br /></td></tr>
<tr class="separator:ac9a0d4a5fe51b4a6c9a3c4d38a646091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97eaefcfd3b9f2b0773e6eed269945ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_node_status.html">NodeStatus</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a97eaefcfd3b9f2b0773e6eed269945ef">nodeStatus</a> = nullptr</td></tr>
<tr class="memdesc:a97eaefcfd3b9f2b0773e6eed269945ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The status of the node.  <a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a97eaefcfd3b9f2b0773e6eed269945ef">More...</a><br /></td></tr>
<tr class="separator:a97eaefcfd3b9f2b0773e6eed269945ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1power_1_1_ep_energy_source_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1power_1_1_ep_energy_source_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_source_base.html">inet::power::EpEnergySourceBase</a></td></tr>
<tr class="memitem:a90217d4897c85dbedf98420e85b9920a inherit pro_attribs_classinet_1_1power_1_1_ep_energy_source_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_source_base.html#a90217d4897c85dbedf98420e85b9920a">totalPowerConsumption</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td></tr>
<tr class="separator:a90217d4897c85dbedf98420e85b9920a inherit pro_attribs_classinet_1_1power_1_1_ep_energy_source_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1power_1_1_energy_source_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1power_1_1_energy_source_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1power_1_1_energy_source_base.html">inet::power::EnergySourceBase</a></td></tr>
<tr class="memitem:ac329e3602bf65772c96bf24fb995857f inherit pro_attribs_classinet_1_1power_1_1_energy_source_base"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classinet_1_1power_1_1_i_energy_consumer.html">IEnergyConsumer</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_energy_source_base.html#ac329e3602bf65772c96bf24fb995857f">energyConsumers</a></td></tr>
<tr class="separator:ac329e3602bf65772c96bf24fb995857f inherit pro_attribs_classinet_1_1power_1_1_energy_source_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1power_1_1_ep_energy_sink_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1power_1_1_ep_energy_sink_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1power_1_1_ep_energy_sink_base.html">inet::power::EpEnergySinkBase</a></td></tr>
<tr class="memitem:a5e6751a088f0b4e8e182204be4aedbd2 inherit pro_attribs_classinet_1_1power_1_1_ep_energy_sink_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_ep_energy_sink_base.html#a5e6751a088f0b4e8e182204be4aedbd2">totalPowerGeneration</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a7b5ceaffa893819b7305465df719ca04">W</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td></tr>
<tr class="separator:a5e6751a088f0b4e8e182204be4aedbd2 inherit pro_attribs_classinet_1_1power_1_1_ep_energy_sink_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1power_1_1_energy_sink_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1power_1_1_energy_sink_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1power_1_1_energy_sink_base.html">inet::power::EnergySinkBase</a></td></tr>
<tr class="memitem:a5c4dada6bf7c897702e0942fa3e7c201 inherit pro_attribs_classinet_1_1power_1_1_energy_sink_base"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classinet_1_1power_1_1_i_energy_generator.html">IEnergyGenerator</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_energy_sink_base.html#a5c4dada6bf7c897702e0942fa3e7c201">energyGenerators</a></td></tr>
<tr class="separator:a5c4dada6bf7c897702e0942fa3e7c201 inherit pro_attribs_classinet_1_1power_1_1_energy_sink_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1_lifecycle_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1_lifecycle_controller')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1_lifecycle_controller.html">inet::LifecycleController</a></td></tr>
<tr class="memitem:a9d91e63be3108394191bf315f0dc7749 inherit pro_attribs_classinet_1_1_lifecycle_controller"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a> = nullptr</td></tr>
<tr class="separator:a9d91e63be3108394191bf315f0dc7749 inherit pro_attribs_classinet_1_1_lifecycle_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_source"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_source')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classinet_1_1power_1_1_i_ep_energy_source.html">inet::power::IEpEnergySource</a></td></tr>
<tr class="memitem:a725874e5e5e8292d1e628cb50629af3a inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_source"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_i_ep_energy_source.html#a725874e5e5e8292d1e628cb50629af3a">powerConsumptionChangedSignal</a> = cComponent::registerSignal(&quot;powerConsumptionChanged&quot;)</td></tr>
<tr class="memdesc:a725874e5e5e8292d1e628cb50629af3a inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_source"><td class="mdescLeft">&#160;</td><td class="mdescRight">The signal that is used to publish power consumption changes.  <a href="classinet_1_1power_1_1_i_ep_energy_source.html#a725874e5e5e8292d1e628cb50629af3a">More...</a><br /></td></tr>
<tr class="separator:a725874e5e5e8292d1e628cb50629af3a inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_source"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_sink"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_sink')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classinet_1_1power_1_1_i_ep_energy_sink.html">inet::power::IEpEnergySink</a></td></tr>
<tr class="memitem:aa92ea290ccbbd3f232c8f3d0c6b25578 inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_sink"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_i_ep_energy_sink.html#aa92ea290ccbbd3f232c8f3d0c6b25578">powerGenerationChangedSignal</a> = cComponent::registerSignal(&quot;powerGenerationChanged&quot;)</td></tr>
<tr class="memdesc:aa92ea290ccbbd3f232c8f3d0c6b25578 inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_sink"><td class="mdescLeft">&#160;</td><td class="mdescRight">The signal that is used to publish power generation changes.  <a href="classinet_1_1power_1_1_i_ep_energy_sink.html#aa92ea290ccbbd3f232c8f3d0c6b25578">More...</a><br /></td></tr>
<tr class="separator:aa92ea290ccbbd3f232c8f3d0c6b25578 inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_sink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_storage"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_storage')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classinet_1_1power_1_1_i_ep_energy_storage.html">inet::power::IEpEnergyStorage</a></td></tr>
<tr class="memitem:a97c2986bf34e6977a9dc10f5b40a4cb2 inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_storage"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1power_1_1_i_ep_energy_storage.html#a97c2986bf34e6977a9dc10f5b40a4cb2">residualEnergyCapacityChangedSignal</a> = cComponent::registerSignal(&quot;residualEnergyCapacityChanged&quot;)</td></tr>
<tr class="memdesc:a97c2986bf34e6977a9dc10f5b40a4cb2 inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_storage"><td class="mdescLeft">&#160;</td><td class="mdescRight">The signal that is used to publish residual energy capacity changes also including when the energy storage becomes completely depleted or charged.  <a href="classinet_1_1power_1_1_i_ep_energy_storage.html#a97c2986bf34e6977a9dc10f5b40a4cb2">More...</a><br /></td></tr>
<tr class="separator:a97c2986bf34e6977a9dc10f5b40a4cb2 inherit pub_static_attribs_classinet_1_1power_1_1_i_ep_energy_storage"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements a simple total power integrating energy storage. </p>
<p>It maintains its residual capacity by repeatedly scheduling a single timer to the next capacity update. The next update happens when either the storage becomes completely depleted, completely charged, or the next capacity report is done. Besides, it immediately updates the capacity when the total absorbed or provided power changes, and it also reschedules the timer.</p>
<p>See the corresponding NED file for more details. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a80cd3aaeae4a3a61f098961290c1a2f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80cd3aaeae4a3a61f098961290c1a2f7">&#9670;&nbsp;</a></span>~SimpleEpEnergyStorage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::power::SimpleEpEnergyStorage::~SimpleEpEnergyStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8688bbc8381f0b6359a0845d13551755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8688bbc8381f0b6359a0845d13551755">&#9670;&nbsp;</a></span>executeNodeOperation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::executeNodeOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td>
          <td class="paramname"><em>newResidualCapacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (newResidualCapacity &lt;= <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0) &amp;&amp; <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a97eaefcfd3b9f2b0773e6eed269945ef">nodeStatus</a>-&gt;<a class="code" href="classinet_1_1_node_status.html#af80feb0fada2b77164b74af13afc1773">getState</a>() == <a class="code" href="classinet_1_1_node_status.html#a3623ef63233aec9ad2838030e3ce5bd3ab88e3292de0cb8bfb808d31864d404bc">NodeStatus::UP</a>) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        EV_WARN &lt;&lt; <span class="stringliteral">&quot;Energy storage failed&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="classinet_1_1_lifecycle_operation.html#a8d533f9d2fccff0327ac60354acd82cf">LifecycleOperation::StringMap</a> params;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        ModuleCrashOperation *operation = <span class="keyword">new</span> ModuleCrashOperation();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        operation-&gt;initialize(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">networkNode</a>, params);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">initiateOperation</a>(operation);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity()</a>.</p>

</div>
</div>
<a id="a44086e9c2e28886f6cee1efb6b69a9eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44086e9c2e28886f6cee1efb6b69a9eb">&#9670;&nbsp;</a></span>getNominalEnergyCapacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> inet::power::SimpleEpEnergyStorage::getNominalEnergyCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the nominal energy capacity in the range [0, +infinity]. </p>
<p>It specifies the maximum amount of energy that the energy storage can contain. </p>

<p>Implements <a class="el" href="classinet_1_1power_1_1_i_ep_energy_storage.html#a613697b1b506ebf3803e06a911732797">inet::power::IEpEnergyStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ab239ad29a8859e1583ff58087678d5aa">resolveDirective()</a>.</p>

</div>
</div>
<a id="a2dfa9020ac9f00ca202b0705cae4a86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dfa9020ac9f00ca202b0705cae4a86f">&#9670;&nbsp;</a></span>getResidualEnergyCapacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> inet::power::SimpleEpEnergyStorage::getResidualEnergyCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the residual energy capacity in the range [0, nominalCapacity]. </p>
<p>It specifies the amount of energy that the energy storage contains at the moment. </p>

<p>Implements <a class="el" href="classinet_1_1power_1_1_i_ep_energy_storage.html#accfdbdd1b718393a42af3499d2fe208f">inet::power::IEpEnergyStorage</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">const_cast&lt;</span>SimpleEpEnergyStorage *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ab239ad29a8859e1583ff58087678d5aa">resolveDirective()</a>.</p>

</div>
</div>
<a id="aca193e7c6e00f0605f7e7043532c9ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca193e7c6e00f0605f7e7043532c9ff2">&#9670;&nbsp;</a></span>handleMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> (message == <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a>) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity</a>(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer</a>();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Residual capacity = &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>.<a class="code" href="classinet_1_1units_1_1value.html#a124f568beb77c6236db45df604e36d10">get</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; (int)<a class="code" href="namespaceinet_1_1math.html#aee34a2a42269e7ea8a7fa2e3da5debd6">round</a>(<a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> / <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>).get() * 100) &lt;&lt; <span class="stringliteral">&quot;%)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown message&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae21ec52516e924982523f7b99d575dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae21ec52516e924982523f7b99d575dca">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#ae206e78989c8606bd6600781d0ab9045">inet::power::EpEnergyStorageBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="classinet_1_1power_1_1_ep_energy_storage_base.html#ae206e78989c8606bd6600781d0ab9045">EpEnergyStorageBase::initialize</a>(stage);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (stage == <a class="code" href="namespaceinet.html#a6be747ab6f195055e109f27f8462e52e">INITSTAGE_LOCAL</a>) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a> = <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(par(<span class="stringliteral">&quot;nominalCapacity&quot;</span>));</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a> = <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(par(<span class="stringliteral">&quot;printCapacityStep&quot;</span>));</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;timer&quot;</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">networkNode</a> = <a class="code" href="namespaceinet.html#acd0d847a7b6e0f156094fbdd101a00a6">findContainingNode</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">networkNode</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a97eaefcfd3b9f2b0773e6eed269945ef">nodeStatus</a> = <span class="keyword">dynamic_cast&lt;</span>NodeStatus *<span class="keyword">&gt;</span>(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">networkNode</a>-&gt;getSubmodule(<span class="stringliteral">&quot;status&quot;</span>));</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a97eaefcfd3b9f2b0773e6eed269945ef">nodeStatus</a>)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Cannot find node status&quot;</span>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity</a>(<a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(par(<span class="stringliteral">&quot;initialCapacity&quot;</span>)));</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer</a>();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        WATCH(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a43ed88813ddaf42abb11393f9ee26b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ed88813ddaf42abb11393f9ee26b52">&#9670;&nbsp;</a></span>refreshDisplay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::refreshDisplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ab4fd864a238f161f084db503382e6ba3">updateDisplayString</a>();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab239ad29a8859e1583ff58087678d5aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab239ad29a8859e1583ff58087678d5aa">&#9670;&nbsp;</a></span>resolveDirective()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * inet::power::SimpleEpEnergyStorage::resolveDirective </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>directive</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classinet_1_1_string_format_1_1_i_directive_resolver.html#aa5a48a2e7c76fd1013464f8cfdebea43">inet::StringFormat::IDirectiveResolver</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">static</span> std::string result;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">switch</span> (directive) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            result = <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">getResidualEnergyCapacity</a>().<a class="code" href="classinet_1_1units_1_1value.html#ab6fdda2ef1091fa455168e4e1d944896">str</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            result = std::to_string((<span class="keywordtype">int</span>)<a class="code" href="namespaceinet_1_1math.html#aee34a2a42269e7ea8a7fa2e3da5debd6">std::round</a>(100 * <a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">getResidualEnergyCapacity</a>() / <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a44086e9c2e28886f6cee1efb6b69a9eb">getNominalEnergyCapacity</a>()).get())) + <span class="stringliteral">&quot;%&quot;</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown directive: %c&quot;</span>, directive);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> result.c_str();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a873f91ce8abcd24466a9730628768205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873f91ce8abcd24466a9730628768205">&#9670;&nbsp;</a></span>scheduleTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::scheduleTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="namespaceinet_1_1units_1_1units.html#a9641b99d1136edd46f513ddaed7b635f">W</a> totalPower = <a class="code" href="classinet_1_1power_1_1_ep_energy_sink_base.html#a5e6751a088f0b4e8e182204be4aedbd2">totalPowerGeneration</a> - <a class="code" href="classinet_1_1power_1_1_ep_energy_source_base.html#a90217d4897c85dbedf98420e85b9920a">totalPowerConsumption</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> = <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (totalPower &gt; <a class="code" href="namespaceinet_1_1units_1_1units.html#a9641b99d1136edd46f513ddaed7b635f">W</a>(0)) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> = std::isnan(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>.<a class="code" href="classinet_1_1units_1_1value.html#a124f568beb77c6236db45df604e36d10">get</a>()) ? <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a> : ceil(<a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> / <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>).get()) * <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="comment">// NOTE: make sure capacity will change over time despite double arithmetic</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        simtime_t remainingTime = <a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>((<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> - <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>) / totalPower / <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>(1)).get();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (remainingTime == 0)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> += <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (totalPower &lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#a9641b99d1136edd46f513ddaed7b635f">W</a>(0)) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> = std::isnan(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>.<a class="code" href="classinet_1_1units_1_1value.html#a124f568beb77c6236db45df604e36d10">get</a>()) ? <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0) : floor(<a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> / <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>).get()) * <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="comment">// make sure capacity will change over time despite double arithmetic</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        simtime_t remainingTime = <a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>((<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> - <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>) / totalPower / <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>(1)).get();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (remainingTime == 0)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> -= <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">printCapacityStep</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// enforce target capacity to be in range</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> &lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0))</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> = <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> &gt; <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> = <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a>-&gt;isScheduled())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        cancelEvent(<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// don&#39;t schedule if there&#39;s no progress</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (totalPower != <a class="code" href="namespaceinet_1_1units_1_1units.html#a9641b99d1136edd46f513ddaed7b635f">W</a>(0)) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        simtime_t remainingTime = <a class="code" href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">unit</a>((<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">targetCapacity</a> - <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>) / totalPower / <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>(1)).get();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> (remainingTime &gt; 0)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            scheduleAfter(remainingTime, <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">timer</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a1477f9a89ab4fdd5e1e1c8e3310216cc">updateTotalPowerConsumption()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aec215eb427bb74337395c1e38584819c">updateTotalPowerGeneration()</a>.</p>

</div>
</div>
<a id="a37ce1dfc9d36ad0be4383708a0c291fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37ce1dfc9d36ad0be4383708a0c291fb">&#9670;&nbsp;</a></span>setResidualCapacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::setResidualCapacity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>&#160;</td>
          <td class="paramname"><em>newResidualCapacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> = newResidualCapacity;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a89a85a8509d1e1dc10f0ce5049c00e86">lastResidualCapacityUpdate</a> = simTime();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> == <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0))</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        EV_WARN &lt;&lt; <span class="stringliteral">&quot;Energy storage depleted&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> == <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Energy storage charged&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">networkNode</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a8688bbc8381f0b6359a0845d13551755">executeNodeOperation</a>(newResidualCapacity);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    emit(<a class="code" href="classinet_1_1power_1_1_i_ep_energy_storage.html#a97c2986bf34e6977a9dc10f5b40a4cb2">residualEnergyCapacityChangedSignal</a>, <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a>.<a class="code" href="classinet_1_1units_1_1value.html#a124f568beb77c6236db45df604e36d10">get</a>());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity()</a>.</p>

</div>
</div>
<a id="ab4fd864a238f161f084db503382e6ba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4fd864a238f161f084db503382e6ba3">&#9670;&nbsp;</a></span>updateDisplayString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::updateDisplayString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (getEnvir()-&gt;isGUI()) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keyword">auto</span> text = <a class="code" href="classinet_1_1_string_format.html#ad7a46222c7097dfa8f2e176c04769d5c">StringFormat::formatString</a>(par(<span class="stringliteral">&quot;displayStringTextFormat&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, text);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a43ed88813ddaf42abb11393f9ee26b52">refreshDisplay()</a>.</p>

</div>
</div>
<a id="a5733c7ccf6f164cd4089e4880ddce665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5733c7ccf6f164cd4089e4880ddce665">&#9670;&nbsp;</a></span>updateResidualCapacity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::updateResidualCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    simtime_t currentSimulationTime = simTime();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (currentSimulationTime != <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a89a85a8509d1e1dc10f0ce5049c00e86">lastResidualCapacityUpdate</a>) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a> newResidualCapacity = <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">residualCapacity</a> + <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>((currentSimulationTime - <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a89a85a8509d1e1dc10f0ce5049c00e86">lastResidualCapacityUpdate</a>).dbl()) * (<a class="code" href="classinet_1_1power_1_1_ep_energy_sink_base.html#a5e6751a088f0b4e8e182204be4aedbd2">totalPowerGeneration</a> - <a class="code" href="classinet_1_1power_1_1_ep_energy_source_base.html#a90217d4897c85dbedf98420e85b9920a">totalPowerConsumption</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> (newResidualCapacity &lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            newResidualCapacity = <a class="code" href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">J</a>(0);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newResidualCapacity &gt; <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            newResidualCapacity = <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">nominalCapacity</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity</a>(newResidualCapacity);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">getResidualEnergyCapacity()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a1477f9a89ab4fdd5e1e1c8e3310216cc">updateTotalPowerConsumption()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aec215eb427bb74337395c1e38584819c">updateTotalPowerGeneration()</a>.</p>

</div>
</div>
<a id="a1477f9a89ab4fdd5e1e1c8e3310216cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1477f9a89ab4fdd5e1e1c8e3310216cc">&#9670;&nbsp;</a></span>updateTotalPowerConsumption()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::updateTotalPowerConsumption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a1bb2d36594f2f9268055f8daf91fd8b8">inet::power::EpEnergyStorageBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity</a>();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a1bb2d36594f2f9268055f8daf91fd8b8">EpEnergyStorageBase::updateTotalPowerConsumption</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aec215eb427bb74337395c1e38584819c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec215eb427bb74337395c1e38584819c">&#9670;&nbsp;</a></span>updateTotalPowerGeneration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::power::SimpleEpEnergyStorage::updateTotalPowerGeneration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a0cfae9678f0265899ae1489999c16b97">inet::power::EpEnergyStorageBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classinet_1_1power_1_1_ep_energy_storage_base.html#a0cfae9678f0265899ae1489999c16b97">EpEnergyStorageBase::updateTotalPowerGeneration</a>();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer</a>();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a89a85a8509d1e1dc10f0ce5049c00e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a85a8509d1e1dc10f0ce5049c00e86">&#9670;&nbsp;</a></span>lastResidualCapacityUpdate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t inet::power::SimpleEpEnergyStorage::lastResidualCapacityUpdate = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The simulation time when the residual capacity was last updated. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity()</a>.</p>

</div>
</div>
<a id="ac9a0d4a5fe51b4a6c9a3c4d38a646091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a0d4a5fe51b4a6c9a3c4d38a646091">&#9670;&nbsp;</a></span>networkNode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cModule* inet::power::SimpleEpEnergyStorage::networkNode = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The containing node module. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a8688bbc8381f0b6359a0845d13551755">executeNodeOperation()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity()</a>.</p>

</div>
</div>
<a id="a97eaefcfd3b9f2b0773e6eed269945ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97eaefcfd3b9f2b0773e6eed269945ef">&#9670;&nbsp;</a></span>nodeStatus</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_node_status.html">NodeStatus</a>* inet::power::SimpleEpEnergyStorage::nodeStatus = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The status of the node. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a8688bbc8381f0b6359a0845d13551755">executeNodeOperation()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>.</p>

</div>
</div>
<a id="a4004f25e601656a13112b45b34e61fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4004f25e601656a13112b45b34e61fb2">&#9670;&nbsp;</a></span>nominalCapacity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> inet::power::SimpleEpEnergyStorage::nominalCapacity = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The nominal capacity is in the range [0, +infinity). </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity()</a>.</p>

</div>
</div>
<a id="aa0df02b49d05440e5e56df150291fdd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0df02b49d05440e5e56df150291fdd3">&#9670;&nbsp;</a></span>printCapacityStep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> inet::power::SimpleEpEnergyStorage::printCapacityStep = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Specifies the amount of capacity change which will be reported. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer()</a>.</p>

</div>
</div>
<a id="a6f3ab412b36f6b72922ac119e10cbec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3ab412b36f6b72922ac119e10cbec3">&#9670;&nbsp;</a></span>residualCapacity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> inet::power::SimpleEpEnergyStorage::residualCapacity = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The residual capacity is in the range [0, nominalCapacity]. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">getResidualEnergyCapacity()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">setResidualCapacity()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">updateResidualCapacity()</a>.</p>

</div>
</div>
<a id="a68b23442f9433983e7fbe1d225a63495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68b23442f9433983e7fbe1d225a63495">&#9670;&nbsp;</a></span>targetCapacity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a> inet::power::SimpleEpEnergyStorage::targetCapacity = <a class="el" href="namespaceinet_1_1units_1_1values.html#a42863fea1a7d44fe7547ba77b0c17237">J</a>(<a class="el" href="_i_n_e_t_math_8h.html#a953f667fb27fb68dd74a487d002b19b5">NaN</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The capacity that will be set when the timer expires. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer()</a>.</p>

</div>
</div>
<a id="a34518531722ab5c771280e144c923da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34518531722ab5c771280e144c923da4">&#9670;&nbsp;</a></span>timer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::power::SimpleEpEnergyStorage::timer = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The timer that is scheduled to the earliest time when the energy storage will be depleted, the energy storage will be charged. </p>

<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aca193e7c6e00f0605f7e7043532c9ff2">handleMessage()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ae21ec52516e924982523f7b99d575dca">initialize()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">scheduleTimer()</a>, and <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a80cd3aaeae4a3a61f098961290c1a2f7">~SimpleEpEnergyStorage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_simple_ep_energy_storage_8h.html">SimpleEpEnergyStorage.h</a></li>
<li><a class="el" href="_simple_ep_energy_storage_8cc.html">SimpleEpEnergyStorage.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_ac9a0d4a5fe51b4a6c9a3c4d38a646091"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ac9a0d4a5fe51b4a6c9a3c4d38a646091">inet::power::SimpleEpEnergyStorage::networkNode</a></div><div class="ttdeci">cModule * networkNode</div><div class="ttdoc">The containing node module.</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:69</div></div>
<div class="ttc" id="anamespaceinet_html_acd0d847a7b6e0f156094fbdd101a00a6"><div class="ttname"><a href="namespaceinet.html#acd0d847a7b6e0f156094fbdd101a00a6">inet::findContainingNode</a></div><div class="ttdeci">cModule * findContainingNode(const cModule *from)</div><div class="ttdoc">Find the node containing the given module.</div><div class="ttdef"><b>Definition:</b> ModuleAccess.cc:31</div></div>
<div class="ttc" id="aclassinet_1_1units_1_1value_html_ab6fdda2ef1091fa455168e4e1d944896"><div class="ttname"><a href="classinet_1_1units_1_1value.html#ab6fdda2ef1091fa455168e4e1d944896">inet::units::value::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdef"><b>Definition:</b> Units.h:101</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a4004f25e601656a13112b45b34e61fb2"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a4004f25e601656a13112b45b34e61fb2">inet::power::SimpleEpEnergyStorage::nominalCapacity</a></div><div class="ttdeci">J nominalCapacity</div><div class="ttdoc">The nominal capacity is in the range [0, +infinity).</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:38</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a6f3ab412b36f6b72922ac119e10cbec3"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a6f3ab412b36f6b72922ac119e10cbec3">inet::power::SimpleEpEnergyStorage::residualCapacity</a></div><div class="ttdeci">J residualCapacity</div><div class="ttdoc">The residual capacity is in the range [0, nominalCapacity].</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:43</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a97eaefcfd3b9f2b0773e6eed269945ef"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a97eaefcfd3b9f2b0773e6eed269945ef">inet::power::SimpleEpEnergyStorage::nodeStatus</a></div><div class="ttdeci">NodeStatus * nodeStatus</div><div class="ttdoc">The status of the node.</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:74</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a34518531722ab5c771280e144c923da4"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a34518531722ab5c771280e144c923da4">inet::power::SimpleEpEnergyStorage::timer</a></div><div class="ttdeci">cMessage * timer</div><div class="ttdoc">The timer that is scheduled to the earliest time when the energy storage will be depleted,...</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:59</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1units_html_a9641b99d1136edd46f513ddaed7b635f"><div class="ttname"><a href="namespaceinet_1_1units_1_1units.html#a9641b99d1136edd46f513ddaed7b635f">inet::units::units::W</a></div><div class="ttdeci">compose&lt; J, pow&lt; s, -1 &gt; &gt; W</div><div class="ttdef"><b>Definition:</b> Units.h:939</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_ep_energy_source_base_html_a90217d4897c85dbedf98420e85b9920a"><div class="ttname"><a href="classinet_1_1power_1_1_ep_energy_source_base.html#a90217d4897c85dbedf98420e85b9920a">inet::power::EpEnergySourceBase::totalPowerConsumption</a></div><div class="ttdeci">W totalPowerConsumption</div><div class="ttdef"><b>Definition:</b> EpEnergySourceBase.h:22</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_i_ep_energy_storage_html_a97c2986bf34e6977a9dc10f5b40a4cb2"><div class="ttname"><a href="classinet_1_1power_1_1_i_ep_energy_storage.html#a97c2986bf34e6977a9dc10f5b40a4cb2">inet::power::IEpEnergyStorage::residualEnergyCapacityChangedSignal</a></div><div class="ttdeci">static simsignal_t residualEnergyCapacityChangedSignal</div><div class="ttdoc">The signal that is used to publish residual energy capacity changes also including when the energy st...</div><div class="ttdef"><b>Definition:</b> IEpEnergyStorage.h:32</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a8688bbc8381f0b6359a0845d13551755"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a8688bbc8381f0b6359a0845d13551755">inet::power::SimpleEpEnergyStorage::executeNodeOperation</a></div><div class="ttdeci">virtual void executeNodeOperation(J newResidualCapacity)</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.cc:98</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a68b23442f9433983e7fbe1d225a63495"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a68b23442f9433983e7fbe1d225a63495">inet::power::SimpleEpEnergyStorage::targetCapacity</a></div><div class="ttdeci">J targetCapacity</div><div class="ttdoc">The capacity that will be set when the timer expires.</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:64</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_ep_energy_storage_base_html_a1bb2d36594f2f9268055f8daf91fd8b8"><div class="ttname"><a href="classinet_1_1power_1_1_ep_energy_storage_base.html#a1bb2d36594f2f9268055f8daf91fd8b8">inet::power::EpEnergyStorageBase::updateTotalPowerConsumption</a></div><div class="ttdeci">virtual void updateTotalPowerConsumption() override</div><div class="ttdef"><b>Definition:</b> EpEnergyStorageBase.cc:24</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1values_html_a108df471d310062a178144ec45653798"><div class="ttname"><a href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">inet::units::values::s</a></div><div class="ttdeci">value&lt; double, units::s &gt; s</div><div class="ttdef"><b>Definition:</b> Units.h:1235</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a89a85a8509d1e1dc10f0ce5049c00e86"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a89a85a8509d1e1dc10f0ce5049c00e86">inet::power::SimpleEpEnergyStorage::lastResidualCapacityUpdate</a></div><div class="ttdeci">simtime_t lastResidualCapacityUpdate</div><div class="ttdoc">The simulation time when the residual capacity was last updated.</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:53</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_ep_energy_storage_base_html_ae206e78989c8606bd6600781d0ab9045"><div class="ttname"><a href="classinet_1_1power_1_1_ep_energy_storage_base.html#ae206e78989c8606bd6600781d0ab9045">inet::power::EpEnergyStorageBase::initialize</a></div><div class="ttdeci">virtual void initialize(int stage) override</div><div class="ttdef"><b>Definition:</b> EpEnergyStorageBase.cc:14</div></div>
<div class="ttc" id="aclassinet_1_1_lifecycle_operation_html_a8d533f9d2fccff0327ac60354acd82cf"><div class="ttname"><a href="classinet_1_1_lifecycle_operation.html#a8d533f9d2fccff0327ac60354acd82cf">inet::LifecycleOperation::StringMap</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; StringMap</div><div class="ttdef"><b>Definition:</b> LifecycleOperation.h:28</div></div>
<div class="ttc" id="anamespaceinet_html_a6be747ab6f195055e109f27f8462e52e"><div class="ttname"><a href="namespaceinet.html#a6be747ab6f195055e109f27f8462e52e">inet::INITSTAGE_LOCAL</a></div><div class="ttdeci">INET_API InitStage INITSTAGE_LOCAL</div><div class="ttdoc">Initialization of local state that don't use or affect other modules includes:</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_aa0df02b49d05440e5e56df150291fdd3"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#aa0df02b49d05440e5e56df150291fdd3">inet::power::SimpleEpEnergyStorage::printCapacityStep</a></div><div class="ttdeci">J printCapacityStep</div><div class="ttdoc">Specifies the amount of capacity change which will be reported.</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:48</div></div>
<div class="ttc" id="aclassinet_1_1_lifecycle_controller_html_af3ad32fc577038680291dfe9b98efcab"><div class="ttname"><a href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">inet::LifecycleController::initiateOperation</a></div><div class="ttdeci">virtual bool initiateOperation(LifecycleOperation *operation, IDoneCallback *completionCallback=nullptr)</div><div class="ttdoc">Initiate an operation.</div><div class="ttdef"><b>Definition:</b> LifecycleController.cc:46</div></div>
<div class="ttc" id="anamespaceinet_1_1math_html_aee34a2a42269e7ea8a7fa2e3da5debd6"><div class="ttname"><a href="namespaceinet_1_1math.html#aee34a2a42269e7ea8a7fa2e3da5debd6">inet::math::round</a></div><div class="ttdeci">int round(double d)</div><div class="ttdoc">Returns an integer that corresponds to rounded double parameter.</div><div class="ttdef"><b>Definition:</b> INETMath.h:143</div></div>
<div class="ttc" id="anamespaceinet_1_1units_html_af768c93efe2fbef618aecc40a9cc8cce"><div class="ttname"><a href="namespaceinet_1_1units.html#af768c93efe2fbef618aecc40a9cc8cce">inet::units::unit</a></div><div class="ttdeci">pow&lt; internal::none, 0 &gt; unit</div><div class="ttdef"><b>Definition:</b> Units.h:72</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1units_html_ab62bc654ca1e529ac04a3aedb5238bcd"><div class="ttname"><a href="namespaceinet_1_1units_1_1units.html#ab62bc654ca1e529ac04a3aedb5238bcd">inet::units::units::J</a></div><div class="ttdeci">compose&lt; N, m &gt; J</div><div class="ttdef"><b>Definition:</b> Units.h:938</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a5733c7ccf6f164cd4089e4880ddce665"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a5733c7ccf6f164cd4089e4880ddce665">inet::power::SimpleEpEnergyStorage::updateResidualCapacity</a></div><div class="ttdeci">virtual void updateResidualCapacity()</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.cc:128</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a44086e9c2e28886f6cee1efb6b69a9eb"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a44086e9c2e28886f6cee1efb6b69a9eb">inet::power::SimpleEpEnergyStorage::getNominalEnergyCapacity</a></div><div class="ttdeci">virtual J getNominalEnergyCapacity() const override</div><div class="ttdoc">Returns the nominal energy capacity in the range [0, +infinity].</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.h:94</div></div>
<div class="ttc" id="aclassinet_1_1_node_status_html_a3623ef63233aec9ad2838030e3ce5bd3ab88e3292de0cb8bfb808d31864d404bc"><div class="ttname"><a href="classinet_1_1_node_status.html#a3623ef63233aec9ad2838030e3ce5bd3ab88e3292de0cb8bfb808d31864d404bc">inet::NodeStatus::UP</a></div><div class="ttdeci">@ UP</div><div class="ttdef"><b>Definition:</b> NodeStatus.h:28</div></div>
<div class="ttc" id="aclassinet_1_1_string_format_html_ad7a46222c7097dfa8f2e176c04769d5c"><div class="ttname"><a href="classinet_1_1_string_format.html#ad7a46222c7097dfa8f2e176c04769d5c">inet::StringFormat::formatString</a></div><div class="ttdeci">const char * formatString(IDirectiveResolver *resolver) const</div><div class="ttdef"><b>Definition:</b> StringFormat.cc:17</div></div>
<div class="ttc" id="aclassinet_1_1units_1_1value_html_a124f568beb77c6236db45df604e36d10"><div class="ttname"><a href="classinet_1_1units_1_1value.html#a124f568beb77c6236db45df604e36d10">inet::units::value::get</a></div><div class="ttdeci">const value_type &amp; get() const</div><div class="ttdef"><b>Definition:</b> Units.h:108</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a2dfa9020ac9f00ca202b0705cae4a86f"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a2dfa9020ac9f00ca202b0705cae4a86f">inet::power::SimpleEpEnergyStorage::getResidualEnergyCapacity</a></div><div class="ttdeci">virtual J getResidualEnergyCapacity() const override</div><div class="ttdoc">Returns the residual energy capacity in the range [0, nominalCapacity].</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.cc:109</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a37ce1dfc9d36ad0be4383708a0c291fb"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a37ce1dfc9d36ad0be4383708a0c291fb">inet::power::SimpleEpEnergyStorage::setResidualCapacity</a></div><div class="ttdeci">virtual void setResidualCapacity(J newResidualCapacity)</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.cc:115</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_a873f91ce8abcd24466a9730628768205"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a873f91ce8abcd24466a9730628768205">inet::power::SimpleEpEnergyStorage::scheduleTimer</a></div><div class="ttdeci">virtual void scheduleTimer()</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.cc:141</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_ep_energy_storage_base_html_a0cfae9678f0265899ae1489999c16b97"><div class="ttname"><a href="classinet_1_1power_1_1_ep_energy_storage_base.html#a0cfae9678f0265899ae1489999c16b97">inet::power::EpEnergyStorageBase::updateTotalPowerGeneration</a></div><div class="ttdeci">virtual void updateTotalPowerGeneration() override</div><div class="ttdef"><b>Definition:</b> EpEnergyStorageBase.cc:30</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_simple_ep_energy_storage_html_ab4fd864a238f161f084db503382e6ba3"><div class="ttname"><a href="classinet_1_1power_1_1_simple_ep_energy_storage.html#ab4fd864a238f161f084db503382e6ba3">inet::power::SimpleEpEnergyStorage::updateDisplayString</a></div><div class="ttdeci">virtual void updateDisplayString() const</div><div class="ttdef"><b>Definition:</b> SimpleEpEnergyStorage.cc:60</div></div>
<div class="ttc" id="aclassinet_1_1_node_status_html_af80feb0fada2b77164b74af13afc1773"><div class="ttname"><a href="classinet_1_1_node_status.html#af80feb0fada2b77164b74af13afc1773">inet::NodeStatus::getState</a></div><div class="ttdeci">virtual State getState() const</div><div class="ttdef"><b>Definition:</b> NodeStatus.h:35</div></div>
<div class="ttc" id="aclassinet_1_1power_1_1_ep_energy_sink_base_html_a5e6751a088f0b4e8e182204be4aedbd2"><div class="ttname"><a href="classinet_1_1power_1_1_ep_energy_sink_base.html#a5e6751a088f0b4e8e182204be4aedbd2">inet::power::EpEnergySinkBase::totalPowerGeneration</a></div><div class="ttdeci">W totalPowerGeneration</div><div class="ttdef"><b>Definition:</b> EpEnergySinkBase.h:22</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinet.html">inet</a></li><li class="navelem"><a class="el" href="namespaceinet_1_1power.html">power</a></li><li class="navelem"><a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html">SimpleEpEnergyStorage</a></li>
    <li class="footer">Generated on Sun Apr 10 2022 21:00:39 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
