<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>INET Framework for OMNeT++/OMNEST: inet::BMac Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="opp.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classinet_1_1_b_mac.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classinet_1_1_b_mac-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inet::BMac Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of B-MAC (called also Berkeley MAC, Low Power Listening or LPL).  
 <a href="classinet_1_1_b_mac.html#details">More...</a></p>

<p><code>#include &lt;BMac.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inet::BMac:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinet_1_1_b_mac.png" usemap="#inet::BMac_map" alt=""/>
  <map id="inet::BMac_map" name="inet::BMac_map">
<area href="classinet_1_1_mac_protocol_base.html" alt="inet::MacProtocolBase" shape="rect" coords="254,224,498,248"/>
<area href="classinet_1_1_i_mac_protocol.html" alt="inet::IMacProtocol" shape="rect" coords="508,224,752,248"/>
<area href="classinet_1_1queueing_1_1_i_active_packet_sink.html" title="This class defines the interface for active packet sinks." alt="inet::queueing::IActivePacketSink" shape="rect" coords="762,224,1006,248"/>
<area href="classinet_1_1_layered_protocol_base.html" alt="inet::LayeredProtocolBase" shape="rect" coords="127,168,371,192"/>
<area href="classinet_1_1_operational_base.html" alt="inet::OperationalBase" shape="rect" coords="127,112,371,136"/>
<area href="classinet_1_1_operational_mixin.html" alt="inet::OperationalMixin&lt; cSimpleModule &gt;" shape="rect" coords="127,56,371,80"/>
<area href="classinet_1_1_i_lifecycle.html" title="Interface to be implemented by modules that want to support failure/recovery, shutdown/restart,..." alt="inet::ILifecycle" shape="rect" coords="254,0,498,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6438cbb690c8326c1333b31676fa0abe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a6438cbb690c8326c1333b31676fa0abe">BMac</a> ()</td></tr>
<tr class="separator:a6438cbb690c8326c1333b31676fa0abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9c2aaee6d564737890f5023572e5d6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a1e9c2aaee6d564737890f5023572e5d6">~BMac</a> ()</td></tr>
<tr class="separator:a1e9c2aaee6d564737890f5023572e5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7a38869a0722385fca0bf5d2780f3c"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#aff7a38869a0722385fca0bf5d2780f3c">numInitStages</a> () const override</td></tr>
<tr class="memdesc:aff7a38869a0722385fca0bf5d2780f3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the module and some variables.  <a href="classinet_1_1_b_mac.html#aff7a38869a0722385fca0bf5d2780f3c">More...</a><br /></td></tr>
<tr class="separator:aff7a38869a0722385fca0bf5d2780f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a1237c7c344d1661c079adc14f40171"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a2a1237c7c344d1661c079adc14f40171">initialize</a> (int) override</td></tr>
<tr class="separator:a2a1237c7c344d1661c079adc14f40171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc9866635a87269a1b2bd6126a38faf"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a9cc9866635a87269a1b2bd6126a38faf">refreshDisplay</a> () const override</td></tr>
<tr class="memdesc:a9cc9866635a87269a1b2bd6126a38faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the color of the node for animation purposes.  <a href="classinet_1_1_b_mac.html#a9cc9866635a87269a1b2bd6126a38faf">More...</a><br /></td></tr>
<tr class="separator:a9cc9866635a87269a1b2bd6126a38faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5dd603e56696bc7f58bbf573ace502"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a9a5dd603e56696bc7f58bbf573ace502">finish</a> () override</td></tr>
<tr class="memdesc:a9a5dd603e56696bc7f58bbf573ace502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all dynamically allocated objects of the module.  <a href="classinet_1_1_b_mac.html#a9a5dd603e56696bc7f58bbf573ace502">More...</a><br /></td></tr>
<tr class="separator:a9a5dd603e56696bc7f58bbf573ace502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2402954d5ca8d3792badd31558825b1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#aa2402954d5ca8d3792badd31558825b1">handleLowerPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *packet) override</td></tr>
<tr class="memdesc:aa2402954d5ca8d3792badd31558825b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle messages from lower layer.  <a href="classinet_1_1_b_mac.html#aa2402954d5ca8d3792badd31558825b1">More...</a><br /></td></tr>
<tr class="separator:aa2402954d5ca8d3792badd31558825b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ad729e07c77ded9a0ab2c87265ea89"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a42ad729e07c77ded9a0ab2c87265ea89">handleUpperPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *packet) override</td></tr>
<tr class="memdesc:a42ad729e07c77ded9a0ab2c87265ea89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle messages from upper layer.  <a href="classinet_1_1_b_mac.html#a42ad729e07c77ded9a0ab2c87265ea89">More...</a><br /></td></tr>
<tr class="separator:a42ad729e07c77ded9a0ab2c87265ea89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd81707ce1839fd25aedd2e3bbfa7ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a8fd81707ce1839fd25aedd2e3bbfa7ba">handleSelfMessage</a> (cMessage *) override</td></tr>
<tr class="memdesc:a8fd81707ce1839fd25aedd2e3bbfa7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle self messages such as timers.  <a href="classinet_1_1_b_mac.html#a8fd81707ce1839fd25aedd2e3bbfa7ba">More...</a><br /></td></tr>
<tr class="separator:a8fd81707ce1839fd25aedd2e3bbfa7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19ea9ee152c0721e5163baade05847e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ab19ea9ee152c0721e5163baade05847e">receiveSignal</a> (cComponent *source, simsignal_t signalID, intval_t value, cObject *details) override</td></tr>
<tr class="memdesc:ab19ea9ee152c0721e5163baade05847e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle control messages from lower layer.  <a href="classinet_1_1_b_mac.html#ab19ea9ee152c0721e5163baade05847e">More...</a><br /></td></tr>
<tr class="separator:ab19ea9ee152c0721e5163baade05847e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac542a31d28b43789c265b0ee4f502de7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classinet_1_1queueing_1_1_i_passive_packet_source.html">queueing::IPassivePacketSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ac542a31d28b43789c265b0ee4f502de7">getProvider</a> (cGate *gate) override</td></tr>
<tr class="memdesc:ac542a31d28b43789c265b0ee4f502de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the passive packet source from where packets are pulled or nullptr if the connected module doesn't implement the interface.  <a href="classinet_1_1_b_mac.html#ac542a31d28b43789c265b0ee4f502de7">More...</a><br /></td></tr>
<tr class="separator:ac542a31d28b43789c265b0ee4f502de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b36394739210f6f9a812b70727a2d0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a37b36394739210f6f9a812b70727a2d0">handleCanPullPacketChanged</a> (cGate *gate) override</td></tr>
<tr class="memdesc:a37b36394739210f6f9a812b70727a2d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies about a change in the possibility of pulling some packet from the passive packet source at the given gate.  <a href="classinet_1_1_b_mac.html#a37b36394739210f6f9a812b70727a2d0">More...</a><br /></td></tr>
<tr class="separator:a37b36394739210f6f9a812b70727a2d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930a07ad5acbd3d439e882c4a34d2733"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a930a07ad5acbd3d439e882c4a34d2733">handlePullPacketProcessed</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *packet, cGate *gate, bool successful) override</td></tr>
<tr class="memdesc:a930a07ad5acbd3d439e882c4a34d2733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies about the completion of the packet processing for a packet that was pulled earlier independently whether the packet is passed or streamed.  <a href="classinet_1_1_b_mac.html#a930a07ad5acbd3d439e882c4a34d2733">More...</a><br /></td></tr>
<tr class="separator:a930a07ad5acbd3d439e882c4a34d2733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:aa5d8cb85d929bf6592e6dc5226b798c3 inherit pub_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#aa5d8cb85d929bf6592e6dc5226b798c3">~OperationalMixin</a> ()</td></tr>
<tr class="memdesc:aa5d8cb85d929bf6592e6dc5226b798c3 inherit pub_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">}@  <a href="classinet_1_1_operational_mixin.html#aa5d8cb85d929bf6592e6dc5226b798c3">More...</a><br /></td></tr>
<tr class="separator:aa5d8cb85d929bf6592e6dc5226b798c3 inherit pub_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_i_lifecycle"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_i_lifecycle')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_i_lifecycle.html">inet::ILifecycle</a></td></tr>
<tr class="memitem:a42ada991baf0d85f6c3b4adcf2b0e87b inherit pub_methods_classinet_1_1_i_lifecycle"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_i_lifecycle.html#a42ada991baf0d85f6c3b4adcf2b0e87b">~ILifecycle</a> ()</td></tr>
<tr class="separator:a42ada991baf0d85f6c3b4adcf2b0e87b inherit pub_methods_classinet_1_1_i_lifecycle"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_i_mac_protocol"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_i_mac_protocol')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_i_mac_protocol.html">inet::IMacProtocol</a></td></tr>
<tr class="memitem:a2187a49f153c4ca72e2240ffb1c07f5b inherit pub_methods_classinet_1_1_i_mac_protocol"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_i_mac_protocol.html#a2187a49f153c4ca72e2240ffb1c07f5b">~IMacProtocol</a> ()</td></tr>
<tr class="separator:a2187a49f153c4ca72e2240ffb1c07f5b inherit pub_methods_classinet_1_1_i_mac_protocol"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1queueing_1_1_i_active_packet_sink"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1queueing_1_1_i_active_packet_sink')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1queueing_1_1_i_active_packet_sink.html">inet::queueing::IActivePacketSink</a></td></tr>
<tr class="memitem:ad206c14d6ac3aafb1d97c2bf1fdf9956 inherit pub_methods_classinet_1_1queueing_1_1_i_active_packet_sink"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1queueing_1_1_i_active_packet_sink.html#ad206c14d6ac3aafb1d97c2bf1fdf9956">~IActivePacketSink</a> ()</td></tr>
<tr class="separator:ad206c14d6ac3aafb1d97c2bf1fdf9956 inherit pub_methods_classinet_1_1queueing_1_1_i_active_packet_sink"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0f8a22035909a10f2e7f155767a04060"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a> ()</td></tr>
<tr class="separator:a0f8a22035909a10f2e7f155767a04060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_mac_protocol_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_mac_protocol_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_mac_protocol_base.html">inet::MacProtocolBase</a></td></tr>
<tr class="memitem:a9b65875967a869921cd0ba8d99671c95 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a9b65875967a869921cd0ba8d99671c95">MacProtocolBase</a> ()</td></tr>
<tr class="separator:a9b65875967a869921cd0ba8d99671c95 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c07fc079ee71631ac6e0ee76762960 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a17c07fc079ee71631ac6e0ee76762960">~MacProtocolBase</a> ()</td></tr>
<tr class="separator:a17c07fc079ee71631ac6e0ee76762960 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9cf9628fe04980abf3c7d86fa4cf8b6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#aa9cf9628fe04980abf3c7d86fa4cf8b6">registerInterface</a> ()</td></tr>
<tr class="separator:aa9cf9628fe04980abf3c7d86fa4cf8b6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b8274ca4fce4b210b1c523927ad5a4 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classinet_1_1_mac_address.html">MacAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#ac2b8274ca4fce4b210b1c523927ad5a4">parseMacAddressParameter</a> (const char *addrstr)</td></tr>
<tr class="separator:ac2b8274ca4fce4b210b1c523927ad5a4 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af515de3b0818bdd09f430d46cdb00c5b inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#af515de3b0818bdd09f430d46cdb00c5b">deleteCurrentTxFrame</a> ()</td></tr>
<tr class="separator:af515de3b0818bdd09f430d46cdb00c5b inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9919287aaa4521728ef127e7649936c0 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a9919287aaa4521728ef127e7649936c0">dropCurrentTxFrame</a> (<a class="el" href="classinet_1_1_packet_drop_details.html">PacketDropDetails</a> &amp;details)</td></tr>
<tr class="separator:a9919287aaa4521728ef127e7649936c0 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a357ea093102491a4f3b49d180e9655 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a1a357ea093102491a4f3b49d180e9655">handleMessageWhenDown</a> (cMessage *msg) override</td></tr>
<tr class="separator:a1a357ea093102491a4f3b49d180e9655 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e58fc4637c4d7b3b1b5052d2b5d514f inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a0e58fc4637c4d7b3b1b5052d2b5d514f">sendUp</a> (cMessage *message)</td></tr>
<tr class="separator:a0e58fc4637c4d7b3b1b5052d2b5d514f inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd8fe1c33a039ec5e86fd1337cccc0f inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#abcd8fe1c33a039ec5e86fd1337cccc0f">sendDown</a> (cMessage *message)</td></tr>
<tr class="separator:abcd8fe1c33a039ec5e86fd1337cccc0f inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab883e2bc072489da8c02bf70967620a7 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#ab883e2bc072489da8c02bf70967620a7">isUpperMessage</a> (cMessage *message) const override</td></tr>
<tr class="separator:ab883e2bc072489da8c02bf70967620a7 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694cd0d1b99c791c04b0b884fa571b91 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a694cd0d1b99c791c04b0b884fa571b91">isLowerMessage</a> (cMessage *message) const override</td></tr>
<tr class="separator:a694cd0d1b99c791c04b0b884fa571b91 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37fae0074656bb02d607b8fc288662a1 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a37fae0074656bb02d607b8fc288662a1">isInitializeStage</a> (int stage) const override</td></tr>
<tr class="separator:a37fae0074656bb02d607b8fc288662a1 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242f9c46d76989131c6eeb31c35debdf inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a242f9c46d76989131c6eeb31c35debdf">isModuleStartStage</a> (int stage) const override</td></tr>
<tr class="separator:a242f9c46d76989131c6eeb31c35debdf inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9dbf5a3baaa796c1432f046fe7beff inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a9e9dbf5a3baaa796c1432f046fe7beff">isModuleStopStage</a> (int stage) const override</td></tr>
<tr class="separator:a9e9dbf5a3baaa796c1432f046fe7beff inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac976203b58a6552bad7a922872d9c6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#acac976203b58a6552bad7a922872d9c6">flushQueue</a> (<a class="el" href="classinet_1_1_packet_drop_details.html">PacketDropDetails</a> &amp;details)</td></tr>
<tr class="memdesc:acac976203b58a6552bad7a922872d9c6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">should clear queue and emit signal "packetDropped" with entire packets  <a href="classinet_1_1_mac_protocol_base.html#acac976203b58a6552bad7a922872d9c6">More...</a><br /></td></tr>
<tr class="separator:acac976203b58a6552bad7a922872d9c6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17598a546bd117faedf7ea664fc02a40 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a17598a546bd117faedf7ea664fc02a40">clearQueue</a> ()</td></tr>
<tr class="memdesc:a17598a546bd117faedf7ea664fc02a40 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">should clear queue silently  <a href="classinet_1_1_mac_protocol_base.html#a17598a546bd117faedf7ea664fc02a40">More...</a><br /></td></tr>
<tr class="separator:a17598a546bd117faedf7ea664fc02a40 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118173d1bf23cc5a71441f781884a1fa inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a118173d1bf23cc5a71441f781884a1fa">receiveSignal</a> (cComponent *source, simsignal_t signalID, cObject *obj, cObject *details) override</td></tr>
<tr class="separator:a118173d1bf23cc5a71441f781884a1fa inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee68ec388eb14743c71f15561775d82 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a1ee68ec388eb14743c71f15561775d82">handleStartOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation) override</td></tr>
<tr class="separator:a1ee68ec388eb14743c71f15561775d82 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade808ee784a38b17aaeca0c5d10a9c1e inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#ade808ee784a38b17aaeca0c5d10a9c1e">handleStopOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation) override</td></tr>
<tr class="separator:ade808ee784a38b17aaeca0c5d10a9c1e inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c8bad629175268ee11b170fb7a9e79 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a30c8bad629175268ee11b170fb7a9e79">handleCrashOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation) override</td></tr>
<tr class="separator:a30c8bad629175268ee11b170fb7a9e79 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5318e542573303f9d43d88d5d37d69d6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1queueing_1_1_i_packet_queue.html">queueing::IPacketQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a5318e542573303f9d43d88d5d37d69d6">getQueue</a> (cGate *gate) const</td></tr>
<tr class="separator:a5318e542573303f9d43d88d5d37d69d6 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9521795aacedfaa68ec24fe46c948c32 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a9521795aacedfaa68ec24fe46c948c32">canDequeuePacket</a> () const</td></tr>
<tr class="separator:a9521795aacedfaa68ec24fe46c948c32 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77a5b0d9ca1b84d81c20efb2180a500 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#af77a5b0d9ca1b84d81c20efb2180a500">dequeuePacket</a> ()</td></tr>
<tr class="separator:af77a5b0d9ca1b84d81c20efb2180a500 inherit pro_methods_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_layered_protocol_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_layered_protocol_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_layered_protocol_base.html">inet::LayeredProtocolBase</a></td></tr>
<tr class="memitem:adb925a82fa4a6f287c5ce08cb1151cbf inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_layered_protocol_base.html#adb925a82fa4a6f287c5ce08cb1151cbf">handleMessageWhenUp</a> (cMessage *message) override</td></tr>
<tr class="separator:adb925a82fa4a6f287c5ce08cb1151cbf inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae6afb5ef15f4e5673b91fe920afe66 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_layered_protocol_base.html#a5ae6afb5ef15f4e5673b91fe920afe66">handleUpperMessage</a> (cMessage *message)</td></tr>
<tr class="separator:a5ae6afb5ef15f4e5673b91fe920afe66 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3576c9ad97d65194374bb5ffc93e7af7 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_layered_protocol_base.html#a3576c9ad97d65194374bb5ffc93e7af7">handleLowerMessage</a> (cMessage *message)</td></tr>
<tr class="separator:a3576c9ad97d65194374bb5ffc93e7af7 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693e776909be4c0f006b8f584ad35489 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_layered_protocol_base.html#a693e776909be4c0f006b8f584ad35489">handleUpperCommand</a> (cMessage *message)</td></tr>
<tr class="separator:a693e776909be4c0f006b8f584ad35489 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67136df9fce98c7d2e635d8de2960848 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_layered_protocol_base.html#a67136df9fce98c7d2e635d8de2960848">handleLowerCommand</a> (cMessage *message)</td></tr>
<tr class="separator:a67136df9fce98c7d2e635d8de2960848 inherit pro_methods_classinet_1_1_layered_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:a2333194f9fd6fec0d20ef827798f2ccb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a2333194f9fd6fec0d20ef827798f2ccb">numInitStages</a> () const override</td></tr>
<tr class="separator:a2333194f9fd6fec0d20ef827798f2ccb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ba2ee5b5b270747bb3645b84e4996e inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a15ba2ee5b5b270747bb3645b84e4996e">refreshDisplay</a> () const override</td></tr>
<tr class="separator:a15ba2ee5b5b270747bb3645b84e4996e inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7520f89a2ddc57246602fdd6d0b47a8d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a7520f89a2ddc57246602fdd6d0b47a8d">handleMessage</a> (cMessage *msg) override</td></tr>
<tr class="separator:a7520f89a2ddc57246602fdd6d0b47a8d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7ee2390370a79773937d2ab7782eb2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a9c7ee2390370a79773937d2ab7782eb2">handleOperationStage</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, <a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *doneCallback) override</td></tr>
<tr class="memdesc:a9c7ee2390370a79773937d2ab7782eb2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform one stage of a lifecycle operation.  <a href="classinet_1_1_operational_mixin.html#a9c7ee2390370a79773937d2ab7782eb2">More...</a><br /></td></tr>
<tr class="separator:a9c7ee2390370a79773937d2ab7782eb2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af630b1b58653ffa8bc398000de0797c3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#af630b1b58653ffa8bc398000de0797c3">getInitialOperationalState</a> () const</td></tr>
<tr class="memdesc:af630b1b58653ffa8bc398000de0797c3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns initial operational state: OPERATING or NOT_OPERATING.  <a href="classinet_1_1_operational_mixin.html#af630b1b58653ffa8bc398000de0797c3">More...</a><br /></td></tr>
<tr class="separator:af630b1b58653ffa8bc398000de0797c3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26348074d447114d299af1d8f3b2b17 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ab26348074d447114d299af1d8f3b2b17">handleActiveOperationTimeout</a> (cMessage *message)</td></tr>
<tr class="separator:ab26348074d447114d299af1d8f3b2b17 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859efb07040a87389a5b35d61fde5db8 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a859efb07040a87389a5b35d61fde5db8">isUp</a> () const</td></tr>
<tr class="memdesc:a859efb07040a87389a5b35d61fde5db8 inherit pro_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">utility functions  <a href="classinet_1_1_operational_mixin.html#a859efb07040a87389a5b35d61fde5db8">More...</a><br /></td></tr>
<tr class="separator:a859efb07040a87389a5b35d61fde5db8 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9196d6fce942da9285c99c1cf667f52 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ab9196d6fce942da9285c99c1cf667f52">isDown</a> () const</td></tr>
<tr class="separator:ab9196d6fce942da9285c99c1cf667f52 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ce13529a98f9a7ef079516a06ae43c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a64ce13529a98f9a7ef079516a06ae43c">setOperationalState</a> (<a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a> newState)</td></tr>
<tr class="separator:a64ce13529a98f9a7ef079516a06ae43c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bef9a2fe6172f6b587f8126219cfc13 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a6bef9a2fe6172f6b587f8126219cfc13">scheduleOperationTimeout</a> (simtime_t timeout)</td></tr>
<tr class="separator:a6bef9a2fe6172f6b587f8126219cfc13 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82844acd3db6ecc619e416fd67c101c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ae82844acd3db6ecc619e416fd67c101c">setupActiveOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, <a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *doneCallback, <a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a>)</td></tr>
<tr class="separator:ae82844acd3db6ecc619e416fd67c101c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae23a78cc3deb39a2c923960853bcdfb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#aae23a78cc3deb39a2c923960853bcdfb">delayActiveOperationFinish</a> (simtime_t timeout)</td></tr>
<tr class="separator:aae23a78cc3deb39a2c923960853bcdfb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d835b432ccfbed1cf73de7c3eb444d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#af5d835b432ccfbed1cf73de7c3eb444d">startActiveOperationExtraTime</a> (simtime_t delay=SIMTIME_ZERO)</td></tr>
<tr class="separator:af5d835b432ccfbed1cf73de7c3eb444d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a88a7052a46a78fa88380b94b7a2b3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a57a88a7052a46a78fa88380b94b7a2b3">startActiveOperationExtraTimeOrFinish</a> (simtime_t extraTime)</td></tr>
<tr class="separator:a57a88a7052a46a78fa88380b94b7a2b3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d25207c2807575a5392ba74ccbafc7b inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a0d25207c2807575a5392ba74ccbafc7b">finishActiveOperation</a> ()</td></tr>
<tr class="separator:a0d25207c2807575a5392ba74ccbafc7b inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:acfc48d3767319588bff2f889d4af0344"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_module_ref_by_par.html">ModuleRefByPar</a>&lt; <a class="el" href="classinet_1_1physicallayer_1_1_i_radio.html">physicallayer::IRadio</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a></td></tr>
<tr class="memdesc:acfc48d3767319588bff2f889d4af0344"><td class="mdescLeft">&#160;</td><td class="mdescRight">The radio.  <a href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">More...</a><br /></td></tr>
<tr class="separator:acfc48d3767319588bff2f889d4af0344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2a3ea71cbd9b58868cb70481bde499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159">physicallayer::IRadio::TransmissionState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#add2a3ea71cbd9b58868cb70481bde499">transmissionState</a> = <a class="el" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159a9b8c95ba91ad3269b67014f4bfae83b2">physicallayer::IRadio::TRANSMISSION_STATE_UNDEFINED</a></td></tr>
<tr class="separator:add2a3ea71cbd9b58868cb70481bde499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1_mac_protocol_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1_mac_protocol_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1_mac_protocol_base.html">inet::MacProtocolBase</a></td></tr>
<tr class="memitem:aa15d2ec2832daffdd6982a67bd5407f1 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#aa15d2ec2832daffdd6982a67bd5407f1">upperLayerInGateId</a> = -1</td></tr>
<tr class="memdesc:aa15d2ec2832daffdd6982a67bd5407f1 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gate ids.  <a href="classinet_1_1_mac_protocol_base.html#aa15d2ec2832daffdd6982a67bd5407f1">More...</a><br /></td></tr>
<tr class="separator:aa15d2ec2832daffdd6982a67bd5407f1 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9660c41443099afedf1cc76868f7a8 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#aee9660c41443099afedf1cc76868f7a8">upperLayerOutGateId</a> = -1</td></tr>
<tr class="separator:aee9660c41443099afedf1cc76868f7a8 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae588f5c88ba9bc8a6187c4c21c71a0e9 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#ae588f5c88ba9bc8a6187c4c21c71a0e9">lowerLayerInGateId</a> = -1</td></tr>
<tr class="separator:ae588f5c88ba9bc8a6187c4c21c71a0e9 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bfddde30d091ae2d8c1d839366ff3f inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a89bfddde30d091ae2d8c1d839366ff3f">lowerLayerOutGateId</a> = -1</td></tr>
<tr class="separator:a89bfddde30d091ae2d8c1d839366ff3f inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdd471f869ccf0ea716e8bce60bdada inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">opp_component_ptr&lt; <a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a></td></tr>
<tr class="separator:a1bdd471f869ccf0ea716e8bce60bdada inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce2d6e0b02f4f71b5d2ef8e3476dc37 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">opp_component_ptr&lt; cModule &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a0ce2d6e0b02f4f71b5d2ef8e3476dc37">hostModule</a></td></tr>
<tr class="separator:a0ce2d6e0b02f4f71b5d2ef8e3476dc37 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a05ba95252550f1e27df46ea4052736 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a> = nullptr</td></tr>
<tr class="memdesc:a5a05ba95252550f1e27df46ea4052736 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently transmitted frame if any.  <a href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">More...</a><br /></td></tr>
<tr class="separator:a5a05ba95252550f1e27df46ea4052736 inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f66409a3316782d68ab967eb1cff36a inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memItemLeft" align="right" valign="top">opp_component_ptr&lt; <a class="el" href="classinet_1_1queueing_1_1_i_packet_queue.html">queueing::IPacketQueue</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">txQueue</a></td></tr>
<tr class="memdesc:a1f66409a3316782d68ab967eb1cff36a inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Messages received from upper layer and to be transmitted later.  <a href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">More...</a><br /></td></tr>
<tr class="separator:a1f66409a3316782d68ab967eb1cff36a inherit pro_attribs_classinet_1_1_mac_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:aff3758b932e1bddc28ce382481b0d086 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#aff3758b932e1bddc28ce382481b0d086">operationalState</a></td></tr>
<tr class="separator:aff3758b932e1bddc28ce382481b0d086 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e44eed4e241b419c83549daba6c5005 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a0e44eed4e241b419c83549daba6c5005">lastChange</a></td></tr>
<tr class="separator:a0e44eed4e241b419c83549daba6c5005 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029c258826c8b0bd8b9b6ec0c2aad6c9 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">Operation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a029c258826c8b0bd8b9b6ec0c2aad6c9">activeOperation</a></td></tr>
<tr class="separator:a029c258826c8b0bd8b9b6ec0c2aad6c9 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8cbf97ebdfe7b61e3d493e8ca0a0e8 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a6e8cbf97ebdfe7b61e3d493e8ca0a0e8">activeOperationTimeout</a></td></tr>
<tr class="separator:a6e8cbf97ebdfe7b61e3d493e8ca0a0e8 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d937bf9af1649f96c7d69ddf48ecc65 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a7d937bf9af1649f96c7d69ddf48ecc65">activeOperationExtraTimer</a></td></tr>
<tr class="separator:a7d937bf9af1649f96c7d69ddf48ecc65 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab0b7191b0620c643a968ecba02601edd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ab0b7191b0620c643a968ecba02601edd">BMac</a> (const <a class="el" href="classinet_1_1_b_mac.html">BMac</a> &amp;)</td></tr>
<tr class="memdesc:ab0b7191b0620c643a968ecba02601edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor is not allowed.  <a href="classinet_1_1_b_mac.html#ab0b7191b0620c643a968ecba02601edd">More...</a><br /></td></tr>
<tr class="separator:ab0b7191b0620c643a968ecba02601edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4366b93c6c30e6e46dd26fd4a6f67bf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_b_mac.html">BMac</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a4366b93c6c30e6e46dd26fd4a6f67bf0">operator=</a> (const <a class="el" href="classinet_1_1_b_mac.html">BMac</a> &amp;)</td></tr>
<tr class="memdesc:a4366b93c6c30e6e46dd26fd4a6f67bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator is not allowed.  <a href="classinet_1_1_b_mac.html#a4366b93c6c30e6e46dd26fd4a6f67bf0">More...</a><br /></td></tr>
<tr class="separator:a4366b93c6c30e6e46dd26fd4a6f67bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Different tracked statistics.</h2></td></tr>
<tr class="memitem:afec5db38339196e37655117939c00134"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">States</a> { <br />
&#160;&#160;<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1">INIT</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00">CCA</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>, 
<br />
&#160;&#160;<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">WAIT_DATA</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">SEND_DATA</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">WAIT_TX_DATA_OVER</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895">WAIT_ACK</a>, 
<br />
&#160;&#160;<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">SEND_ACK</a>, 
<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">WAIT_ACK_TX</a>
<br />
 }</td></tr>
<tr class="memdesc:afec5db38339196e37655117939c00134"><td class="mdescLeft">&#160;</td><td class="mdescRight">MAC states.  <a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">More...</a><br /></td></tr>
<tr class="separator:afec5db38339196e37655117939c00134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb26bd05f7ab7c725492dece0459cd44"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#aeb26bd05f7ab7c725492dece0459cd44">nbTxDataPackets</a> = 0</td></tr>
<tr class="separator:aeb26bd05f7ab7c725492dece0459cd44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab194a82cef86db540ba1410aea236da"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#aab194a82cef86db540ba1410aea236da">nbTxPreambles</a> = 0</td></tr>
<tr class="separator:aab194a82cef86db540ba1410aea236da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717802403426e833792be74586674269"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a717802403426e833792be74586674269">nbRxDataPackets</a> = 0</td></tr>
<tr class="separator:a717802403426e833792be74586674269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222a62b3db3e03a244f71d8de99d5130"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a222a62b3db3e03a244f71d8de99d5130">nbRxPreambles</a> = 0</td></tr>
<tr class="separator:a222a62b3db3e03a244f71d8de99d5130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4835a551d00a328d10014ed35e8b6e11"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a4835a551d00a328d10014ed35e8b6e11">nbMissedAcks</a> = 0</td></tr>
<tr class="separator:a4835a551d00a328d10014ed35e8b6e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b116c5eb365a349b2195d0a3fd51d3b"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a9b116c5eb365a349b2195d0a3fd51d3b">nbRecvdAcks</a> = 0</td></tr>
<tr class="separator:a9b116c5eb365a349b2195d0a3fd51d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e1a6f5c5643f114c0b9760b2bbfd56"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ac4e1a6f5c5643f114c0b9760b2bbfd56">nbDroppedDataPackets</a> = 0</td></tr>
<tr class="separator:ac4e1a6f5c5643f114c0b9760b2bbfd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9aff5784b23d64acfc1840bf3d4bce"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a7d9aff5784b23d64acfc1840bf3d4bce">nbTxAcks</a> = 0</td></tr>
<tr class="separator:a7d9aff5784b23d64acfc1840bf3d4bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7fa3905452d25d85effe3a8a09b4b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">States</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = static_cast&lt;<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">States</a>&gt;(-1)</td></tr>
<tr class="memdesc:afc7fa3905452d25d85effe3a8a09b4b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current state of the protocol.  <a href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">More...</a><br /></td></tr>
<tr class="separator:afc7fa3905452d25d85effe3a8a09b4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade3d5a4cbbd62b9657d5b1b90ec47f4c"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ade3d5a4cbbd62b9657d5b1b90ec47f4c">resend_data</a> = nullptr</td></tr>
<tr class="separator:ade3d5a4cbbd62b9657d5b1b90ec47f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54341025a048c29a8a19d6fcd7078db0"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a54341025a048c29a8a19d6fcd7078db0">ack_timeout</a> = nullptr</td></tr>
<tr class="separator:a54341025a048c29a8a19d6fcd7078db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4863e0f5c136dba256803d186c09a63c"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a4863e0f5c136dba256803d186c09a63c">start_bmac</a> = nullptr</td></tr>
<tr class="separator:a4863e0f5c136dba256803d186c09a63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236de3bc1d7f954a3a746f91ce21f20e"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a> = nullptr</td></tr>
<tr class="separator:a236de3bc1d7f954a3a746f91ce21f20e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5dfcce89950dca3b2ef08e8e02b67bb"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ab5dfcce89950dca3b2ef08e8e02b67bb">send_ack</a> = nullptr</td></tr>
<tr class="separator:ab5dfcce89950dca3b2ef08e8e02b67bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eb07e80fa95438d925ab029938298f"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a> = nullptr</td></tr>
<tr class="separator:ac2eb07e80fa95438d925ab029938298f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cd0593b6e8aa899d284c7038147037"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a09cd0593b6e8aa899d284c7038147037">ack_tx_over</a> = nullptr</td></tr>
<tr class="separator:a09cd0593b6e8aa899d284c7038147037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd0dc0d48e44890a4382be6d6010273"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a4dd0dc0d48e44890a4382be6d6010273">send_preamble</a> = nullptr</td></tr>
<tr class="separator:a4dd0dc0d48e44890a4382be6d6010273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ffe2c874b8e30ab7678ab3ca407e80"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ab1ffe2c874b8e30ab7678ab3ca407e80">stop_preambles</a> = nullptr</td></tr>
<tr class="separator:ab1ffe2c874b8e30ab7678ab3ca407e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a63324eb3b43c6a493c4120de9c8fd5"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a8a63324eb3b43c6a493c4120de9c8fd5">data_tx_over</a> = nullptr</td></tr>
<tr class="separator:a8a63324eb3b43c6a493c4120de9c8fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288a20ada00ee892333254dc7136f994"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a> = nullptr</td></tr>
<tr class="separator:a288a20ada00ee892333254dc7136f994"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Help variables for the acknowledgment process.</h2></td></tr>
<tr class="memitem:ab8931eef7aeae6cf3118358141becec0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_mac_address.html">MacAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ab8931eef7aeae6cf3118358141becec0">lastDataPktSrcAddr</a></td></tr>
<tr class="separator:ab8931eef7aeae6cf3118358141becec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8997910e1dafbe0457cdcff4bb1710c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_mac_address.html">MacAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a></td></tr>
<tr class="separator:af8997910e1dafbe0457cdcff4bb1710c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2197e9873ae18dfec7c4aeeb01e005bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a2197e9873ae18dfec7c4aeeb01e005bd">txAttempts</a> = 0</td></tr>
<tr class="separator:a2197e9873ae18dfec7c4aeeb01e005bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13fff23da857ee0d34e245b62efce4b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a13fff23da857ee0d34e245b62efce4b0">animation</a> = false</td></tr>
<tr class="memdesc:a13fff23da857ee0d34e245b62efce4b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Animate (colorize) the nodes.  <a href="classinet_1_1_b_mac.html#a13fff23da857ee0d34e245b62efce4b0">More...</a><br /></td></tr>
<tr class="separator:a13fff23da857ee0d34e245b62efce4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5179d7eede1c32ed97f3e76346d1cc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a> = 0</td></tr>
<tr class="memdesc:a1c5179d7eede1c32ed97f3e76346d1cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The duration of the slot in secs.  <a href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">More...</a><br /></td></tr>
<tr class="separator:a1c5179d7eede1c32ed97f3e76346d1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57abfed79fce4c21ac86abd421e63fbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a57abfed79fce4c21ac86abd421e63fbe">headerLength</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>(0)</td></tr>
<tr class="memdesc:a57abfed79fce4c21ac86abd421e63fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the header.  <a href="classinet_1_1_b_mac.html#a57abfed79fce4c21ac86abd421e63fbe">More...</a><br /></td></tr>
<tr class="separator:a57abfed79fce4c21ac86abd421e63fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2913c7636efe6db4758ff2743e523c72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a2913c7636efe6db4758ff2743e523c72">ctrlFrameLength</a> = <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>(0)</td></tr>
<tr class="separator:a2913c7636efe6db4758ff2743e523c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac374bb9be432724caf390bb03dfe7b27"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">bitrate</a> = 0</td></tr>
<tr class="memdesc:ac374bb9be432724caf390bb03dfe7b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bitrate of transmission.  <a href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">More...</a><br /></td></tr>
<tr class="separator:ac374bb9be432724caf390bb03dfe7b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a233089ac57c193dc578e63f39456c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a> = 0</td></tr>
<tr class="memdesc:a60a233089ac57c193dc578e63f39456c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The duration of CCA.  <a href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">More...</a><br /></td></tr>
<tr class="separator:a60a233089ac57c193dc578e63f39456c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb6b8bf68f8999a69c27c1c1fc2b9bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">useMacAcks</a> = false</td></tr>
<tr class="memdesc:a6cb6b8bf68f8999a69c27c1c1fc2b9bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use MAC level acks or not.  <a href="classinet_1_1_b_mac.html#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">More...</a><br /></td></tr>
<tr class="separator:a6cb6b8bf68f8999a69c27c1c1fc2b9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039977f3dd2fa517023b6cd2d59bc6e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a039977f3dd2fa517023b6cd2d59bc6e1">maxTxAttempts</a> = 0</td></tr>
<tr class="memdesc:a039977f3dd2fa517023b6cd2d59bc6e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum transmission attempts per data packet, when ACKs are used.  <a href="classinet_1_1_b_mac.html#a039977f3dd2fa517023b6cd2d59bc6e1">More...</a><br /></td></tr>
<tr class="separator:a039977f3dd2fa517023b6cd2d59bc6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa7f4991f9f0991f78f2cb9559e379d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#adaa7f4991f9f0991f78f2cb9559e379d">stats</a> = false</td></tr>
<tr class="memdesc:adaa7f4991f9f0991f78f2cb9559e379d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather stats at the end of the simulation.  <a href="classinet_1_1_b_mac.html#adaa7f4991f9f0991f78f2cb9559e379d">More...</a><br /></td></tr>
<tr class="separator:adaa7f4991f9f0991f78f2cb9559e379d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2687f10f583aeda96cdc2712da4491e4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a2687f10f583aeda96cdc2712da4491e4">configureNetworkInterface</a> () override</td></tr>
<tr class="memdesc:a2687f10f583aeda96cdc2712da4491e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate new interface address.  <a href="classinet_1_1_b_mac.html#a2687f10f583aeda96cdc2712da4491e4">More...</a><br /></td></tr>
<tr class="separator:a2687f10f583aeda96cdc2712da4491e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89723eb5c02861d40eefe758e42efb5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ab89723eb5c02861d40eefe758e42efb5">handleCommand</a> (cMessage *msg)</td></tr>
<tr class="separator:ab89723eb5c02861d40eefe758e42efb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1929420e3f910ff4658bb13ccd085c65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a1929420e3f910ff4658bb13ccd085c65">sendDataPacket</a> ()</td></tr>
<tr class="memdesc:a1929420e3f910ff4658bb13ccd085c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to send the first packet in the queue.  <a href="classinet_1_1_b_mac.html#a1929420e3f910ff4658bb13ccd085c65">More...</a><br /></td></tr>
<tr class="separator:a1929420e3f910ff4658bb13ccd085c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ce21eae071184a70af07d8b41eabd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#af3ce21eae071184a70af07d8b41eabd1">sendMacAck</a> ()</td></tr>
<tr class="memdesc:af3ce21eae071184a70af07d8b41eabd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to send an ACK.  <a href="classinet_1_1_b_mac.html#af3ce21eae071184a70af07d8b41eabd1">More...</a><br /></td></tr>
<tr class="separator:af3ce21eae071184a70af07d8b41eabd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5525db3aa421aebf6cc5bee4ec38e67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ae5525db3aa421aebf6cc5bee4ec38e67">sendPreamble</a> ()</td></tr>
<tr class="memdesc:ae5525db3aa421aebf6cc5bee4ec38e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to send one preamble.  <a href="classinet_1_1_b_mac.html#ae5525db3aa421aebf6cc5bee4ec38e67">More...</a><br /></td></tr>
<tr class="separator:ae5525db3aa421aebf6cc5bee4ec38e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1732055b0580e8015683345ccb50cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a9e1732055b0580e8015683345ccb50cb">attachSignal</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *macPkt)</td></tr>
<tr class="memdesc:a9e1732055b0580e8015683345ccb50cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to attach a signal to the packet.  <a href="classinet_1_1_b_mac.html#a9e1732055b0580e8015683345ccb50cb">More...</a><br /></td></tr>
<tr class="separator:a9e1732055b0580e8015683345ccb50cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a78e0d51f9896e359a13d75fdf1fe9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#a4a78e0d51f9896e359a13d75fdf1fe9f">decapsulate</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *packet)</td></tr>
<tr class="separator:a4a78e0d51f9896e359a13d75fdf1fe9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f77339918c81efe05c78755e87e91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_b_mac.html#ac9f77339918c81efe05c78755e87e91a">encapsulate</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *packet)</td></tr>
<tr class="separator:ac9f77339918c81efe05c78755e87e91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_types_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:ae783939fba8872fbd210da66bfdeed42 inherit pro_types_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a> </td></tr>
<tr class="separator:ae783939fba8872fbd210da66bfdeed42 inherit pro_types_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of B-MAC (called also Berkeley MAC, Low Power Listening or LPL). </p>
<p>The protocol works as follows: each node is allowed to sleep for slotDuration. After waking up, it first checks the channel for ongoing transmissions. If a transmission is catched (a preamble is received), the node stays awake for at most slotDuration and waits for the actual data packet. If a node wants to send a packet, it first sends preambles for at least slotDuration, thus waking up all nodes in its transmission radius and then sends out the data packet. If a mac-level ack is required, then the receiver sends the ack immediately after receiving the packet (no preambles) and the sender waits for some time more before going back to sleep.</p>
<p>B-MAC is designed for low traffic, low power communication in WSN and is one of the most widely used protocols (e.g. it is part of TinyOS). The finite state machine of the protocol is given in the below figure:</p>
<div class="image">
<img src="BMACFSM.png" alt=""/>
<div class="caption">
B-MAC Layer - finite state machine</div></div>
<p>A paper describing this implementation can be found at: <a href="http://www.omnet-workshop.org/2011/uploads/slides/OMNeT_WS2011_S5_C1_Foerster.pdf">http://www.omnet-workshop.org/2011/uploads/slides/OMNeT_WS2011_S5_C1_Foerster.pdf</a></p>
<dl class="section author"><dt>Author</dt><dd>Anna Foerster </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="afec5db38339196e37655117939c00134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec5db38339196e37655117939c00134">&#9670;&nbsp;</a></span>States</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">inet::BMac::States</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>MAC states. </p>
<p>The MAC states help to keep track what the MAC is actually trying to do. INIT &ndash; node has just started and its status is unclear SLEEP &ndash; node sleeps, but accepts packets from the network layer CCA &ndash; Clear Channel Assessment - MAC checks whether medium is busy SEND_PREAMBLE &ndash; node sends preambles to wake up all nodes WAIT_DATA &ndash; node has received at least one preamble from another node and wiats for the actual data packet SEND_DATA &ndash; node has sent enough preambles and sends the actual data packet WAIT_TX_DATA_OVER &ndash; node waits until the data packet sending is ready WAIT_ACK &ndash; node has sent the data packet and waits for ack from the receiving node SEND_ACK &ndash; node send an ACK back to the sender WAIT_ACK_TX &ndash; node waits until the transmission of the ack packet is over </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1"></a>INIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174"></a>SLEEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00"></a>CCA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7"></a>SEND_PREAMBLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72"></a>WAIT_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885"></a>SEND_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40"></a>WAIT_TX_DATA_OVER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895"></a>WAIT_ACK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666"></a>SEND_ACK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05"></a>WAIT_ACK_TX&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1">INIT</a>, <span class="comment">// 0</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>, <span class="comment">// 1</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00">CCA</a>, <span class="comment">// 2</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>, <span class="comment">// 3</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">WAIT_DATA</a>, <span class="comment">// 4</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">SEND_DATA</a>, <span class="comment">// 5</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">WAIT_TX_DATA_OVER</a>, <span class="comment">// 6</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895">WAIT_ACK</a>, <span class="comment">// 7</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">SEND_ACK</a>, <span class="comment">// 8</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">WAIT_ACK_TX</a> <span class="comment">// 9</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab0b7191b0620c643a968ecba02601edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b7191b0620c643a968ecba02601edd">&#9670;&nbsp;</a></span>BMac() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::BMac::BMac </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_b_mac.html">BMac</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor is not allowed. </p>

</div>
</div>
<a id="a6438cbb690c8326c1333b31676fa0abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6438cbb690c8326c1333b31676fa0abe">&#9670;&nbsp;</a></span>BMac() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::BMac::BMac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e9c2aaee6d564737890f5023572e5d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9c2aaee6d564737890f5023572e5d6">&#9670;&nbsp;</a></span>~BMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::BMac::~BMac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a8a63324eb3b43c6a493c4120de9c8fd5">data_tx_over</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#ab1ffe2c874b8e30ab7678ab3ca407e80">stop_preambles</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a4dd0dc0d48e44890a4382be6d6010273">send_preamble</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a09cd0593b6e8aa899d284c7038147037">ack_tx_over</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#ab5dfcce89950dca3b2ef08e8e02b67bb">send_ack</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a4863e0f5c136dba256803d186c09a63c">start_bmac</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#a54341025a048c29a8a19d6fcd7078db0">ack_timeout</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    cancelAndDelete(<a class="code" href="classinet_1_1_b_mac.html#ade3d5a4cbbd62b9657d5b1b90ec47f4c">resend_data</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9e1732055b0580e8015683345ccb50cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1732055b0580e8015683345ccb50cb">&#9670;&nbsp;</a></span>attachSignal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::attachSignal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>macPkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to attach a signal to the packet. </p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// calc signal duration</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    simtime_t duration = macPkt-&gt;getBitLength() / <a class="code" href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">bitrate</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// create and initialize control info with new signal</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    macPkt-&gt;setDuration(duration);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2687f10f583aeda96cdc2712da4491e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2687f10f583aeda96cdc2712da4491e4">&#9670;&nbsp;</a></span>configureNetworkInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::configureNetworkInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate new interface address. </p>

<p>Implements <a class="el" href="classinet_1_1_mac_protocol_base.html#ad73fadfe99dfba9f3fb75da70dc2f8e2">inet::MacProtocolBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    MacAddress address = <a class="code" href="classinet_1_1_mac_protocol_base.html#ac2b8274ca4fce4b210b1c523927ad5a4">parseMacAddressParameter</a>(par(<span class="stringliteral">&quot;address&quot;</span>));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// data rate</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;setDatarate(<a class="code" href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">bitrate</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// generate a link-layer address to be used as interface token for IPv6</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;setMacAddress(address);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;setInterfaceToken(address.formInterfaceIdentifier());</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// capabilities</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;setMtu(par(<span class="stringliteral">&quot;mtu&quot;</span>));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;setMulticast(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;setBroadcast(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a78e0d51f9896e359a13d75fdf1fe9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a78e0d51f9896e359a13d75fdf1fe9f">&#9670;&nbsp;</a></span>decapsulate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::decapsulate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; bmacHeader = packet-&gt;popAtFront&lt;BMacDataFrameHeader&gt;();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    packet-&gt;addTagIfAbsent&lt;MacAddressInd&gt;()-&gt;setSrcAddress(bmacHeader-&gt;getSrcAddr());</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    packet-&gt;addTagIfAbsent&lt;InterfaceInd&gt;()-&gt;setInterfaceId(<a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;getInterfaceId());</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keyword">auto</span> payloadProtocol = <a class="code" href="classinet_1_1_protocol_group.html#a59ecb79a79d2ff5f29477007d999822b">ProtocolGroup::ethertype</a>.<a class="code" href="classinet_1_1_protocol_group.html#a40de7db32f5ec6281d6fa3b454335e22">getProtocol</a>(bmacHeader-&gt;getNetworkProtocol());</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#a0323ac93ca7b779d82d9fb23cd4c8681">DispatchProtocolReq</a>&gt;()-&gt;setProtocol(payloadProtocol);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(payloadProtocol);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    packet-&gt;setKind(0);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot; message decapsulated &quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9f77339918c81efe05c78755e87e91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f77339918c81efe05c78755e87e91a">&#9670;&nbsp;</a></span>encapsulate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::encapsulate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;{</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keyword">auto</span> pkt = makeShared&lt;BMacDataFrameHeader&gt;();</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    pkt-&gt;setChunkLength(<a class="code" href="classinet_1_1_b_mac.html#a57abfed79fce4c21ac86abd421e63fbe">headerLength</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    pkt-&gt;setType(<a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f">BMAC_DATA</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">// copy dest address from the Control Info attached to the network</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// message by the network layer</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keyword">auto</span> dest = packet-&gt;getTag&lt;MacAddressReq&gt;()-&gt;getDestAddress();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;CInfo removed, mac addr=&quot;</span> &lt;&lt; dest &lt;&lt; endl;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    pkt-&gt;setNetworkProtocol(<a class="code" href="classinet_1_1_protocol_group.html#a59ecb79a79d2ff5f29477007d999822b">ProtocolGroup::ethertype</a>.getProtocolNumber(packet-&gt;getTag&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;getProtocol()));</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    pkt-&gt;setDestAddr(dest);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="comment">// delete the control info</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keyword">delete</span> packet-&gt;removeControlInfo();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// set the src address to own mac address (nic module getId())</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    pkt-&gt;setSrcAddr(<a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;getMacAddress());</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// encapsulate the network packet</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    packet-&gt;insertAtFront(pkt);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;pkt encapsulated\n&quot;</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#ae2a414d524b0486bb81b469dc8df45a2">Protocol::bmac</a>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a5dd603e56696bc7f58bbf573ace502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a5dd603e56696bc7f58bbf573ace502">&#9670;&nbsp;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete all dynamically allocated objects of the module. </p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbTxDataPackets&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#aeb26bd05f7ab7c725492dece0459cd44">nbTxDataPackets</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbTxPreambles&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#aab194a82cef86db540ba1410aea236da">nbTxPreambles</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbRxDataPackets&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#a717802403426e833792be74586674269">nbRxDataPackets</a>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbRxPreambles&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#a222a62b3db3e03a244f71d8de99d5130">nbRxPreambles</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbMissedAcks&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#a4835a551d00a328d10014ed35e8b6e11">nbMissedAcks</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbRecvdAcks&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#a9b116c5eb365a349b2195d0a3fd51d3b">nbRecvdAcks</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbTxAcks&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#a7d9aff5784b23d64acfc1840bf3d4bce">nbTxAcks</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    recordScalar(<span class="stringliteral">&quot;nbDroppedDataPackets&quot;</span>, <a class="code" href="classinet_1_1_b_mac.html#ac4e1a6f5c5643f114c0b9760b2bbfd56">nbDroppedDataPackets</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//    recordScalar(&quot;timeSleep&quot;, timeSleep);</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">//    recordScalar(&quot;timeRX&quot;, timeRX);</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//    recordScalar(&quot;timeTX&quot;, timeTX);</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac542a31d28b43789c265b0ee4f502de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac542a31d28b43789c265b0ee4f502de7">&#9670;&nbsp;</a></span>getProvider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1queueing_1_1_i_passive_packet_source.html">queueing::IPassivePacketSource</a> * inet::BMac::getProvider </td>
          <td>(</td>
          <td class="paramtype">cGate *&#160;</td>
          <td class="paramname"><em>gate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the passive packet source from where packets are pulled or nullptr if the connected module doesn't implement the interface. </p>
<p>The gate parameter must be a valid gate of this module. </p>

<p>Implements <a class="el" href="classinet_1_1queueing_1_1_i_active_packet_sink.html#a8c5eee25d2e4a5457ddb18ebcb8b29b6">inet::queueing::IActivePacketSink</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> (gate-&gt;getId() == <a class="code" href="classinet_1_1_mac_protocol_base.html#aa15d2ec2832daffdd6982a67bd5407f1">upperLayerInGateId</a>) ? <a class="code" href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">txQueue</a>.get() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a37b36394739210f6f9a812b70727a2d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b36394739210f6f9a812b70727a2d0">&#9670;&nbsp;</a></span>handleCanPullPacketChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::handleCanPullPacketChanged </td>
          <td>(</td>
          <td class="paramtype">cGate *&#160;</td>
          <td class="paramname"><em>gate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies about a change in the possibility of pulling some packet from the passive packet source at the given gate. </p>
<p>This method is called, for example, when a new packet is inserted into a queue. It allows the sink to pull a new packet from the queue.</p>
<p>The gate parameter must be a valid gate of this module. </p>

<p>Implements <a class="el" href="classinet_1_1queueing_1_1_i_active_packet_sink.html#a02edcb2ad77e915a8bbdec3182ede2fc">inet::queueing::IActivePacketSink</a>.</p>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="_self_doc_8h.html#a8e54030c665b5254da268db865fccdfc">Enter_Method</a>(<span class="stringliteral">&quot;handleCanPullPacketChanged&quot;</span>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// force wakeup now</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (gate-&gt;getId() == <a class="code" href="classinet_1_1_mac_protocol_base.html#aa15d2ec2832daffdd6982a67bd5407f1">upperLayerInGateId</a> &amp;&amp; (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> == <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>) &amp;&amp; <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>-&gt;isScheduled()</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            &amp;&amp; <a class="code" href="classinet_1_1_mac_protocol_base.html#a9521795aacedfaa68ec24fe46c948c32">canDequeuePacket</a>())</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        rescheduleAfter(dblrand() * 0.1f, <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab89723eb5c02861d40eefe758e42efb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab89723eb5c02861d40eefe758e42efb5">&#9670;&nbsp;</a></span>handleCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void inet::BMac::handleCommand </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2402954d5ca8d3792badd31558825b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2402954d5ca8d3792badd31558825b1">&#9670;&nbsp;</a></span>handleLowerPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::handleLowerPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle messages from lower layer. </p>
<p>Handle BMAC preambles and received data packets. </p>

<p>Reimplemented from <a class="el" href="classinet_1_1_layered_protocol_base.html#a8ccdd82466be10df5af7d3cf772289d0">inet::LayeredProtocolBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (packet-&gt;hasBitError()) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;Received &quot;</span> &lt;&lt; packet &lt;&lt; <span class="stringliteral">&quot; contains bit errors or collision, dropping it\n&quot;</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        PacketDropDetails details;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        details.setReason(<a class="code" href="namespaceinet.html#a9c0ecf85d82481d6058caaee2e4a41d9a0c2387c9889a3ea0e5202c25d5027a2a">INCORRECTLY_RECEIVED</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        emit(<a class="code" href="namespaceinet.html#a8b3e6258ad8d45309159a6bb395946f7">packetDroppedSignal</a>, packet, &amp;details);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keyword">delete</span> packet;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; hdr = packet-&gt;peekAtFront&lt;BMacHeaderBase&gt;();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        packet-&gt;setKind(hdr-&gt;getType());</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// simply pass the message as self message, to be processed by the FSM.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a8fd81707ce1839fd25aedd2e3bbfa7ba">handleSelfMessage</a>(packet);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a930a07ad5acbd3d439e882c4a34d2733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a930a07ad5acbd3d439e882c4a34d2733">&#9670;&nbsp;</a></span>handlePullPacketProcessed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::handlePullPacketProcessed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cGate *&#160;</td>
          <td class="paramname"><em>gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>successful</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies about the completion of the packet processing for a packet that was pulled earlier independently whether the packet is passed or streamed. </p>
<p>This method is called, for example, when a previously pulled packet is failed to be processed successfully. It allows the sink to retry the operation.</p>
<p>The gate parameter must be a valid gate of this module. The packet must not be nullptr. </p>

<p>Implements <a class="el" href="classinet_1_1queueing_1_1_i_active_packet_sink.html#a8cdb31c4869e7121e3207437662b4f45">inet::queueing::IActivePacketSink</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="_self_doc_8h.html#a8e54030c665b5254da268db865fccdfc">Enter_Method</a>(<span class="stringliteral">&quot;handlePullPacketProcessed&quot;</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Not supported callback&quot;</span>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fd81707ce1839fd25aedd2e3bbfa7ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd81707ce1839fd25aedd2e3bbfa7ba">&#9670;&nbsp;</a></span>handleSelfMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::handleSelfMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle self messages such as timers. </p>
<p>Handle own messages: BMAC_WAKEUP: wake up the node, check the channel for some time.</p>
<p>BMAC_CHECK_CHANNEL: if the channel is free, check whether there is something in the queue and switch the radio to TX. When switched to TX, the node will start sending preambles for a full slot duration. If the channel is busy, stay awake to receive message. Schedule a timeout to handle false alarms. BMAC_SEND_PREAMBLES: sending of preambles over. Next time the data packet will be send out (single one). BMAC_TIMEOUT_DATA: timeout the node after a false busy channel alarm. Go back to sleep. </p>

<p>Reimplemented from <a class="el" href="classinet_1_1_layered_protocol_base.html#a1092e904484f4016b2d04ab322f4f363">inet::LayeredProtocolBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a>) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1">INIT</a>:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0ec140b14c24588f478871571cce4b32">BMAC_START_BMAC</a>) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State INIT, message BMAC_START, new state SLEEP&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                scheduleAfter(dblrand() * <a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a>, <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>:</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ead61674aab0158a28c57305dd0adad375">BMAC_WAKE_UP</a>) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State SLEEP, message BMAC_WAKEUP, new state CCA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a>, <a class="code" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abaf50d0dfad7c8aba08b05d4afbab7adb1">IRadio::RADIO_MODE_RECEIVER</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00">CCA</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00">CCA</a>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eaf308b6162b4f6ecccba33cb316f766c9">BMAC_CCA_TIMEOUT</a>) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="comment">// channel is clear</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="comment">// something waiting in eth queue?</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">txQueue</a>-&gt;isEmpty()) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State CCA, message CCA_TIMEOUT, new state&quot;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                 <span class="stringliteral">&quot; SEND_PREAMBLE&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0aba6ed69d32c284dd85069be7f141f24e2f">IRadio::RADIO_MODE_TRANSMITTER</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a>, <a class="code" href="classinet_1_1_b_mac.html#ab1ffe2c874b8e30ab7678ab3ca407e80">stop_preambles</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="comment">// if not, go back to sleep and wake up after a full period</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State CCA, message CCA_TIMEOUT, new state SLEEP&quot;</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                              &lt;&lt; endl;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a>, <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="comment">// during CCA, we received a preamble. Go to state WAIT_DATA and</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="comment">// schedule the timeout.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea3f7f38b6ed30424d9c87a74e952f81f0">BMAC_PREAMBLE</a>) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a222a62b3db3e03a244f71d8de99d5130">nbRxPreambles</a>++;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State CCA, message BMAC_PREAMBLE received, new state&quot;</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                             <span class="stringliteral">&quot; WAIT_DATA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">WAIT_DATA</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                cancelEvent(<a class="code" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a> + <a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a>, <a class="code" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="comment">// this case is very, very, very improbable, but let&#39;s do it.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="comment">// if in CCA and the node receives directly the data packet, switch to</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">// state WAIT_DATA and re-send the message</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f">BMAC_DATA</a>) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a717802403426e833792be74586674269">nbRxDataPackets</a>++;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State CCA, message BMAC_DATA, new state WAIT_DATA&quot;</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                          &lt;&lt; endl;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">WAIT_DATA</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                cancelEvent(<a class="code" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a> + <a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a>, <a class="code" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                scheduleAfter(SIMTIME_ZERO, msg);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">// in case we get an ACK, we simply dicard it, because it means the end</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="comment">// of another communication</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8c32a66d55ed1c1da1d9624be58c5143">BMAC_ACK</a>) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State CCA, message BMAC_ACK, new state CCA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>:</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0a44748b4ffa0cc53adb894c0a3e672f">BMAC_SEND_PREAMBLE</a>) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State SEND_PREAMBLE, message BMAC_SEND_PREAMBLE, new&quot;</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                             <span class="stringliteral">&quot; state SEND_PREAMBLE&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#ae5525db3aa421aebf6cc5bee4ec38e67">sendPreamble</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                scheduleAfter(0.5f * <a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a>, <a class="code" href="classinet_1_1_b_mac.html#a4dd0dc0d48e44890a4382be6d6010273">send_preamble</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="comment">// simply change the state to SEND_DATA</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea762731b346897226e515891950018b62">BMAC_STOP_PREAMBLES</a>) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State SEND_PREAMBLE, message BMAC_STOP_PREAMBLES, new&quot;</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                             <span class="stringliteral">&quot; state SEND_DATA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">SEND_DATA</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a2197e9873ae18dfec7c4aeeb01e005bd">txAttempts</a> = 1;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">SEND_DATA</a>:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> ((msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0a44748b4ffa0cc53adb894c0a3e672f">BMAC_SEND_PREAMBLE</a>)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                || (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8d7e2a1845e24d56f974ade02afaa453">BMAC_RESEND_DATA</a>))</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State SEND_DATA, message BMAC_SEND_PREAMBLE or&quot;</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                             <span class="stringliteral">&quot; BMAC_RESEND_DATA, new state WAIT_TX_DATA_OVER&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="comment">// send the data packet</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0a44748b4ffa0cc53adb894c0a3e672f">BMAC_SEND_PREAMBLE</a>) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Model error: incomplete transmission exists&quot;</span>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <a class="code" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a> = <a class="code" href="classinet_1_1_mac_protocol_base.html#af77a5b0d9ca1b84d81c20efb2180a500">dequeuePacket</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#ac9f77339918c81efe05c78755e87e91a">encapsulate</a>(<a class="code" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                ASSERT(<a class="code" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a> != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a1929420e3f910ff4658bb13ccd085c65">sendDataPacket</a>();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">WAIT_TX_DATA_OVER</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">WAIT_TX_DATA_OVER</a>:</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea312df36b6a06405402310461978289e2">BMAC_DATA_TX_OVER</a>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1_b_mac.html#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">useMacAcks</a>) &amp;&amp; !<a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a>.<a class="code" href="classinet_1_1_mac_address.html#ad8bf476fb81355d60bc97919f033bbc8">isBroadcast</a>()) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_TX_DATA_OVER, message BMAC_DATA_TX_OVER,&quot;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                 <span class="stringliteral">&quot; new state WAIT_ACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895">WAIT_ACK</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abaf50d0dfad7c8aba08b05d4afbab7adb1">IRadio::RADIO_MODE_RECEIVER</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a>, <a class="code" href="classinet_1_1_b_mac.html#a54341025a048c29a8a19d6fcd7078db0">ack_timeout</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_TX_DATA_OVER, message BMAC_DATA_TX_OVER,&quot;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                 <span class="stringliteral">&quot; new state  SLEEP&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <a class="code" href="classinet_1_1_mac_protocol_base.html#af515de3b0818bdd09f430d46cdb00c5b">deleteCurrentTxFrame</a>();</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895">WAIT_ACK</a>:</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea4d4cb47b834b1b80fc7c433e426e2dd2">BMAC_ACK_TIMEOUT</a>) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="comment">// No ACK received. try again or drop.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#a2197e9873ae18dfec7c4aeeb01e005bd">txAttempts</a> &lt; <a class="code" href="classinet_1_1_b_mac.html#a039977f3dd2fa517023b6cd2d59bc6e1">maxTxAttempts</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_ACK, message BMAC_ACK_TIMEOUT, new state&quot;</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                 <span class="stringliteral">&quot; SEND_DATA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a2197e9873ae18dfec7c4aeeb01e005bd">txAttempts</a>++;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a>, <a class="code" href="classinet_1_1_b_mac.html#ab1ffe2c874b8e30ab7678ab3ca407e80">stop_preambles</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0aba6ed69d32c284dd85069be7f141f24e2f">IRadio::RADIO_MODE_TRANSMITTER</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_ACK, message BMAC_ACK_TIMEOUT, new state&quot;</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                 <span class="stringliteral">&quot; SLEEP&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    <span class="comment">// drop the packet</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    emit(<a class="code" href="namespaceinet.html#a151fdbc49eac65a5010430c64985d75d">linkBrokenSignal</a>, <a class="code" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    PacketDropDetails details;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    details.setReason(<a class="code" href="namespaceinet.html#a9c0ecf85d82481d6058caaee2e4a41d9ab65a2838ba28695bd491de776eb71cc6">OTHER_PACKET_DROP</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    <a class="code" href="classinet_1_1_mac_protocol_base.html#a9919287aaa4521728ef127e7649936c0">dropCurrentTxFrame</a>(details);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a4835a551d00a328d10014ed35e8b6e11">nbMissedAcks</a>++;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="comment">// ignore and other packets</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keywordflow">if</span> ((msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f">BMAC_DATA</a>) || (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea3f7f38b6ed30424d9c87a74e952f81f0">BMAC_PREAMBLE</a>)) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_ACK, message BMAC_DATA or BMAC_PREMABLE, new&quot;</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                             <span class="stringliteral">&quot; state WAIT_ACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8c32a66d55ed1c1da1d9624be58c5143">BMAC_ACK</a>) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_ACK, message BMAC_ACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keyword">auto</span> packet = check_and_cast&lt;Packet *&gt;(msg);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keyword">const</span> MacAddress src = packet-&gt;peekAtFront&lt;BMacControlFrame&gt;()-&gt;getSrcAddr();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="comment">// the right ACK is received..</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;We are waiting for ACK from : &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;, and ACK came from : &quot;</span> &lt;&lt; src &lt;&lt; endl;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <span class="keywordflow">if</span> (src == <a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a>) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;New state SLEEP&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a9b116c5eb365a349b2195d0a3fd51d3b">nbRecvdAcks</a>++;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a> = <a class="code" href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">MacAddress::BROADCAST_ADDRESS</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    cancelEvent(<a class="code" href="classinet_1_1_b_mac.html#a54341025a048c29a8a19d6fcd7078db0">ack_timeout</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <a class="code" href="classinet_1_1_mac_protocol_base.html#af515de3b0818bdd09f430d46cdb00c5b">deleteCurrentTxFrame</a>();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a>();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a> = <a class="code" href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">MacAddress::BROADCAST_ADDRESS</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">WAIT_DATA</a>:</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea3f7f38b6ed30424d9c87a74e952f81f0">BMAC_PREAMBLE</a>) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="comment">// nothing happens</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_DATA, message BMAC_PREAMBLE, new state&quot;</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                             <span class="stringliteral">&quot; WAIT_DATA&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a222a62b3db3e03a244f71d8de99d5130">nbRxPreambles</a>++;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8c32a66d55ed1c1da1d9624be58c5143">BMAC_ACK</a>) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <span class="comment">// nothing happens</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_DATA, message BMAC_ACK, new state WAIT_DATA&quot;</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                          &lt;&lt; endl;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f">BMAC_DATA</a>) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                MacAddress address = <a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;getMacAddress();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a717802403426e833792be74586674269">nbRxDataPackets</a>++;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keyword">auto</span> packet = check_and_cast&lt;Packet *&gt;(msg);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> bmacHeader = packet-&gt;peekAtFront&lt;BMacDataFrameHeader&gt;();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="keyword">const</span> MacAddress&amp; dest = bmacHeader-&gt;getDestAddr();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <span class="keyword">const</span> MacAddress&amp; src = bmacHeader-&gt;getSrcAddr();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="keywordflow">if</span> ((dest == address) || dest.isBroadcast()) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Local delivery &quot;</span> &lt;&lt; packet &lt;&lt; endl;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a4a78e0d51f9896e359a13d75fdf1fe9f">decapsulate</a>(packet);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <a class="code" href="classinet_1_1_mac_protocol_base.html#a0e58fc4637c4d7b3b1b5052d2b5d514f">sendUp</a>(packet);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Received &quot;</span> &lt;&lt; packet &lt;&lt; <span class="stringliteral">&quot; is not for us, dropping frame.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    PacketDropDetails details;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    details.setReason(<a class="code" href="namespaceinet.html#a9c0ecf85d82481d6058caaee2e4a41d9a88c381fd51291e1e9ab716cf93d7a3a2">NOT_ADDRESSED_TO_US</a>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    emit(<a class="code" href="namespaceinet.html#a8b3e6258ad8d45309159a6bb395946f7">packetDroppedSignal</a>, msg, &amp;details);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    msg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    packet = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                cancelEvent(<a class="code" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1_b_mac.html#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">useMacAcks</a>) &amp;&amp; (dest == address)) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_DATA, message BMAC_DATA, new state&quot;</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                 <span class="stringliteral">&quot; SEND_ACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">SEND_ACK</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#ab8931eef7aeae6cf3118358141becec0">lastDataPktSrcAddr</a> = src;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0aba6ed69d32c284dd85069be7f141f24e2f">IRadio::RADIO_MODE_TRANSMITTER</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_DATA, message BMAC_DATA, new state SLEEP&quot;</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                              &lt;&lt; endl;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a>();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea346cd790c7aecb89a36a3573fbe55c01">BMAC_DATA_TIMEOUT</a>) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_DATA, message BMAC_DATA_TIMEOUT, new state&quot;</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                             <span class="stringliteral">&quot; SLEEP&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a>();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">SEND_ACK</a>:</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea13b95efcb54e1a591b64dbcee24a2d8c">BMAC_SEND_ACK</a>) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State SEND_ACK, message BMAC_SEND_ACK, new state&quot;</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                             <span class="stringliteral">&quot; WAIT_ACK_TX&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="comment">// send now the ack packet</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#af3ce21eae071184a70af07d8b41eabd1">sendMacAck</a>();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">WAIT_ACK_TX</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">WAIT_ACK_TX</a>:</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getKind() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eab70c3f1c71a097f2b35e1239b38d26a1">BMAC_ACK_TX_OVER</a>) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State WAIT_ACK_TX, message BMAC_ACK_TX_OVER, new state&quot;</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                             <span class="stringliteral">&quot; SLEEP&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="comment">// ack sent, go to sleep now.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">scheduleWakeUp</a>();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;setRadioMode(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">IRadio::RADIO_MODE_SLEEP</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <a class="code" href="classinet_1_1_b_mac.html#ab8931eef7aeae6cf3118358141becec0">lastDataPktSrcAddr</a> = <a class="code" href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">MacAddress::BROADCAST_ADDRESS</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Undefined event of type %d in state %d (radio mode %d, radio reception state %d, radio transmission state %d)!&quot;</span>,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            msg-&gt;getKind(), <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a>, <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;getRadioMode(), <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;getReceptionState(), <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>-&gt;getTransmissionState());</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a42ad729e07c77ded9a0ab2c87265ea89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ad729e07c77ded9a0ab2c87265ea89">&#9670;&nbsp;</a></span>handleUpperPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::handleUpperPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle messages from upper layer. </p>
<p>Check whether the queue is not full: if yes, print a warning and drop the packet.</p>
<p>Then initiate sending of the packet, if the node is sleeping. Do nothing, if node is working. </p>

<p>Reimplemented from <a class="el" href="classinet_1_1_layered_protocol_base.html#a95909e9465aafdc0e41355608b261d4d">inet::LayeredProtocolBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Model error: this module should pull packet from upper queue, direct incoming packet not accepted&quot;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a1237c7c344d1661c079adc14f40171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a1237c7c344d1661c079adc14f40171">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1_mac_protocol_base.html#a49e24a6ab8658c73d1439b1ebe7af1b5">inet::MacProtocolBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#a49e24a6ab8658c73d1439b1ebe7af1b5">MacProtocolBase::initialize</a>(stage);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (stage == <a class="code" href="namespaceinet.html#a6be747ab6f195055e109f27f8462e52e">INITSTAGE_LOCAL</a>) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a13fff23da857ee0d34e245b62efce4b0">animation</a> = par(<span class="stringliteral">&quot;animation&quot;</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a> = par(<span class="stringliteral">&quot;slotDuration&quot;</span>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">bitrate</a> = par(<span class="stringliteral">&quot;bitrate&quot;</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a57abfed79fce4c21ac86abd421e63fbe">headerLength</a> = <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>(par(<span class="stringliteral">&quot;headerLength&quot;</span>));</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a2913c7636efe6db4758ff2743e523c72">ctrlFrameLength</a> = <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>(par(<span class="stringliteral">&quot;ctrlFrameLength&quot;</span>));</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a> = par(<span class="stringliteral">&quot;checkInterval&quot;</span>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">useMacAcks</a> = par(<span class="stringliteral">&quot;useMACAcks&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a039977f3dd2fa517023b6cd2d59bc6e1">maxTxAttempts</a> = par(<span class="stringliteral">&quot;maxTxAttempts&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;headerLength: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1_b_mac.html#a57abfed79fce4c21ac86abd421e63fbe">headerLength</a> &lt;&lt; <span class="stringliteral">&quot;, bitrate: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">bitrate</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#aeb26bd05f7ab7c725492dece0459cd44">nbTxDataPackets</a> = 0;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#aab194a82cef86db540ba1410aea236da">nbTxPreambles</a> = 0;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a717802403426e833792be74586674269">nbRxDataPackets</a> = 0;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a222a62b3db3e03a244f71d8de99d5130">nbRxPreambles</a> = 0;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a4835a551d00a328d10014ed35e8b6e11">nbMissedAcks</a> = 0;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a9b116c5eb365a349b2195d0a3fd51d3b">nbRecvdAcks</a> = 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ac4e1a6f5c5643f114c0b9760b2bbfd56">nbDroppedDataPackets</a> = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a7d9aff5784b23d64acfc1840bf3d4bce">nbTxAcks</a> = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a2197e9873ae18dfec7c4aeeb01e005bd">txAttempts</a> = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a> = <a class="code" href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">MacAddress::BROADCAST_ADDRESS</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ab8931eef7aeae6cf3118358141becec0">lastDataPktSrcAddr</a> = <a class="code" href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">MacAddress::BROADCAST_ADDRESS</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> = <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1">INIT</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">txQueue</a> = <a class="code" href="classinet_1_1_mac_protocol_base.html#a5318e542573303f9d43d88d5d37d69d6">getQueue</a>(gate(<a class="code" href="classinet_1_1_mac_protocol_base.html#aa15d2ec2832daffdd6982a67bd5407f1">upperLayerInGateId</a>));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        WATCH(<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage == <a class="code" href="namespaceinet.html#ac59da13caae127564113d1343d890064">INITSTAGE_LINK_LAYER</a>) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>.reference(<span class="keyword">this</span>, <span class="stringliteral">&quot;radioModule&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        cModule *radioModule = check_and_cast&lt;cModule *&gt;(<a class="code" href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">radio</a>.get());</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        radioModule-&gt;subscribe(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a483d8f7eef0ec6e315cecbf8dc1adb8f">IRadio::radioModeChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        radioModule-&gt;subscribe(<a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a9fe4e166afbe37ff067844e6dbdc4470">IRadio::transmissionStateChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="comment">// init the dropped packet info</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        WATCH(<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;wakeup&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ead61674aab0158a28c57305dd0adad375">BMAC_WAKE_UP</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;data_timeout&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea346cd790c7aecb89a36a3573fbe55c01">BMAC_DATA_TIMEOUT</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">data_timeout</a>-&gt;setSchedulingPriority(100);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a8a63324eb3b43c6a493c4120de9c8fd5">data_tx_over</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;data_tx_over&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea312df36b6a06405402310461978289e2">BMAC_DATA_TX_OVER</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ab1ffe2c874b8e30ab7678ab3ca407e80">stop_preambles</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;stop_preambles&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea762731b346897226e515891950018b62">BMAC_STOP_PREAMBLES</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a4dd0dc0d48e44890a4382be6d6010273">send_preamble</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;send_preamble&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0a44748b4ffa0cc53adb894c0a3e672f">BMAC_SEND_PREAMBLE</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a09cd0593b6e8aa899d284c7038147037">ack_tx_over</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;ack_tx_over&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eab70c3f1c71a097f2b35e1239b38d26a1">BMAC_ACK_TX_OVER</a>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;cca_timeout&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eaf308b6162b4f6ecccba33cb316f766c9">BMAC_CCA_TIMEOUT</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">cca_timeout</a>-&gt;setSchedulingPriority(100);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ab5dfcce89950dca3b2ef08e8e02b67bb">send_ack</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;send_ack&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea13b95efcb54e1a591b64dbcee24a2d8c">BMAC_SEND_ACK</a>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a4863e0f5c136dba256803d186c09a63c">start_bmac</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;start_bmac&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0ec140b14c24588f478871571cce4b32">BMAC_START_BMAC</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#a54341025a048c29a8a19d6fcd7078db0">ack_timeout</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;ack_timeout&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea4d4cb47b834b1b80fc7c433e426e2dd2">BMAC_ACK_TIMEOUT</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ade3d5a4cbbd62b9657d5b1b90ec47f4c">resend_data</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;resend_data&quot;</span>, <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8d7e2a1845e24d56f974ade02afaa453">BMAC_RESEND_DATA</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#ade3d5a4cbbd62b9657d5b1b90ec47f4c">resend_data</a>-&gt;setSchedulingPriority(100);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        scheduleAfter(SIMTIME_ZERO, <a class="code" href="classinet_1_1_b_mac.html#a4863e0f5c136dba256803d186c09a63c">start_bmac</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff7a38869a0722385fca0bf5d2780f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff7a38869a0722385fca0bf5d2780f3c">&#9670;&nbsp;</a></span>numInitStages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int inet::BMac::numInitStages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialization of the module and some variables. </p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_init_stage_registry_8h.html#a6dec686281914f336c1b4dcafdbcf9df">NUM_INIT_STAGES</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4366b93c6c30e6e46dd26fd4a6f67bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4366b93c6c30e6e46dd26fd4a6f67bf0">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_b_mac.html">BMac</a>&amp; inet::BMac::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_b_mac.html">BMac</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assignment operator is not allowed. </p>

</div>
</div>
<a id="ab19ea9ee152c0721e5163baade05847e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab19ea9ee152c0721e5163baade05847e">&#9670;&nbsp;</a></span>receiveSignal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::receiveSignal </td>
          <td>(</td>
          <td class="paramtype">cComponent *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simsignal_t&#160;</td>
          <td class="paramname"><em>signalID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intval_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cObject *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle control messages from lower layer. </p>
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="_self_doc_8h.html#a8e54030c665b5254da268db865fccdfc">Enter_Method</a>(<span class="stringliteral">&quot;%s&quot;</span>, cComponent::getSignalName(signalID));</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (signalID == <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a483d8f7eef0ec6e315cecbf8dc1adb8f">IRadio::radioModeChangedSignal</a>) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0ab">IRadio::RadioMode</a> radioMode = <span class="keyword">static_cast&lt;</span><a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0ab">IRadio::RadioMode</a><span class="keyword">&gt;</span>(value);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span> (radioMode == <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0aba6ed69d32c284dd85069be7f141f24e2f">IRadio::RADIO_MODE_TRANSMITTER</a>) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="comment">// we just switched to TX after CCA, so simply send the first</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="comment">// sendPremable self message</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> == <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                scheduleAfter(SIMTIME_ZERO, <a class="code" href="classinet_1_1_b_mac.html#a4dd0dc0d48e44890a4382be6d6010273">send_preamble</a>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> == <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">SEND_ACK</a>)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                scheduleAfter(SIMTIME_ZERO, <a class="code" href="classinet_1_1_b_mac.html#ab5dfcce89950dca3b2ef08e8e02b67bb">send_ack</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="comment">// we were waiting for acks, but none came. we switched to TX and now</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="comment">// need to resend data</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> == <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">SEND_DATA</a>)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                scheduleAfter(SIMTIME_ZERO, <a class="code" href="classinet_1_1_b_mac.html#ade3d5a4cbbd62b9657d5b1b90ec47f4c">resend_data</a>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// Transmission of one packet is over</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#a9fe4e166afbe37ff067844e6dbdc4470">IRadio::transmissionStateChangedSignal</a>) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159">IRadio::TransmissionState</a> newRadioTransmissionState = <span class="keyword">static_cast&lt;</span><a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159">IRadio::TransmissionState</a><span class="keyword">&gt;</span>(value);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#add2a3ea71cbd9b58868cb70481bde499">transmissionState</a> == <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159a1942a9a25e1adba477444ff8dcf89c1d">IRadio::TRANSMISSION_STATE_TRANSMITTING</a> &amp;&amp; newRadioTransmissionState == <a class="code" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159a6fcc91f18e6e2bb73ea00fbd734bb35a">IRadio::TRANSMISSION_STATE_IDLE</a>) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> == <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">WAIT_TX_DATA_OVER</a>)</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                scheduleAfter(SIMTIME_ZERO, <a class="code" href="classinet_1_1_b_mac.html#a8a63324eb3b43c6a493c4120de9c8fd5">data_tx_over</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a> == <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">WAIT_ACK_TX</a>)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                scheduleAfter(SIMTIME_ZERO, <a class="code" href="classinet_1_1_b_mac.html#a09cd0593b6e8aa899d284c7038147037">ack_tx_over</a>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="classinet_1_1_b_mac.html#add2a3ea71cbd9b58868cb70481bde499">transmissionState</a> = newRadioTransmissionState;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cc9866635a87269a1b2bd6126a38faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc9866635a87269a1b2bd6126a38faf">&#9670;&nbsp;</a></span>refreshDisplay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::refreshDisplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change the color of the node for animation purposes. </p>
<div class="fragment"><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;{</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1_b_mac.html#a13fff23da857ee0d34e245b62efce4b0">animation</a>)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    cDisplayString&amp; dispStr = <a class="code" href="namespaceinet.html#a066c281a0963fccbbe766aac35a28ad6">getContainingNode</a>(<span class="keyword">this</span>)-&gt;getDisplayString();</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">macState</a>) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1">INIT</a>:</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            dispStr.setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, <span class="stringliteral">&quot;INIT&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">SLEEP</a>:</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            dispStr.setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, <span class="stringliteral">&quot;SLEEP&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00">CCA</a>:</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            dispStr.setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, <span class="stringliteral">&quot;CCA&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">SEND_ACK</a>:</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">SEND_PREAMBLE</a>:</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">SEND_DATA</a>:</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            dispStr.setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, <span class="stringliteral">&quot;SEND&quot;</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895">WAIT_ACK</a>:</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">WAIT_DATA</a>:</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">WAIT_TX_DATA_OVER</a>:</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">WAIT_ACK_TX</a>:</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            dispStr.setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, <span class="stringliteral">&quot;WAIT&quot;</span>);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            dispStr.setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f8a22035909a10f2e7f155767a04060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8a22035909a10f2e7f155767a04060">&#9670;&nbsp;</a></span>scheduleWakeUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::scheduleWakeUp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;{</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="comment">// if something in the queue, wakeup soon.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">txQueue</a>-&gt;isEmpty())</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        scheduleAfter(dblrand() * <a class="code" href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">checkInterval</a>, <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        scheduleAfter(<a class="code" href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">slotDuration</a>, <a class="code" href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">wakeup</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1929420e3f910ff4658bb13ccd085c65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1929420e3f910ff4658bb13ccd085c65">&#9670;&nbsp;</a></span>sendDataPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::sendDataPacket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to send the first packet in the queue. </p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#aeb26bd05f7ab7c725492dece0459cd44">nbTxDataPackets</a>++;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    Packet *pkt = <a class="code" href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">currentTxFrame</a>-&gt;<a class="code" href="classinet_1_1_packet.html#af20e8ff784546abf9bed850391e3d018">dup</a>();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#a9e1732055b0580e8015683345ccb50cb">attachSignal</a>(pkt);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; hdr = pkt-&gt;peekAtFront&lt;BMacDataFrameHeader&gt;();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">lastDataPktDestAddr</a> = hdr-&gt;getDestAddr();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    ASSERT(hdr-&gt;getType() == <a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f">BMAC_DATA</a>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#abcd8fe1c33a039ec5e86fd1337cccc0f">sendDown</a>(pkt);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af3ce21eae071184a70af07d8b41eabd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ce21eae071184a70af07d8b41eabd1">&#9670;&nbsp;</a></span>sendMacAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::sendMacAck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to send an ACK. </p>
<p>Send one short preamble packet immediately. </p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">auto</span> ack = makeShared&lt;BMacControlFrame&gt;();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    ack-&gt;setSrcAddr(<a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;getMacAddress());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    ack-&gt;setDestAddr(<a class="code" href="classinet_1_1_b_mac.html#ab8931eef7aeae6cf3118358141becec0">lastDataPktSrcAddr</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    ack-&gt;setChunkLength(<a class="code" href="classinet_1_1_b_mac.html#a2913c7636efe6db4758ff2743e523c72">ctrlFrameLength</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// attach signal and send down</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">auto</span> packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;BMacAck&quot;</span>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    ack-&gt;setType(<a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8c32a66d55ed1c1da1d9624be58c5143">BMAC_ACK</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    packet-&gt;insertAtFront(ack);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    packet-&gt;addTag&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#ae2a414d524b0486bb81b469dc8df45a2">Protocol::bmac</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#a9e1732055b0580e8015683345ccb50cb">attachSignal</a>(packet);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#abcd8fe1c33a039ec5e86fd1337cccc0f">sendDown</a>(packet);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#a7d9aff5784b23d64acfc1840bf3d4bce">nbTxAcks</a>++;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">//    endSimulation();</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5525db3aa421aebf6cc5bee4ec38e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5525db3aa421aebf6cc5bee4ec38e67">&#9670;&nbsp;</a></span>sendPreamble()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::BMac::sendPreamble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to send one preamble. </p>
<p>Send one short preamble packet immediately. </p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">auto</span> preamble = makeShared&lt;BMacControlFrame&gt;();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    preamble-&gt;setSrcAddr(<a class="code" href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">networkInterface</a>-&gt;getMacAddress());</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    preamble-&gt;setDestAddr(<a class="code" href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">MacAddress::BROADCAST_ADDRESS</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    preamble-&gt;setChunkLength(<a class="code" href="classinet_1_1_b_mac.html#a2913c7636efe6db4758ff2743e523c72">ctrlFrameLength</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// attach signal and send down</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">auto</span> packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;Preamble&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    preamble-&gt;setType(<a class="code" href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea3f7f38b6ed30424d9c87a74e952f81f0">BMAC_PREAMBLE</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    packet-&gt;insertAtFront(preamble);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    packet-&gt;addTag&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#ae2a414d524b0486bb81b469dc8df45a2">Protocol::bmac</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#a9e1732055b0580e8015683345ccb50cb">attachSignal</a>(packet);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classinet_1_1_mac_protocol_base.html#abcd8fe1c33a039ec5e86fd1337cccc0f">sendDown</a>(packet);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="classinet_1_1_b_mac.html#aab194a82cef86db540ba1410aea236da">nbTxPreambles</a>++;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a54341025a048c29a8a19d6fcd7078db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54341025a048c29a8a19d6fcd7078db0">&#9670;&nbsp;</a></span>ack_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::ack_timeout = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a09cd0593b6e8aa899d284c7038147037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09cd0593b6e8aa899d284c7038147037">&#9670;&nbsp;</a></span>ack_tx_over</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::ack_tx_over = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a13fff23da857ee0d34e245b62efce4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fff23da857ee0d34e245b62efce4b0">&#9670;&nbsp;</a></span>animation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::BMac::animation = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Animate (colorize) the nodes. </p>
<p>The color of the node reflects its basic status (not the exact state!) BLACK - node is sleeping GREEN - node is receiving YELLOW - node is sending </p>

</div>
</div>
<a id="ac374bb9be432724caf390bb03dfe7b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac374bb9be432724caf390bb03dfe7b27">&#9670;&nbsp;</a></span>bitrate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::BMac::bitrate = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The bitrate of transmission. </p>

</div>
</div>
<a id="ac2eb07e80fa95438d925ab029938298f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2eb07e80fa95438d925ab029938298f">&#9670;&nbsp;</a></span>cca_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::cca_timeout = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a60a233089ac57c193dc578e63f39456c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60a233089ac57c193dc578e63f39456c">&#9670;&nbsp;</a></span>checkInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::BMac::checkInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The duration of CCA. </p>

</div>
</div>
<a id="a2913c7636efe6db4758ff2743e523c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2913c7636efe6db4758ff2743e523c72">&#9670;&nbsp;</a></span>ctrlFrameLength</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> inet::BMac::ctrlFrameLength = <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>(0)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a288a20ada00ee892333254dc7136f994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288a20ada00ee892333254dc7136f994">&#9670;&nbsp;</a></span>data_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::data_timeout = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a63324eb3b43c6a493c4120de9c8fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a63324eb3b43c6a493c4120de9c8fd5">&#9670;&nbsp;</a></span>data_tx_over</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::data_tx_over = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a57abfed79fce4c21ac86abd421e63fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57abfed79fce4c21ac86abd421e63fbe">&#9670;&nbsp;</a></span>headerLength</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> inet::BMac::headerLength = <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>(0)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of the header. </p>

</div>
</div>
<a id="af8997910e1dafbe0457cdcff4bb1710c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8997910e1dafbe0457cdcff4bb1710c">&#9670;&nbsp;</a></span>lastDataPktDestAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_mac_address.html">MacAddress</a> inet::BMac::lastDataPktDestAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8931eef7aeae6cf3118358141becec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8931eef7aeae6cf3118358141becec0">&#9670;&nbsp;</a></span>lastDataPktSrcAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_mac_address.html">MacAddress</a> inet::BMac::lastDataPktSrcAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afc7fa3905452d25d85effe3a8a09b4b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7fa3905452d25d85effe3a8a09b4b4">&#9670;&nbsp;</a></span>macState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">States</a> inet::BMac::macState = static_cast&lt;<a class="el" href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134">States</a>&gt;(-1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current state of the protocol. </p>

</div>
</div>
<a id="a039977f3dd2fa517023b6cd2d59bc6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039977f3dd2fa517023b6cd2d59bc6e1">&#9670;&nbsp;</a></span>maxTxAttempts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inet::BMac::maxTxAttempts = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum transmission attempts per data packet, when ACKs are used. </p>

</div>
</div>
<a id="ac4e1a6f5c5643f114c0b9760b2bbfd56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e1a6f5c5643f114c0b9760b2bbfd56">&#9670;&nbsp;</a></span>nbDroppedDataPackets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbDroppedDataPackets = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4835a551d00a328d10014ed35e8b6e11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4835a551d00a328d10014ed35e8b6e11">&#9670;&nbsp;</a></span>nbMissedAcks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbMissedAcks = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b116c5eb365a349b2195d0a3fd51d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b116c5eb365a349b2195d0a3fd51d3b">&#9670;&nbsp;</a></span>nbRecvdAcks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbRecvdAcks = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a717802403426e833792be74586674269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717802403426e833792be74586674269">&#9670;&nbsp;</a></span>nbRxDataPackets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbRxDataPackets = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a222a62b3db3e03a244f71d8de99d5130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a222a62b3db3e03a244f71d8de99d5130">&#9670;&nbsp;</a></span>nbRxPreambles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbRxPreambles = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d9aff5784b23d64acfc1840bf3d4bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9aff5784b23d64acfc1840bf3d4bce">&#9670;&nbsp;</a></span>nbTxAcks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbTxAcks = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aeb26bd05f7ab7c725492dece0459cd44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb26bd05f7ab7c725492dece0459cd44">&#9670;&nbsp;</a></span>nbTxDataPackets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbTxDataPackets = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aab194a82cef86db540ba1410aea236da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab194a82cef86db540ba1410aea236da">&#9670;&nbsp;</a></span>nbTxPreambles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long inet::BMac::nbTxPreambles = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acfc48d3767319588bff2f889d4af0344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc48d3767319588bff2f889d4af0344">&#9670;&nbsp;</a></span>radio</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_module_ref_by_par.html">ModuleRefByPar</a>&lt;<a class="el" href="classinet_1_1physicallayer_1_1_i_radio.html">physicallayer::IRadio</a>&gt; inet::BMac::radio</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The radio. </p>

</div>
</div>
<a id="ade3d5a4cbbd62b9657d5b1b90ec47f4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade3d5a4cbbd62b9657d5b1b90ec47f4c">&#9670;&nbsp;</a></span>resend_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::resend_data = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5dfcce89950dca3b2ef08e8e02b67bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5dfcce89950dca3b2ef08e8e02b67bb">&#9670;&nbsp;</a></span>send_ack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::send_ack = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4dd0dc0d48e44890a4382be6d6010273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd0dc0d48e44890a4382be6d6010273">&#9670;&nbsp;</a></span>send_preamble</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::send_preamble = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c5179d7eede1c32ed97f3e76346d1cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5179d7eede1c32ed97f3e76346d1cc">&#9670;&nbsp;</a></span>slotDuration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::BMac::slotDuration = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The duration of the slot in secs. </p>

</div>
</div>
<a id="a4863e0f5c136dba256803d186c09a63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4863e0f5c136dba256803d186c09a63c">&#9670;&nbsp;</a></span>start_bmac</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::start_bmac = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adaa7f4991f9f0991f78f2cb9559e379d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa7f4991f9f0991f78f2cb9559e379d">&#9670;&nbsp;</a></span>stats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::BMac::stats = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gather stats at the end of the simulation. </p>

</div>
</div>
<a id="ab1ffe2c874b8e30ab7678ab3ca407e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ffe2c874b8e30ab7678ab3ca407e80">&#9670;&nbsp;</a></span>stop_preambles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::stop_preambles = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="add2a3ea71cbd9b58868cb70481bde499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2a3ea71cbd9b58868cb70481bde499">&#9670;&nbsp;</a></span>transmissionState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159">physicallayer::IRadio::TransmissionState</a> inet::BMac::transmissionState = <a class="el" href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159a9b8c95ba91ad3269b67014f4bfae83b2">physicallayer::IRadio::TRANSMISSION_STATE_UNDEFINED</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2197e9873ae18dfec7c4aeeb01e005bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2197e9873ae18dfec7c4aeeb01e005bd">&#9670;&nbsp;</a></span>txAttempts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inet::BMac::txAttempts = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6cb6b8bf68f8999a69c27c1c1fc2b9bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">&#9670;&nbsp;</a></span>useMacAcks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::BMac::useMacAcks = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use MAC level acks or not. </p>

</div>
</div>
<a id="a236de3bc1d7f954a3a746f91ce21f20e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236de3bc1d7f954a3a746f91ce21f20e">&#9670;&nbsp;</a></span>wakeup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::BMac::wakeup = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_b_mac_8h.html">BMac.h</a></li>
<li><a class="el" href="_b_mac_8cc.html">BMac.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a1bdd471f869ccf0ea716e8bce60bdada"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a1bdd471f869ccf0ea716e8bce60bdada">inet::MacProtocolBase::networkInterface</a></div><div class="ttdeci">opp_component_ptr&lt; NetworkInterface &gt; networkInterface</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.h:30</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134ac2b538e9b797a80a1669c473a8b8fc05">inet::BMac::WAIT_ACK_TX</a></div><div class="ttdeci">@ WAIT_ACK_TX</div><div class="ttdef"><b>Definition:</b> BMac.h:138</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9eaf308b6162b4f6ecccba33cb316f766c9"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eaf308b6162b4f6ecccba33cb316f766c9">inet::BMAC_CCA_TIMEOUT</a></div><div class="ttdeci">@ BMAC_CCA_TIMEOUT</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:83</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aeb69a07756b6c85c674d90067e23a174">inet::BMac::SLEEP</a></div><div class="ttdeci">@ SLEEP</div><div class="ttdef"><b>Definition:</b> BMac.h:130</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a7d9aff5784b23d64acfc1840bf3d4bce"><div class="ttname"><a href="classinet_1_1_b_mac.html#a7d9aff5784b23d64acfc1840bf3d4bce">inet::BMac::nbTxAcks</a></div><div class="ttdeci">long nbTxAcks</div><div class="ttdef"><b>Definition:</b> BMac.h:105</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a0e58fc4637c4d7b3b1b5052d2b5d514f"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a0e58fc4637c4d7b3b1b5052d2b5d514f">inet::MacProtocolBase::sendUp</a></div><div class="ttdeci">virtual void sendUp(cMessage *message)</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:59</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ead61674aab0158a28c57305dd0adad375"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ead61674aab0158a28c57305dd0adad375">inet::BMAC_WAKE_UP</a></div><div class="ttdeci">@ BMAC_WAKE_UP</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:81</div></div>
<div class="ttc" id="aclassinet_1_1_mac_address_html_ad8bf476fb81355d60bc97919f033bbc8"><div class="ttname"><a href="classinet_1_1_mac_address.html#ad8bf476fb81355d60bc97919f033bbc8">inet::MacAddress::isBroadcast</a></div><div class="ttdeci">bool isBroadcast() const</div><div class="ttdoc">Returns true if this is the broadcast address (hex ff:ff:ff:ff:ff:ff).</div><div class="ttdef"><b>Definition:</b> MacAddress.h:121</div></div>
<div class="ttc" id="anamespaceinet_html_a151fdbc49eac65a5010430c64985d75d"><div class="ttname"><a href="namespaceinet.html#a151fdbc49eac65a5010430c64985d75d">inet::linkBrokenSignal</a></div><div class="ttdeci">simsignal_t linkBrokenSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:22</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ab1ffe2c874b8e30ab7678ab3ca407e80"><div class="ttname"><a href="classinet_1_1_b_mac.html#ab1ffe2c874b8e30ab7678ab3ca407e80">inet::BMac::stop_preambles</a></div><div class="ttdeci">cMessage * stop_preambles</div><div class="ttdef"><b>Definition:</b> BMac.h:152</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a717802403426e833792be74586674269"><div class="ttname"><a href="classinet_1_1_b_mac.html#a717802403426e833792be74586674269">inet::BMac::nbRxDataPackets</a></div><div class="ttdeci">long nbRxDataPackets</div><div class="ttdef"><b>Definition:</b> BMac.h:100</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eae14e3d922a0d9a7aecd9d30f1d18a65f">inet::BMAC_DATA</a></div><div class="ttdeci">@ BMAC_DATA</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:76</div></div>
<div class="ttc" id="anamespaceinet_html_a9c0ecf85d82481d6058caaee2e4a41d9a0c2387c9889a3ea0e5202c25d5027a2a"><div class="ttname"><a href="namespaceinet.html#a9c0ecf85d82481d6058caaee2e4a41d9a0c2387c9889a3ea0e5202c25d5027a2a">inet::INCORRECTLY_RECEIVED</a></div><div class="ttdeci">@ INCORRECTLY_RECEIVED</div><div class="ttdef"><b>Definition:</b> Simsignals_m.h:71</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a54341025a048c29a8a19d6fcd7078db0"><div class="ttname"><a href="classinet_1_1_b_mac.html#a54341025a048c29a8a19d6fcd7078db0">inet::BMac::ack_timeout</a></div><div class="ttdeci">cMessage * ack_timeout</div><div class="ttdef"><b>Definition:</b> BMac.h:145</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a13fff23da857ee0d34e245b62efce4b0"><div class="ttname"><a href="classinet_1_1_b_mac.html#a13fff23da857ee0d34e245b62efce4b0">inet::BMac::animation</a></div><div class="ttdeci">bool animation</div><div class="ttdoc">Animate (colorize) the nodes.</div><div class="ttdef"><b>Definition:</b> BMac.h:170</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a1929420e3f910ff4658bb13ccd085c65"><div class="ttname"><a href="classinet_1_1_b_mac.html#a1929420e3f910ff4658bb13ccd085c65">inet::BMac::sendDataPacket</a></div><div class="ttdeci">void sendDataPacket()</div><div class="ttdoc">Internal function to send the first packet in the queue.</div><div class="ttdef"><b>Definition:</b> BMac.cc:516</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_html_ae2a414d524b0486bb81b469dc8df45a2"><div class="ttname"><a href="classinet_1_1_protocol.html#ae2a414d524b0486bb81b469dc8df45a2">inet::Protocol::bmac</a></div><div class="ttdeci">static const Protocol bmac</div><div class="ttdef"><b>Definition:</b> Protocol.h:56</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a288a20ada00ee892333254dc7136f994"><div class="ttname"><a href="classinet_1_1_b_mac.html#a288a20ada00ee892333254dc7136f994">inet::BMac::data_timeout</a></div><div class="ttdeci">cMessage * data_timeout</div><div class="ttdef"><b>Definition:</b> BMac.h:154</div></div>
<div class="ttc" id="anamespaceinet_html_a066c281a0963fccbbe766aac35a28ad6"><div class="ttname"><a href="namespaceinet.html#a066c281a0963fccbbe766aac35a28ad6">inet::getContainingNode</a></div><div class="ttdeci">cModule * getContainingNode(const cModule *from)</div><div class="ttdoc">Find the node containing the given module.</div><div class="ttdef"><b>Definition:</b> ModuleAccess.cc:40</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abacfd8d0669b562782d549518d17c36c58">inet::physicallayer::IRadio::RADIO_MODE_SLEEP</a></div><div class="ttdeci">@ RADIO_MODE_SLEEP</div><div class="ttdoc">The radio is sleeping, frame reception or transmission is not possible, power consumption is minimal,...</div><div class="ttdef"><b>Definition:</b> IRadio.h:90</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134aaf2cc2a6ea8e181ea5badbd03c462ac7">inet::BMac::SEND_PREAMBLE</a></div><div class="ttdeci">@ SEND_PREAMBLE</div><div class="ttdef"><b>Definition:</b> BMac.h:132</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a80fa525f89757eae99b633dd715e0fd1">inet::BMac::INIT</a></div><div class="ttdeci">@ INIT</div><div class="ttdef"><b>Definition:</b> BMac.h:129</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a0323ac93ca7b779d82d9fb23cd4c8681"><div class="ttname"><a href="_i_udp-gates_8txt.html#a0323ac93ca7b779d82d9fb23cd4c8681">DispatchProtocolReq</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd DispatchProtocolReq L4PortInd Ipv4ControlInfo Ipv6ControlInfo down DispatchProtocolReq</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:25</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a9919287aaa4521728ef127e7649936c0"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a9919287aaa4521728ef127e7649936c0">inet::MacProtocolBase::dropCurrentTxFrame</a></div><div class="ttdeci">virtual void dropCurrentTxFrame(PacketDropDetails &amp;details)</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:99</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ab8931eef7aeae6cf3118358141becec0"><div class="ttname"><a href="classinet_1_1_b_mac.html#ab8931eef7aeae6cf3118358141becec0">inet::BMac::lastDataPktSrcAddr</a></div><div class="ttdeci">MacAddress lastDataPktSrcAddr</div><div class="ttdef"><b>Definition:</b> BMac.h:158</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea3f7f38b6ed30424d9c87a74e952f81f0"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea3f7f38b6ed30424d9c87a74e952f81f0">inet::BMAC_PREAMBLE</a></div><div class="ttdeci">@ BMAC_PREAMBLE</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:75</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a09cd0593b6e8aa899d284c7038147037"><div class="ttname"><a href="classinet_1_1_b_mac.html#a09cd0593b6e8aa899d284c7038147037">inet::BMac::ack_tx_over</a></div><div class="ttdeci">cMessage * ack_tx_over</div><div class="ttdef"><b>Definition:</b> BMac.h:150</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ae5525db3aa421aebf6cc5bee4ec38e67"><div class="ttname"><a href="classinet_1_1_b_mac.html#ae5525db3aa421aebf6cc5bee4ec38e67">inet::BMac::sendPreamble</a></div><div class="ttdeci">void sendPreamble()</div><div class="ttdoc">Internal function to send one preamble.</div><div class="ttdef"><b>Definition:</b> BMac.cc:157</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_a9fe4e166afbe37ff067844e6dbdc4470"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#a9fe4e166afbe37ff067844e6dbdc4470">inet::physicallayer::IRadio::transmissionStateChangedSignal</a></div><div class="ttdeci">static simsignal_t transmissionStateChangedSignal</div><div class="ttdoc">This signal is emitted when the radio transmission state of the radio is changed.</div><div class="ttdef"><b>Definition:</b> IRadio.h:60</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a2197e9873ae18dfec7c4aeeb01e005bd"><div class="ttname"><a href="classinet_1_1_b_mac.html#a2197e9873ae18dfec7c4aeeb01e005bd">inet::BMac::txAttempts</a></div><div class="ttdeci">int txAttempts</div><div class="ttdef"><b>Definition:</b> BMac.h:160</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a4e63cc41539ece95635a7e91219da885">inet::BMac::SEND_DATA</a></div><div class="ttdeci">@ SEND_DATA</div><div class="ttdef"><b>Definition:</b> BMac.h:134</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_a8e9f8ba27cb8f145f4c80b0c2ef2d0aba6ed69d32c284dd85069be7f141f24e2f"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0aba6ed69d32c284dd85069be7f141f24e2f">inet::physicallayer::IRadio::RADIO_MODE_TRANSMITTER</a></div><div class="ttdeci">@ RADIO_MODE_TRANSMITTER</div><div class="ttdoc">The radio is prepared for frame transmission, frame reception is not possible, power consumption is l...</div><div class="ttdef"><b>Definition:</b> IRadio.h:104</div></div>
<div class="ttc" id="anamespaceinet_html_a8b3e6258ad8d45309159a6bb395946f7"><div class="ttname"><a href="namespaceinet.html#a8b3e6258ad8d45309159a6bb395946f7">inet::packetDroppedSignal</a></div><div class="ttdeci">simsignal_t packetDroppedSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:85</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_afd36d0627e26925acd433b1dd1fdd2bc"><div class="ttname"><a href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd DispatchProtocolReq L4PortInd Ipv4ControlInfo Ipv6ControlInfo down PacketProtocolTag</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:25</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a60a233089ac57c193dc578e63f39456c"><div class="ttname"><a href="classinet_1_1_b_mac.html#a60a233089ac57c193dc578e63f39456c">inet::BMac::checkInterval</a></div><div class="ttdeci">double checkInterval</div><div class="ttdoc">The duration of CCA.</div><div class="ttdef"><b>Definition:</b> BMac.h:179</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a8fd81707ce1839fd25aedd2e3bbfa7ba"><div class="ttname"><a href="classinet_1_1_b_mac.html#a8fd81707ce1839fd25aedd2e3bbfa7ba">inet::BMac::handleSelfMessage</a></div><div class="ttdeci">virtual void handleSelfMessage(cMessage *) override</div><div class="ttdoc">Handle self messages such as timers.</div><div class="ttdef"><b>Definition:</b> BMac.cc:207</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a73f96a413d25ef23510dbf401cf21e72">inet::BMac::WAIT_DATA</a></div><div class="ttdeci">@ WAIT_DATA</div><div class="ttdef"><b>Definition:</b> BMac.h:133</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a236de3bc1d7f954a3a746f91ce21f20e"><div class="ttname"><a href="classinet_1_1_b_mac.html#a236de3bc1d7f954a3a746f91ce21f20e">inet::BMac::wakeup</a></div><div class="ttdeci">cMessage * wakeup</div><div class="ttdef"><b>Definition:</b> BMac.h:147</div></div>
<div class="ttc" id="aclassinet_1_1_packet_html_af20e8ff784546abf9bed850391e3d018"><div class="ttname"><a href="classinet_1_1_packet.html#af20e8ff784546abf9bed850391e3d018">inet::Packet::dup</a></div><div class="ttdeci">virtual Packet * dup() const override</div><div class="ttdef"><b>Definition:</b> Packet.h:171</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_a8e9f8ba27cb8f145f4c80b0c2ef2d0abaf50d0dfad7c8aba08b05d4afbab7adb1"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0abaf50d0dfad7c8aba08b05d4afbab7adb1">inet::physicallayer::IRadio::RADIO_MODE_RECEIVER</a></div><div class="ttdeci">@ RADIO_MODE_RECEIVER</div><div class="ttdoc">The radio is prepared for frame reception, frame transmission is not possible, power consumption is l...</div><div class="ttdef"><b>Definition:</b> IRadio.h:97</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_acfc48d3767319588bff2f889d4af0344"><div class="ttname"><a href="classinet_1_1_b_mac.html#acfc48d3767319588bff2f889d4af0344">inet::BMac::radio</a></div><div class="ttdeci">ModuleRefByPar&lt; physicallayer::IRadio &gt; radio</div><div class="ttdoc">The radio.</div><div class="ttdef"><b>Definition:</b> BMac.h:93</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a57abfed79fce4c21ac86abd421e63fbe"><div class="ttname"><a href="classinet_1_1_b_mac.html#a57abfed79fce4c21ac86abd421e63fbe">inet::BMac::headerLength</a></div><div class="ttdeci">b headerLength</div><div class="ttdoc">Length of the header.</div><div class="ttdef"><b>Definition:</b> BMac.h:174</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_af8997910e1dafbe0457cdcff4bb1710c"><div class="ttname"><a href="classinet_1_1_b_mac.html#af8997910e1dafbe0457cdcff4bb1710c">inet::BMac::lastDataPktDestAddr</a></div><div class="ttdeci">MacAddress lastDataPktDestAddr</div><div class="ttdef"><b>Definition:</b> BMac.h:159</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea0ec140b14c24588f478871571cce4b32"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0ec140b14c24588f478871571cce4b32">inet::BMAC_START_BMAC</a></div><div class="ttdeci">@ BMAC_START_BMAC</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:80</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a5a05ba95252550f1e27df46ea4052736"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a5a05ba95252550f1e27df46ea4052736">inet::MacProtocolBase::currentTxFrame</a></div><div class="ttdeci">Packet * currentTxFrame</div><div class="ttdoc">Currently transmitted frame if any.</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.h:35</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a222a62b3db3e03a244f71d8de99d5130"><div class="ttname"><a href="classinet_1_1_b_mac.html#a222a62b3db3e03a244f71d8de99d5130">inet::BMac::nbRxPreambles</a></div><div class="ttdeci">long nbRxPreambles</div><div class="ttdef"><b>Definition:</b> BMac.h:101</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ac374bb9be432724caf390bb03dfe7b27"><div class="ttname"><a href="classinet_1_1_b_mac.html#ac374bb9be432724caf390bb03dfe7b27">inet::BMac::bitrate</a></div><div class="ttdeci">double bitrate</div><div class="ttdoc">The bitrate of transmission.</div><div class="ttdef"><b>Definition:</b> BMac.h:177</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_abcd8fe1c33a039ec5e86fd1337cccc0f"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#abcd8fe1c33a039ec5e86fd1337cccc0f">inet::MacProtocolBase::sendDown</a></div><div class="ttdeci">virtual void sendDown(cMessage *message)</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:66</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_add2a3ea71cbd9b58868cb70481bde499"><div class="ttname"><a href="classinet_1_1_b_mac.html#add2a3ea71cbd9b58868cb70481bde499">inet::BMac::transmissionState</a></div><div class="ttdeci">physicallayer::IRadio::TransmissionState transmissionState</div><div class="ttdef"><b>Definition:</b> BMac.h:94</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_aa15d2ec2832daffdd6982a67bd5407f1"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#aa15d2ec2832daffdd6982a67bd5407f1">inet::MacProtocolBase::upperLayerInGateId</a></div><div class="ttdeci">int upperLayerInGateId</div><div class="ttdoc">Gate ids.</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.h:24</div></div>
<div class="ttc" id="anamespaceinet_html_a6be747ab6f195055e109f27f8462e52e"><div class="ttname"><a href="namespaceinet.html#a6be747ab6f195055e109f27f8462e52e">inet::INITSTAGE_LOCAL</a></div><div class="ttdeci">INET_API InitStage INITSTAGE_LOCAL</div><div class="ttdoc">Initialization of local state that don't use or affect other modules includes:</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea762731b346897226e515891950018b62"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea762731b346897226e515891950018b62">inet::BMAC_STOP_PREAMBLES</a></div><div class="ttdeci">@ BMAC_STOP_PREAMBLES</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:86</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_ac7d3c2a56d709c5d038dc7dff4d97159a1942a9a25e1adba477444ff8dcf89c1d"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159a1942a9a25e1adba477444ff8dcf89c1d">inet::physicallayer::IRadio::TRANSMISSION_STATE_TRANSMITTING</a></div><div class="ttdeci">@ TRANSMISSION_STATE_TRANSMITTING</div><div class="ttdoc">The radio medium is busy, the radio is currently transmitting a signal.</div><div class="ttdef"><b>Definition:</b> IRadio.h:171</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ab5dfcce89950dca3b2ef08e8e02b67bb"><div class="ttname"><a href="classinet_1_1_b_mac.html#ab5dfcce89950dca3b2ef08e8e02b67bb">inet::BMac::send_ack</a></div><div class="ttdeci">cMessage * send_ack</div><div class="ttdef"><b>Definition:</b> BMac.h:148</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a4863e0f5c136dba256803d186c09a63c"><div class="ttname"><a href="classinet_1_1_b_mac.html#a4863e0f5c136dba256803d186c09a63c">inet::BMac::start_bmac</a></div><div class="ttdeci">cMessage * start_bmac</div><div class="ttdef"><b>Definition:</b> BMac.h:146</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea4d4cb47b834b1b80fc7c433e426e2dd2"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea4d4cb47b834b1b80fc7c433e426e2dd2">inet::BMAC_ACK_TIMEOUT</a></div><div class="ttdeci">@ BMAC_ACK_TIMEOUT</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:79</div></div>
<div class="ttc" id="anamespaceinet_html_a9c0ecf85d82481d6058caaee2e4a41d9ab65a2838ba28695bd491de776eb71cc6"><div class="ttname"><a href="namespaceinet.html#a9c0ecf85d82481d6058caaee2e4a41d9ab65a2838ba28695bd491de776eb71cc6">inet::OTHER_PACKET_DROP</a></div><div class="ttdeci">@ OTHER_PACKET_DROP</div><div class="ttdef"><b>Definition:</b> Simsignals_m.h:84</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1values_html_a02f32b4417da580f5e348f2c3cfb40a7"><div class="ttname"><a href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">inet::units::values::b</a></div><div class="ttdeci">value&lt; int64_t, units::b &gt; b</div><div class="ttdef"><b>Definition:</b> Units.h:1241</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a4835a551d00a328d10014ed35e8b6e11"><div class="ttname"><a href="classinet_1_1_b_mac.html#a4835a551d00a328d10014ed35e8b6e11">inet::BMac::nbMissedAcks</a></div><div class="ttdeci">long nbMissedAcks</div><div class="ttdef"><b>Definition:</b> BMac.h:102</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_aeb26bd05f7ab7c725492dece0459cd44"><div class="ttname"><a href="classinet_1_1_b_mac.html#aeb26bd05f7ab7c725492dece0459cd44">inet::BMac::nbTxDataPackets</a></div><div class="ttdeci">long nbTxDataPackets</div><div class="ttdef"><b>Definition:</b> BMac.h:98</div></div>
<div class="ttc" id="a_init_stage_registry_8h_html_a6dec686281914f336c1b4dcafdbcf9df"><div class="ttname"><a href="_init_stage_registry_8h.html#a6dec686281914f336c1b4dcafdbcf9df">NUM_INIT_STAGES</a></div><div class="ttdeci">#define NUM_INIT_STAGES</div><div class="ttdef"><b>Definition:</b> InitStageRegistry.h:73</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a1c5179d7eede1c32ed97f3e76346d1cc"><div class="ttname"><a href="classinet_1_1_b_mac.html#a1c5179d7eede1c32ed97f3e76346d1cc">inet::BMac::slotDuration</a></div><div class="ttdeci">double slotDuration</div><div class="ttdoc">The duration of the slot in secs.</div><div class="ttdef"><b>Definition:</b> BMac.h:172</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9eab70c3f1c71a097f2b35e1239b38d26a1"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9eab70c3f1c71a097f2b35e1239b38d26a1">inet::BMAC_ACK_TX_OVER</a></div><div class="ttdeci">@ BMAC_ACK_TX_OVER</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:84</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ac2eb07e80fa95438d925ab029938298f"><div class="ttname"><a href="classinet_1_1_b_mac.html#ac2eb07e80fa95438d925ab029938298f">inet::BMac::cca_timeout</a></div><div class="ttdeci">cMessage * cca_timeout</div><div class="ttdef"><b>Definition:</b> BMac.h:149</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a8dd798fe869c2da6e1cadc39b8eeb895">inet::BMac::WAIT_ACK</a></div><div class="ttdeci">@ WAIT_ACK</div><div class="ttdef"><b>Definition:</b> BMac.h:136</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134adf3769f0b84c83de00b72df90770c666">inet::BMac::SEND_ACK</a></div><div class="ttdeci">@ SEND_ACK</div><div class="ttdef"><b>Definition:</b> BMac.h:137</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_af515de3b0818bdd09f430d46cdb00c5b"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#af515de3b0818bdd09f430d46cdb00c5b">inet::MacProtocolBase::deleteCurrentTxFrame</a></div><div class="ttdeci">virtual void deleteCurrentTxFrame()</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:93</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a49e24a6ab8658c73d1439b1ebe7af1b5"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a49e24a6ab8658c73d1439b1ebe7af1b5">inet::MacProtocolBase::initialize</a></div><div class="ttdeci">virtual void initialize(int stage) override</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:37</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ade3d5a4cbbd62b9657d5b1b90ec47f4c"><div class="ttname"><a href="classinet_1_1_b_mac.html#ade3d5a4cbbd62b9657d5b1b90ec47f4c">inet::BMac::resend_data</a></div><div class="ttdeci">cMessage * resend_data</div><div class="ttdef"><b>Definition:</b> BMac.h:144</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afc7fa3905452d25d85effe3a8a09b4b4"><div class="ttname"><a href="classinet_1_1_b_mac.html#afc7fa3905452d25d85effe3a8a09b4b4">inet::BMac::macState</a></div><div class="ttdeci">States macState</div><div class="ttdoc">The current state of the protocol.</div><div class="ttdef"><b>Definition:</b> BMac.h:141</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a9ce2f07bf9b2d2261c2675d161870f40">inet::BMac::WAIT_TX_DATA_OVER</a></div><div class="ttdeci">@ WAIT_TX_DATA_OVER</div><div class="ttdef"><b>Definition:</b> BMac.h:135</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea312df36b6a06405402310461978289e2"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea312df36b6a06405402310461978289e2">inet::BMAC_DATA_TX_OVER</a></div><div class="ttdeci">@ BMAC_DATA_TX_OVER</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:87</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea13b95efcb54e1a591b64dbcee24a2d8c"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea13b95efcb54e1a591b64dbcee24a2d8c">inet::BMAC_SEND_ACK</a></div><div class="ttdeci">@ BMAC_SEND_ACK</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:82</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_af3ce21eae071184a70af07d8b41eabd1"><div class="ttname"><a href="classinet_1_1_b_mac.html#af3ce21eae071184a70af07d8b41eabd1">inet::BMac::sendMacAck</a></div><div class="ttdeci">void sendMacAck()</div><div class="ttdoc">Internal function to send an ACK.</div><div class="ttdef"><b>Definition:</b> BMac.cc:177</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a5318e542573303f9d43d88d5d37d69d6"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a5318e542573303f9d43d88d5d37d69d6">inet::MacProtocolBase::getQueue</a></div><div class="ttdeci">queueing::IPacketQueue * getQueue(cGate *gate) const</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:157</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a2913c7636efe6db4758ff2743e523c72"><div class="ttname"><a href="classinet_1_1_b_mac.html#a2913c7636efe6db4758ff2743e523c72">inet::BMac::ctrlFrameLength</a></div><div class="ttdeci">b ctrlFrameLength</div><div class="ttdef"><b>Definition:</b> BMac.h:175</div></div>
<div class="ttc" id="a_self_doc_8h_html_a8e54030c665b5254da268db865fccdfc"><div class="ttname"><a href="_self_doc_8h.html#a8e54030c665b5254da268db865fccdfc">Enter_Method</a></div><div class="ttdeci">#define Enter_Method(...)</div><div class="ttdef"><b>Definition:</b> SelfDoc.h:71</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a9e1732055b0580e8015683345ccb50cb"><div class="ttname"><a href="classinet_1_1_b_mac.html#a9e1732055b0580e8015683345ccb50cb">inet::BMac::attachSignal</a></div><div class="ttdeci">void attachSignal(Packet *macPkt)</div><div class="ttdoc">Internal function to attach a signal to the packet.</div><div class="ttdef"><b>Definition:</b> BMac.cc:560</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_ac7d3c2a56d709c5d038dc7dff4d97159"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159">inet::physicallayer::IRadio::TransmissionState</a></div><div class="ttdeci">TransmissionState</div><div class="ttdoc">This enumeration specifies the transmission state of the radio.</div><div class="ttdef"><b>Definition:</b> IRadio.h:155</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a4dd0dc0d48e44890a4382be6d6010273"><div class="ttname"><a href="classinet_1_1_b_mac.html#a4dd0dc0d48e44890a4382be6d6010273">inet::BMac::send_preamble</a></div><div class="ttdeci">cMessage * send_preamble</div><div class="ttdef"><b>Definition:</b> BMac.h:151</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_af77a5b0d9ca1b84d81c20efb2180a500"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#af77a5b0d9ca1b84d81c20efb2180a500">inet::MacProtocolBase::dequeuePacket</a></div><div class="ttdeci">virtual Packet * dequeuePacket()</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:175</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a0f8a22035909a10f2e7f155767a04060"><div class="ttname"><a href="classinet_1_1_b_mac.html#a0f8a22035909a10f2e7f155767a04060">inet::BMac::scheduleWakeUp</a></div><div class="ttdeci">void scheduleWakeUp()</div><div class="ttdef"><b>Definition:</b> BMac.cc:683</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_aab194a82cef86db540ba1410aea236da"><div class="ttname"><a href="classinet_1_1_b_mac.html#aab194a82cef86db540ba1410aea236da">inet::BMac::nbTxPreambles</a></div><div class="ttdeci">long nbTxPreambles</div><div class="ttdef"><b>Definition:</b> BMac.h:99</div></div>
<div class="ttc" id="aclassinet_1_1_mac_address_html_aa57c8c81d256530e0ae250a8f5eb5f9e"><div class="ttname"><a href="classinet_1_1_mac_address.html#aa57c8c81d256530e0ae250a8f5eb5f9e">inet::MacAddress::BROADCAST_ADDRESS</a></div><div class="ttdeci">static const MacAddress BROADCAST_ADDRESS</div><div class="ttdoc">The broadcast MAC address, ff:ff:ff:ff:ff:ff.</div><div class="ttdef"><b>Definition:</b> MacAddress.h:34</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_a8e9f8ba27cb8f145f4c80b0c2ef2d0ab"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#a8e9f8ba27cb8f145f4c80b0c2ef2d0ab">inet::physicallayer::IRadio::RadioMode</a></div><div class="ttdeci">RadioMode</div><div class="ttdoc">This enumeration specifies the requested operational mode of the radio.</div><div class="ttdef"><b>Definition:</b> IRadio.h:79</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea8c32a66d55ed1c1da1d9624be58c5143"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8c32a66d55ed1c1da1d9624be58c5143">inet::BMAC_ACK</a></div><div class="ttdeci">@ BMAC_ACK</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:77</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_ac2b8274ca4fce4b210b1c523927ad5a4"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#ac2b8274ca4fce4b210b1c523927ad5a4">inet::MacProtocolBase::parseMacAddressParameter</a></div><div class="ttdeci">virtual MacAddress parseMacAddressParameter(const char *addrstr)</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:24</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea346cd790c7aecb89a36a3573fbe55c01"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea346cd790c7aecb89a36a3573fbe55c01">inet::BMAC_DATA_TIMEOUT</a></div><div class="ttdeci">@ BMAC_DATA_TIMEOUT</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:88</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea0a44748b4ffa0cc53adb894c0a3e672f"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea0a44748b4ffa0cc53adb894c0a3e672f">inet::BMAC_SEND_PREAMBLE</a></div><div class="ttdeci">@ BMAC_SEND_PREAMBLE</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:85</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_group_html_a40de7db32f5ec6281d6fa3b454335e22"><div class="ttname"><a href="classinet_1_1_protocol_group.html#a40de7db32f5ec6281d6fa3b454335e22">inet::ProtocolGroup::getProtocol</a></div><div class="ttdeci">const Protocol * getProtocol(int protocolNumber) const</div><div class="ttdef"><b>Definition:</b> ProtocolGroup.cc:31</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a1f66409a3316782d68ab967eb1cff36a"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a1f66409a3316782d68ab967eb1cff36a">inet::MacProtocolBase::txQueue</a></div><div class="ttdeci">opp_component_ptr&lt; queueing::IPacketQueue &gt; txQueue</div><div class="ttdoc">Messages received from upper layer and to be transmitted later.</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.h:38</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a4a78e0d51f9896e359a13d75fdf1fe9f"><div class="ttname"><a href="classinet_1_1_b_mac.html#a4a78e0d51f9896e359a13d75fdf1fe9f">inet::BMac::decapsulate</a></div><div class="ttdeci">void decapsulate(Packet *packet)</div><div class="ttdef"><b>Definition:</b> BMac.cc:646</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a039977f3dd2fa517023b6cd2d59bc6e1"><div class="ttname"><a href="classinet_1_1_b_mac.html#a039977f3dd2fa517023b6cd2d59bc6e1">inet::BMac::maxTxAttempts</a></div><div class="ttdeci">int maxTxAttempts</div><div class="ttdoc">Maximum transmission attempts per data packet, when ACKs are used.</div><div class="ttdef"><b>Definition:</b> BMac.h:184</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_ac7d3c2a56d709c5d038dc7dff4d97159a6fcc91f18e6e2bb73ea00fbd734bb35a"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#ac7d3c2a56d709c5d038dc7dff4d97159a6fcc91f18e6e2bb73ea00fbd734bb35a">inet::physicallayer::IRadio::TRANSMISSION_STATE_IDLE</a></div><div class="ttdeci">@ TRANSMISSION_STATE_IDLE</div><div class="ttdoc">The radio is not transmitting a signal on the radio medium.</div><div class="ttdef"><b>Definition:</b> IRadio.h:166</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a6cb6b8bf68f8999a69c27c1c1fc2b9bf"><div class="ttname"><a href="classinet_1_1_b_mac.html#a6cb6b8bf68f8999a69c27c1c1fc2b9bf">inet::BMac::useMacAcks</a></div><div class="ttdeci">bool useMacAcks</div><div class="ttdoc">Use MAC level acks or not.</div><div class="ttdef"><b>Definition:</b> BMac.h:181</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ac9f77339918c81efe05c78755e87e91a"><div class="ttname"><a href="classinet_1_1_b_mac.html#ac9f77339918c81efe05c78755e87e91a">inet::BMac::encapsulate</a></div><div class="ttdeci">void encapsulate(Packet *packet)</div><div class="ttdef"><b>Definition:</b> BMac.cc:658</div></div>
<div class="ttc" id="aclassinet_1_1_mac_protocol_base_html_a9521795aacedfaa68ec24fe46c948c32"><div class="ttname"><a href="classinet_1_1_mac_protocol_base.html#a9521795aacedfaa68ec24fe46c948c32">inet::MacProtocolBase::canDequeuePacket</a></div><div class="ttdeci">virtual bool canDequeuePacket() const</div><div class="ttdef"><b>Definition:</b> MacProtocolBase.cc:170</div></div>
<div class="ttc" id="anamespaceinet_html_a9c0ecf85d82481d6058caaee2e4a41d9a88c381fd51291e1e9ab716cf93d7a3a2"><div class="ttname"><a href="namespaceinet.html#a9c0ecf85d82481d6058caaee2e4a41d9a88c381fd51291e1e9ab716cf93d7a3a2">inet::NOT_ADDRESSED_TO_US</a></div><div class="ttdeci">@ NOT_ADDRESSED_TO_US</div><div class="ttdef"><b>Definition:</b> Simsignals_m.h:76</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a8a63324eb3b43c6a493c4120de9c8fd5"><div class="ttname"><a href="classinet_1_1_b_mac.html#a8a63324eb3b43c6a493c4120de9c8fd5">inet::BMac::data_tx_over</a></div><div class="ttdeci">cMessage * data_tx_over</div><div class="ttdef"><b>Definition:</b> BMac.h:153</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_ac4e1a6f5c5643f114c0b9760b2bbfd56"><div class="ttname"><a href="classinet_1_1_b_mac.html#ac4e1a6f5c5643f114c0b9760b2bbfd56">inet::BMac::nbDroppedDataPackets</a></div><div class="ttdeci">long nbDroppedDataPackets</div><div class="ttdef"><b>Definition:</b> BMac.h:104</div></div>
<div class="ttc" id="anamespaceinet_html_ac59da13caae127564113d1343d890064"><div class="ttname"><a href="namespaceinet.html#ac59da13caae127564113d1343d890064">inet::INITSTAGE_LINK_LAYER</a></div><div class="ttdeci">INET_API InitStage INITSTAGE_LINK_LAYER</div><div class="ttdoc">Initialization of link-layer protocols.</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00"><div class="ttname"><a href="classinet_1_1_b_mac.html#afec5db38339196e37655117939c00134a408f0a8a563998ac8182d162c95f4b00">inet::BMac::CCA</a></div><div class="ttdeci">@ CCA</div><div class="ttdef"><b>Definition:</b> BMac.h:131</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_group_html_a59ecb79a79d2ff5f29477007d999822b"><div class="ttname"><a href="classinet_1_1_protocol_group.html#a59ecb79a79d2ff5f29477007d999822b">inet::ProtocolGroup::ethertype</a></div><div class="ttdeci">static ProtocolGroup ethertype</div><div class="ttdef"><b>Definition:</b> ProtocolGroup.h:40</div></div>
<div class="ttc" id="aclassinet_1_1physicallayer_1_1_i_radio_html_a483d8f7eef0ec6e315cecbf8dc1adb8f"><div class="ttname"><a href="classinet_1_1physicallayer_1_1_i_radio.html#a483d8f7eef0ec6e315cecbf8dc1adb8f">inet::physicallayer::IRadio::radioModeChangedSignal</a></div><div class="ttdeci">static simsignal_t radioModeChangedSignal</div><div class="ttdoc">This signal is emitted when the radio mode of the radio is changed.</div><div class="ttdef"><b>Definition:</b> IRadio.h:42</div></div>
<div class="ttc" id="anamespaceinet_html_a69c62529a040f6754a1b92ee39c79c9ea8d7e2a1845e24d56f974ade02afaa453"><div class="ttname"><a href="namespaceinet.html#a69c62529a040f6754a1b92ee39c79c9ea8d7e2a1845e24d56f974ade02afaa453">inet::BMAC_RESEND_DATA</a></div><div class="ttdeci">@ BMAC_RESEND_DATA</div><div class="ttdef"><b>Definition:</b> BMacHeader_m.h:78</div></div>
<div class="ttc" id="aclassinet_1_1_b_mac_html_a9b116c5eb365a349b2195d0a3fd51d3b"><div class="ttname"><a href="classinet_1_1_b_mac.html#a9b116c5eb365a349b2195d0a3fd51d3b">inet::BMac::nbRecvdAcks</a></div><div class="ttdeci">long nbRecvdAcks</div><div class="ttdef"><b>Definition:</b> BMac.h:103</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinet.html">inet</a></li><li class="navelem"><a class="el" href="classinet_1_1_b_mac.html">BMac</a></li>
    <li class="footer">Generated on Sun Apr 10 2022 21:00:16 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
