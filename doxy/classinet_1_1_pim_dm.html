<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>INET Framework for OMNeT++/OMNEST: inet::PimDm Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="opp.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classinet_1_1_pim_dm.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classinet_1_1_pim_dm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inet::PimDm Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of PIM-DM protocol (RFC 3973).  
 <a href="classinet_1_1_pim_dm.html#details">More...</a></p>

<p><code>#include &lt;PimDm.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inet::PimDm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinet_1_1_pim_dm.png" usemap="#inet::PimDm_map" alt=""/>
  <map id="inet::PimDm_map" name="inet::PimDm_map">
<area href="classinet_1_1_pim_base.html" title="Base class of PimSm and PimDm modules." alt="inet::PimBase" shape="rect" coords="127,224,371,248"/>
<area href="classinet_1_1_routing_protocol_base.html" alt="inet::RoutingProtocolBase" shape="rect" coords="127,168,371,192"/>
<area href="classinet_1_1_operational_base.html" alt="inet::OperationalBase" shape="rect" coords="127,112,371,136"/>
<area href="classinet_1_1_operational_mixin.html" alt="inet::OperationalMixin&lt; cSimpleModule &gt;" shape="rect" coords="127,56,371,80"/>
<area href="classinet_1_1_i_lifecycle.html" title="Interface to be implemented by modules that want to support failure/recovery, shutdown/restart,..." alt="inet::ILifecycle" shape="rect" coords="254,0,498,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1_pim_dm_1_1_downstream_interface.html">DownstreamInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm_1_1_pim_dm_out_interface.html">PimDmOutInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html">UpstreamInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef1ae7c7c0928028c4428679b7d62309"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aef1ae7c7c0928028c4428679b7d62309">PimDm</a> ()</td></tr>
<tr class="separator:aef1ae7c7c0928028c4428679b7d62309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb4452006f1f68d8b92f6fdec390d0b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a6bb4452006f1f68d8b92f6fdec390d0b">~PimDm</a> ()</td></tr>
<tr class="separator:a6bb4452006f1f68d8b92f6fdec390d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_pim_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_pim_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_pim_base.html">inet::PimBase</a></td></tr>
<tr class="memitem:ad7ad0f25f79720dfaf8c92f86d789e9c inherit pub_methods_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#ad7ad0f25f79720dfaf8c92f86d789e9c">PimBase</a> (<a class="el" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3c">PimInterface::PimMode</a> <a class="el" href="classinet_1_1_pim_base.html#a1c200195975541d9ae54f63f5fbc2ae8">mode</a>)</td></tr>
<tr class="separator:ad7ad0f25f79720dfaf8c92f86d789e9c inherit pub_methods_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c568fc3d89e1c173e38d17f4a7ced9 inherit pub_methods_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a73c568fc3d89e1c173e38d17f4a7ced9">~PimBase</a> ()</td></tr>
<tr class="separator:a73c568fc3d89e1c173e38d17f4a7ced9 inherit pub_methods_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_routing_protocol_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_routing_protocol_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_routing_protocol_base.html">inet::RoutingProtocolBase</a></td></tr>
<tr class="memitem:a2f0592bd35acef900585424032c0b0f5 inherit pub_methods_classinet_1_1_routing_protocol_base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_routing_protocol_base.html#a2f0592bd35acef900585424032c0b0f5">RoutingProtocolBase</a> ()</td></tr>
<tr class="separator:a2f0592bd35acef900585424032c0b0f5 inherit pub_methods_classinet_1_1_routing_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:aa5d8cb85d929bf6592e6dc5226b798c3 inherit pub_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#aa5d8cb85d929bf6592e6dc5226b798c3">~OperationalMixin</a> ()</td></tr>
<tr class="memdesc:aa5d8cb85d929bf6592e6dc5226b798c3 inherit pub_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">}@  <a href="classinet_1_1_operational_mixin.html#aa5d8cb85d929bf6592e6dc5226b798c3">More...</a><br /></td></tr>
<tr class="separator:aa5d8cb85d929bf6592e6dc5226b798c3 inherit pub_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classinet_1_1_i_lifecycle"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classinet_1_1_i_lifecycle')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classinet_1_1_i_lifecycle.html">inet::ILifecycle</a></td></tr>
<tr class="memitem:a42ada991baf0d85f6c3b4adcf2b0e87b inherit pub_methods_classinet_1_1_i_lifecycle"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_i_lifecycle.html#a42ada991baf0d85f6c3b4adcf2b0e87b">~ILifecycle</a> ()</td></tr>
<tr class="separator:a42ada991baf0d85f6c3b4adcf2b0e87b inherit pub_methods_classinet_1_1_i_lifecycle"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af6626ce9a0f63096d1927559d09b0187"><td class="memItemLeft" align="right" valign="top">const static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#af6626ce9a0f63096d1927559d09b0187">graftPruneStateString</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957">UpstreamInterface::GraftPruneState</a> <a class="el" href="namespaceinet_1_1units_1_1values.html#a7d41108d6e0f39586dd45163eb7e0b81">ps</a>)</td></tr>
<tr class="separator:af6626ce9a0f63096d1927559d09b0187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4eef987e1d5d8b86b895526b44b750"><td class="memItemLeft" align="right" valign="top">const static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ace4eef987e1d5d8b86b895526b44b750">originatorStateString</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3">UpstreamInterface::OriginatorState</a> os)</td></tr>
<tr class="separator:ace4eef987e1d5d8b86b895526b44b750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abada82b24aa1f76e3df3f3fb5e3d8b66"><td class="memItemLeft" align="right" valign="top">const static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#abada82b24aa1f76e3df3f3fb5e3d8b66">pruneStateString</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5b">DownstreamInterface::PruneState</a> <a class="el" href="namespaceinet_1_1units_1_1values.html#a7d41108d6e0f39586dd45163eb7e0b81">ps</a>)</td></tr>
<tr class="separator:abada82b24aa1f76e3df3f3fb5e3d8b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adc9bbb7b5f928b65c0e65698d1815478"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#adc9bbb7b5f928b65c0e65698d1815478">numInitStages</a> () const override</td></tr>
<tr class="separator:adc9bbb7b5f928b65c0e65698d1815478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ec3dacee8cfc7e2fe5e7a1e9779776"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp</a> (cMessage *msg) override</td></tr>
<tr class="separator:a77ec3dacee8cfc7e2fe5e7a1e9779776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7219cb4556961b4682a135349cc34b71"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize</a> (int stage) override</td></tr>
<tr class="separator:a7219cb4556961b4682a135349cc34b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add68701acda5bad784123c3bfd019ea4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#add68701acda5bad784123c3bfd019ea4">handleStartOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation) override</td></tr>
<tr class="separator:add68701acda5bad784123c3bfd019ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae756abd9e7b9c92b2dfdf84f6671764b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ae756abd9e7b9c92b2dfdf84f6671764b">handleStopOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation) override</td></tr>
<tr class="separator:ae756abd9e7b9c92b2dfdf84f6671764b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f433828ecc5d44eac770bd4409dc31d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a0f433828ecc5d44eac770bd4409dc31d">handleCrashOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation) override</td></tr>
<tr class="separator:a0f433828ecc5d44eac770bd4409dc31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e6c48dbb044b9760a9fc41ea9221b6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aa3e6c48dbb044b9760a9fc41ea9221b6">stopPIMRouting</a> ()</td></tr>
<tr class="separator:aa3e6c48dbb044b9760a9fc41ea9221b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_pim_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_pim_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_pim_base.html">inet::PimBase</a></td></tr>
<tr class="memitem:a26859dbb202c4065daaba347f0c73f67 inherit pro_methods_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a26859dbb202c4065daaba347f0c73f67">sendHelloPackets</a> ()</td></tr>
<tr class="separator:a26859dbb202c4065daaba347f0c73f67 inherit pro_methods_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6c62ee6e8590e486d4ac7e26e62b24 inherit pro_methods_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#ace6c62ee6e8590e486d4ac7e26e62b24">sendHelloPacket</a> (<a class="el" href="classinet_1_1_pim_interface.html">PimInterface</a> *pimInterface)</td></tr>
<tr class="separator:ace6c62ee6e8590e486d4ac7e26e62b24 inherit pro_methods_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bcf6958f1485d104cb9f4d01c8e73b7 inherit pro_methods_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a1bcf6958f1485d104cb9f4d01c8e73b7">processHelloTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:a1bcf6958f1485d104cb9f4d01c8e73b7 inherit pro_methods_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a7673e74c2424461457cc8bf7f4c601 inherit pro_methods_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a8a7673e74c2424461457cc8bf7f4c601">processHelloPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk)</td></tr>
<tr class="separator:a8a7673e74c2424461457cc8bf7f4c601 inherit pro_methods_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_routing_protocol_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_routing_protocol_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_routing_protocol_base.html">inet::RoutingProtocolBase</a></td></tr>
<tr class="memitem:ae597dc219edebd5d6c3a58792b271b50 inherit pro_methods_classinet_1_1_routing_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_routing_protocol_base.html#ae597dc219edebd5d6c3a58792b271b50">isInitializeStage</a> (int stage) const override</td></tr>
<tr class="separator:ae597dc219edebd5d6c3a58792b271b50 inherit pro_methods_classinet_1_1_routing_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05d52a8017fd5c566b4f86a6f2f4446 inherit pro_methods_classinet_1_1_routing_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_routing_protocol_base.html#ad05d52a8017fd5c566b4f86a6f2f4446">isModuleStartStage</a> (int stage) const override</td></tr>
<tr class="separator:ad05d52a8017fd5c566b4f86a6f2f4446 inherit pro_methods_classinet_1_1_routing_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68c0c67e3fcca1a33d4f3bab7223067 inherit pro_methods_classinet_1_1_routing_protocol_base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_routing_protocol_base.html#af68c0c67e3fcca1a33d4f3bab7223067">isModuleStopStage</a> (int stage) const override</td></tr>
<tr class="separator:af68c0c67e3fcca1a33d4f3bab7223067 inherit pro_methods_classinet_1_1_routing_protocol_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:a2333194f9fd6fec0d20ef827798f2ccb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a2333194f9fd6fec0d20ef827798f2ccb">numInitStages</a> () const override</td></tr>
<tr class="separator:a2333194f9fd6fec0d20ef827798f2ccb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ba2ee5b5b270747bb3645b84e4996e inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a15ba2ee5b5b270747bb3645b84e4996e">refreshDisplay</a> () const override</td></tr>
<tr class="separator:a15ba2ee5b5b270747bb3645b84e4996e inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7520f89a2ddc57246602fdd6d0b47a8d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a7520f89a2ddc57246602fdd6d0b47a8d">handleMessage</a> (cMessage *msg) override</td></tr>
<tr class="separator:a7520f89a2ddc57246602fdd6d0b47a8d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1046fb29a2d3db3144c52fbde1d62a2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ac1046fb29a2d3db3144c52fbde1d62a2">handleMessageWhenDown</a> (cMessage *msg)</td></tr>
<tr class="separator:ac1046fb29a2d3db3144c52fbde1d62a2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7ee2390370a79773937d2ab7782eb2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a9c7ee2390370a79773937d2ab7782eb2">handleOperationStage</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, <a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *doneCallback) override</td></tr>
<tr class="memdesc:a9c7ee2390370a79773937d2ab7782eb2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform one stage of a lifecycle operation.  <a href="classinet_1_1_operational_mixin.html#a9c7ee2390370a79773937d2ab7782eb2">More...</a><br /></td></tr>
<tr class="separator:a9c7ee2390370a79773937d2ab7782eb2 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af630b1b58653ffa8bc398000de0797c3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#af630b1b58653ffa8bc398000de0797c3">getInitialOperationalState</a> () const</td></tr>
<tr class="memdesc:af630b1b58653ffa8bc398000de0797c3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns initial operational state: OPERATING or NOT_OPERATING.  <a href="classinet_1_1_operational_mixin.html#af630b1b58653ffa8bc398000de0797c3">More...</a><br /></td></tr>
<tr class="separator:af630b1b58653ffa8bc398000de0797c3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26348074d447114d299af1d8f3b2b17 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ab26348074d447114d299af1d8f3b2b17">handleActiveOperationTimeout</a> (cMessage *message)</td></tr>
<tr class="separator:ab26348074d447114d299af1d8f3b2b17 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859efb07040a87389a5b35d61fde5db8 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a859efb07040a87389a5b35d61fde5db8">isUp</a> () const</td></tr>
<tr class="memdesc:a859efb07040a87389a5b35d61fde5db8 inherit pro_methods_classinet_1_1_operational_mixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">utility functions  <a href="classinet_1_1_operational_mixin.html#a859efb07040a87389a5b35d61fde5db8">More...</a><br /></td></tr>
<tr class="separator:a859efb07040a87389a5b35d61fde5db8 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9196d6fce942da9285c99c1cf667f52 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ab9196d6fce942da9285c99c1cf667f52">isDown</a> () const</td></tr>
<tr class="separator:ab9196d6fce942da9285c99c1cf667f52 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ce13529a98f9a7ef079516a06ae43c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a64ce13529a98f9a7ef079516a06ae43c">setOperationalState</a> (<a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a> newState)</td></tr>
<tr class="separator:a64ce13529a98f9a7ef079516a06ae43c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bef9a2fe6172f6b587f8126219cfc13 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a6bef9a2fe6172f6b587f8126219cfc13">scheduleOperationTimeout</a> (simtime_t timeout)</td></tr>
<tr class="separator:a6bef9a2fe6172f6b587f8126219cfc13 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82844acd3db6ecc619e416fd67c101c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ae82844acd3db6ecc619e416fd67c101c">setupActiveOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, <a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *doneCallback, <a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a>)</td></tr>
<tr class="separator:ae82844acd3db6ecc619e416fd67c101c inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae23a78cc3deb39a2c923960853bcdfb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#aae23a78cc3deb39a2c923960853bcdfb">delayActiveOperationFinish</a> (simtime_t timeout)</td></tr>
<tr class="separator:aae23a78cc3deb39a2c923960853bcdfb inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d835b432ccfbed1cf73de7c3eb444d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#af5d835b432ccfbed1cf73de7c3eb444d">startActiveOperationExtraTime</a> (simtime_t delay=SIMTIME_ZERO)</td></tr>
<tr class="separator:af5d835b432ccfbed1cf73de7c3eb444d inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a88a7052a46a78fa88380b94b7a2b3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a57a88a7052a46a78fa88380b94b7a2b3">startActiveOperationExtraTimeOrFinish</a> (simtime_t extraTime)</td></tr>
<tr class="separator:a57a88a7052a46a78fa88380b94b7a2b3 inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d25207c2807575a5392ba74ccbafc7b inherit pro_methods_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a0d25207c2807575a5392ba74ccbafc7b">finishActiveOperation</a> ()</td></tr>
<tr class="separator:a0d25207c2807575a5392ba74ccbafc7b inherit pro_methods_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae2cc2adf308d1548095c2fcd004b4e18"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="structinet_1_1_pim_base_1_1_source_and_group.html">SourceAndGroup</a>, <a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ae2cc2adf308d1548095c2fcd004b4e18">RoutingTable</a></td></tr>
<tr class="separator:ae2cc2adf308d1548095c2fcd004b4e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8fad64703c90239d7accd4fbb1523932"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal</a> (cComponent *source, simsignal_t signalID, cObject *obj, cObject *details) override</td></tr>
<tr class="separator:a8fad64703c90239d7accd4fbb1523932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f0a7e50d176d390ecc99ad38054767"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ae8f0a7e50d176d390ecc99ad38054767">unroutableMulticastPacketArrived</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> srcAddress, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> destAddress, unsigned short ttl)</td></tr>
<tr class="memdesc:ae8f0a7e50d176d390ecc99ad38054767"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method process notification about new multicast data stream.  <a href="classinet_1_1_pim_dm.html#ae8f0a7e50d176d390ecc99ad38054767">More...</a><br /></td></tr>
<tr class="separator:ae8f0a7e50d176d390ecc99ad38054767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec89e6bcbea4314b0855ec734635685"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, int interfaceId)</td></tr>
<tr class="memdesc:a3ec89e6bcbea4314b0855ec734635685"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method has to solve the problem when multicast data appears on non-RPF interface.  <a href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">More...</a><br /></td></tr>
<tr class="separator:a3ec89e6bcbea4314b0855ec734635685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2c35f2cfb653c2afed540ebc6068ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface</a> (int interfaceId, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, unsigned short ttl)</td></tr>
<tr class="separator:a6d2c35f2cfb653c2afed540ebc6068ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b965dccffe84f9d4c126131adddac1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a8b965dccffe84f9d4c126131adddac1e">multicastReceiverAdded</a> (<a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *ie, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> newAddr)</td></tr>
<tr class="separator:a8b965dccffe84f9d4c126131adddac1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1400d95f0a885577694c2ad8d94e6587"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a1400d95f0a885577694c2ad8d94e6587">multicastReceiverRemoved</a> (<a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *ie, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> oldAddr)</td></tr>
<tr class="memdesc:a1400d95f0a885577694c2ad8d94e6587"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method process notification about multicast groups removed from interface.  <a href="classinet_1_1_pim_dm.html#a1400d95f0a885577694c2ad8d94e6587">More...</a><br /></td></tr>
<tr class="separator:a1400d95f0a885577694c2ad8d94e6587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde5fdb6dd9aa6db22d041dcf811212a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#acde5fdb6dd9aa6db22d041dcf811212a">rpfInterfaceHasChanged</a> (<a class="el" href="classinet_1_1_ipv4_multicast_route.html">Ipv4MulticastRoute</a> *route, <a class="el" href="classinet_1_1_ipv4_route.html">Ipv4Route</a> *routeToSource)</td></tr>
<tr class="memdesc:acde5fdb6dd9aa6db22d041dcf811212a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method process notification about interface change.  <a href="classinet_1_1_pim_dm.html#acde5fdb6dd9aa6db22d041dcf811212a">More...</a><br /></td></tr>
<tr class="separator:acde5fdb6dd9aa6db22d041dcf811212a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4fe2c439d68554463f72f37ea283c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#af4fe2c439d68554463f72f37ea283c30">processPruneTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:af4fe2c439d68554463f72f37ea283c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63baafb931092998c2318f267a3d39c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">processPrunePendingTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:a63baafb931092998c2318f267a3d39c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a238eded91259644d869cc099401e3bd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a238eded91259644d869cc099401e3bd3">processGraftRetryTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:a238eded91259644d869cc099401e3bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740c582e478e33ec2a443b3efaf2fe13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a740c582e478e33ec2a443b3efaf2fe13">processOverrideTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:a740c582e478e33ec2a443b3efaf2fe13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834aafab4f65b7631eb2b06fb70660a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a834aafab4f65b7631eb2b06fb70660a7">processSourceActiveTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:a834aafab4f65b7631eb2b06fb70660a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c803df27bca70202079f2556506d8cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">processStateRefreshTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:a2c803df27bca70202079f2556506d8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1e7efc2330095aefc0d6372226f0ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#adc1e7efc2330095aefc0d6372226f0ba">processAssertTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:adc1e7efc2330095aefc0d6372226f0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3371e6948c076c570601e30ba82cae9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">processJoinPrunePacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk)</td></tr>
<tr class="separator:af3371e6948c076c570601e30ba82cae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade27fe4fab63f35402dee1606021dfd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ade27fe4fab63f35402dee1606021dfd2">processGraftPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk)</td></tr>
<tr class="separator:ade27fe4fab63f35402dee1606021dfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b46955bf5db68c6fd0b6601eb6bd9f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a7b46955bf5db68c6fd0b6601eb6bd9f0">processGraftAckPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk)</td></tr>
<tr class="separator:a7b46955bf5db68c6fd0b6601eb6bd9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae555d4359017ff47e03dea05316ed12a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk)</td></tr>
<tr class="memdesc:ae555d4359017ff47e03dea05316ed12a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method is used to process <a class="el" href="classinet_1_1_pim_state_refresh.html" title="Class generated from inet/routing/pim/PimPacket.msg:196 by opp_msgtool.">PimStateRefresh</a> packet.  <a href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">More...</a><br /></td></tr>
<tr class="separator:ae555d4359017ff47e03dea05316ed12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ce43a858513e0e0144fedfac7fb672"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a30ce43a858513e0e0144fedfac7fb672">processAssertPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk)</td></tr>
<tr class="separator:a30ce43a858513e0e0144fedfac7fb672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa936b8c0ef233cb0e6e1e1ef91def821"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">processPrune</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *route, int intId, int <a class="el" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a>, int numRpfNeighbors, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> upstreamNeighborField)</td></tr>
<tr class="memdesc:aa936b8c0ef233cb0e6e1e1ef91def821"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method process PIM Prune packet.  <a href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">More...</a><br /></td></tr>
<tr class="separator:aa936b8c0ef233cb0e6e1e1ef91def821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b351169c7ccb2ebfbc078137fb2e73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a22b351169c7ccb2ebfbc078137fb2e73">processJoin</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *route, int intId, int numRpfNeighbors, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> upstreamNeighborField)</td></tr>
<tr class="separator:a22b351169c7ccb2ebfbc078137fb2e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8660bf1abb940cc834e6bf7afc59bd2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">processGraft</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> sender, int intId)</td></tr>
<tr class="memdesc:a8660bf1abb940cc834e6bf7afc59bd2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method is used to process <a class="el" href="classinet_1_1_pim_graft.html" title="Class generated from inet/routing/pim/PimPacket.msg:184 by opp_msgtool.">PimGraft</a> packet.  <a href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">More...</a><br /></td></tr>
<tr class="separator:a8660bf1abb940cc834e6bf7afc59bd2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbdf6c401624231f6421faa6e0b345f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert</a> (<a class="el" href="structinet_1_1_pim_base_1_1_interface.html">Interface</a> *downstream, <a class="el" href="structinet_1_1_pim_base_1_1_assert_metric.html">AssertMetric</a> receivedMetric, int <a class="el" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a>)</td></tr>
<tr class="separator:addbdf6c401624231f6421faa6e0b345f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf64a12b97f085b349526b05f7561e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *route)</td></tr>
<tr class="separator:a8cf64a12b97f085b349526b05f7561e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ed933d77c5e3c2bc3770beab8f47a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a> (<a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *route)</td></tr>
<tr class="separator:ad7ed933d77c5e3c2bc3770beab8f47a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cad3f09fe77f8bef3de090929610b6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> nextHop, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> src, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> grp, int <a class="el" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a>, int intId)</td></tr>
<tr class="separator:a5cad3f09fe77f8bef3de090929610b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c742b7e04f63d5ecf9391aa58c8091b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a4c742b7e04f63d5ecf9391aa58c8091b">sendJoinPacket</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> nextHop, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group, int interfaceId)</td></tr>
<tr class="separator:a4c742b7e04f63d5ecf9391aa58c8091b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dcbc8ec7999b25ff6374e72ca46483"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">sendGraftPacket</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> nextHop, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> src, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> grp, int intId)</td></tr>
<tr class="separator:aa6dcbc8ec7999b25ff6374e72ca46483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d8ed052d865f0818519c5fcae7b63b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ac6d8ed052d865f0818519c5fcae7b63b">sendGraftAckPacket</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pk, const Ptr&lt; const <a class="el" href="classinet_1_1_pim_graft.html">PimGraft</a> &gt; &amp;graftPacket)</td></tr>
<tr class="separator:ac6d8ed052d865f0818519c5fcae7b63b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ee2dbbebcd90a7a936ffbaa26882c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">sendStateRefreshPacket</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> originator, <a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *route, <a class="el" href="structinet_1_1_pim_dm_1_1_downstream_interface.html">DownstreamInterface</a> *downstream, unsigned short ttl)</td></tr>
<tr class="separator:a59ee2dbbebcd90a7a936ffbaa26882c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83705d3d2ef35103bb00421bea1135be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group, <a class="el" href="structinet_1_1_pim_base_1_1_assert_metric.html">AssertMetric</a> metric, <a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *ie)</td></tr>
<tr class="separator:a83705d3d2ef35103bb00421bea1135be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f970f900d38e70cffd59c71ff7b138"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *packet, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> dest, int outInterfaceId)</td></tr>
<tr class="separator:a35f970f900d38e70cffd59c71ff7b138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab98614b24797d2ccc4bed5879a549bf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a> (cMessage *timer, double interval)</td></tr>
<tr class="separator:ab98614b24797d2ccc4bed5879a549bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ca49e1e2c38a26750355efd3b368a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a76ca49e1e2c38a26750355efd3b368a1">cancelAndDeleteTimer</a> (cMessage *&amp;timer)</td></tr>
<tr class="separator:a76ca49e1e2c38a26750355efd3b368a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e1e6b604c350488f23f84036b3c08bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_pim_interface.html">PimInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a3e1e6b604c350488f23f84036b3c08bf">getIncomingInterface</a> (<a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *fromIE)</td></tr>
<tr class="separator:a3e1e6b604c350488f23f84036b3c08bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f878802dd0f1433633138223496c3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_ipv4_multicast_route.html">Ipv4MulticastRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#af3f878802dd0f1433633138223496c3a">findIpv4MulticastRoute</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source)</td></tr>
<tr class="separator:af3f878802dd0f1433633138223496c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06da9329332d00c95e66dc8a80feaadd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group)</td></tr>
<tr class="separator:a06da9329332d00c95e66dc8a80feaadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c6c34f8d56bc8206869887bbe2d0ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ae0c6c34f8d56bc8206869887bbe2d0ef">deleteRoute</a> (<a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> source, <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a> group)</td></tr>
<tr class="separator:ae0c6c34f8d56bc8206869887bbe2d0ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36084231b30a8f40c87656869c0ca56f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a36084231b30a8f40c87656869c0ca56f">clearRoutes</a> ()</td></tr>
<tr class="separator:a36084231b30a8f40c87656869c0ca56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a749883ac4477add7a317c58898bd285f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a> = 0</td></tr>
<tr class="separator:a749883ac4477add7a317c58898bd285f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75e77eea23e59c2ecdd1dc44453ff56"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ad75e77eea23e59c2ecdd1dc44453ff56">pruneLimitInterval</a> = 0</td></tr>
<tr class="separator:ad75e77eea23e59c2ecdd1dc44453ff56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a677cff8a415a0a2ab3b1fd7849795cb9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a677cff8a415a0a2ab3b1fd7849795cb9">overrideInterval</a> = 0</td></tr>
<tr class="separator:a677cff8a415a0a2ab3b1fd7849795cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec01385188b8d2b3e406623d37bd5fb7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aec01385188b8d2b3e406623d37bd5fb7">propagationDelay</a> = 0</td></tr>
<tr class="separator:aec01385188b8d2b3e406623d37bd5fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34653c6769decc2d4157b8b0138a5f12"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a34653c6769decc2d4157b8b0138a5f12">graftRetryInterval</a> = 0</td></tr>
<tr class="separator:a34653c6769decc2d4157b8b0138a5f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c41fa68050da8f4e73307fa6d824cd9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a6c41fa68050da8f4e73307fa6d824cd9">sourceActiveInterval</a> = 0</td></tr>
<tr class="separator:a6c41fa68050da8f4e73307fa6d824cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb9465890654ce415359d766a7ba836"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a> = 0</td></tr>
<tr class="separator:a2eb9465890654ce415359d766a7ba836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353e91d419e54620f9c82d3ce3a3b59e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a> = 0</td></tr>
<tr class="separator:a353e91d419e54620f9c82d3ce3a3b59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2ff43f4ec43ff1eef288ddac1de374"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_pim_dm.html#ae2cc2adf308d1548095c2fcd004b4e18">RoutingTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a></td></tr>
<tr class="separator:a8d2ff43f4ec43ff1eef288ddac1de374"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ab0313acc7ed6dfaaa8562a6c0fb9f3f5"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ab0313acc7ed6dfaaa8562a6c0fb9f3f5">sentGraftPkSignal</a> = registerSignal(&quot;sentGraftPk&quot;)</td></tr>
<tr class="separator:ab0313acc7ed6dfaaa8562a6c0fb9f3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cbeaee827838d1ce5b4bbd18a778b6"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a63cbeaee827838d1ce5b4bbd18a778b6">rcvdGraftPkSignal</a> = registerSignal(&quot;rcvdGraftPk&quot;)</td></tr>
<tr class="separator:a63cbeaee827838d1ce5b4bbd18a778b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2a6ba35ec9e167df29ae996f8b50ab"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aee2a6ba35ec9e167df29ae996f8b50ab">sentGraftAckPkSignal</a> = registerSignal(&quot;sentGraftAckPk&quot;)</td></tr>
<tr class="separator:aee2a6ba35ec9e167df29ae996f8b50ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef34a033c70578e9aa733d055c26355"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a3ef34a033c70578e9aa733d055c26355">rcvdGraftAckPkSignal</a> = registerSignal(&quot;rcvdGraftAckPk&quot;)</td></tr>
<tr class="separator:a3ef34a033c70578e9aa733d055c26355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8cb6b79d3f97d9d8f0b194acc6d0b0a"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ac8cb6b79d3f97d9d8f0b194acc6d0b0a">sentJoinPrunePkSignal</a> = registerSignal(&quot;sentJoinPrunePk&quot;)</td></tr>
<tr class="separator:ac8cb6b79d3f97d9d8f0b194acc6d0b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57052434126665da8d0e4de477f9eff"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#aa57052434126665da8d0e4de477f9eff">rcvdJoinPrunePkSignal</a> = registerSignal(&quot;rcvdJoinPrunePk&quot;)</td></tr>
<tr class="separator:aa57052434126665da8d0e4de477f9eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad777838cea0d298f0b21850fea80d7f0"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ad777838cea0d298f0b21850fea80d7f0">sentAssertPkSignal</a> = registerSignal(&quot;sentAssertPk&quot;)</td></tr>
<tr class="separator:ad777838cea0d298f0b21850fea80d7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c95cdc06d1f3ada9d705e9d66f3935"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#ab9c95cdc06d1f3ada9d705e9d66f3935">rcvdAssertPkSignal</a> = registerSignal(&quot;rcvdAssertPk&quot;)</td></tr>
<tr class="separator:ab9c95cdc06d1f3ada9d705e9d66f3935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9d64b5aec91f1fb81361d85ea5b58d"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#add9d64b5aec91f1fb81361d85ea5b58d">sentStateRefreshPkSignal</a> = registerSignal(&quot;sentStateRefreshPk&quot;)</td></tr>
<tr class="separator:add9d64b5aec91f1fb81361d85ea5b58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821380679dd69c3e6c6b148a71d7956e"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a821380679dd69c3e6c6b148a71d7956e">rcvdStateRefreshPkSignal</a> = registerSignal(&quot;rcvdStateRefreshPk&quot;)</td></tr>
<tr class="separator:a821380679dd69c3e6c6b148a71d7956e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2580364e0af06c9dc67d2717e57e0aaa"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_dm.html#a2580364e0af06c9dc67d2717e57e0aaa">operator&lt;&lt;</a> (std::ostream &amp;out, const <a class="el" href="structinet_1_1_pim_dm_1_1_route.html">PimDm::Route</a> &amp;sourceGroup)</td></tr>
<tr class="separator:a2580364e0af06c9dc67d2717e57e0aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_types_classinet_1_1_pim_base"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classinet_1_1_pim_base')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classinet_1_1_pim_base.html">inet::PimBase</a></td></tr>
<tr class="memitem:a2fa5a16d1f1d6d35078141273fd5d653 inherit pro_types_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653">PimTimerKind</a> { <br />
&#160;&#160;<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653ae0f57a43d1d0bce3b01431e125bcf560">HelloTimer</a> = 1, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a07139e52540d0ece05c1bae615497777">TriggeredHelloDelay</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a784c19eef746ae607b2d851033e554eb">AssertTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a096d03c3851d1556a7da539d772edb75">PruneTimer</a>, 
<br />
&#160;&#160;<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a04ff6d863af2e570c08867c7b6d5516e">PrunePendingTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653ab4c0c7f957646123f7b15901876fbd33">GraftRetryTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653aecd965ddcc135ab3a2ea7f4ac9bea2b3">UpstreamOverrideTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a938ffcbcc8961d448faa04e48f579d61">PruneLimitTimer</a>, 
<br />
&#160;&#160;<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a09015a0b3784453973933f719dbb07c5">SourceActiveTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653acda8b0be69120c250d748548ac5b2192">StateRefreshTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a43b60ef811865e91b1cd657d7da24d6d">KeepAliveTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a8da6fbacf2e518c6be483df14ec49afa">RegisterStopTimer</a>, 
<br />
&#160;&#160;<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a2d8f6807614c46b0458e339efa85e161">ExpiryTimer</a>, 
<a class="el" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653aad6783ecf10d71447999a2dc4f065ddc">JoinTimer</a>
<br />
 }</td></tr>
<tr class="separator:a2fa5a16d1f1d6d35078141273fd5d653 inherit pro_types_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:ae783939fba8872fbd210da66bfdeed42 inherit pro_types_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a> </td></tr>
<tr class="separator:ae783939fba8872fbd210da66bfdeed42 inherit pro_types_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1_pim_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1_pim_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1_pim_base.html">inet::PimBase</a></td></tr>
<tr class="memitem:a5a4de00e77426d0f920cb6ddc67280f0 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_module_ref_by_par.html">ModuleRefByPar</a>&lt; <a class="el" href="classinet_1_1_i_ipv4_routing_table.html">IIpv4RoutingTable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a></td></tr>
<tr class="separator:a5a4de00e77426d0f920cb6ddc67280f0 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3561a5d9c1953b9ec43f99eec6f99b4 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_module_ref_by_par.html">ModuleRefByPar</a>&lt; <a class="el" href="classinet_1_1_i_interface_table.html">IInterfaceTable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#af3561a5d9c1953b9ec43f99eec6f99b4">ift</a></td></tr>
<tr class="separator:af3561a5d9c1953b9ec43f99eec6f99b4 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81794ddabf7a4cd59d212e9bd96ef2f8 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_module_ref_by_par.html">ModuleRefByPar</a>&lt; <a class="el" href="classinet_1_1_pim_interface_table.html">PimInterfaceTable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a></td></tr>
<tr class="separator:a81794ddabf7a4cd59d212e9bd96ef2f8 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cbbb7ed84d3b4013b272809329d482 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_module_ref_by_par.html">ModuleRefByPar</a>&lt; <a class="el" href="classinet_1_1_pim_neighbor_table.html">PimNeighborTable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">pimNbt</a></td></tr>
<tr class="separator:ab1cbbb7ed84d3b4013b272809329d482 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfedf9c9630efb66203ad92132917e3 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">opp_component_ptr&lt; <a class="el" href="classinet_1_1_pim.html">Pim</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a></td></tr>
<tr class="separator:a0cfedf9c9630efb66203ad92132917e3 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd01c19fba7b3bcaee54ed2d5a5082c inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#accd01c19fba7b3bcaee54ed2d5a5082c">isUp</a> = false</td></tr>
<tr class="separator:accd01c19fba7b3bcaee54ed2d5a5082c inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcc8113f51c875c2ccc578beb756eaf inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a3bcc8113f51c875c2ccc578beb756eaf">isEnabled</a> = false</td></tr>
<tr class="separator:a3bcc8113f51c875c2ccc578beb756eaf inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f52d6a1a5052a70631559c59b687c39 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a4f52d6a1a5052a70631559c59b687c39">hostname</a> = nullptr</td></tr>
<tr class="separator:a4f52d6a1a5052a70631559c59b687c39 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f36b60ea1a7f611dffda0890d57446 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a12f36b60ea1a7f611dffda0890d57446">helloPeriod</a> = 0</td></tr>
<tr class="separator:a12f36b60ea1a7f611dffda0890d57446 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad82068c9df43e5e1faf22a93e801f786 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a> = 0</td></tr>
<tr class="separator:ad82068c9df43e5e1faf22a93e801f786 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447b1c27777df63118f1ec8813e444bc inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a447b1c27777df63118f1ec8813e444bc">designatedRouterPriority</a> = 0</td></tr>
<tr class="separator:a447b1c27777df63118f1ec8813e444bc inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c200195975541d9ae54f63f5fbc2ae8 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3c">PimInterface::PimMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a1c200195975541d9ae54f63f5fbc2ae8">mode</a> = static_cast&lt;<a class="el" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3c">PimInterface::PimMode</a>&gt;(0)</td></tr>
<tr class="separator:a1c200195975541d9ae54f63f5fbc2ae8 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8513e97ec32120b58b444609f0d237 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#aac8513e97ec32120b58b444609f0d237">generationID</a> = 0</td></tr>
<tr class="separator:aac8513e97ec32120b58b444609f0d237 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa469e5644d3926c6e6a9f2e898db8fa8 inherit pro_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#aa469e5644d3926c6e6a9f2e898db8fa8">helloTimer</a> = nullptr</td></tr>
<tr class="separator:aa469e5644d3926c6e6a9f2e898db8fa8 inherit pro_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classinet_1_1_operational_mixin"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classinet_1_1_operational_mixin')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classinet_1_1_operational_mixin.html">inet::OperationalMixin&lt; cSimpleModule &gt;</a></td></tr>
<tr class="memitem:aff3758b932e1bddc28ce382481b0d086 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_operational_mixin.html#ae783939fba8872fbd210da66bfdeed42">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#aff3758b932e1bddc28ce382481b0d086">operationalState</a></td></tr>
<tr class="separator:aff3758b932e1bddc28ce382481b0d086 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e44eed4e241b419c83549daba6c5005 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a0e44eed4e241b419c83549daba6c5005">lastChange</a></td></tr>
<tr class="separator:a0e44eed4e241b419c83549daba6c5005 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029c258826c8b0bd8b9b6ec0c2aad6c9 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">Operation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a029c258826c8b0bd8b9b6ec0c2aad6c9">activeOperation</a></td></tr>
<tr class="separator:a029c258826c8b0bd8b9b6ec0c2aad6c9 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8cbf97ebdfe7b61e3d493e8ca0a0e8 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a6e8cbf97ebdfe7b61e3d493e8ca0a0e8">activeOperationTimeout</a></td></tr>
<tr class="separator:a6e8cbf97ebdfe7b61e3d493e8ca0a0e8 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d937bf9af1649f96c7d69ddf48ecc65 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_operational_mixin.html#a7d937bf9af1649f96c7d69ddf48ecc65">activeOperationExtraTimer</a></td></tr>
<tr class="separator:a7d937bf9af1649f96c7d69ddf48ecc65 inherit pro_attribs_classinet_1_1_operational_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_attribs_classinet_1_1_pim_base"><td colspan="2" onclick="javascript:toggleInherit('pro_static_attribs_classinet_1_1_pim_base')"><img src="closed.png" alt="-"/>&#160;Static Protected Attributes inherited from <a class="el" href="classinet_1_1_pim_base.html">inet::PimBase</a></td></tr>
<tr class="memitem:a7316877308fedc6b5701ca30b91dcb18 inherit pro_static_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#a7316877308fedc6b5701ca30b91dcb18">ALL_PIM_ROUTERS_MCAST</a></td></tr>
<tr class="separator:a7316877308fedc6b5701ca30b91dcb18 inherit pro_static_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e2772dabe704c86f2a4f650eb8bc5d inherit pro_static_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#aa7e2772dabe704c86f2a4f650eb8bc5d">sentHelloPkSignal</a> = registerSignal(&quot;sentHelloPk&quot;)</td></tr>
<tr class="separator:aa7e2772dabe704c86f2a4f650eb8bc5d inherit pro_static_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e5abd707a2b35f7c961a7e9bf2919b inherit pro_static_attribs_classinet_1_1_pim_base"><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_pim_base.html#ad3e5abd707a2b35f7c961a7e9bf2919b">rcvdHelloPkSignal</a> = registerSignal(&quot;rcvdHelloPk&quot;)</td></tr>
<tr class="separator:ad3e5abd707a2b35f7c961a7e9bf2919b inherit pro_static_attribs_classinet_1_1_pim_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of PIM-DM protocol (RFC 3973). </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ae2cc2adf308d1548095c2fcd004b4e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2cc2adf308d1548095c2fcd004b4e18">&#9670;&nbsp;</a></span>RoutingTable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="structinet_1_1_pim_base_1_1_source_and_group.html">SourceAndGroup</a>, <a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&gt; <a class="el" href="classinet_1_1_pim_dm.html#ae2cc2adf308d1548095c2fcd004b4e18">inet::PimDm::RoutingTable</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aef1ae7c7c0928028c4428679b7d62309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef1ae7c7c0928028c4428679b7d62309">&#9670;&nbsp;</a></span>PimDm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::PimDm::PimDm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;: <a class="code" href="classinet_1_1_pim_base.html#ad7ad0f25f79720dfaf8c92f86d789e9c">PimBase</a>(<a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bb4452006f1f68d8b92f6fdec390d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb4452006f1f68d8b92f6fdec390d0b">&#9670;&nbsp;</a></span>~PimDm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::PimDm::~PimDm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keyword">delete</span> elem.second;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.clear();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a76ca49e1e2c38a26750355efd3b368a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ca49e1e2c38a26750355efd3b368a1">&#9670;&nbsp;</a></span>cancelAndDeleteTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::cancelAndDeleteTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&amp;&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;{</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    cancelAndDelete(timer);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    timer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36084231b30a8f40c87656869c0ca56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36084231b30a8f40c87656869c0ca56f">&#9670;&nbsp;</a></span>clearRoutes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::clearRoutes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;{</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="comment">// delete Ipv4 routes</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">while</span> (changed) {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getNumMulticastRoutes(); i++) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            Ipv4MulticastRoute *ipv4Route = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getMulticastRoute(i);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            <span class="keywordflow">if</span> (ipv4Route-&gt;getSource() == <span class="keyword">this</span>) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;deleteMulticastRoute(ipv4Route);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="comment">// clear local table</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>)</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="keyword">delete</span> elem.second;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.clear();</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#aa3e6c48dbb044b9760a9fc41ea9221b6">stopPIMRouting()</a>.</p>

</div>
</div>
<a id="ae0c6c34f8d56bc8206869887bbe2d0ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c6c34f8d56bc8206869887bbe2d0ef">&#9670;&nbsp;</a></span>deleteRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::deleteRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;{</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.find(SourceAndGroup(source, group));</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.end()) {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="keyword">delete</span> it-&gt;second;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.erase(it);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a834aafab4f65b7631eb2b06fb70660a7">processSourceActiveTimer()</a>.</p>

</div>
</div>
<a id="af3f878802dd0f1433633138223496c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f878802dd0f1433633138223496c3a">&#9670;&nbsp;</a></span>findIpv4MulticastRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_ipv4_multicast_route.html">Ipv4MulticastRoute</a> * inet::PimDm::findIpv4MulticastRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;{</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="keywordtype">int</span> numRoutes = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getNumMulticastRoutes();</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numRoutes; i++) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        Ipv4MulticastRoute *route = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getMulticastRoute(i);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">if</span> (route-&gt;getSource() == <span class="keyword">this</span> &amp;&amp; route-&gt;getMulticastGroup() == group &amp;&amp; route-&gt;getOrigin() == source)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">return</span> route;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    }</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a834aafab4f65b7631eb2b06fb70660a7">processSourceActiveTimer()</a>.</p>

</div>
</div>
<a id="a06da9329332d00c95e66dc8a80feaadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06da9329332d00c95e66dc8a80feaadd">&#9670;&nbsp;</a></span>findRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">PimDm::Route</a> * inet::PimDm::findRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;{</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.find(SourceAndGroup(source, group));</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">return</span> it != <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>.end() ? it-&gt;second : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a8b965dccffe84f9d4c126131adddac1e">multicastReceiverAdded()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a1400d95f0a885577694c2ad8d94e6587">multicastReceiverRemoved()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a30ce43a858513e0e0144fedfac7fb672">processAssertPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">processGraft()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a7b46955bf5db68c6fd0b6601eb6bd9f0">processGraftAckPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">processJoinPrunePacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#acde5fdb6dd9aa6db22d041dcf811212a">rpfInterfaceHasChanged()</a>.</p>

</div>
</div>
<a id="a3e1e6b604c350488f23f84036b3c08bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e1e6b604c350488f23f84036b3c08bf">&#9670;&nbsp;</a></span>getIncomingInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_pim_interface.html">PimInterface</a> * inet::PimDm::getIncomingInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *&#160;</td>
          <td class="paramname"><em>fromIE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;{</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">if</span> (fromIE)</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getInterfaceById(fromIE-&gt;getInterfaceId());</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<a id="af6626ce9a0f63096d1927559d09b0187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6626ce9a0f63096d1927559d09b0187">&#9670;&nbsp;</a></span>graftPruneStateString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string inet::PimDm::graftPruneStateString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957">UpstreamInterface::GraftPruneState</a>&#160;</td>
          <td class="paramname"><em>ps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;{</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">ps</a> == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a>)</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;FORWARDING&quot;</span>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">ps</a> == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>)</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PRUNED&quot;</span>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">ps</a> == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>)</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;ACK_PENDING&quot;</span>;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="namespaceinet.html#aef73b9f5a0509c914cd9654b6a71f615">inet::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="a0f433828ecc5d44eac770bd4409dc31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f433828ecc5d44eac770bd4409dc31d">&#9670;&nbsp;</a></span>handleCrashOperation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::handleCrashOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1_pim_base.html#a28992b0efd9c0a68a97b142faea1991f">inet::PimBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#aa3e6c48dbb044b9760a9fc41ea9221b6">stopPIMRouting</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classinet_1_1_pim_base.html#a28992b0efd9c0a68a97b142faea1991f">PimBase::handleCrashOperation</a>(operation);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77ec3dacee8cfc7e2fe5e7a1e9779776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ec3dacee8cfc7e2fe5e7a1e9779776">&#9670;&nbsp;</a></span>handleMessageWhenUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::handleMessageWhenUp </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classinet_1_1_operational_mixin.html#ad83b551ee697e7a32cd79461161706eb">inet::OperationalMixin&lt; cSimpleModule &gt;</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span> (msg-&gt;isSelfMessage()) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">switch</span> (msg-&gt;getKind()) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653ae0f57a43d1d0bce3b01431e125bcf560">HelloTimer</a>:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <a class="code" href="classinet_1_1_pim_base.html#a1bcf6958f1485d104cb9f4d01c8e73b7">processHelloTimer</a>(msg);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a784c19eef746ae607b2d851033e554eb">AssertTimer</a>:</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#adc1e7efc2330095aefc0d6372226f0ba">processAssertTimer</a>(msg);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a096d03c3851d1556a7da539d772edb75">PruneTimer</a>:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#af4fe2c439d68554463f72f37ea283c30">processPruneTimer</a>(msg);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a04ff6d863af2e570c08867c7b6d5516e">PrunePendingTimer</a>:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">processPrunePendingTimer</a>(msg);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653ab4c0c7f957646123f7b15901876fbd33">GraftRetryTimer</a>:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a238eded91259644d869cc099401e3bd3">processGraftRetryTimer</a>(msg);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653aecd965ddcc135ab3a2ea7f4ac9bea2b3">UpstreamOverrideTimer</a>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a740c582e478e33ec2a443b3efaf2fe13">processOverrideTimer</a>(msg);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a938ffcbcc8961d448faa04e48f579d61">PruneLimitTimer</a>:</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a09015a0b3784453973933f719dbb07c5">SourceActiveTimer</a>:</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a834aafab4f65b7631eb2b06fb70660a7">processSourceActiveTimer</a>(msg);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653acda8b0be69120c250d748548ac5b2192">StateRefreshTimer</a>:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">processStateRefreshTimer</a>(msg);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;PimDm: unknown self message: %s (%s)&quot;</span>, msg-&gt;getName(), msg-&gt;getClassName());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        Packet *pk = check_and_cast&lt;Packet *&gt;(msg);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = pk-&gt;peekAtFront&lt;PimPacket&gt;();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (pkt == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;PimDm: received unknown message: %s (%s).&quot;</span>, msg-&gt;getName(), msg-&gt;getClassName());</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1_pim_base.html#a3bcc8113f51c875c2ccc578beb756eaf">isEnabled</a>) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;PIM-DM is disabled, dropping packet.\n&quot;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">switch</span> (pkt-&gt;getType()) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba06fa98d1b31c4a5d244f8e0a8aaa7246">Hello</a>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="classinet_1_1_pim_base.html#a8a7673e74c2424461457cc8bf7f4c601">processHelloPacket</a>(pk);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba3e92c0bda3ce2133f3fd6ef205bbd523">JoinPrune</a>:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">processJoinPrunePacket</a>(pk);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba210219a229179e5abaf8952322b72906">Assert</a>:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a30ce43a858513e0e0144fedfac7fb672">processAssertPacket</a>(pk);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7bac67da5397dff69feeed6664b109caeb7">Graft</a>:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#ade27fe4fab63f35402dee1606021dfd2">processGraftPacket</a>(pk);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba798eb59ab6d36c0caa5491f7fcfbe49f">GraftAck</a>:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a7b46955bf5db68c6fd0b6601eb6bd9f0">processGraftAckPacket</a>(pk);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba7c6176bfa8314685a044f11c207585c0">StateRefresh</a>:</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket</a>(pk);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                EV_WARN &lt;&lt; <span class="stringliteral">&quot;Dropping packet &quot;</span> &lt;&lt; pk-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="add68701acda5bad784123c3bfd019ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add68701acda5bad784123c3bfd019ea4">&#9670;&nbsp;</a></span>handleStartOperation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::handleStartOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1_pim_base.html#a5c31127f641ddd3b4e4a0dec734c2d95">inet::PimBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classinet_1_1_pim_base.html#a5c31127f641ddd3b4e4a0dec734c2d95">PimBase::handleStartOperation</a>(operation);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// subscribe for notifications</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_pim_base.html#a3bcc8113f51c875c2ccc578beb756eaf">isEnabled</a>) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        cModule *host = <a class="code" href="namespaceinet.html#acd0d847a7b6e0f156094fbdd101a00a6">findContainingNode</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span> (!host)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;PimDm: containing node not found.&quot;</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#a8e23e62c079750cf4d16a055c659f8ee">ipv4NewMulticastSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#af1b31d31af3fa4e1864456013d2c7a24">ipv4MulticastGroupRegisteredSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#a034f4a0d0428662dff5e146f0ea4a52d">ipv4MulticastGroupUnregisteredSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#aadfe4228fe784f34518d3b1b08cd33c8">ipv4DataOnNonrpfSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#a214add6d3d183561fb234bb129b52353">ipv4DataOnRpfSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#ad11e66dfc95132b344c09fb8d95d4abb">routeAddedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        host-&gt;subscribe(<a class="code" href="namespaceinet.html#a523c4289f8a941621bb1ab06f839baaa">interfaceStateChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        WATCH_PTRMAP(<a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae756abd9e7b9c92b2dfdf84f6671764b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae756abd9e7b9c92b2dfdf84f6671764b">&#9670;&nbsp;</a></span>handleStopOperation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::handleStopOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1_pim_base.html#a309c315379134ad80ef5008ed6afec04">inet::PimBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// TODO send PIM Hellos to neighbors with 0 HoldTime</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#aa3e6c48dbb044b9760a9fc41ea9221b6">stopPIMRouting</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classinet_1_1_pim_base.html#a309c315379134ad80ef5008ed6afec04">PimBase::handleStopOperation</a>(operation);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7219cb4556961b4682a135349cc34b71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7219cb4556961b4682a135349cc34b71">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1_pim_base.html#aaba6f336f6ac07584847f30d59e2ddd3">inet::PimBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classinet_1_1_pim_base.html#aaba6f336f6ac07584847f30d59e2ddd3">PimBase::initialize</a>(stage);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (stage == <a class="code" href="namespaceinet.html#a6be747ab6f195055e109f27f8462e52e">INITSTAGE_LOCAL</a>) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a> = par(<span class="stringliteral">&quot;pruneInterval&quot;</span>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#ad75e77eea23e59c2ecdd1dc44453ff56">pruneLimitInterval</a> = par(<span class="stringliteral">&quot;pruneLimitInterval&quot;</span>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a677cff8a415a0a2ab3b1fd7849795cb9">overrideInterval</a> = par(<span class="stringliteral">&quot;overrideInterval&quot;</span>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#aec01385188b8d2b3e406623d37bd5fb7">propagationDelay</a> = par(<span class="stringliteral">&quot;propagationDelay&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a34653c6769decc2d4157b8b0138a5f12">graftRetryInterval</a> = par(<span class="stringliteral">&quot;graftRetryInterval&quot;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a6c41fa68050da8f4e73307fa6d824cd9">sourceActiveInterval</a> = par(<span class="stringliteral">&quot;sourceActiveInterval&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a> = par(<span class="stringliteral">&quot;stateRefreshInterval&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a> = par(<span class="stringliteral">&quot;assertTime&quot;</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ec89e6bcbea4314b0855ec734635685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec89e6bcbea4314b0855ec734635685">&#9670;&nbsp;</a></span>multicastPacketArrivedOnNonRpfInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::multicastPacketArrivedOnNonRpfInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interfaceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method has to solve the problem when multicast data appears on non-RPF interface. </p>
<p>It can happen when there is loop in the network. In this case, router has to prune from the neighbor, so it sends Prune message. </p>
<div class="fragment"><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;{</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Received multicast datagram (source=&quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot;, group=&quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;) on non-RPF interface: &quot;</span> &lt;&lt; interfaceId &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source, group);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    ASSERT(route);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    DownstreamInterface *downstream = route-&gt;findDownstreamInterfaceByInterfaceId(interfaceId);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (!downstream)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="comment">// in case of p2p link, send prune</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="comment">// FIXME There should be better indicator of P2P link</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">pimNbt</a>-&gt;getNumNeighbors(interfaceId) == 1) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="comment">// send Prune msg to the neighbor who sent these multicast data</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        Ipv4Address nextHop = (<a class="code" href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">pimNbt</a>-&gt;getNeighbor(interfaceId, 0))-&gt;getAddress();</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(nextHop, source, group, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>, interfaceId);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="comment">// the incoming interface has to change its state to Pruned</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>) {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            downstream-&gt;startPruneTimer(<a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            <span class="comment">// if there is no outgoing interface, Prune msg has to be sent on upstream</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="keywordflow">if</span> (route-&gt;isOilistNull()) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                EV &lt;&lt; <span class="stringliteral">&quot;Route is not forwarding any more, send Prune to upstream&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                <span class="keywordflow">if</span> (!upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                    <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(upstream-&gt;rpfNeighbor(), source, group, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// Assert State Machine; event: An (S,G) data packet arrives on downstream interface I</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::NO_ASSERT_INFO) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="comment">// An (S,G) data packet arrived on a downstream interface.  It is</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <span class="comment">// optimistically assumed that this router will be the Assert winner</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="comment">// for this (S,G).  The Assert state machine MUST transition to the</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <span class="comment">// &quot;I am Assert Winner&quot; state, send an Assert(S,G) to interface I,</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="comment">// store its own address and metric as the Assert Winner, and set</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="comment">// the Assert_Timer (AT(S,G,I) to Assert_Time, thereby initiating</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="comment">// the Assert negotiation for (S,G).</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        downstream-&gt;assertState = DownstreamInterface::I_WON_ASSERT;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        downstream-&gt;winnerMetric = route-&gt;metric.setAddress(downstream-&gt;ie-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(source, group, route-&gt;metric, downstream-&gt;ie);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        downstream-&gt;startAssertTimer(<a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_WON_ASSERT) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="comment">// An (S,G) data packet arrived on a downstream interface.  The</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="comment">// Assert state machine remains in the &quot;I am Assert Winner&quot; state.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="comment">// The router MUST send an Assert(S,G) to interface I and set the</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="comment">// Assert Timer (AT(S,G,I) to Assert_Time.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(source, group, route-&gt;metric, downstream-&gt;ie);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(downstream-&gt;assertTimer, <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<a id="a6d2c35f2cfb653c2afed540ebc6068ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d2c35f2cfb653c2afed540ebc6068ed">&#9670;&nbsp;</a></span>multicastPacketArrivedOnRpfInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::multicastPacketArrivedOnRpfInterface </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interfaceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>ttl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;{</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Multicast datagram arrived: source=&quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot;, group=&quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source, group);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    ASSERT(route);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// RFC 3973 4.5.2.2</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// Receive Data Packet from S addressed to G</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">//      The router remains in the Originator (O) state and MUST reset</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="comment">//      SAT(S,G) to SourceLifetime.  The router SHOULD increase its</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">//      recorded TTL to match the TTL of the packet, if the packet&#39;s TTL</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">//      is larger than the previously recorded TTL.  A router MAY record</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="comment">//      the TTL based on an implementation specific sampling policy to</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="comment">//      avoid examining the TTL of every multicast packet it handles.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// Is source directly connected?</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="comment">// State Refresh Originator state machine event: Receive Data from S AND S directly connected</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;originatorState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a9270d63e68b1354ada748328a17a42cc">UpstreamInterface::NOT_ORIGINATOR</a>) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            upstream-&gt;originatorState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9">UpstreamInterface::ORIGINATOR</a>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            PimInterface *pimInterface = <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getInterfaceById(upstream-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordflow">if</span> (pimInterface &amp;&amp; pimInterface-&gt;getSR())</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                upstream-&gt;startStateRefreshTimer();</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(upstream-&gt;sourceActiveTimer, <a class="code" href="classinet_1_1_pim_dm.html#a6c41fa68050da8f4e73307fa6d824cd9">sourceActiveInterval</a>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="comment">// record max TTL seen, it is used in StateRefresh messages</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        upstream-&gt;maxTtlSeen = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">std::max</a>(upstream-&gt;maxTtlSeen, ttl);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// upstream state transition</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="comment">// Data Packet arrives on RPF_Interface(S) AND olist(S,G) == nullptr AND S is NOT directly connected ?</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;ie-&gt;getInterfaceId() == interfaceId &amp;&amp; route-&gt;isOilistNull() &amp;&amp; !upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Route does not have any outgoing interface and source is not directly connected.\n&quot;</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">switch</span> (upstream-&gt;graftPruneState) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a>:</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                <span class="comment">// The Upstream(S,G) state machine MUST transition to the Pruned (P)</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                <span class="comment">// state, send a Prune(S,G) to RPF&#39;(S), and set PLT(S,G) to t_limit seconds.</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(upstream-&gt;rpfNeighbor(), source, group, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                upstream-&gt;startPruneLimitTimer();</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>:</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                <span class="comment">// Either another router on the LAN desires traffic from S addressed</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                <span class="comment">// to G or a previous Prune was lost.  To prevent generating a</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <span class="comment">// Prune(S,G) in response to every data packet, the PruneLimit Timer</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                <span class="comment">// (PLT(S,G)) is used.  Once the PLT(S,G) expires, the router needs</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="comment">// to send another prune in response to a data packet not received</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                <span class="comment">// directly from the source.  A Prune(S,G) MUST be sent to RPF&#39;(S),</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                <span class="comment">// and the PLT(S,G) MUST be set to t_limit.</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                <span class="comment">// if GRT is running now, do not send Prune msg</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <span class="keywordflow">if</span> (!upstream-&gt;isPruneLimitTimerRunning()) {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(upstream-&gt;rpfNeighbor(), source, group, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                    upstream-&gt;startPruneLimitTimer();</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>:</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    }</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<a id="a8b965dccffe84f9d4c126131adddac1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b965dccffe84f9d4c126131adddac1e">&#9670;&nbsp;</a></span>multicastReceiverAdded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::multicastReceiverAdded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *&#160;</td>
          <td class="paramname"><em>ie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>newAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;{</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Multicast receiver added for group &quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getNumMulticastRoutes(); i++) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        Ipv4MulticastRoute *ipv4Route = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getMulticastRoute(i);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">// check group</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">if</span> (ipv4Route-&gt;getSource() != <span class="keyword">this</span> || ipv4Route-&gt;getMulticastGroup() != group)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(ipv4Route-&gt;getOrigin(), group);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        ASSERT(route);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="comment">// check on RPF interface</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;ie == ie)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="comment">// is interface in list of outgoing interfaces?</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        DownstreamInterface *downstream = route-&gt;findDownstreamInterfaceByInterfaceId(ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> (downstream) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;Interface is already on list of outgoing interfaces&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="comment">// create new downstream data</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;Interface is not on list of outgoing interfaces yet, it will be added&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            downstream = route-&gt;createDownstreamInterface(ie);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            ipv4Route-&gt;addOutInterface(<span class="keyword">new</span> PimDmOutInterface(ie, downstream));</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        downstream-&gt;setHasConnectedReceivers(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="comment">// fire upstream state machine event</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; downstream-&gt;isInOlist())</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a>(route);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<a id="a1400d95f0a885577694c2ad8d94e6587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1400d95f0a885577694c2ad8d94e6587">&#9670;&nbsp;</a></span>multicastReceiverRemoved()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::multicastReceiverRemoved </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *&#160;</td>
          <td class="paramname"><em>ie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method process notification about multicast groups removed from interface. </p>
<p>For each old address it tries to find route. If there is route, it finds interface in list of outgoing interfaces. If the interface is in the list it will be removed. If the router was not pruned and there is no outgoing interface, the router will prune from the multicast tree. </p>
<div class="fragment"><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;{</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;No more receiver for group &quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot; on interface &#39;&quot;</span> &lt;&lt; ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot;&#39;.\n&quot;</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="comment">// delete pimInt from outgoing interfaces of multicast routes for group</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getNumMulticastRoutes(); i++) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        Ipv4MulticastRoute *ipv4Route = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getMulticastRoute(i);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordflow">if</span> (ipv4Route-&gt;getSource() == <span class="keyword">this</span> &amp;&amp; ipv4Route-&gt;getMulticastGroup() == group) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(ipv4Route-&gt;getOrigin(), group);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            ASSERT(route);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <span class="comment">// remove pimInt from the list of outgoing interfaces</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            DownstreamInterface *downstream = route-&gt;findDownstreamInterfaceByInterfaceId(ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            <span class="keywordflow">if</span> (downstream) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                <span class="keywordtype">bool</span> wasInOlist = downstream-&gt;isInOlist();</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                downstream-&gt;setHasConnectedReceivers(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                <span class="keywordflow">if</span> (wasInOlist &amp;&amp; !downstream-&gt;isInOlist()) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Removed interface &#39;&quot;</span> &lt;&lt; ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot;&#39; from the outgoing interface list of route &quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                    <span class="comment">// fire upstream state machine event</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                    <span class="keywordflow">if</span> (route-&gt;isOilistNull())</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                        <a class="code" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent</a>(route);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<a id="adc9bbb7b5f928b65c0e65698d1815478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9bbb7b5f928b65c0e65698d1815478">&#9670;&nbsp;</a></span>numInitStages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int inet::PimDm::numInitStages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classinet_1_1_pim_base.html#a1b1c28ddecc319dd7518cb545aed1cc7">inet::PimBase</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_init_stage_registry_8h.html#a6dec686281914f336c1b4dcafdbcf9df">NUM_INIT_STAGES</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ace4eef987e1d5d8b86b895526b44b750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4eef987e1d5d8b86b895526b44b750">&#9670;&nbsp;</a></span>originatorStateString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string inet::PimDm::originatorStateString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3">UpstreamInterface::OriginatorState</a>&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;{</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">if</span> (os == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a9270d63e68b1354ada748328a17a42cc">UpstreamInterface::NOT_ORIGINATOR</a>)</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;NOT_ORIGINATOR&quot;</span>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (os == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9">UpstreamInterface::ORIGINATOR</a>)</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;ORIGINATOR&quot;</span>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="namespaceinet.html#aef73b9f5a0509c914cd9654b6a71f615">inet::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="addbdf6c401624231f6421faa6e0b345f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addbdf6c401624231f6421faa6e0b345f">&#9670;&nbsp;</a></span>processAssert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processAssert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_base_1_1_interface.html">Interface</a> *&#160;</td>
          <td class="paramname"><em>downstream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_base_1_1_assert_metric.html">AssertMetric</a>&#160;</td>
          <td class="paramname"><em>receivedMetric</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stateRefreshInterval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    Route *route = check_and_cast&lt;Route *&gt;(incomingInterface-&gt;owner);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="comment">// Assert State Machine</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    AssertMetric currentMetric = incomingInterface-&gt;assertState == <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa08ba3520ab17d7564c5ddf0490837e3d">Interface::NO_ASSERT_INFO</a> ?</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        route-&gt;metric.setAddress(incomingInterface-&gt;ie-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress()) :</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        incomingInterface-&gt;winnerMetric;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordtype">bool</span> isEqual = receivedMetric == currentMetric;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordtype">bool</span> isBetter = receivedMetric &lt; currentMetric;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordtype">bool</span> couldAssert = incomingInterface != upstream;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// event: Received Preferred Assert</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> (isBetter || isEqual) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (incomingInterface-&gt;assertState == <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa08ba3520ab17d7564c5ddf0490837e3d">Interface::NO_ASSERT_INFO</a>) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            <span class="comment">// The received Assert or State Refresh has a better metric than</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="comment">// this router&#39;s, and therefore the Assert state machine MUST</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <span class="comment">// transition to the &quot;I am Assert Loser&quot; state and store the Assert</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="comment">// Winner&#39;s address and metric.  If the metric was received in an</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="comment">// Assert, the router MUST set the Assert Timer (AT(S,G,I)) to</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <span class="comment">// Assert_Time.  If the metric was received in a State Refresh, the</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="comment">// router MUST set the Assert Timer (AT(S,G,I)) to three times the</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="comment">// received State Refresh Interval.  If CouldAssert(S,G,I) == TRUE,</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="comment">// the router MUST also multicast a Prune(S,G) to the Assert winner</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="comment">// with a Prune Hold Time equal to the Assert Timer and evaluate any</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="comment">// changes in its Upstream(S,G) state machine.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            ASSERT(isBetter);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Received better metrics, going to I_LOST_ASSERT state.\n&quot;</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            incomingInterface-&gt;assertState = <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa273c3fc1af6cf28fbb22f3430ee6a9c2">Interface::I_LOST_ASSERT</a>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            incomingInterface-&gt;winnerMetric = receivedMetric;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a> = <a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a> &gt; 0 ? 3 * <a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a> : this-&gt;<a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            incomingInterface-&gt;startAssertTimer(<a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="keywordflow">if</span> (couldAssert)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(incomingInterface-&gt;winnerMetric.address, route-&gt;source, route-&gt;group, <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>, incomingInterface-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="comment">// upstream state machine</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="keywordflow">if</span> (upstream-&gt;graftPruneState != <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; route-&gt;isOilistNull())</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent</a>(route);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (incomingInterface-&gt;assertState == <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa82e4b79e46dd71b02e04f9ff5293fda1">Interface::I_WON_ASSERT</a>) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="comment">// An (S,G) Assert is received that has a better</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="comment">// metric than this router&#39;s metric for S on interface I. The</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="comment">// Assert state machine MUST transition to &quot;I am Assert Loser&quot; state</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="comment">// and store the new Assert Winner&#39;s address and metric. The router MUST set the Assert</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="comment">// Timer (AT(S,G,I)) to Assert_Time. The router MUST also</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="comment">// multicast a Prune(S,G) to the Assert winner, with a Prune Hold</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="comment">// Time equal to the Assert Timer, and evaluate any changes in its</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="comment">// Upstream(S,G) state machine.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            ASSERT(isBetter);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Received better metrics, going to I_LOST_ASSERT state.\n&quot;</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            incomingInterface-&gt;assertState = DownstreamInterface::I_LOST_ASSERT;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            incomingInterface-&gt;winnerMetric = receivedMetric;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(incomingInterface-&gt;assertTimer, <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(incomingInterface-&gt;winnerMetric.address, route-&gt;source, route-&gt;group, <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>, incomingInterface-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <span class="comment">// upstream state machine</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <span class="keywordflow">if</span> (upstream-&gt;graftPruneState != <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; route-&gt;isOilistNull())</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent</a>(route);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (incomingInterface-&gt;assertState == <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa273c3fc1af6cf28fbb22f3430ee6a9c2">Interface::I_LOST_ASSERT</a>) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <span class="comment">// An Assert is received that has a metric better</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="comment">// than or equal to that of the current Assert winner.  The Assert</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="comment">// state machine remains in Loser (L) state.  If the metric was</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="comment">// received in an Assert, the router MUST set the Assert Timer</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="comment">// (AT(S,G,I)) to Assert_Time.  The router MUST set the Assert Timer (AT(S,G,I))</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="comment">// to three times the received State Refresh Interval.  If the</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="comment">// metric is better than the current Assert Winner, the router MUST</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="comment">// store the address and metric of the new Assert Winner, and if</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <span class="comment">// CouldAssert(S,G,I) == TRUE, the router MUST multicast a</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="comment">// Prune(S,G) to the new Assert winner.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Received better metrics, stay in I_LOST_ASSERT state.\n&quot;</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(incomingInterface-&gt;assertTimer, <a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a> &gt; 0 ? 3 * <a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a> : <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <span class="keywordflow">if</span> (isBetter) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                incomingInterface-&gt;winnerMetric = receivedMetric;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                <span class="keywordflow">if</span> (couldAssert)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                    <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(incomingInterface-&gt;winnerMetric.address, route-&gt;source, route-&gt;group, <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>, incomingInterface-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">// event: Receive Inferior Assert from Assert Winner</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (receivedMetric.address == incomingInterface-&gt;winnerMetric.address) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> (incomingInterface-&gt;assertState == <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa273c3fc1af6cf28fbb22f3430ee6a9c2">Interface::I_LOST_ASSERT</a>) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="comment">// An Assert is received from the current Assert</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="comment">// winner that is worse than this router&#39;s metric for S (typically,</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="comment">// the winner&#39;s metric became worse).  The Assert state machine MUST</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <span class="comment">// transition to NoInfo (NI) state and cancel AT(S,G,I).  The router</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="comment">// MUST delete the previous Assert Winner&#39;s address and metric and</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="comment">// evaluate any possible transitions to its Upstream(S,G) state</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <span class="comment">// machine.  Usually this router will eventually re-assert and win</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            <span class="comment">// when data packets from S have started flowing again.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Assert winner lost best route, going to NO_ASSERT_INFO state.\n&quot;</span>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            incomingInterface-&gt;deleteAssertInfo();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="comment">// upstream state machine</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; !route-&gt;isOilistNull())</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                <a class="code" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a>(route);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">// event: Receive Inferior Assert from non-Assert Winner AND CouldAssert==TRUE</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (couldAssert) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">if</span> (incomingInterface-&gt;assertState == <a class="code" href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa08ba3520ab17d7564c5ddf0490837e3d">Interface::NO_ASSERT_INFO</a>) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="comment">// An Assert or State Refresh is received for (S,G) that is inferior</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            <span class="comment">// to our own assert metric on interface I. The Assert state machine</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="comment">// MUST transition to the &quot;I am Assert Winner&quot; state, send an</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="comment">// Assert(S,G) to interface I, store its own address and metric as</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="comment">// the Assert Winner, and set the Assert Timer (AT(S,G,I)) to</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="comment">// Assert_Time.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Received inferior assert metrics, going to I_WON_ASSERT state.\n&quot;</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            incomingInterface-&gt;assertState = DownstreamInterface::I_WON_ASSERT;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(route-&gt;source, route-&gt;group, route-&gt;metric, incomingInterface-&gt;ie);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            incomingInterface-&gt;startAssertTimer(<a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (incomingInterface-&gt;assertState == DownstreamInterface::I_WON_ASSERT) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="comment">// An (S,G) Assert is received containing a metric for S that is</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="comment">// worse than this router&#39;s metric for S.  Whoever sent the Assert</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="comment">// is in error.  The router MUST send an Assert(S,G) to interface I</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="comment">// and reset the Assert Timer (AT(S,G,I)) to Assert_Time.</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Received inferior assert metrics, stay in I_WON_ASSERT state.\n&quot;</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(route-&gt;source, route-&gt;group, route-&gt;metric, incomingInterface-&gt;ie);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(incomingInterface-&gt;assertTimer, <a class="code" href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">assertTime</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a30ce43a858513e0e0144fedfac7fb672">processAssertPacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>.</p>

</div>
</div>
<a id="a30ce43a858513e0e0144fedfac7fb672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ce43a858513e0e0144fedfac7fb672">&#9670;&nbsp;</a></span>processAssertPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processAssertPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = pk-&gt;peekAtFront&lt;PimAssert&gt;();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">int</span> incomingInterfaceId = pk-&gt;getTag&lt;InterfaceInd&gt;()-&gt;getInterfaceId();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    Ipv4Address srcAddrFromTag = pk-&gt;getTag&lt;<a class="code" href="_i_udp-gates_8txt.html#a34a7fa413a34f527bad65710de8f684d">L3AddressInd</a>&gt;()-&gt;getSrcAddress().toIpv4();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    Ipv4Address source = pkt-&gt;getSourceAddress().unicastAddress.toIpv4();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    Ipv4Address group = pkt-&gt;getGroupAddress().groupAddress.toIpv4();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    AssertMetric receivedMetric = AssertMetric(pkt-&gt;getMetricPreference(), pkt-&gt;getMetric(), srcAddrFromTag);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source, group);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    ASSERT(route); <span class="comment">// TODO create S,G state?</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    Interface *incomingInterface = route-&gt;upstreamInterface-&gt;getInterfaceId() == incomingInterfaceId ?</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keyword">static_cast&lt;</span>Interface *<span class="keyword">&gt;</span>(route-&gt;upstreamInterface) :</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keyword">static_cast&lt;</span>Interface *<span class="keyword">&gt;</span>(route-&gt;findDownstreamInterfaceByInterfaceId(incomingInterfaceId));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    ASSERT(incomingInterface);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Received Assert(S=&quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot;, G=&quot;</span> &lt;&lt; group</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;) packet on interface &#39;&quot;</span> &lt;&lt; incomingInterface-&gt;ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot;&#39;.\n&quot;</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#ab9c95cdc06d1f3ada9d705e9d66f3935">rcvdAssertPkSignal</a>, pk);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert</a>(incomingInterface, receivedMetric, 0);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="adc1e7efc2330095aefc0d6372226f0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1e7efc2330095aefc0d6372226f0ba">&#9670;&nbsp;</a></span>processAssertTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processAssertTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    Interface *interfaceData = <span class="keyword">static_cast&lt;</span>Interface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    ASSERT(timer == interfaceData-&gt;assertTimer);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    ASSERT(interfaceData-&gt;assertState != DownstreamInterface::NO_ASSERT_INFO);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    Route *route = check_and_cast&lt;Route *&gt;(interfaceData-&gt;owner);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;AssertTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; interface=&quot;</span> &lt;&lt; interfaceData-&gt;ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot; has expired.\n&quot;</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Assert State Machine; event: AT(S,G,I) expires</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// The Assert state machine MUST transition to NoInfo (NI) state.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// The router MUST delete the Assert Winner&#39;s address and metric.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// If CouldAssert == TRUE, the router MUST evaluate any possible</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// transitions to its Upstream(S,G) state machine.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Going into NO_ASSERT_INFO state.\n&quot;</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    interfaceData-&gt;deleteAssertInfo(); <span class="comment">// deletes timer</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// upstream state machine transition</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (interfaceData != upstream) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordtype">bool</span> isOlistNull = route-&gt;isOilistNull();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; !isOlistNull)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a>(route);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upstream-&gt;graftPruneState != <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; isOlistNull)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent</a>(route);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="a8660bf1abb940cc834e6bf7afc59bd2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8660bf1abb940cc834e6bf7afc59bd2e">&#9670;&nbsp;</a></span>processGraft()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processGraft </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>incomingInterfaceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method is used to process <a class="el" href="classinet_1_1_pim_graft.html" title="Class generated from inet/routing/pim/PimPacket.msg:184 by opp_msgtool.">PimGraft</a> packet. </p>
<p><a class="el" href="classinet_1_1_packet.html" title="This class represents network packets, datagrams, frames and other kinds of data used by communicatio...">Packet</a> means that downstream router wants to join to multicast tree, so the packet cannot come to RPF interface. Router finds correct outgoig interface towards downstream router. Change its state to forward if it was not before and cancel Prune Timer. If route was in pruned state, router will send also Graft message to join multicast tree. </p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Processing Graft(S=&quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot;, G=&quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;), sender=&quot;</span> &lt;&lt; sender &lt;&lt; <span class="stringliteral">&quot;incoming if=&quot;</span> &lt;&lt; incomingInterfaceId &lt;&lt; endl;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source, group);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    ASSERT(route);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// check if message come to non-RPF interface</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;ie-&gt;getInterfaceId() == incomingInterfaceId) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;ERROR: Graft message came to RPF interface.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    DownstreamInterface *downstream = route-&gt;findDownstreamInterfaceByInterfaceId(incomingInterfaceId);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (!downstream)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// Downstream Interface State Machine</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// Note: GraftAck is sent in processGraftPacket()</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordtype">bool</span> olistChanged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">switch</span> (downstream-&gt;pruneState) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>:</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="comment">// do nothing</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0">DownstreamInterface::PRUNE_PENDING</a>:</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            downstream-&gt;stopPrunePendingTimer();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>:</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;Interface &quot;</span> &lt;&lt; downstream-&gt;ie-&gt;getInterfaceId() &lt;&lt; <span class="stringliteral">&quot; transit to forwarding state (Graft).&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            downstream-&gt;stopPruneTimer();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            olistChanged = downstream-&gt;isInOlist();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (olistChanged)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a>(route);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Assert State Machine; event: Receive Graft(S,G)</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_LOST_ASSERT) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">// A Graft(S,G) message was received on</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="comment">// interface I with its upstream neighbor address set to the</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="comment">// router&#39;s address on I.  The router MUST send an Assert(S,G) on</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="comment">// the receiving interface I to initiate an Assert negotiation. The</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="comment">// Assert state machine remains in the Assert Loser(L) state.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment">// The router MUST respond with a GraftAck(S,G).</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(route-&gt;source, route-&gt;group, route-&gt;metric, downstream-&gt;ie);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#ade27fe4fab63f35402dee1606021dfd2">processGraftPacket()</a>.</p>

</div>
</div>
<a id="a7b46955bf5db68c6fd0b6601eb6bd9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b46955bf5db68c6fd0b6601eb6bd9f0">&#9670;&nbsp;</a></span>processGraftAckPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processGraftAckPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = pk-&gt;peekAtFront&lt;PimGraft&gt;();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Received GraftAck packet.\n&quot;</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#a3ef34a033c70578e9aa733d055c26355">rcvdGraftAckPkSignal</a>, pk);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    Ipv4Address destAddress = pk-&gt;getTag&lt;<a class="code" href="_i_udp-gates_8txt.html#a34a7fa413a34f527bad65710de8f684d">L3AddressInd</a>&gt;()-&gt;getDestAddress().toIpv4();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; pkt-&gt;getJoinPruneGroupsArraySize(); i++) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keyword">const</span> JoinPruneGroup&amp; group = pkt-&gt;getJoinPruneGroups(i);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        Ipv4Address groupAddr = group.getGroupAddress().groupAddress.toIpv4();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; group.getJoinedSourceAddressArraySize(); j++) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; source = group.getJoinedSourceAddress(j);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source.sourceAddress.toIpv4(), groupAddr);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            ASSERT(route);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="comment">// If the destination address of the GraftAck packet is not</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="comment">// the address of the upstream interface, then no state transition occur.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">if</span> (destAddress != upstream-&gt;ie-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress())</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="comment">// upstream state transition</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="comment">// event: Receive GraftAck(S,G) from RPF&#39;(S)</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                <span class="comment">// A GraftAck is received from  RPF&#39;(S).  The GraftRetry Timer MUST</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="comment">// be cancelled, and the Upstream(S,G) state machine MUST transition</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="comment">// to the Forwarding(F) state.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                ASSERT(upstream-&gt;graftRetryTimer);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                cancelAndDelete(upstream-&gt;graftRetryTimer);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                upstream-&gt;graftRetryTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="ade27fe4fab63f35402dee1606021dfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade27fe4fab63f35402dee1606021dfd2">&#9670;&nbsp;</a></span>processGraftPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processGraftPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;{</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = pk-&gt;peekAtFront&lt;PimGraft&gt;();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Received Graft packet.\n&quot;</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#a63cbeaee827838d1ce5b4bbd18a778b6">rcvdGraftPkSignal</a>, pk);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    Ipv4Address sender = pk-&gt;getTag&lt;<a class="code" href="_i_udp-gates_8txt.html#a34a7fa413a34f527bad65710de8f684d">L3AddressInd</a>&gt;()-&gt;getSrcAddress().toIpv4();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    NetworkInterface *incomingInterface = <a class="code" href="classinet_1_1_pim_base.html#af3561a5d9c1953b9ec43f99eec6f99b4">ift</a>-&gt;getInterfaceById(pk-&gt;getTag&lt;InterfaceInd&gt;()-&gt;getInterfaceId());</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// does packet belong to this router?</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (pkt-&gt;getUpstreamNeighborAddress().unicastAddress != incomingInterface-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress()) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; pkt-&gt;getJoinPruneGroupsArraySize(); i++) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keyword">const</span> JoinPruneGroup&amp; group = pkt-&gt;getJoinPruneGroups(i);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        Ipv4Address groupAddr = group.getGroupAddress().groupAddress.toIpv4();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; group.getJoinedSourceAddressArraySize(); j++) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; source = group.getJoinedSourceAddress(j);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">processGraft</a>(source.sourceAddress.toIpv4(), groupAddr, sender, incomingInterface-&gt;getInterfaceId());</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// Send GraftAck for this Graft message</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#ac6d8ed052d865f0818519c5fcae7b63b">sendGraftAckPacket</a>(pk, pkt);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="a238eded91259644d869cc099401e3bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a238eded91259644d869cc099401e3bd3">&#9670;&nbsp;</a></span>processGraftRetryTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processGraftRetryTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;GraftRetryTimer expired.\n&quot;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    UpstreamInterface *upstream = <span class="keyword">static_cast&lt;</span>UpstreamInterface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    ASSERT(upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    ASSERT(timer == upstream-&gt;graftRetryTimer);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    Route *route = upstream-&gt;route();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;GraftRetryTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; expired.\n&quot;</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// The Upstream(S,G) state machine stays in the AckPending (AP)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// state.  Another Graft message for (S,G) SHOULD be unicast to</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// RPF&#39;(S) and the GraftRetry Timer (GRT(S,G)) reset to</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Graft_Retry_Period.  It is RECOMMENDED that the router retry a</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// configured number of times before ceasing retries.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">sendGraftPacket</a>(upstream-&gt;rpfNeighbor(), route-&gt;source, route-&gt;group, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    scheduleAfter(<a class="code" href="classinet_1_1_pim_dm.html#a34653c6769decc2d4157b8b0138a5f12">graftRetryInterval</a>, timer);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="a22b351169c7ccb2ebfbc078137fb2e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b351169c7ccb2ebfbc078137fb2e73">&#9670;&nbsp;</a></span>processJoin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processJoin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRpfNeighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>upstreamNeighborField</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// See join to RPF&#39;(S,G) ?</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;ie-&gt;getInterfaceId() == intId &amp;&amp; numRpfNeighbors &gt; 1) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// TODO check that destAddress == upstream-&gt;nextHop</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a> || upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="comment">// If the OT(S,G) is running, then it</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="comment">// means that the router had scheduled a Join to override a</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="comment">// previously received Prune.  Another router has responded more</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="comment">// quickly with a Join, so the local router SHOULD cancel its</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="comment">// OT(S,G), if it is running.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            cancelAndDelete(upstream-&gt;overrideTimer);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            upstream-&gt;overrideTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// Downstream Interface State Machine</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    DownstreamInterface *downstream = route-&gt;findDownstreamInterfaceByInterfaceId(intId);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (!downstream)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// does packet belong to this router?</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (upstreamNeighborField != downstream-&gt;ie-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress())</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0">DownstreamInterface::PRUNE_PENDING</a>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        downstream-&gt;stopPrunePendingTimer();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        downstream-&gt;stopPruneTimer();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a> &amp;&amp; !route-&gt;isOilistNull())</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a>(route); <span class="comment">// will send Graft upstream</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// Assert State Machine; event: Receive Join(S,G)</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_LOST_ASSERT) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment">// A Join(S,G) message was received on</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="comment">// interface I with its upstream neighbor address set to the</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// router&#39;s address on I.  The router MUST send an Assert(S,G) on</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// the receiving interface I to initiate an Assert negotiation.  The</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// Assert state machine remains in the Assert Loser(L) state.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(route-&gt;source, route-&gt;group, route-&gt;metric, downstream-&gt;ie);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">processJoinPrunePacket()</a>.</p>

</div>
</div>
<a id="af3371e6948c076c570601e30ba82cae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3371e6948c076c570601e30ba82cae9">&#9670;&nbsp;</a></span>processJoinPrunePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processJoinPrunePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = pk-&gt;peekAtFront&lt;PimJoinPrune&gt;();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Received JoinPrune packet.\n&quot;</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#aa57052434126665da8d0e4de477f9eff">rcvdJoinPrunePkSignal</a>, pk);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">auto</span> ifTag = pk-&gt;getTag&lt;InterfaceInd&gt;();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    NetworkInterface *incomingInterface = <a class="code" href="classinet_1_1_pim_base.html#af3561a5d9c1953b9ec43f99eec6f99b4">ift</a>-&gt;getInterfaceById(ifTag-&gt;getInterfaceId());</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (!incomingInterface) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    Ipv4Address upstreamNeighborAddress = pkt-&gt;getUpstreamNeighborAddress().unicastAddress.toIpv4();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordtype">int</span> numRpfNeighbors = <a class="code" href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">pimNbt</a>-&gt;getNumNeighbors(incomingInterface-&gt;getInterfaceId());</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; pkt-&gt;getJoinPruneGroupsArraySize(); i++) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        JoinPruneGroup group = pkt-&gt;getJoinPruneGroups(i);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        Ipv4Address groupAddr = group.getGroupAddress().groupAddress.toIpv4();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// go through list of joined sources</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; group.getJoinedSourceAddressArraySize(); j++) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; source = group.getJoinedSourceAddress(j);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source.sourceAddress.toIpv4(), groupAddr);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            ASSERT(route);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a22b351169c7ccb2ebfbc078137fb2e73">processJoin</a>(route, incomingInterface-&gt;getInterfaceId(), numRpfNeighbors, upstreamNeighborAddress);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">// go through list of pruned sources</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; group.getPrunedSourceAddressArraySize(); j++) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; source = group.getPrunedSourceAddress(j);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source.sourceAddress.toIpv4(), groupAddr);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            ASSERT(route);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">processPrune</a>(route, incomingInterface-&gt;getInterfaceId(), pkt-&gt;getHoldTime(), numRpfNeighbors, upstreamNeighborAddress);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="a8cf64a12b97f085b349526b05f7561e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf64a12b97f085b349526b05f7561e3">&#9670;&nbsp;</a></span>processOlistEmptyEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processOlistEmptyEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;{</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="comment">// upstream state transitions</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="comment">// olist(S,G) -&gt; nullptr AND S NOT directly connected?</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">if</span> (!upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a> || upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="comment">// The Upstream(S,G) state machine MUST</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="comment">// transition to the Pruned (P) state.  A Prune(S,G) MUST be</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="comment">// multicast to the RPF_interface(S), with RPF&#39;(S) named in the</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            <span class="comment">// upstream neighbor field.  The GraftRetry Timer (GRT(S,G)) MUST be</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <span class="comment">// cancelled, and PLT(S,G) MUST be set to t_limit seconds.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(upstream-&gt;rpfNeighbor(), route-&gt;source, route-&gt;group, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            upstream-&gt;startPruneLimitTimer();</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>) {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                cancelAndDelete(upstream-&gt;graftRetryTimer);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                upstream-&gt;graftRetryTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            }</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a1400d95f0a885577694c2ad8d94e6587">multicastReceiverRemoved()</a>, <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>, <a class="el" href="classinet_1_1_pim_dm.html#adc1e7efc2330095aefc0d6372226f0ba">processAssertTimer()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">processPrunePendingTimer()</a>.</p>

</div>
</div>
<a id="ad7ed933d77c5e3c2bc3770beab8f47a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ed933d77c5e3c2bc3770beab8f47a7">&#9670;&nbsp;</a></span>processOlistNonEmptyEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processOlistNonEmptyEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;{</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="comment">// upstream state transition: Pruned-&gt;AckPending if olist is not empty</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">// if all route was pruned, remove prune flag</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="comment">// if upstrem is not source, send Graft message</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="comment">// olist(S,G)-&gt;non-nullptr AND S NOT directly connected</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="comment">// The set of interfaces defined by the olist(S,G) macro becomes</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="comment">// non-empty, indicating that traffic from S addressed to group G</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="comment">// must be forwarded.  The Upstream(S,G) state machine MUST cancel</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="comment">// PLT(S,G), transition to the AckPending (AP) state and unicast a</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        <span class="comment">// Graft message to RPF&#39;(S).  The Graft Retry Timer (GRT(S,G)) MUST</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="comment">// be set to Graft_Retry_Period.</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="keywordflow">if</span> (!upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;Route is not pruned any more, send Graft to upstream&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">sendGraftPacket</a>(upstream-&gt;rpfNeighbor(), route-&gt;source, route-&gt;group, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            upstream-&gt;stopPruneLimitTimer();</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            upstream-&gt;startGraftRetryTimer();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    }</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8b965dccffe84f9d4c126131adddac1e">multicastReceiverAdded()</a>, <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>, <a class="el" href="classinet_1_1_pim_dm.html#adc1e7efc2330095aefc0d6372226f0ba">processAssertTimer()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">processGraft()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a22b351169c7ccb2ebfbc078137fb2e73">processJoin()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#af4fe2c439d68554463f72f37ea283c30">processPruneTimer()</a>.</p>

</div>
</div>
<a id="a740c582e478e33ec2a443b3efaf2fe13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740c582e478e33ec2a443b3efaf2fe13">&#9670;&nbsp;</a></span>processOverrideTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processOverrideTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    UpstreamInterface *upstream = <span class="keyword">static_cast&lt;</span>UpstreamInterface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    ASSERT(timer == upstream-&gt;overrideTimer);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    ASSERT(upstream-&gt;graftPruneState != <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    Route *route = upstream-&gt;route();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;OverrideTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; expired.\n&quot;</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// send a Join(S,G) to RPF&#39;(S)</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a4c742b7e04f63d5ecf9391aa58c8091b">sendJoinPacket</a>(upstream-&gt;rpfNeighbor(), route-&gt;source, route-&gt;group, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    upstream-&gt;overrideTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keyword">delete</span> timer;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="aa936b8c0ef233cb0e6e1e1ef91def821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa936b8c0ef233cb0e6e1e1ef91def821">&#9670;&nbsp;</a></span>processPrune()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processPrune </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>holdTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRpfNeighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>upstreamNeighborField</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method process PIM Prune packet. </p>
<p>First the method has to find correct outgoing interface where PIM Prune packet came to. The method also checks if there is still any forwarding outgoing interface. <a class="el" href="classinet_1_1_forwarding.html">Forwarding</a> interfaces, where Prune packet come to, goes to prune state. If all outgoing interfaces are pruned, the router will prune from multicast tree. </p>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Processing Prune&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// Upstream Interface State Machine; event: See Prune(S,G)</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// See Prune(S,G) AND S is NOT directly connected ?</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (upstream-&gt;ie-&gt;getInterfaceId() == intId &amp;&amp; !upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// This event is only relevant if RPF_interface(S) is a shared</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">// medium.  This router sees another router on RPF_interface(S) send</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="comment">// a Prune(S,G).  When this router is in Forwarding/AckPending state, it must</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">// override the Prune after a short random interval.  If OT(S,G) is</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// not running, the router MUST set OT(S,G) to t_override seconds.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="comment">// The Upstream(S,G) state machine remains in Forwarding/AckPending state.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a> || upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (!upstream-&gt;overrideTimer)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                upstream-&gt;startOverrideTimer();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// we find correct outgoing interface</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    DownstreamInterface *downstream = route-&gt;findDownstreamInterfaceByInterfaceId(intId);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (!downstream)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// does packet belong to this router?</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (upstreamNeighborField != downstream-&gt;ie-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress())</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// Downstream Interface State Machine; event: Receive Prune(S,G)</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// A Prune(S,G) is received on interface I with the upstream</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// neighbor field set to the router&#39;s address on I.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="comment">// The Prune(S,G) Downstream state machine on interface I MUST transition to the</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="comment">// PrunePending (PP) state.  The PrunePending Timer (PPT(S,G,I))</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="comment">// MUST be set to J/P_Override_Interval if the router has more than</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="comment">// one neighbor on I.  If the router has only one neighbor on</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="comment">// interface I, then it SHOULD set the PPT(S,G,I) to zero,</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="comment">// effectively transitioning immediately to the Pruned (P) state.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordtype">double</span> prunePendingInterval = numRpfNeighbors &gt; 1 ? <a class="code" href="classinet_1_1_pim_dm.html#a677cff8a415a0a2ab3b1fd7849795cb9">overrideInterval</a> + <a class="code" href="classinet_1_1_pim_dm.html#aec01385188b8d2b3e406623d37bd5fb7">propagationDelay</a> : 0;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        downstream-&gt;startPrunePendingTimer(prunePendingInterval);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0">DownstreamInterface::PRUNE_PENDING</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="comment">// The Prune(S,G) Downstream state machine on interface I remains in the Pruned (P)</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="comment">// state.  The Prune Timer (PT(S,G,I)) SHOULD be reset to the</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">// holdtime contained in the Prune(S,G) message if it is greater</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">// than the current value.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;Outgoing interface is already pruned, restart Prune Timer.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">if</span> (downstream-&gt;pruneTimer-&gt;getArrivalTime() &lt; simTime() + <a class="code" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a>)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(downstream-&gt;pruneTimer, <a class="code" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">// Assert state machine; event: Receive Prune(S,G)</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_LOST_ASSERT) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="comment">// Receive Prune(S,G)</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">//     A Prune(S,G) message was received on</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="comment">//     interface I with its upstream neighbor address set to the</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="comment">//     router&#39;s address on I.  The router MUST send an Assert(S,G) on</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="comment">//     the receiving interface I to initiate an Assert negotiation.  The</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="comment">//     Assert state machine remains in the Assert Loser(L) state.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket</a>(route-&gt;source, route-&gt;group, route-&gt;metric, downstream-&gt;ie);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">processJoinPrunePacket()</a>.</p>

</div>
</div>
<a id="a63baafb931092998c2318f267a3d39c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63baafb931092998c2318f267a3d39c6">&#9670;&nbsp;</a></span>processPrunePendingTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processPrunePendingTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    DownstreamInterface *downstream = <span class="keyword">static_cast&lt;</span>DownstreamInterface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    ASSERT(timer == downstream-&gt;prunePendingTimer);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    ASSERT(downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0">DownstreamInterface::PRUNE_PENDING</a>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">delete</span> timer;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    downstream-&gt;prunePendingTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    Route *route = downstream-&gt;route();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;PrunePendingTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; has expired.\n&quot;</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// go to pruned state</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a> = <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a> - <a class="code" href="classinet_1_1_pim_dm.html#a677cff8a415a0a2ab3b1fd7849795cb9">overrideInterval</a> - <a class="code" href="classinet_1_1_pim_dm.html#aec01385188b8d2b3e406623d37bd5fb7">propagationDelay</a>; <span class="comment">// TODO should be received HoldTime - computed override interval;</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    downstream-&gt;startPruneTimer(<a class="code" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// TODO optionally send PruneEcho</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// upstream state change if olist become nullptr</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (route-&gt;isOilistNull())</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent</a>(route);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="af4fe2c439d68554463f72f37ea283c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4fe2c439d68554463f72f37ea283c30">&#9670;&nbsp;</a></span>processPruneTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processPruneTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    DownstreamInterface *downstream = <span class="keyword">static_cast&lt;</span>DownstreamInterface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    ASSERT(timer == downstream-&gt;pruneTimer);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    ASSERT(downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    Route *route = downstream-&gt;route();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;PruneTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; expired.\n&quot;</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// state of interface is changed to forwarding</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    downstream-&gt;stopPruneTimer();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    downstream-&gt;pruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// upstream state change if olist become non nullptr</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (!route-&gt;isOilistNull())</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent</a>(route);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="a834aafab4f65b7631eb2b06fb70660a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834aafab4f65b7631eb2b06fb70660a7">&#9670;&nbsp;</a></span>processSourceActiveTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processSourceActiveTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    UpstreamInterface *upstream = <span class="keyword">static_cast&lt;</span>UpstreamInterface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    ASSERT(timer == upstream-&gt;sourceActiveTimer);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    ASSERT(upstream-&gt;originatorState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9">UpstreamInterface::ORIGINATOR</a>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    Route *route = upstream-&gt;route();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SourceActiveTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; expired.\n&quot;</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    upstream-&gt;originatorState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a9270d63e68b1354ada748328a17a42cc">UpstreamInterface::NOT_ORIGINATOR</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    cancelAndDelete(upstream-&gt;stateRefreshTimer);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    upstream-&gt;stateRefreshTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// delete the route, because there are no more packets</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    Ipv4Address routeSource = route-&gt;source;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    Ipv4Address routeGroup = route-&gt;group;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#ae0c6c34f8d56bc8206869887bbe2d0ef">deleteRoute</a>(routeSource, routeGroup);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    Ipv4MulticastRoute *ipv4Route = <a class="code" href="classinet_1_1_pim_dm.html#af3f878802dd0f1433633138223496c3a">findIpv4MulticastRoute</a>(routeGroup, routeSource);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (ipv4Route)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;deleteMulticastRoute(ipv4Route);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="ae555d4359017ff47e03dea05316ed12a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae555d4359017ff47e03dea05316ed12a">&#9670;&nbsp;</a></span>processStateRefreshPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processStateRefreshPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method is used to process <a class="el" href="classinet_1_1_pim_state_refresh.html" title="Class generated from inet/routing/pim/PimPacket.msg:196 by opp_msgtool.">PimStateRefresh</a> packet. </p>
<p>The method checks if there is route in mroute and that packet has came to RPF interface. Then it goes through all outgoing interfaces. If the interface is pruned, it resets Prune Timer. For each interface State Refresh message is copied and correct prune indicator is set according to state of outgoing interface (pruned/forwarding).</p>
<p>State Refresh message is used to stop flooding of network each 3 minutes. </p>
<div class="fragment"><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = pk-&gt;peekAtFront&lt;PimStateRefresh&gt;();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    EV &lt;&lt; <span class="stringliteral">&quot;pimDM::processStateRefreshPacket&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#a821380679dd69c3e6c6b148a71d7956e">rcvdStateRefreshPkSignal</a>, pk);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// first check if there is route for given group address and source</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(pkt-&gt;getSourceAddress().unicastAddress.toIpv4(), pkt-&gt;getGroupAddress().groupAddress.toIpv4());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (route == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// check if State Refresh msg has came from RPF neighbor</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keyword">auto</span> ifTag = pk-&gt;getTag&lt;InterfaceInd&gt;();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    Ipv4Address srcAddr = pk-&gt;getTag&lt;<a class="code" href="_i_udp-gates_8txt.html#a34a7fa413a34f527bad65710de8f684d">L3AddressInd</a>&gt;()-&gt;getSrcAddress().toIpv4();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span> (ifTag-&gt;getInterfaceId() != upstream-&gt;getInterfaceId() || upstream-&gt;rpfNeighbor() != srcAddr) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// upstream state transitions</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordtype">bool</span> pruneIndicator = pkt-&gt;getP();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">switch</span> (upstream-&gt;graftPruneState) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a>:</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="keywordflow">if</span> (pruneIndicator) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                upstream-&gt;startOverrideTimer();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>:</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">if</span> (!pruneIndicator) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                <span class="keywordflow">if</span> (!upstream-&gt;isPruneLimitTimerRunning()) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    <a class="code" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket</a>(upstream-&gt;rpfNeighbor(), route-&gt;source, route-&gt;group, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>, upstream-&gt;getInterfaceId());</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                    upstream-&gt;startPruneLimitTimer();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                upstream-&gt;startPruneLimitTimer();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>:</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">if</span> (pruneIndicator) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <span class="keywordflow">if</span> (!upstream-&gt;overrideTimer)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                    upstream-&gt;startOverrideTimer();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                cancelAndDelete(upstream-&gt;graftRetryTimer);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                upstream-&gt;graftRetryTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">UpstreamInterface::FORWARDING</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// Forward StateRefresh message downstream</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// TODO check StateRefreshRateLimit(S,G)</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span> (pkt-&gt;getTtl() == 0) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// go through all outgoing interfaces, reser Prune Timer and send out State Refresh msg</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; route-&gt;downstreamInterfaces.size(); i++) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        DownstreamInterface *downstream = route-&gt;downstreamInterfaces[i];</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment">// TODO check ttl threshold and boundary</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_LOST_ASSERT)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">if</span> (downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="comment">// reset PT</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(downstream-&gt;pruneTimer, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">sendStateRefreshPacket</a>(pkt-&gt;getOriginatorAddress().unicastAddress.toIpv4(), route, downstream, pkt-&gt;getTtl() - 1);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="comment">// Assert State Machine; event: Send State Refresh</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_WON_ASSERT) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            <span class="comment">// The router is sending a State Refresh(S,G) message on interface I.</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="comment">// The router MUST set the Assert Timer (AT(S,G,I)) to three</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="comment">// times the State Refresh Interval contained in the State Refresh(S,G) message.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(downstream-&gt;assertTimer, 3 * <a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">// Assert State Machine; event: Receive State Refresh</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    AssertMetric receivedMetric(pkt-&gt;getMetricPreference(), pkt-&gt;getMetric(), srcAddr);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert</a>(upstream, receivedMetric, pkt-&gt;getInterval());</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keyword">delete</span> pk;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="a2c803df27bca70202079f2556506d8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c803df27bca70202079f2556506d8cf">&#9670;&nbsp;</a></span>processStateRefreshTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::processStateRefreshTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    UpstreamInterface *upstream = <span class="keyword">static_cast&lt;</span>UpstreamInterface *<span class="keyword">&gt;</span>(timer-&gt;getContextPointer());</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    ASSERT(timer == upstream-&gt;stateRefreshTimer);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    ASSERT(upstream-&gt;originatorState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9">UpstreamInterface::ORIGINATOR</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    Route *route = upstream-&gt;route();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;StateRefreshTimer&quot;</span> &lt;&lt; route &lt;&lt; <span class="stringliteral">&quot; expired.\n&quot;</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Sending StateRefresh packets on downstream interfaces.\n&quot;</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; route-&gt;downstreamInterfaces.size(); i++) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        DownstreamInterface *downstream = route-&gt;downstreamInterfaces[i];</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="comment">// TODO check ttl threshold and boundary</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">if</span> (downstream-&gt;assertState == DownstreamInterface::I_LOST_ASSERT)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="comment">// when sending StateRefresh in Pruned state, then restart PruneTimer</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordtype">bool</span> isPruned = downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">if</span> (isPruned)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">restartTimer</a>(downstream-&gt;pruneTimer, <a class="code" href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">pruneInterval</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="comment">// Send StateRefresh message downstream</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        Ipv4Address originator = downstream-&gt;ie-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;getIPAddress();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">sendStateRefreshPacket</a>(originator, route, downstream, upstream-&gt;maxTtlSeen);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    scheduleAfter(<a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a>, timer);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a77ec3dacee8cfc7e2fe5e7a1e9779776">handleMessageWhenUp()</a>.</p>

</div>
</div>
<a id="abada82b24aa1f76e3df3f3fb5e3d8b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abada82b24aa1f76e3df3f3fb5e3d8b66">&#9670;&nbsp;</a></span>pruneStateString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string inet::PimDm::pruneStateString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5b">DownstreamInterface::PruneState</a>&#160;</td>
          <td class="paramname"><em>ps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;{</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">ps</a> == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">DownstreamInterface::NO_INFO</a>)</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;NO_INFO&quot;</span>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">ps</a> == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0">DownstreamInterface::PRUNE_PENDING</a>)</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PRUNE_PENDING&quot;</span>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">ps</a> == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>)</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PRUNED&quot;</span>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="namespaceinet.html#aef73b9f5a0509c914cd9654b6a71f615">inet::operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="a8fad64703c90239d7accd4fbb1523932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fad64703c90239d7accd4fbb1523932">&#9670;&nbsp;</a></span>receiveSignal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::receiveSignal </td>
          <td>(</td>
          <td class="paramtype">cComponent *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simsignal_t&#160;</td>
          <td class="paramname"><em>signalID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cObject *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cObject *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="_self_doc_8h.html#a8e54030c665b5254da268db865fccdfc">Enter_Method</a>(<span class="stringliteral">&quot;%s&quot;</span>, cComponent::getSignalName(signalID));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="namespaceinet.html#aa6ec171e6713859f4701a8b8da2f7b0c">printSignalBanner</a>(signalID, obj, details);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">const</span> Ipv4Header *ipv4Header;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    PimInterface *pimInterface;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// new multicast data appears in router</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// note: this signal is often emitted from Ipv4::forwardMulticastPacket method</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (signalID == <a class="code" href="namespaceinet.html#a8e23e62c079750cf4d16a055c659f8ee">ipv4NewMulticastSignal</a>) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        ipv4Header = check_and_cast&lt;const Ipv4Header *&gt;(obj);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        pimInterface = <a class="code" href="classinet_1_1_pim_dm.html#a3e1e6b604c350488f23f84036b3c08bf">getIncomingInterface</a>(check_and_cast&lt;NetworkInterface *&gt;(details));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (pimInterface &amp;&amp; pimInterface-&gt;getMode() == <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#ae8f0a7e50d176d390ecc99ad38054767">unroutableMulticastPacketArrived</a>(ipv4Header-&gt;getSrcAddress(), ipv4Header-&gt;getDestAddress(), ipv4Header-&gt;getTimeToLive());</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// configuration of interface changed, it means some change from IGMP, address were added.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="namespaceinet.html#af1b31d31af3fa4e1864456013d2c7a24">ipv4MulticastGroupRegisteredSignal</a>) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keyword">const</span> Ipv4MulticastGroupInfo *info = check_and_cast&lt;const Ipv4MulticastGroupInfo *&gt;(obj);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        pimInterface = <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getInterfaceById(info-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">if</span> (pimInterface &amp;&amp; pimInterface-&gt;getMode() == <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a8b965dccffe84f9d4c126131adddac1e">multicastReceiverAdded</a>(pimInterface-&gt;getInterfacePtr(), info-&gt;groupAddress);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// configuration of interface changed, it means some change from IGMP, address were removed.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="namespaceinet.html#a034f4a0d0428662dff5e146f0ea4a52d">ipv4MulticastGroupUnregisteredSignal</a>) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keyword">const</span> Ipv4MulticastGroupInfo *info = check_and_cast&lt;const Ipv4MulticastGroupInfo *&gt;(obj);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        pimInterface = <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getInterfaceById(info-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (pimInterface &amp;&amp; pimInterface-&gt;getMode() == <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a1400d95f0a885577694c2ad8d94e6587">multicastReceiverRemoved</a>(pimInterface-&gt;getInterfacePtr(), info-&gt;groupAddress);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// data come to non-RPF interface</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="namespaceinet.html#aadfe4228fe784f34518d3b1b08cd33c8">ipv4DataOnNonrpfSignal</a>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        ipv4Header = check_and_cast&lt;const Ipv4Header *&gt;(obj);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        pimInterface = <a class="code" href="classinet_1_1_pim_dm.html#a3e1e6b604c350488f23f84036b3c08bf">getIncomingInterface</a>(check_and_cast&lt;NetworkInterface *&gt;(details));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (pimInterface &amp;&amp; pimInterface-&gt;getMode() == <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface</a>(ipv4Header-&gt;getDestAddress(), ipv4Header-&gt;getSrcAddress(), pimInterface-&gt;getInterfaceId());</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// data come to RPF interface</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="namespaceinet.html#a214add6d3d183561fb234bb129b52353">ipv4DataOnRpfSignal</a>) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        ipv4Header = check_and_cast&lt;const Ipv4Header *&gt;(obj);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        pimInterface = <a class="code" href="classinet_1_1_pim_dm.html#a3e1e6b604c350488f23f84036b3c08bf">getIncomingInterface</a>(check_and_cast&lt;NetworkInterface *&gt;(details));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span> (pimInterface &amp;&amp; pimInterface-&gt;getMode() == <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface</a>(pimInterface-&gt;getInterfaceId(), ipv4Header-&gt;getDestAddress(), ipv4Header-&gt;getSrcAddress(), ipv4Header-&gt;getTimeToLive());</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// RPF interface has changed</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="namespaceinet.html#ad11e66dfc95132b344c09fb8d95d4abb">routeAddedSignal</a>) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keyword">const</span> Ipv4Route *entry = check_and_cast&lt;const Ipv4Route *&gt;(obj);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getNumMulticastRoutes(); i++) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="comment">// find multicast routes whose source are on the destination of the new unicast route</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            Ipv4MulticastRoute *route = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;getMulticastRoute(i);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">if</span> (route-&gt;getSource() == <span class="keyword">this</span> &amp;&amp; <a class="code" href="classinet_1_1_ipv4_address.html#a7820fc4df7ddbed539b42aa94eebf7ea">Ipv4Address::maskedAddrAreEqual</a>(route-&gt;getOrigin(), entry-&gt;getDestination() <span class="comment">/*routeSource*/</span>, entry-&gt;getNetmask() <span class="comment">/*routeNetmask*/</span>)) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                Ipv4Address source = route-&gt;getOrigin();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                Ipv4Route *routeToSource = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;findBestMatchingRoute(source);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                NetworkInterface *newRpfInterface = routeToSource-&gt;getInterface();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                NetworkInterface *oldRpfInterface = route-&gt;getInInterface()-&gt;getInterface();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="comment">// is there any change?</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">if</span> (newRpfInterface != oldRpfInterface)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <a class="code" href="classinet_1_1_pim_dm.html#acde5fdb6dd9aa6db22d041dcf811212a">rpfInterfaceHasChanged</a>(route, routeToSource);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="comment">// TODO update metric</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab98614b24797d2ccc4bed5879a549bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab98614b24797d2ccc4bed5879a549bf1">&#9670;&nbsp;</a></span>restartTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::restartTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;{</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    rescheduleAfter(interval, timer);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>, <a class="el" href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">processPrune()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">processStateRefreshTimer()</a>.</p>

</div>
</div>
<a id="acde5fdb6dd9aa6db22d041dcf811212a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde5fdb6dd9aa6db22d041dcf811212a">&#9670;&nbsp;</a></span>rpfInterfaceHasChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::rpfInterfaceHasChanged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_multicast_route.html">Ipv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>ipv4Route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_route.html">Ipv4Route</a> *&#160;</td>
          <td class="paramname"><em>routeToSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method process notification about interface change. </p>
<p>Multicast routing table will be changed if RPF interface has changed. New RPF interface is set to route and is removed from outgoing interfaces. On the other hand, old RPF interface is added to outgoing interfaces. If route was not pruned, the router has to join to the multicast tree again (by different path). </p>
<div class="fragment"><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;{</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    NetworkInterface *newRpf = routeToSource-&gt;getInterface();</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    Ipv4Address source = ipv4Route-&gt;getOrigin();</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    Ipv4Address group = ipv4Route-&gt;getMulticastGroup();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordtype">int</span> rpfId = newRpf-&gt;getInterfaceId();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;New RPF interface for group=&quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot; source=&quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; newRpf-&gt;getInterfaceName() &lt;&lt; endl;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    Route *route = <a class="code" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute</a>(source, group);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    ASSERT(route);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="comment">// delete old upstream interface data</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    UpstreamInterface *oldUpstreamInterface = route-&gt;upstreamInterface;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    NetworkInterface *oldRpfInterface = oldUpstreamInterface ? oldUpstreamInterface-&gt;ie : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keyword">delete</span> oldUpstreamInterface;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keyword">delete</span> ipv4Route-&gt;getInInterface();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    ipv4Route-&gt;setInInterface(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="comment">// set new upstream interface data</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordtype">bool</span> isSourceDirectlyConnected = routeToSource-&gt;getSourceType() == <a class="code" href="classinet_1_1_i_route.html#a4e28111c8a9f8cd8c02f7d8a725af932aaf51bb60500145f35e73525d4f6c23b8">Ipv4Route::IFACENETMASK</a>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    Ipv4Address newRpfNeighbor = <a class="code" href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">pimNbt</a>-&gt;getNeighbor(rpfId, 0)-&gt;getAddress(); <span class="comment">// TODO what happens if no neighbors?</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    UpstreamInterface *upstream = route-&gt;upstreamInterface = <span class="keyword">new</span> UpstreamInterface(route, newRpf, newRpfNeighbor, isSourceDirectlyConnected);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    ipv4Route-&gt;setInInterface(<span class="keyword">new</span> IMulticastRoute::InInterface(newRpf));</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="comment">// delete rpf interface from the downstream interfaces</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    DownstreamInterface *oldDownstreamInterface = route-&gt;removeDownstreamInterface(newRpf-&gt;getInterfaceId());</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">if</span> (oldDownstreamInterface) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        ipv4Route-&gt;removeOutInterface(newRpf); <span class="comment">// will delete downstream data, TODO method should be called deleteOutInterface()</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keyword">delete</span> oldDownstreamInterface;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">// old RPF interface should be now a downstream interface if it is not down</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keywordflow">if</span> (oldRpfInterface &amp;&amp; oldRpfInterface-&gt;isUp()) {</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        DownstreamInterface *downstream = route-&gt;createDownstreamInterface(oldRpfInterface);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        ipv4Route-&gt;addOutInterface(<span class="keyword">new</span> PimDmOutInterface(oldRpfInterface, downstream));</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordtype">bool</span> isOlistNull = route-&gt;isOilistNull();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="comment">// upstream state transitions</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="comment">// RPF&#39;(S) Changes AND olist(S,G) != nullptr AND S is NOT directly connected?</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">if</span> (!isOlistNull &amp;&amp; !upstream-&gt;isSourceDirectlyConnected()) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="comment">// The Upstream(S,G) state</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="comment">// machine MUST transition to the AckPending (AP) state, unicast a</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="comment">// Graft to the new RPF&#39;(S), and set the GraftRetry Timer (GRT(S,G))</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="comment">// to Graft_Retry_Period.</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>)</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            upstream-&gt;stopPruneLimitTimer();</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="comment">// route was not pruned, join to the multicast tree again</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">sendGraftPacket</a>(upstream-&gt;rpfNeighbor(), source, group, rpfId);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        upstream-&gt;startGraftRetryTimer();</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="comment">// RPF&#39;(S) Changes AND olist(S,G) == nullptr</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isOlistNull) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            upstream-&gt;stopPruneLimitTimer();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upstream-&gt;graftPruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">UpstreamInterface::ACK_PENDING</a>) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            cancelAndDelete(upstream-&gt;graftRetryTimer);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;            upstream-&gt;graftRetryTimer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        upstream-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<a id="a83705d3d2ef35103bb00421bea1135be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83705d3d2ef35103bb00421bea1135be">&#9670;&nbsp;</a></span>sendAssertPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendAssertPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_base_1_1_assert_metric.html">AssertMetric</a>&#160;</td>
          <td class="paramname"><em>metric</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_network_interface.html">NetworkInterface</a> *&#160;</td>
          <td class="paramname"><em>ie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;{</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending Assert(S= &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot;, G= &quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;) message on interface &#39;&quot;</span> &lt;&lt; ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    Packet *packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PimAssert&quot;</span>);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pkt = makeShared&lt;PimAssert&gt;();</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    pkt-&gt;getGroupAddressForUpdate().groupAddress = group;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    pkt-&gt;getSourceAddressForUpdate().unicastAddress = source;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    pkt-&gt;setR(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    pkt-&gt;setMetricPreference(metric.preference);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    pkt-&gt;setMetric(metric.metric);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    pkt-&gt;setChunkLength(<a class="code" href="namespaceinet.html#a540fbed302e5241d4d5e69a73fe18881">PIM_HEADER_LENGTH</a></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            + <a class="code" href="namespaceinet.html#a31e1e2bd8d7fd43d7e88d8e51071d9a2">ENCODED_GROUP_ADDRESS_LENGTH</a></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            + <a class="code" href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">ENCODED_UNICODE_ADDRESS_LENGTH</a></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(8));</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    pkt-&gt;setCrcMode(<a class="code" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a>-&gt;getCrcMode());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">Pim::insertCrc</a>(pkt);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    packet-&gt;insertAtFront(pkt);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#ad777838cea0d298f0b21850fea80d7f0">sentAssertPkSignal</a>, packet);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a>(packet, <a class="code" href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">Ipv4Address::UNSPECIFIED_ADDRESS</a>, <a class="code" href="classinet_1_1_pim_base.html#a7316877308fedc6b5701ca30b91dcb18">ALL_PIM_ROUTERS_MCAST</a>, ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">processGraft()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a22b351169c7ccb2ebfbc078137fb2e73">processJoin()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">processPrune()</a>.</p>

</div>
</div>
<a id="ac6d8ed052d865f0818519c5fcae7b63b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d8ed052d865f0818519c5fcae7b63b">&#9670;&nbsp;</a></span>sendGraftAckPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendGraftAckPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Ptr&lt; const <a class="el" href="classinet_1_1_pim_graft.html">PimGraft</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>graftPacket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;{</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending GraftAck message.\n&quot;</span>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keyword">auto</span> ifTag = pk-&gt;getTag&lt;InterfaceInd&gt;();</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keyword">auto</span> addressInd = pk-&gt;getTag&lt;<a class="code" href="_i_udp-gates_8txt.html#a34a7fa413a34f527bad65710de8f684d">L3AddressInd</a>&gt;();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    Ipv4Address destAddr = addressInd-&gt;getSrcAddress().toIpv4();</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    Ipv4Address srcAddr = addressInd-&gt;getDestAddress().toIpv4();</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordtype">int</span> outInterfaceId = ifTag-&gt;getInterfaceId();</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    Packet *packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PIMGraftAck&quot;</span>);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keyword">auto</span> msg = dynamicPtrCast&lt;PimGraft&gt;(graftPacket-&gt;dupShared());</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    msg-&gt;setType(<a class="code" href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba798eb59ab6d36c0caa5491f7fcfbe49f">GraftAck</a>);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    msg-&gt;setCrcMode(<a class="code" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a>-&gt;getCrcMode());</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">Pim::insertCrc</a>(msg);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    packet-&gt;insertAtFront(msg);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#aee2a6ba35ec9e167df29ae996f8b50ab">sentGraftAckPkSignal</a>, packet);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a>(packet, srcAddr, destAddr, outInterfaceId);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#ade27fe4fab63f35402dee1606021dfd2">processGraftPacket()</a>.</p>

</div>
</div>
<a id="aa6dcbc8ec7999b25ff6374e72ca46483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6dcbc8ec7999b25ff6374e72ca46483">&#9670;&nbsp;</a></span>sendGraftPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendGraftPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>nextHop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;{</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending Graft(S=&quot;</span> &lt;&lt; src &lt;&lt; <span class="stringliteral">&quot;, G=&quot;</span> &lt;&lt; grp &lt;&lt; <span class="stringliteral">&quot;) message to neighbor &#39;&quot;</span> &lt;&lt; nextHop &lt;&lt; <span class="stringliteral">&quot;&#39; on interface &#39;&quot;</span> &lt;&lt; intId &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    Packet *packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PimGraft&quot;</span>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;PimGraft&gt;();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    msg-&gt;setHoldTime(0);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    msg-&gt;getUpstreamNeighborAddressForUpdate().unicastAddress = nextHop;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    msg-&gt;setJoinPruneGroupsArraySize(1);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    JoinPruneGroup&amp; group = msg-&gt;getJoinPruneGroupsForUpdate(0);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    group.getGroupAddressForUpdate().groupAddress = grp;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    group.setJoinedSourceAddressArraySize(1);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keyword">auto</span>&amp; address = group.getJoinedSourceAddressForUpdate(0);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    address.sourceAddress = src;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet.html#a540fbed302e5241d4d5e69a73fe18881">PIM_HEADER_LENGTH</a> + <a class="code" href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">ENCODED_UNICODE_ADDRESS_LENGTH</a> + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(4) + <a class="code" href="namespaceinet.html#a31e1e2bd8d7fd43d7e88d8e51071d9a2">ENCODED_GROUP_ADDRESS_LENGTH</a> + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(4) + <a class="code" href="namespaceinet.html#a8ab824912189bc0ea8e3539f55a05876">ENCODED_SOURCE_ADDRESS_LENGTH</a>);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    msg-&gt;setCrcMode(<a class="code" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a>-&gt;getCrcMode());</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <a class="code" href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">Pim::insertCrc</a>(msg);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    packet-&gt;insertAtFront(msg);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#ab0313acc7ed6dfaaa8562a6c0fb9f3f5">sentGraftPkSignal</a>, packet);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a>(packet, <a class="code" href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">Ipv4Address::UNSPECIFIED_ADDRESS</a>, nextHop, intId);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a238eded91259644d869cc099401e3bd3">processGraftRetryTimer()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">processOlistNonEmptyEvent()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#acde5fdb6dd9aa6db22d041dcf811212a">rpfInterfaceHasChanged()</a>.</p>

</div>
</div>
<a id="a4c742b7e04f63d5ecf9391aa58c8091b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c742b7e04f63d5ecf9391aa58c8091b">&#9670;&nbsp;</a></span>sendJoinPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendJoinPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>nextHop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interfaceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;{</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    ASSERT(!src.isUnspecified());</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    ASSERT(grp.isMulticast());</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending Join(S=&quot;</span> &lt;&lt; src &lt;&lt; <span class="stringliteral">&quot;, G=&quot;</span> &lt;&lt; grp &lt;&lt; <span class="stringliteral">&quot;) message to neighbor &#39;&quot;</span> &lt;&lt; nextHop &lt;&lt; <span class="stringliteral">&quot;&#39; on interface &#39;&quot;</span> &lt;&lt; intId &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    Packet *packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PIMJoin&quot;</span>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;PimJoinPrune&gt;();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    msg-&gt;getUpstreamNeighborAddressForUpdate().unicastAddress = nextHop;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    msg-&gt;setHoldTime(0); <span class="comment">// ignored by the receiver</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// set multicast groups</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    msg-&gt;setJoinPruneGroupsArraySize(1);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    JoinPruneGroup&amp; group = msg-&gt;getJoinPruneGroupsForUpdate(0);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    group.getGroupAddressForUpdate().groupAddress = grp;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    group.setJoinedSourceAddressArraySize(1);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keyword">auto</span>&amp; address = group.getJoinedSourceAddressForUpdate(0);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    address.sourceAddress = src;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet.html#a540fbed302e5241d4d5e69a73fe18881">PIM_HEADER_LENGTH</a> + <a class="code" href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">ENCODED_UNICODE_ADDRESS_LENGTH</a> + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(4) + <a class="code" href="namespaceinet.html#a31e1e2bd8d7fd43d7e88d8e51071d9a2">ENCODED_GROUP_ADDRESS_LENGTH</a> + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(4) + <a class="code" href="namespaceinet.html#a8ab824912189bc0ea8e3539f55a05876">ENCODED_SOURCE_ADDRESS_LENGTH</a>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    msg-&gt;setCrcMode(<a class="code" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a>-&gt;getCrcMode());</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <a class="code" href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">Pim::insertCrc</a>(msg);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    packet-&gt;insertAtFront(msg);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#ac8cb6b79d3f97d9d8f0b194acc6d0b0a">sentJoinPrunePkSignal</a>, packet);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a>(packet, <a class="code" href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">Ipv4Address::UNSPECIFIED_ADDRESS</a>, <a class="code" href="classinet_1_1_pim_base.html#a7316877308fedc6b5701ca30b91dcb18">ALL_PIM_ROUTERS_MCAST</a>, intId);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a740c582e478e33ec2a443b3efaf2fe13">processOverrideTimer()</a>.</p>

</div>
</div>
<a id="a5cad3f09fe77f8bef3de090929610b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cad3f09fe77f8bef3de090929610b6f">&#9670;&nbsp;</a></span>sendPrunePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendPrunePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>nextHop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>holdTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>intId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;{</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    ASSERT(!src.isUnspecified());</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    ASSERT(grp.isMulticast());</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending Prune(S=&quot;</span> &lt;&lt; src &lt;&lt; <span class="stringliteral">&quot;, G=&quot;</span> &lt;&lt; grp &lt;&lt; <span class="stringliteral">&quot;) message to neighbor &#39;&quot;</span> &lt;&lt; nextHop &lt;&lt; <span class="stringliteral">&quot;&#39; on interface &#39;&quot;</span> &lt;&lt; intId &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    Packet *packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PIMPrune&quot;</span>);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;PimJoinPrune&gt;();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    msg-&gt;getUpstreamNeighborAddressForUpdate().unicastAddress = nextHop;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    msg-&gt;setHoldTime(<a class="code" href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">holdTime</a>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="comment">// set multicast groups</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    msg-&gt;setJoinPruneGroupsArraySize(1);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    JoinPruneGroup&amp; group = msg-&gt;getJoinPruneGroupsForUpdate(0);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    group.getGroupAddressForUpdate().groupAddress = grp;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    group.setPrunedSourceAddressArraySize(1);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keyword">auto</span>&amp; address = group.getPrunedSourceAddressForUpdate(0);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    address.sourceAddress = src;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet.html#a540fbed302e5241d4d5e69a73fe18881">PIM_HEADER_LENGTH</a> + <a class="code" href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">ENCODED_UNICODE_ADDRESS_LENGTH</a> + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(4) + <a class="code" href="namespaceinet.html#a31e1e2bd8d7fd43d7e88d8e51071d9a2">ENCODED_GROUP_ADDRESS_LENGTH</a> + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(4) + <a class="code" href="namespaceinet.html#a8ab824912189bc0ea8e3539f55a05876">ENCODED_SOURCE_ADDRESS_LENGTH</a>);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    msg-&gt;setCrcMode(<a class="code" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a>-&gt;getCrcMode());</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">Pim::insertCrc</a>(msg);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    packet-&gt;insertAtFront(msg);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#ac8cb6b79d3f97d9d8f0b194acc6d0b0a">sentJoinPrunePkSignal</a>, packet);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a>(packet, <a class="code" href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">Ipv4Address::UNSPECIFIED_ADDRESS</a>, <a class="code" href="classinet_1_1_pim_base.html#a7316877308fedc6b5701ca30b91dcb18">ALL_PIM_ROUTERS_MCAST</a>, intId);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>.</p>

</div>
</div>
<a id="a59ee2dbbebcd90a7a936ffbaa26882c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ee2dbbebcd90a7a936ffbaa26882c4">&#9670;&nbsp;</a></span>sendStateRefreshPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendStateRefreshPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>originator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_route.html">Route</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinet_1_1_pim_dm_1_1_downstream_interface.html">DownstreamInterface</a> *&#160;</td>
          <td class="paramname"><em>downstream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>ttl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;{</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending StateRefresh(S=&quot;</span> &lt;&lt; route-&gt;source &lt;&lt; <span class="stringliteral">&quot;, G=&quot;</span> &lt;&lt; route-&gt;group</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;) message on interface &#39;&quot;</span> &lt;&lt; downstream-&gt;ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot;&#39;\n&quot;</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    Packet *packet = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PimStateRefresh&quot;</span>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;PimStateRefresh&gt;();</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    msg-&gt;getGroupAddressForUpdate().groupAddress = route-&gt;group;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    msg-&gt;getSourceAddressForUpdate().unicastAddress = route-&gt;source;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    msg-&gt;getOriginatorAddressForUpdate().unicastAddress = originator;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    msg-&gt;setInterval(<a class="code" href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">stateRefreshInterval</a>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    msg-&gt;setTtl(ttl);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    msg-&gt;setP(downstream-&gt;pruneState == <a class="code" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">DownstreamInterface::PRUNED</a>);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="comment">// TODO set metric</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet.html#a540fbed302e5241d4d5e69a73fe18881">PIM_HEADER_LENGTH</a></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            + <a class="code" href="namespaceinet.html#a31e1e2bd8d7fd43d7e88d8e51071d9a2">ENCODED_GROUP_ADDRESS_LENGTH</a></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            + <a class="code" href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">ENCODED_UNICODE_ADDRESS_LENGTH</a></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            + <a class="code" href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">ENCODED_UNICODE_ADDRESS_LENGTH</a></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            + <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(12));</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    msg-&gt;setCrcMode(<a class="code" href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">pimModule</a>-&gt;getCrcMode());</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <a class="code" href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">Pim::insertCrc</a>(msg);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    packet-&gt;insertAtFront(msg);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    emit(<a class="code" href="classinet_1_1_pim_dm.html#add9d64b5aec91f1fb81361d85ea5b58d">sentStateRefreshPkSignal</a>, packet);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">sendToIP</a>(packet, <a class="code" href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">Ipv4Address::UNSPECIFIED_ADDRESS</a>, <a class="code" href="classinet_1_1_pim_base.html#a7316877308fedc6b5701ca30b91dcb18">ALL_PIM_ROUTERS_MCAST</a>, downstream-&gt;ie-&gt;getInterfaceId());</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">processStateRefreshTimer()</a>.</p>

</div>
</div>
<a id="a35f970f900d38e70cffd59c71ff7b138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f970f900d38e70cffd59c71ff7b138">&#9670;&nbsp;</a></span>sendToIP()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::sendToIP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outInterfaceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;{</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#a220b543d93a744631c3edbb89cf66801">Protocol::pim</a>);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    packet-&gt;addTagIfAbsent&lt;DispatchProtocolInd&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#a220b543d93a744631c3edbb89cf66801">Protocol::pim</a>);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#a0323ac93ca7b779d82d9fb23cd4c8681">DispatchProtocolReq</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#a03877feb0532766f1098b672dc2a36f9">Protocol::ipv4</a>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#a8d28e59a0d202e69c382d34ad7080937">InterfaceReq</a>&gt;()-&gt;setInterfaceId(outInterfaceId);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keyword">auto</span> addresses = packet-&gt;addTagIfAbsent&lt;L3AddressReq&gt;();</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    addresses-&gt;setSrcAddress(srcAddr);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    addresses-&gt;setDestAddress(destAddr);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    packet-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#a97baf7787238d2dd281d18269006b451">HopLimitReq</a>&gt;()-&gt;setHopLimit(1);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    send(packet, <span class="stringliteral">&quot;ipOut&quot;</span>);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ac6d8ed052d865f0818519c5fcae7b63b">sendGraftAckPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">sendGraftPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a4c742b7e04f63d5ecf9391aa58c8091b">sendJoinPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">sendStateRefreshPacket()</a>.</p>

</div>
</div>
<a id="aa3e6c48dbb044b9760a9fc41ea9221b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e6c48dbb044b9760a9fc41ea9221b6">&#9670;&nbsp;</a></span>stopPIMRouting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::stopPIMRouting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1_pim_base.html#a3bcc8113f51c875c2ccc578beb756eaf">isEnabled</a>) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        cModule *host = <a class="code" href="namespaceinet.html#acd0d847a7b6e0f156094fbdd101a00a6">findContainingNode</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (!host)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;PimDm: containing node not found.&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#a8e23e62c079750cf4d16a055c659f8ee">ipv4NewMulticastSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#af1b31d31af3fa4e1864456013d2c7a24">ipv4MulticastGroupRegisteredSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#a034f4a0d0428662dff5e146f0ea4a52d">ipv4MulticastGroupUnregisteredSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#aadfe4228fe784f34518d3b1b08cd33c8">ipv4DataOnNonrpfSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#a214add6d3d183561fb234bb129b52353">ipv4DataOnRpfSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#ad11e66dfc95132b344c09fb8d95d4abb">routeAddedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        host-&gt;unsubscribe(<a class="code" href="namespaceinet.html#a523c4289f8a941621bb1ab06f839baaa">interfaceStateChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a36084231b30a8f40c87656869c0ca56f">clearRoutes</a>();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a0f433828ecc5d44eac770bd4409dc31d">handleCrashOperation()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#ae756abd9e7b9c92b2dfdf84f6671764b">handleStopOperation()</a>.</p>

</div>
</div>
<a id="ae8f0a7e50d176d390ecc99ad38054767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f0a7e50d176d390ecc99ad38054767">&#9670;&nbsp;</a></span>unroutableMulticastPacketArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::PimDm::unroutableMulticastPacketArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_ipv4_address.html">Ipv4Address</a>&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>ttl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method process notification about new multicast data stream. </p>
<p>It goes through all PIM interfaces and tests them if they can be added to the list of outgoing interfaces. If there is no interface on the list at the end, the router will prune from the multicast tree. </p>
<div class="fragment"><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;{</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    ASSERT(!source.isUnspecified());</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    ASSERT(group.isMulticast());</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;New multicast source observed: source=&quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot;, group=&quot;</span> &lt;&lt; group &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    Ipv4Route *routeToSrc = <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;findBestMatchingRoute(source);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (!routeToSrc || !routeToSrc-&gt;getInterface()) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;ERROR: PimDm::newMulticast(): cannot find RPF interface, routing information is missing.&quot;</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    PimInterface *rpfInterface = <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getInterfaceById(routeToSrc-&gt;getInterface()-&gt;getInterfaceId());</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (!rpfInterface || rpfInterface-&gt;getMode() != <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// gateway is unspecified for directly connected destinations</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordtype">bool</span> isSourceDirectlyConnected = routeToSrc-&gt;getSourceType() == <a class="code" href="classinet_1_1_i_route.html#a4e28111c8a9f8cd8c02f7d8a725af932aaf51bb60500145f35e73525d4f6c23b8">Ipv4Route::IFACENETMASK</a>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    Ipv4Address rpfNeighbor = routeToSrc-&gt;getGateway().isUnspecified() ? source : routeToSrc-&gt;getGateway();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    Route *route = <span class="keyword">new</span> Route(<span class="keyword">this</span>, source, group);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">routes</a>[SourceAndGroup(source, group)] = route;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    route-&gt;metric = AssertMetric(routeToSrc-&gt;getAdminDist(), routeToSrc-&gt;getMetric(), <a class="code" href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">Ipv4Address::UNSPECIFIED_ADDRESS</a>);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    route-&gt;upstreamInterface = <span class="keyword">new</span> UpstreamInterface(route, rpfInterface-&gt;getInterfacePtr(), rpfNeighbor, isSourceDirectlyConnected);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">// if the source is directly connected, then go to the Originator state</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">if</span> (isSourceDirectlyConnected) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        route-&gt;upstreamInterface-&gt;originatorState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9">UpstreamInterface::ORIGINATOR</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">if</span> (rpfInterface-&gt;getSR())</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            route-&gt;upstreamInterface-&gt;startStateRefreshTimer();</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        route-&gt;upstreamInterface-&gt;startSourceActiveTimer();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        route-&gt;upstreamInterface-&gt;maxTtlSeen = ttl;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordtype">bool</span> allDownstreamInterfacesArePruned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// insert all PIM interfaces except rpf int</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getNumInterfaces(); i++) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        PimInterface *pimInterface = <a class="code" href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">pimIft</a>-&gt;getInterface(i);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="comment">// check if PIM-DM interface and it is not RPF interface</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (pimInterface == rpfInterface || pimInterface-&gt;getMode() != <a class="code" href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">PimInterface::DenseMode</a>) <span class="comment">// TODO original code added downstream if data for PIM-SM interfaces too</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordtype">bool</span> hasPIMNeighbors = <a class="code" href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">pimNbt</a>-&gt;getNumNeighbors(pimInterface-&gt;getInterfaceId()) &gt; 0;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordtype">bool</span> hasConnectedReceivers = pimInterface-&gt;getInterfacePtr()-&gt;getProtocolData&lt;Ipv4InterfaceData&gt;()-&gt;hasMulticastListener(group);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="comment">// if there are neighbors on interface, we will forward</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">if</span> (hasPIMNeighbors || hasConnectedReceivers) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            <span class="comment">// create new outgoing interface</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            DownstreamInterface *downstream = route-&gt;createDownstreamInterface(pimInterface-&gt;getInterfacePtr());</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            downstream-&gt;setHasConnectedReceivers(hasConnectedReceivers);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            allDownstreamInterfacesArePruned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// if there is no outgoing interface, prune from multicast tree</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">if</span> (allDownstreamInterfacesArePruned) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;There is no outgoing interface for multicast, will send Prune message to upstream.\n&quot;</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        route-&gt;upstreamInterface-&gt;graftPruneState = <a class="code" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">UpstreamInterface::PRUNED</a>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="comment">// Prune message is sent from the forwarding hook (ipv4DataOnRpfSignal), see multicastPacketArrivedOnRpfInterface()</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="comment">// create new multicast route</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    Ipv4MulticastRoute *newRoute = <span class="keyword">new</span> Ipv4MulticastRoute();</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    newRoute-&gt;setOrigin(source);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    newRoute-&gt;setOriginNetmask(<a class="code" href="classinet_1_1_ipv4_address.html#a13a8af5c73ac9075e8055451b4bb473b">Ipv4Address::ALLONES_ADDRESS</a>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    newRoute-&gt;setMulticastGroup(group);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    newRoute-&gt;setSourceType(<a class="code" href="classinet_1_1_i_multicast_route.html#a3a696aa1024fb87444c59307d1073b7cacf0676a66e7932833f2d3884fb00e322">IMulticastRoute::PIM_DM</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    newRoute-&gt;setSource(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    newRoute-&gt;setInInterface(<span class="keyword">new</span> IMulticastRoute::InInterface(route-&gt;upstreamInterface-&gt;ie));</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : route-&gt;downstreamInterfaces) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        DownstreamInterface *downstream = elem;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        newRoute-&gt;addOutInterface(<span class="keyword">new</span> PimDmOutInterface(downstream-&gt;ie, downstream));</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">rt</a>-&gt;addMulticastRoute(newRoute);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;New route was added to the multicast routing table.\n&quot;</span>;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a8fad64703c90239d7accd4fbb1523932">receiveSignal()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a2580364e0af06c9dc67d2717e57e0aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2580364e0af06c9dc67d2717e57e0aaa">&#9670;&nbsp;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structinet_1_1_pim_dm_1_1_route.html">PimDm::Route</a> &amp;&#160;</td>
          <td class="paramname"><em>sourceGroup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;{</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    out &lt;&lt; <span class="stringliteral">&quot;Upstream interface &quot;</span>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">if</span> (!route.upstreamInterface)</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;(empty) &quot;</span>;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;(name: &quot;</span> &lt;&lt; route.upstreamInterface-&gt;ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;RpfNeighbor: &quot;</span> &lt;&lt; route.upstreamInterface-&gt;rpfNeighbor() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;graftPruneState: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1_pim_dm.html#af6626ce9a0f63096d1927559d09b0187">PimDm::graftPruneStateString</a>(route.upstreamInterface-&gt;getGraftPruneState()) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        <span class="keyword">auto</span> t1 = route.upstreamInterface-&gt;getGraftRetryTimer();</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;graftRetryTimer: &quot;</span> &lt;&lt; (t1 ? t1-&gt;getArrivalTime() : 0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <span class="keyword">auto</span> t2 = route.upstreamInterface-&gt;getOverrideTimer();</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;overrideTimer: &quot;</span> &lt;&lt; (t2 ? t2-&gt;getArrivalTime() : 0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;lastPruneSentTime: &quot;</span> &lt;&lt; route.upstreamInterface-&gt;getLastPruneSentTime() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;originatorState: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1_pim_dm.html#ace4eef987e1d5d8b86b895526b44b750">PimDm::originatorStateString</a>(route.upstreamInterface-&gt;getOriginatorState()) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="keyword">auto</span> t3 = route.upstreamInterface-&gt;getSourceActiveTimer();</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;sourceActiveTimer: &quot;</span> &lt;&lt; (t3 ? t3-&gt;getArrivalTime() : 0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        <span class="keyword">auto</span> t4 = route.upstreamInterface-&gt;getStateRefreshTimer();</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;stateRefreshTimer: &quot;</span> &lt;&lt; (t4 ? t4-&gt;getArrivalTime() : 0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;maxTtlSeen: &quot;</span> &lt;&lt; route.upstreamInterface-&gt;getMaxTtlSeen() &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160; </div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    out &lt;&lt; <span class="stringliteral">&quot;Downstream interfaces &quot;</span>;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">if</span> (route.downstreamInterfaces.empty())</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;(empty) &quot;</span>;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; route.downstreamInterfaces.size(); ++i) {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;(name: &quot;</span> &lt;&lt; route.downstreamInterfaces[i]-&gt;ie-&gt;getInterfaceName() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;pruneState: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1_pim_dm.html#abada82b24aa1f76e3df3f3fb5e3d8b66">PimDm::pruneStateString</a>(route.downstreamInterfaces[i]-&gt;getPruneState()) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        <span class="keyword">auto</span> t1 = route.downstreamInterfaces[i]-&gt;getPruneTimer();</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;pruneTimer: &quot;</span> &lt;&lt; (t1 ? t1-&gt;getArrivalTime() : 0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keyword">auto</span> t2 = route.downstreamInterfaces[i]-&gt;getPrunePendingTimer();</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        out &lt;&lt; <span class="stringliteral">&quot;prunePendingTimer: &quot;</span> &lt;&lt; (t2 ? t2-&gt;getArrivalTime() : 0) &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    }</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">return</span> out;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a353e91d419e54620f9c82d3ce3a3b59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a353e91d419e54620f9c82d3ce3a3b59e">&#9670;&nbsp;</a></span>assertTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::assertTime = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>.</p>

</div>
</div>
<a id="a34653c6769decc2d4157b8b0138a5f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34653c6769decc2d4157b8b0138a5f12">&#9670;&nbsp;</a></span>graftRetryInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::graftRetryInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a238eded91259644d869cc099401e3bd3">processGraftRetryTimer()</a>, and <a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6cc417d0d76945ff370ecd882a3ca4e1">inet::PimDm::UpstreamInterface::startGraftRetryTimer()</a>.</p>

</div>
</div>
<a id="a677cff8a415a0a2ab3b1fd7849795cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a677cff8a415a0a2ab3b1fd7849795cb9">&#9670;&nbsp;</a></span>overrideInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::overrideInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">processPrune()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">processPrunePendingTimer()</a>, <a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a81376b39bc87013f7ba289f414209e84">inet::PimDm::UpstreamInterface::startOverrideTimer()</a>, and <a class="el" href="structinet_1_1_pim_dm_1_1_downstream_interface.html#aaaea04e1b4c3ff73a3f440b2b5817b01">inet::PimDm::DownstreamInterface::startPrunePendingTimer()</a>.</p>

</div>
</div>
<a id="aec01385188b8d2b3e406623d37bd5fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec01385188b8d2b3e406623d37bd5fb7">&#9670;&nbsp;</a></span>propagationDelay</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::propagationDelay = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">processPrune()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">processPrunePendingTimer()</a>.</p>

</div>
</div>
<a id="a749883ac4477add7a317c58898bd285f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749883ac4477add7a317c58898bd285f">&#9670;&nbsp;</a></span>pruneInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::pruneInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">multicastPacketArrivedOnNonRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">processOlistEmptyEvent()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">processPrunePendingTimer()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">processStateRefreshTimer()</a>.</p>

</div>
</div>
<a id="ad75e77eea23e59c2ecdd1dc44453ff56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75e77eea23e59c2ecdd1dc44453ff56">&#9670;&nbsp;</a></span>pruneLimitInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::pruneLimitInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>.</p>

</div>
</div>
<a id="ab9c95cdc06d1f3ada9d705e9d66f3935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c95cdc06d1f3ada9d705e9d66f3935">&#9670;&nbsp;</a></span>rcvdAssertPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::rcvdAssertPkSignal = registerSignal(&quot;rcvdAssertPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a30ce43a858513e0e0144fedfac7fb672">processAssertPacket()</a>.</p>

</div>
</div>
<a id="a3ef34a033c70578e9aa733d055c26355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef34a033c70578e9aa733d055c26355">&#9670;&nbsp;</a></span>rcvdGraftAckPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::rcvdGraftAckPkSignal = registerSignal(&quot;rcvdGraftAckPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7b46955bf5db68c6fd0b6601eb6bd9f0">processGraftAckPacket()</a>.</p>

</div>
</div>
<a id="a63cbeaee827838d1ce5b4bbd18a778b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63cbeaee827838d1ce5b4bbd18a778b6">&#9670;&nbsp;</a></span>rcvdGraftPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::rcvdGraftPkSignal = registerSignal(&quot;rcvdGraftPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#ade27fe4fab63f35402dee1606021dfd2">processGraftPacket()</a>.</p>

</div>
</div>
<a id="aa57052434126665da8d0e4de477f9eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57052434126665da8d0e4de477f9eff">&#9670;&nbsp;</a></span>rcvdJoinPrunePkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::rcvdJoinPrunePkSignal = registerSignal(&quot;rcvdJoinPrunePk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">processJoinPrunePacket()</a>.</p>

</div>
</div>
<a id="a821380679dd69c3e6c6b148a71d7956e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821380679dd69c3e6c6b148a71d7956e">&#9670;&nbsp;</a></span>rcvdStateRefreshPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::rcvdStateRefreshPkSignal = registerSignal(&quot;rcvdStateRefreshPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>.</p>

</div>
</div>
<a id="a8d2ff43f4ec43ff1eef288ddac1de374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2ff43f4ec43ff1eef288ddac1de374">&#9670;&nbsp;</a></span>routes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_pim_dm.html#ae2cc2adf308d1548095c2fcd004b4e18">RoutingTable</a> inet::PimDm::routes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a36084231b30a8f40c87656869c0ca56f">clearRoutes()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ae0c6c34f8d56bc8206869887bbe2d0ef">deleteRoute()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">findRoute()</a>, <a class="el" href="classinet_1_1_pim_dm.html#add68701acda5bad784123c3bfd019ea4">handleStartOperation()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ae8f0a7e50d176d390ecc99ad38054767">unroutableMulticastPacketArrived()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a6bb4452006f1f68d8b92f6fdec390d0b">~PimDm()</a>.</p>

</div>
</div>
<a id="ad777838cea0d298f0b21850fea80d7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad777838cea0d298f0b21850fea80d7f0">&#9670;&nbsp;</a></span>sentAssertPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::sentAssertPkSignal = registerSignal(&quot;sentAssertPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">sendAssertPacket()</a>.</p>

</div>
</div>
<a id="aee2a6ba35ec9e167df29ae996f8b50ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2a6ba35ec9e167df29ae996f8b50ab">&#9670;&nbsp;</a></span>sentGraftAckPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::sentGraftAckPkSignal = registerSignal(&quot;sentGraftAckPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#ac6d8ed052d865f0818519c5fcae7b63b">sendGraftAckPacket()</a>.</p>

</div>
</div>
<a id="ab0313acc7ed6dfaaa8562a6c0fb9f3f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0313acc7ed6dfaaa8562a6c0fb9f3f5">&#9670;&nbsp;</a></span>sentGraftPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::sentGraftPkSignal = registerSignal(&quot;sentGraftPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">sendGraftPacket()</a>.</p>

</div>
</div>
<a id="ac8cb6b79d3f97d9d8f0b194acc6d0b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8cb6b79d3f97d9d8f0b194acc6d0b0a">&#9670;&nbsp;</a></span>sentJoinPrunePkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::sentJoinPrunePkSignal = registerSignal(&quot;sentJoinPrunePk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a4c742b7e04f63d5ecf9391aa58c8091b">sendJoinPacket()</a>, and <a class="el" href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">sendPrunePacket()</a>.</p>

</div>
</div>
<a id="add9d64b5aec91f1fb81361d85ea5b58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add9d64b5aec91f1fb81361d85ea5b58d">&#9670;&nbsp;</a></span>sentStateRefreshPkSignal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t inet::PimDm::sentStateRefreshPkSignal = registerSignal(&quot;sentStateRefreshPk&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">sendStateRefreshPacket()</a>.</p>

</div>
</div>
<a id="a6c41fa68050da8f4e73307fa6d824cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c41fa68050da8f4e73307fa6d824cd9">&#9670;&nbsp;</a></span>sourceActiveInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::sourceActiveInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">multicastPacketArrivedOnRpfInterface()</a>, and <a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a9ec09835230bdaea9056a939dea34ddf">inet::PimDm::UpstreamInterface::startSourceActiveTimer()</a>.</p>

</div>
</div>
<a id="a2eb9465890654ce415359d766a7ba836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb9465890654ce415359d766a7ba836">&#9670;&nbsp;</a></span>stateRefreshInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::PimDm::stateRefreshInterval = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_pim_dm.html#a7219cb4556961b4682a135349cc34b71">initialize()</a>, <a class="el" href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">processAssert()</a>, <a class="el" href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">processStateRefreshPacket()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">processStateRefreshTimer()</a>, <a class="el" href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">sendStateRefreshPacket()</a>, and <a class="el" href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a95920ca9c97fded7eea976eaf095cd64">inet::PimDm::UpstreamInterface::startStateRefreshTimer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_pim_dm_8h.html">PimDm.h</a></li>
<li><a class="el" href="_pim_dm_8cc.html">PimDm.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassinet_1_1_pim_dm_html_af3f878802dd0f1433633138223496c3a"><div class="ttname"><a href="classinet_1_1_pim_dm.html#af3f878802dd0f1433633138223496c3a">inet::PimDm::findIpv4MulticastRoute</a></div><div class="ttdeci">Ipv4MulticastRoute * findIpv4MulticastRoute(Ipv4Address group, Ipv4Address source)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1703</div></div>
<div class="ttc" id="anamespaceinet_html_acd0d847a7b6e0f156094fbdd101a00a6"><div class="ttname"><a href="namespaceinet.html#acd0d847a7b6e0f156094fbdd101a00a6">inet::findContainingNode</a></div><div class="ttdeci">cModule * findContainingNode(const cModule *from)</div><div class="ttdoc">Find the node containing the given module.</div><div class="ttdef"><b>Definition:</b> ModuleAccess.cc:31</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_addbdf6c401624231f6421faa6e0b345f"><div class="ttname"><a href="classinet_1_1_pim_dm.html#addbdf6c401624231f6421faa6e0b345f">inet::PimDm::processAssert</a></div><div class="ttdeci">void processAssert(Interface *downstream, AssertMetric receivedMetric, int stateRefreshInterval)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:922</div></div>
<div class="ttc" id="anamespaceinet_html_a214add6d3d183561fb234bb129b52353"><div class="ttname"><a href="namespaceinet.html#a214add6d3d183561fb234bb129b52353">inet::ipv4DataOnRpfSignal</a></div><div class="ttdeci">simsignal_t ipv4DataOnRpfSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:58</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_upstream_interface_html_ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a13778b46745af1096b73832d5b8e9bc7">inet::PimDm::UpstreamInterface::FORWARDING</a></div><div class="ttdeci">@ FORWARDING</div><div class="ttdef"><b>Definition:</b> PimDm.h:40</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a353e91d419e54620f9c82d3ce3a3b59e"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a353e91d419e54620f9c82d3ce3a3b59e">inet::PimDm::assertTime</a></div><div class="ttdeci">double assertTime</div><div class="ttdef"><b>Definition:</b> PimDm.h:161</div></div>
<div class="ttc" id="astructinet_1_1_pim_base_1_1_interface_html_a99c7b37d7615cc48f894e3f45783179aa08ba3520ab17d7564c5ddf0490837e3d"><div class="ttname"><a href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa08ba3520ab17d7564c5ddf0490837e3d">inet::PimBase::Interface::NO_ASSERT_INFO</a></div><div class="ttdeci">@ NO_ASSERT_INFO</div><div class="ttdef"><b>Definition:</b> PimBase.h:74</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_acde5fdb6dd9aa6db22d041dcf811212a"><div class="ttname"><a href="classinet_1_1_pim_dm.html#acde5fdb6dd9aa6db22d041dcf811212a">inet::PimDm::rpfInterfaceHasChanged</a></div><div class="ttdeci">void rpfInterfaceHasChanged(Ipv4MulticastRoute *route, Ipv4Route *routeToSource)</div><div class="ttdoc">The method process notification about interface change.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1363</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a35f970f900d38e70cffd59c71ff7b138"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a35f970f900d38e70cffd59c71ff7b138">inet::PimDm::sendToIP</a></div><div class="ttdeci">void sendToIP(Packet *packet, Ipv4Address source, Ipv4Address dest, int outInterfaceId)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1610</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_upstream_interface_html_a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a242cfdee0bd5fe75539d2504d76ffbd9">inet::PimDm::UpstreamInterface::ORIGINATOR</a></div><div class="ttdeci">@ ORIGINATOR</div><div class="ttdef"><b>Definition:</b> PimDm.h:45</div></div>
<div class="ttc" id="anamespaceinet_html_a5e7442aa87783f52500ddbe3d25b0b7ba06fa98d1b31c4a5d244f8e0a8aaa7246"><div class="ttname"><a href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba06fa98d1b31c4a5d244f8e0a8aaa7246">inet::Hello</a></div><div class="ttdeci">@ Hello</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:93</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a4c742b7e04f63d5ecf9391aa58c8091b"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a4c742b7e04f63d5ecf9391aa58c8091b">inet::PimDm::sendJoinPacket</a></div><div class="ttdeci">void sendJoinPacket(Ipv4Address nextHop, Ipv4Address source, Ipv4Address group, int interfaceId)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1466</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a8660bf1abb940cc834e6bf7afc59bd2e"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a8660bf1abb940cc834e6bf7afc59bd2e">inet::PimDm::processGraft</a></div><div class="ttdeci">void processGraft(Ipv4Address source, Ipv4Address group, Ipv4Address sender, int intId)</div><div class="ttdoc">The method is used to process PimGraft packet.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:711</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a83705d3d2ef35103bb00421bea1135be"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a83705d3d2ef35103bb00421bea1135be">inet::PimDm::sendAssertPacket</a></div><div class="ttdeci">void sendAssertPacket(Ipv4Address source, Ipv4Address group, AssertMetric metric, NetworkInterface *ie)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1585</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a834aafab4f65b7631eb2b06fb70660a7"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a834aafab4f65b7631eb2b06fb70660a7">inet::PimDm::processSourceActiveTimer</a></div><div class="ttdeci">void processSourceActiveTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:404</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ace4eef987e1d5d8b86b895526b44b750"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ace4eef987e1d5d8b86b895526b44b750">inet::PimDm::originatorStateString</a></div><div class="ttdeci">const static std::string originatorStateString(UpstreamInterface::OriginatorState os)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1978</div></div>
<div class="ttc" id="anamespaceinet_html_a540fbed302e5241d4d5e69a73fe18881"><div class="ttname"><a href="namespaceinet.html#a540fbed302e5241d4d5e69a73fe18881">inet::PIM_HEADER_LENGTH</a></div><div class="ttdeci">const B PIM_HEADER_LENGTH</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:68</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_af3561a5d9c1953b9ec43f99eec6f99b4"><div class="ttname"><a href="classinet_1_1_pim_base.html#af3561a5d9c1953b9ec43f99eec6f99b4">inet::PimBase::ift</a></div><div class="ttdeci">ModuleRefByPar&lt; IInterfaceTable &gt; ift</div><div class="ttdef"><b>Definition:</b> PimBase.h:147</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a28992b0efd9c0a68a97b142faea1991f"><div class="ttname"><a href="classinet_1_1_pim_base.html#a28992b0efd9c0a68a97b142faea1991f">inet::PimBase::handleCrashOperation</a></div><div class="ttdeci">virtual void handleCrashOperation(LifecycleOperation *operation) override</div><div class="ttdef"><b>Definition:</b> PimBase.cc:88</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ad7ed933d77c5e3c2bc3770beab8f47a7"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ad7ed933d77c5e3c2bc3770beab8f47a7">inet::PimDm::processOlistNonEmptyEvent</a></div><div class="ttdeci">void processOlistNonEmptyEvent(Route *route)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1656</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_upstream_interface_html_ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957ae0eee788570c38502c56ad89a610602d">inet::PimDm::UpstreamInterface::ACK_PENDING</a></div><div class="ttdeci">@ ACK_PENDING</div><div class="ttdef"><b>Definition:</b> PimDm.h:42</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ac8cb6b79d3f97d9d8f0b194acc6d0b0a"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ac8cb6b79d3f97d9d8f0b194acc6d0b0a">inet::PimDm::sentJoinPrunePkSignal</a></div><div class="ttdeci">static simsignal_t sentJoinPrunePkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:168</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653a09015a0b3784453973933f719dbb07c5"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a09015a0b3784453973933f719dbb07c5">inet::PimBase::SourceActiveTimer</a></div><div class="ttdeci">@ SourceActiveTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:133</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_aec01385188b8d2b3e406623d37bd5fb7"><div class="ttname"><a href="classinet_1_1_pim_dm.html#aec01385188b8d2b3e406623d37bd5fb7">inet::PimDm::propagationDelay</a></div><div class="ttdeci">double propagationDelay</div><div class="ttdef"><b>Definition:</b> PimDm.h:157</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_html_a03877feb0532766f1098b672dc2a36f9"><div class="ttname"><a href="classinet_1_1_protocol.html#a03877feb0532766f1098b672dc2a36f9">inet::Protocol::ipv4</a></div><div class="ttdeci">static const Protocol ipv4</div><div class="ttdef"><b>Definition:</b> Protocol.h:93</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ab98614b24797d2ccc4bed5879a549bf1"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ab98614b24797d2ccc4bed5879a549bf1">inet::PimDm::restartTimer</a></div><div class="ttdeci">void restartTimer(cMessage *timer, double interval)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1685</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_add9d64b5aec91f1fb81361d85ea5b58d"><div class="ttname"><a href="classinet_1_1_pim_dm.html#add9d64b5aec91f1fb81361d85ea5b58d">inet::PimDm::sentStateRefreshPkSignal</a></div><div class="ttdeci">static simsignal_t sentStateRefreshPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:172</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ae0c6c34f8d56bc8206869887bbe2d0ef"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ae0c6c34f8d56bc8206869887bbe2d0ef">inet::PimDm::deleteRoute</a></div><div class="ttdeci">void deleteRoute(Ipv4Address source, Ipv4Address group)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1720</div></div>
<div class="ttc" id="anamespaceinet_html_a31e1e2bd8d7fd43d7e88d8e51071d9a2"><div class="ttname"><a href="namespaceinet.html#a31e1e2bd8d7fd43d7e88d8e51071d9a2">inet::ENCODED_GROUP_ADDRESS_LENGTH</a></div><div class="ttdeci">const B ENCODED_GROUP_ADDRESS_LENGTH</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:70</div></div>
<div class="ttc" id="aclassinet_1_1_pim_interface_html_aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b"><div class="ttname"><a href="classinet_1_1_pim_interface.html#aec3dcedac0eae5dc72b2a1a6e70a3c3cac813b7a42c988c54d0b3cdc89bbcc75b">inet::PimInterface::DenseMode</a></div><div class="ttdeci">@ DenseMode</div><div class="ttdef"><b>Definition:</b> PimInterfaceTable.h:25</div></div>
<div class="ttc" id="astructinet_1_1_pim_base_1_1_interface_html_a99c7b37d7615cc48f894e3f45783179aa82e4b79e46dd71b02e04f9ff5293fda1"><div class="ttname"><a href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa82e4b79e46dd71b02e04f9ff5293fda1">inet::PimBase::Interface::I_WON_ASSERT</a></div><div class="ttdeci">@ I_WON_ASSERT</div><div class="ttdef"><b>Definition:</b> PimBase.h:74</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_adc1e7efc2330095aefc0d6372226f0ba"><div class="ttname"><a href="classinet_1_1_pim_dm.html#adc1e7efc2330095aefc0d6372226f0ba">inet::PimDm::processAssertTimer</a></div><div class="ttdeci">void processAssertTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:265</div></div>
<div class="ttc" id="aclassinet_1_1_i_multicast_route_html_a3a696aa1024fb87444c59307d1073b7cacf0676a66e7932833f2d3884fb00e322"><div class="ttname"><a href="classinet_1_1_i_multicast_route.html#a3a696aa1024fb87444c59307d1073b7cacf0676a66e7932833f2d3884fb00e322">inet::IMulticastRoute::PIM_DM</a></div><div class="ttdeci">@ PIM_DM</div><div class="ttdoc">managed by PIM-DM router</div><div class="ttdef"><b>Definition:</b> IRoute.h:168</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a3bcc8113f51c875c2ccc578beb756eaf"><div class="ttname"><a href="classinet_1_1_pim_base.html#a3bcc8113f51c875c2ccc578beb756eaf">inet::PimBase::isEnabled</a></div><div class="ttdeci">bool isEnabled</div><div class="ttdef"><b>Definition:</b> PimBase.h:153</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a8d28e59a0d202e69c382d34ad7080937"><div class="ttname"><a href="_i_udp-gates_8txt.html#a8d28e59a0d202e69c382d34ad7080937">InterfaceReq</a></div><div class="ttdeci">removed InterfaceReq</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:11</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a8d2ff43f4ec43ff1eef288ddac1de374"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a8d2ff43f4ec43ff1eef288ddac1de374">inet::PimDm::routes</a></div><div class="ttdeci">RoutingTable routes</div><div class="ttdef"><b>Definition:</b> PimDm.h:176</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a0323ac93ca7b779d82d9fb23cd4c8681"><div class="ttname"><a href="_i_udp-gates_8txt.html#a0323ac93ca7b779d82d9fb23cd4c8681">DispatchProtocolReq</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd DispatchProtocolReq L4PortInd Ipv4ControlInfo Ipv6ControlInfo down DispatchProtocolReq</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:25</div></div>
<div class="ttc" id="anamespaceinet_html_aa6ec171e6713859f4701a8b8da2f7b0c"><div class="ttname"><a href="namespaceinet.html#aa6ec171e6713859f4701a8b8da2f7b0c">inet::printSignalBanner</a></div><div class="ttdeci">void printSignalBanner(simsignal_t signalID, const cObject *obj, const cObject *details)</div><div class="ttdoc">Utility function.</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:126</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a821380679dd69c3e6c6b148a71d7956e"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a821380679dd69c3e6c6b148a71d7956e">inet::PimDm::rcvdStateRefreshPkSignal</a></div><div class="ttdeci">static simsignal_t rcvdStateRefreshPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:173</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a34a7fa413a34f527bad65710de8f684d"><div class="ttname"><a href="_i_udp-gates_8txt.html#a34a7fa413a34f527bad65710de8f684d">L3AddressInd</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd L3AddressInd</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:20</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ab9c95cdc06d1f3ada9d705e9d66f3935"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ab9c95cdc06d1f3ada9d705e9d66f3935">inet::PimDm::rcvdAssertPkSignal</a></div><div class="ttdeci">static simsignal_t rcvdAssertPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:171</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a0cfedf9c9630efb66203ad92132917e3"><div class="ttname"><a href="classinet_1_1_pim_base.html#a0cfedf9c9630efb66203ad92132917e3">inet::PimBase::pimModule</a></div><div class="ttdeci">opp_component_ptr&lt; Pim &gt; pimModule</div><div class="ttdef"><b>Definition:</b> PimBase.h:150</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a8b965dccffe84f9d4c126131adddac1e"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a8b965dccffe84f9d4c126131adddac1e">inet::PimDm::multicastReceiverAdded</a></div><div class="ttdeci">void multicastReceiverAdded(NetworkInterface *ie, Ipv4Address newAddr)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1143</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a36084231b30a8f40c87656869c0ca56f"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a36084231b30a8f40c87656869c0ca56f">inet::PimDm::clearRoutes</a></div><div class="ttdeci">void clearRoutes()</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1729</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653aecd965ddcc135ab3a2ea7f4ac9bea2b3"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653aecd965ddcc135ab3a2ea7f4ac9bea2b3">inet::PimBase::UpstreamOverrideTimer</a></div><div class="ttdeci">@ UpstreamOverrideTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:131</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_downstream_interface_html_a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5baca0c9afc06834be7c1f7c116aa82fd58">inet::PimDm::DownstreamInterface::NO_INFO</a></div><div class="ttdeci">@ NO_INFO</div><div class="ttdef"><b>Definition:</b> PimDm.h:96</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_upstream_interface_html_ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_upstream_interface.html#ad795059244f3cf5106b2decb2a5c8957a5b4ce098a73fce7bdf94e7e2455bcdf0">inet::PimDm::UpstreamInterface::PRUNED</a></div><div class="ttdeci">@ PRUNED</div><div class="ttdef"><b>Definition:</b> PimDm.h:41</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a6d2c35f2cfb653c2afed540ebc6068ed"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a6d2c35f2cfb653c2afed540ebc6068ed">inet::PimDm::multicastPacketArrivedOnRpfInterface</a></div><div class="ttdeci">void multicastPacketArrivedOnRpfInterface(int interfaceId, Ipv4Address group, Ipv4Address source, unsigned short ttl)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1285</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a7b46955bf5db68c6fd0b6601eb6bd9f0"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a7b46955bf5db68c6fd0b6601eb6bd9f0">inet::PimDm::processGraftAckPacket</a></div><div class="ttdeci">void processGraftAckPacket(Packet *pk)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:770</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a3ef34a033c70578e9aa733d055c26355"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a3ef34a033c70578e9aa733d055c26355">inet::PimDm::rcvdGraftAckPkSignal</a></div><div class="ttdeci">static simsignal_t rcvdGraftAckPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:167</div></div>
<div class="ttc" id="aclassinet_1_1_pim_html_a1ff293f9bde96192f5adb61b11314e23"><div class="ttname"><a href="classinet_1_1_pim.html#a1ff293f9bde96192f5adb61b11314e23">inet::Pim::insertCrc</a></div><div class="ttdeci">static void insertCrc(const Ptr&lt; PimPacket &gt; &amp;pimPacket)</div><div class="ttdef"><b>Definition:</b> Pim.cc:103</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a3e1e6b604c350488f23f84036b3c08bf"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a3e1e6b604c350488f23f84036b3c08bf">inet::PimDm::getIncomingInterface</a></div><div class="ttdeci">PimInterface * getIncomingInterface(NetworkInterface *fromIE)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1696</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653a04ff6d863af2e570c08867c7b6d5516e"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a04ff6d863af2e570c08867c7b6d5516e">inet::PimBase::PrunePendingTimer</a></div><div class="ttdeci">@ PrunePendingTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:127</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a7316877308fedc6b5701ca30b91dcb18"><div class="ttname"><a href="classinet_1_1_pim_base.html#a7316877308fedc6b5701ca30b91dcb18">inet::PimBase::ALL_PIM_ROUTERS_MCAST</a></div><div class="ttdeci">static const Ipv4Address ALL_PIM_ROUTERS_MCAST</div><div class="ttdef"><b>Definition:</b> PimBase.h:143</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a06da9329332d00c95e66dc8a80feaadd"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a06da9329332d00c95e66dc8a80feaadd">inet::PimDm::findRoute</a></div><div class="ttdeci">Route * findRoute(Ipv4Address source, Ipv4Address group)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1714</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a6c41fa68050da8f4e73307fa6d824cd9"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a6c41fa68050da8f4e73307fa6d824cd9">inet::PimDm::sourceActiveInterval</a></div><div class="ttdeci">double sourceActiveInterval</div><div class="ttdef"><b>Definition:</b> PimDm.h:159</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a5c31127f641ddd3b4e4a0dec734c2d95"><div class="ttname"><a href="classinet_1_1_pim_base.html#a5c31127f641ddd3b4e4a0dec734c2d95">inet::PimBase::handleStartOperation</a></div><div class="ttdeci">virtual void handleStartOperation(LifecycleOperation *operation) override</div><div class="ttdef"><b>Definition:</b> PimBase.cc:60</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_afd36d0627e26925acd433b1dd1fdd2bc"><div class="ttname"><a href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd DispatchProtocolReq L4PortInd Ipv4ControlInfo Ipv6ControlInfo down PacketProtocolTag</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:25</div></div>
<div class="ttc" id="anamespaceinet_html_a8e23e62c079750cf4d16a055c659f8ee"><div class="ttname"><a href="namespaceinet.html#a8e23e62c079750cf4d16a055c659f8ee">inet::ipv4NewMulticastSignal</a></div><div class="ttdeci">simsignal_t ipv4NewMulticastSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:56</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a13a8af5c73ac9075e8055451b4bb473b"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a13a8af5c73ac9075e8055451b4bb473b">inet::Ipv4Address::ALLONES_ADDRESS</a></div><div class="ttdeci">static const Ipv4Address ALLONES_ADDRESS</div><div class="ttdoc">255.255.255.255</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:94</div></div>
<div class="ttc" id="anamespaceinet_html_a5e7442aa87783f52500ddbe3d25b0b7ba7c6176bfa8314685a044f11c207585c0"><div class="ttname"><a href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba7c6176bfa8314685a044f11c207585c0">inet::StateRefresh</a></div><div class="ttdeci">@ StateRefresh</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:102</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653a938ffcbcc8961d448faa04e48f579d61"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a938ffcbcc8961d448faa04e48f579d61">inet::PimBase::PruneLimitTimer</a></div><div class="ttdeci">@ PruneLimitTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:132</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ac6d8ed052d865f0818519c5fcae7b63b"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ac6d8ed052d865f0818519c5fcae7b63b">inet::PimDm::sendGraftAckPacket</a></div><div class="ttdeci">void sendGraftAckPacket(Packet *pk, const Ptr&lt; const PimGraft &gt; &amp;graftPacket)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1534</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_html_a220b543d93a744631c3edbb89cf66801"><div class="ttname"><a href="classinet_1_1_protocol.html#a220b543d93a744631c3edbb89cf66801">inet::Protocol::pim</a></div><div class="ttdeci">static const Protocol pim</div><div class="ttdef"><b>Definition:</b> Protocol.h:103</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a30ce43a858513e0e0144fedfac7fb672"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a30ce43a858513e0e0144fedfac7fb672">inet::PimDm::processAssertPacket</a></div><div class="ttdeci">void processAssertPacket(Packet *pk)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:648</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653acda8b0be69120c250d748548ac5b2192"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653acda8b0be69120c250d748548ac5b2192">inet::PimBase::StateRefreshTimer</a></div><div class="ttdeci">@ StateRefreshTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:134</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_ad7ad0f25f79720dfaf8c92f86d789e9c"><div class="ttname"><a href="classinet_1_1_pim_base.html#ad7ad0f25f79720dfaf8c92f86d789e9c">inet::PimBase::PimBase</a></div><div class="ttdeci">PimBase(PimInterface::PimMode mode)</div><div class="ttdef"><b>Definition:</b> PimBase.h:170</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1units_html_af52f6a778cd03659324d02848f8aaa33"><div class="ttname"><a href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">inet::units::units::B</a></div><div class="ttdeci">intscale&lt; b, 1, 8 &gt; B</div><div class="ttdef"><b>Definition:</b> Units.h:1168</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653a096d03c3851d1556a7da539d772edb75"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a096d03c3851d1556a7da539d772edb75">inet::PimBase::PruneTimer</a></div><div class="ttdeci">@ PruneTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:126</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a63cbeaee827838d1ce5b4bbd18a778b6"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a63cbeaee827838d1ce5b4bbd18a778b6">inet::PimDm::rcvdGraftPkSignal</a></div><div class="ttdeci">static simsignal_t rcvdGraftPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:165</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_downstream_interface_html_a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5bad4585f0ab9819f21954200d188b297a0">inet::PimDm::DownstreamInterface::PRUNE_PENDING</a></div><div class="ttdeci">@ PRUNE_PENDING</div><div class="ttdef"><b>Definition:</b> PimDm.h:97</div></div>
<div class="ttc" id="astructinet_1_1_pim_base_1_1_interface_html_a99c7b37d7615cc48f894e3f45783179aa273c3fc1af6cf28fbb22f3430ee6a9c2"><div class="ttname"><a href="structinet_1_1_pim_base_1_1_interface.html#a99c7b37d7615cc48f894e3f45783179aa273c3fc1af6cf28fbb22f3430ee6a9c2">inet::PimBase::Interface::I_LOST_ASSERT</a></div><div class="ttdeci">@ I_LOST_ASSERT</div><div class="ttdef"><b>Definition:</b> PimBase.h:74</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a59ee2dbbebcd90a7a936ffbaa26882c4"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a59ee2dbbebcd90a7a936ffbaa26882c4">inet::PimDm::sendStateRefreshPacket</a></div><div class="ttdeci">void sendStateRefreshPacket(Ipv4Address originator, Route *route, DownstreamInterface *downstream, unsigned short ttl)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1556</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a7820fc4df7ddbed539b42aa94eebf7ea"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a7820fc4df7ddbed539b42aa94eebf7ea">inet::Ipv4Address::maskedAddrAreEqual</a></div><div class="ttdeci">static bool maskedAddrAreEqual(const Ipv4Address &amp;addr1, const Ipv4Address &amp;addr2, const Ipv4Address &amp;netmask)</div><div class="ttdoc">Test if the masked addresses (ie the mask is applied to addr1 and addr2) are equal.</div><div class="ttdef"><b>Definition:</b> Ipv4Address.cc:249</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_abada82b24aa1f76e3df3f3fb5e3d8b66"><div class="ttname"><a href="classinet_1_1_pim_dm.html#abada82b24aa1f76e3df3f3fb5e3d8b66">inet::PimDm::pruneStateString</a></div><div class="ttdeci">const static std::string pruneStateString(DownstreamInterface::PruneState ps)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1988</div></div>
<div class="ttc" id="anamespaceinet_html_af1b31d31af3fa4e1864456013d2c7a24"><div class="ttname"><a href="namespaceinet.html#af1b31d31af3fa4e1864456013d2c7a24">inet::ipv4MulticastGroupRegisteredSignal</a></div><div class="ttdeci">simsignal_t ipv4MulticastGroupRegisteredSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:52</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a8cf64a12b97f085b349526b05f7561e3"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a8cf64a12b97f085b349526b05f7561e3">inet::PimDm::processOlistEmptyEvent</a></div><div class="ttdeci">void processOlistEmptyEvent(Route *route)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1630</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a97baf7787238d2dd281d18269006b451"><div class="ttname"><a href="_i_udp-gates_8txt.html#a97baf7787238d2dd281d18269006b451">HopLimitReq</a></div><div class="ttdeci">removed HopLimitReq</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:11</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ab0313acc7ed6dfaaa8562a6c0fb9f3f5"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ab0313acc7ed6dfaaa8562a6c0fb9f3f5">inet::PimDm::sentGraftPkSignal</a></div><div class="ttdeci">static simsignal_t sentGraftPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:164</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a81794ddabf7a4cd59d212e9bd96ef2f8"><div class="ttname"><a href="classinet_1_1_pim_base.html#a81794ddabf7a4cd59d212e9bd96ef2f8">inet::PimBase::pimIft</a></div><div class="ttdeci">ModuleRefByPar&lt; PimInterfaceTable &gt; pimIft</div><div class="ttdef"><b>Definition:</b> PimBase.h:148</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a1400d95f0a885577694c2ad8d94e6587"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a1400d95f0a885577694c2ad8d94e6587">inet::PimDm::multicastReceiverRemoved</a></div><div class="ttdeci">void multicastReceiverRemoved(NetworkInterface *ie, Ipv4Address oldAddr)</div><div class="ttdoc">The method process notification about multicast groups removed from interface.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1190</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ae555d4359017ff47e03dea05316ed12a"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ae555d4359017ff47e03dea05316ed12a">inet::PimDm::processStateRefreshPacket</a></div><div class="ttdeci">void processStateRefreshPacket(Packet *pk)</div><div class="ttdoc">The method is used to process PimStateRefresh packet.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:819</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_aa936b8c0ef233cb0e6e1e1ef91def821"><div class="ttname"><a href="classinet_1_1_pim_dm.html#aa936b8c0ef233cb0e6e1e1ef91def821">inet::PimDm::processPrune</a></div><div class="ttdeci">void processPrune(Route *route, int intId, int holdTime, int numRpfNeighbors, Ipv4Address upstreamNeighborField)</div><div class="ttdoc">The method process PIM Prune packet.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:575</div></div>
<div class="ttc" id="anamespaceinet_html_a523c4289f8a941621bb1ab06f839baaa"><div class="ttname"><a href="namespaceinet.html#a523c4289f8a941621bb1ab06f839baaa">inet::interfaceStateChangedSignal</a></div><div class="ttdeci">simsignal_t interfaceStateChangedSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:32</div></div>
<div class="ttc" id="anamespaceinet_html_a6be747ab6f195055e109f27f8462e52e"><div class="ttname"><a href="namespaceinet.html#a6be747ab6f195055e109f27f8462e52e">inet::INITSTAGE_LOCAL</a></div><div class="ttdeci">INET_API InitStage INITSTAGE_LOCAL</div><div class="ttdoc">Initialization of local state that don't use or affect other modules includes:</div></div>
<div class="ttc" id="anamespaceinet_html_a5e7442aa87783f52500ddbe3d25b0b7bac67da5397dff69feeed6664b109caeb7"><div class="ttname"><a href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7bac67da5397dff69feeed6664b109caeb7">inet::Graft</a></div><div class="ttdeci">@ Graft</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:99</div></div>
<div class="ttc" id="anamespaceinet_html_ad11e66dfc95132b344c09fb8d95d4abb"><div class="ttname"><a href="namespaceinet.html#ad11e66dfc95132b344c09fb8d95d4abb">inet::routeAddedSignal</a></div><div class="ttdeci">simsignal_t routeAddedSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:41</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a749883ac4477add7a317c58898bd285f"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a749883ac4477add7a317c58898bd285f">inet::PimDm::pruneInterval</a></div><div class="ttdeci">double pruneInterval</div><div class="ttdef"><b>Definition:</b> PimDm.h:154</div></div>
<div class="ttc" id="anamespaceinet_html_a8ab824912189bc0ea8e3539f55a05876"><div class="ttname"><a href="namespaceinet.html#a8ab824912189bc0ea8e3539f55a05876">inet::ENCODED_SOURCE_ADDRESS_LENGTH</a></div><div class="ttdeci">const B ENCODED_SOURCE_ADDRESS_LENGTH</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:71</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_af3371e6948c076c570601e30ba82cae9"><div class="ttname"><a href="classinet_1_1_pim_dm.html#af3371e6948c076c570601e30ba82cae9">inet::PimDm::processJoinPrunePacket</a></div><div class="ttdeci">void processJoinPrunePacket(Packet *pk)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:475</div></div>
<div class="ttc" id="a_init_stage_registry_8h_html_a6dec686281914f336c1b4dcafdbcf9df"><div class="ttname"><a href="_init_stage_registry_8h.html#a6dec686281914f336c1b4dcafdbcf9df">NUM_INIT_STAGES</a></div><div class="ttdeci">#define NUM_INIT_STAGES</div><div class="ttdef"><b>Definition:</b> InitStageRegistry.h:73</div></div>
<div class="ttc" id="anamespaceinet_html_aadfe4228fe784f34518d3b1b08cd33c8"><div class="ttname"><a href="namespaceinet.html#aadfe4228fe784f34518d3b1b08cd33c8">inet::ipv4DataOnNonrpfSignal</a></div><div class="ttdeci">simsignal_t ipv4DataOnNonrpfSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:57</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a77904d8418e0d3b4be7555aeab4c930a"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">inet::sctp::max</a></div><div class="ttdeci">double max(const double a, const double b)</div><div class="ttdoc">Returns the maximum of a and b.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:266</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_ad82068c9df43e5e1faf22a93e801f786"><div class="ttname"><a href="classinet_1_1_pim_base.html#ad82068c9df43e5e1faf22a93e801f786">inet::PimBase::holdTime</a></div><div class="ttdeci">double holdTime</div><div class="ttdef"><b>Definition:</b> PimBase.h:158</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_af4fe2c439d68554463f72f37ea283c30"><div class="ttname"><a href="classinet_1_1_pim_dm.html#af4fe2c439d68554463f72f37ea283c30">inet::PimDm::processPruneTimer</a></div><div class="ttdeci">void processPruneTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:303</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_downstream_interface_html_a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_downstream_interface.html#a09429e6ce7d9a9fe19376acecd06cb5ba87478d13b4c1cb1ae4583039d387557d">inet::PimDm::DownstreamInterface::PRUNED</a></div><div class="ttdeci">@ PRUNED</div><div class="ttdef"><b>Definition:</b> PimDm.h:98</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a1bcf6958f1485d104cb9f4d01c8e73b7"><div class="ttname"><a href="classinet_1_1_pim_base.html#a1bcf6958f1485d104cb9f4d01c8e73b7">inet::PimBase::processHelloTimer</a></div><div class="ttdeci">void processHelloTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimBase.cc:95</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_aee2a6ba35ec9e167df29ae996f8b50ab"><div class="ttname"><a href="classinet_1_1_pim_dm.html#aee2a6ba35ec9e167df29ae996f8b50ab">inet::PimDm::sentGraftAckPkSignal</a></div><div class="ttdeci">static simsignal_t sentGraftAckPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:166</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a22b351169c7ccb2ebfbc078137fb2e73"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a22b351169c7ccb2ebfbc078137fb2e73">inet::PimDm::processJoin</a></div><div class="ttdeci">void processJoin(Route *route, int intId, int numRpfNeighbors, Ipv4Address upstreamNeighborField)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:517</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_ab1cbbb7ed84d3b4013b272809329d482"><div class="ttname"><a href="classinet_1_1_pim_base.html#ab1cbbb7ed84d3b4013b272809329d482">inet::PimBase::pimNbt</a></div><div class="ttdeci">ModuleRefByPar&lt; PimNeighborTable &gt; pimNbt</div><div class="ttdef"><b>Definition:</b> PimBase.h:149</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_aa6dcbc8ec7999b25ff6374e72ca46483"><div class="ttname"><a href="classinet_1_1_pim_dm.html#aa6dcbc8ec7999b25ff6374e72ca46483">inet::PimDm::sendGraftPacket</a></div><div class="ttdeci">void sendGraftPacket(Ipv4Address nextHop, Ipv4Address src, Ipv4Address grp, int intId)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1502</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ae8f0a7e50d176d390ecc99ad38054767"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ae8f0a7e50d176d390ecc99ad38054767">inet::PimDm::unroutableMulticastPacketArrived</a></div><div class="ttdeci">void unroutableMulticastPacketArrived(Ipv4Address srcAddress, Ipv4Address destAddress, unsigned short ttl)</div><div class="ttdoc">The method process notification about new multicast data stream.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1055</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ade27fe4fab63f35402dee1606021dfd2"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ade27fe4fab63f35402dee1606021dfd2">inet::PimDm::processGraftPacket</a></div><div class="ttdeci">void processGraftPacket(Packet *pk)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:673</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a2eb9465890654ce415359d766a7ba836"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a2eb9465890654ce415359d766a7ba836">inet::PimDm::stateRefreshInterval</a></div><div class="ttdeci">double stateRefreshInterval</div><div class="ttdef"><b>Definition:</b> PimDm.h:160</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a2ea3e85bdf1b99c395ed0b0d7cf4fe14"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a2ea3e85bdf1b99c395ed0b0d7cf4fe14">inet::Ipv4Address::UNSPECIFIED_ADDRESS</a></div><div class="ttdeci">static const Ipv4Address UNSPECIFIED_ADDRESS</div><div class="ttdoc">0.0.0.0</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:91</div></div>
<div class="ttc" id="a_self_doc_8h_html_a8e54030c665b5254da268db865fccdfc"><div class="ttname"><a href="_self_doc_8h.html#a8e54030c665b5254da268db865fccdfc">Enter_Method</a></div><div class="ttdeci">#define Enter_Method(...)</div><div class="ttdef"><b>Definition:</b> SelfDoc.h:71</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1units_html_adf892886878042b73ce6acb2951acac8"><div class="ttname"><a href="namespaceinet_1_1units_1_1units.html#adf892886878042b73ce6acb2951acac8">inet::units::units::ps</a></div><div class="ttdeci">pico&lt; s &gt;::type ps</div><div class="ttdef"><b>Definition:</b> Units.h:1073</div></div>
<div class="ttc" id="anamespaceinet_html_a034f4a0d0428662dff5e146f0ea4a52d"><div class="ttname"><a href="namespaceinet.html#a034f4a0d0428662dff5e146f0ea4a52d">inet::ipv4MulticastGroupUnregisteredSignal</a></div><div class="ttdeci">simsignal_t ipv4MulticastGroupUnregisteredSignal</div><div class="ttdef"><b>Definition:</b> Simsignals.cc:53</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ad75e77eea23e59c2ecdd1dc44453ff56"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ad75e77eea23e59c2ecdd1dc44453ff56">inet::PimDm::pruneLimitInterval</a></div><div class="ttdeci">double pruneLimitInterval</div><div class="ttdef"><b>Definition:</b> PimDm.h:155</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_ad777838cea0d298f0b21850fea80d7f0"><div class="ttname"><a href="classinet_1_1_pim_dm.html#ad777838cea0d298f0b21850fea80d7f0">inet::PimDm::sentAssertPkSignal</a></div><div class="ttdeci">static simsignal_t sentAssertPkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:170</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a34653c6769decc2d4157b8b0138a5f12"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a34653c6769decc2d4157b8b0138a5f12">inet::PimDm::graftRetryInterval</a></div><div class="ttdeci">double graftRetryInterval</div><div class="ttdef"><b>Definition:</b> PimDm.h:158</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a63baafb931092998c2318f267a3d39c6"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a63baafb931092998c2318f267a3d39c6">inet::PimDm::processPrunePendingTimer</a></div><div class="ttdeci">void processPrunePendingTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:339</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_aa57052434126665da8d0e4de477f9eff"><div class="ttname"><a href="classinet_1_1_pim_dm.html#aa57052434126665da8d0e4de477f9eff">inet::PimDm::rcvdJoinPrunePkSignal</a></div><div class="ttdeci">static simsignal_t rcvdJoinPrunePkSignal</div><div class="ttdef"><b>Definition:</b> PimDm.h:169</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a5cad3f09fe77f8bef3de090929610b6f"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a5cad3f09fe77f8bef3de090929610b6f">inet::PimDm::sendPrunePacket</a></div><div class="ttdeci">void sendPrunePacket(Ipv4Address nextHop, Ipv4Address src, Ipv4Address grp, int holdTime, int intId)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1436</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a238eded91259644d869cc099401e3bd3"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a238eded91259644d869cc099401e3bd3">inet::PimDm::processGraftRetryTimer</a></div><div class="ttdeci">void processGraftRetryTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:364</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653a784c19eef746ae607b2d851033e554eb"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653a784c19eef746ae607b2d851033e554eb">inet::PimBase::AssertTimer</a></div><div class="ttdeci">@ AssertTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:125</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_aa3e6c48dbb044b9760a9fc41ea9221b6"><div class="ttname"><a href="classinet_1_1_pim_dm.html#aa3e6c48dbb044b9760a9fc41ea9221b6">inet::PimDm::stopPIMRouting</a></div><div class="ttdeci">virtual void stopPIMRouting()</div><div class="ttdef"><b>Definition:</b> PimDm.cc:91</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a677cff8a415a0a2ab3b1fd7849795cb9"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a677cff8a415a0a2ab3b1fd7849795cb9">inet::PimDm::overrideInterval</a></div><div class="ttdeci">double overrideInterval</div><div class="ttdef"><b>Definition:</b> PimDm.h:156</div></div>
<div class="ttc" id="anamespaceinet_html_a5e7442aa87783f52500ddbe3d25b0b7ba210219a229179e5abaf8952322b72906"><div class="ttname"><a href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba210219a229179e5abaf8952322b72906">inet::Assert</a></div><div class="ttdeci">@ Assert</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:98</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653ab4c0c7f957646123f7b15901876fbd33"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653ab4c0c7f957646123f7b15901876fbd33">inet::PimBase::GraftRetryTimer</a></div><div class="ttdeci">@ GraftRetryTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:130</div></div>
<div class="ttc" id="anamespaceinet_html_afa1e06e48214ae277a87162ad7c4dff5"><div class="ttname"><a href="namespaceinet.html#afa1e06e48214ae277a87162ad7c4dff5">inet::ENCODED_UNICODE_ADDRESS_LENGTH</a></div><div class="ttdeci">const B ENCODED_UNICODE_ADDRESS_LENGTH</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:69</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a740c582e478e33ec2a443b3efaf2fe13"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a740c582e478e33ec2a443b3efaf2fe13">inet::PimDm::processOverrideTimer</a></div><div class="ttdeci">void processOverrideTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:383</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a309c315379134ad80ef5008ed6afec04"><div class="ttname"><a href="classinet_1_1_pim_base.html#a309c315379134ad80ef5008ed6afec04">inet::PimBase::handleStopOperation</a></div><div class="ttdeci">virtual void handleStopOperation(LifecycleOperation *operation) override</div><div class="ttdef"><b>Definition:</b> PimBase.cc:81</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a3ec89e6bcbea4314b0855ec734635685"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a3ec89e6bcbea4314b0855ec734635685">inet::PimDm::multicastPacketArrivedOnNonRpfInterface</a></div><div class="ttdeci">void multicastPacketArrivedOnNonRpfInterface(Ipv4Address group, Ipv4Address source, int interfaceId)</div><div class="ttdoc">The method has to solve the problem when multicast data appears on non-RPF interface.</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1223</div></div>
<div class="ttc" id="aclassinet_1_1_i_route_html_a4e28111c8a9f8cd8c02f7d8a725af932aaf51bb60500145f35e73525d4f6c23b8"><div class="ttname"><a href="classinet_1_1_i_route.html#a4e28111c8a9f8cd8c02f7d8a725af932aaf51bb60500145f35e73525d4f6c23b8">inet::IRoute::IFACENETMASK</a></div><div class="ttdeci">@ IFACENETMASK</div><div class="ttdoc">comes from an interface's netmask</div><div class="ttdef"><b>Definition:</b> IRoute.h:30</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_aaba6f336f6ac07584847f30d59e2ddd3"><div class="ttname"><a href="classinet_1_1_pim_base.html#aaba6f336f6ac07584847f30d59e2ddd3">inet::PimBase::initialize</a></div><div class="ttdeci">virtual void initialize(int stage) override</div><div class="ttdef"><b>Definition:</b> PimBase.cc:37</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_af6626ce9a0f63096d1927559d09b0187"><div class="ttname"><a href="classinet_1_1_pim_dm.html#af6626ce9a0f63096d1927559d09b0187">inet::PimDm::graftPruneStateString</a></div><div class="ttdeci">const static std::string graftPruneStateString(UpstreamInterface::GraftPruneState ps)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:1966</div></div>
<div class="ttc" id="aclassinet_1_1_pim_dm_html_a2c803df27bca70202079f2556506d8cf"><div class="ttname"><a href="classinet_1_1_pim_dm.html#a2c803df27bca70202079f2556506d8cf">inet::PimDm::processStateRefreshTimer</a></div><div class="ttdeci">void processStateRefreshTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> PimDm.cc:443</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a8a7673e74c2424461457cc8bf7f4c601"><div class="ttname"><a href="classinet_1_1_pim_base.html#a8a7673e74c2424461457cc8bf7f4c601">inet::PimBase::processHelloPacket</a></div><div class="ttdeci">void processHelloPacket(Packet *pk)</div><div class="ttdef"><b>Definition:</b> PimBase.cc:153</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a2fa5a16d1f1d6d35078141273fd5d653ae0f57a43d1d0bce3b01431e125bcf560"><div class="ttname"><a href="classinet_1_1_pim_base.html#a2fa5a16d1f1d6d35078141273fd5d653ae0f57a43d1d0bce3b01431e125bcf560">inet::PimBase::HelloTimer</a></div><div class="ttdeci">@ HelloTimer</div><div class="ttdef"><b>Definition:</b> PimBase.h:121</div></div>
<div class="ttc" id="astructinet_1_1_pim_dm_1_1_upstream_interface_html_a6c9c7d5d65ceaf6a4e6e4c5693856bf3a9270d63e68b1354ada748328a17a42cc"><div class="ttname"><a href="structinet_1_1_pim_dm_1_1_upstream_interface.html#a6c9c7d5d65ceaf6a4e6e4c5693856bf3a9270d63e68b1354ada748328a17a42cc">inet::PimDm::UpstreamInterface::NOT_ORIGINATOR</a></div><div class="ttdeci">@ NOT_ORIGINATOR</div><div class="ttdef"><b>Definition:</b> PimDm.h:45</div></div>
<div class="ttc" id="anamespaceinet_html_a5e7442aa87783f52500ddbe3d25b0b7ba798eb59ab6d36c0caa5491f7fcfbe49f"><div class="ttname"><a href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba798eb59ab6d36c0caa5491f7fcfbe49f">inet::GraftAck</a></div><div class="ttdeci">@ GraftAck</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:100</div></div>
<div class="ttc" id="anamespaceinet_html_a5e7442aa87783f52500ddbe3d25b0b7ba3e92c0bda3ce2133f3fd6ef205bbd523"><div class="ttname"><a href="namespaceinet.html#a5e7442aa87783f52500ddbe3d25b0b7ba3e92c0bda3ce2133f3fd6ef205bbd523">inet::JoinPrune</a></div><div class="ttdeci">@ JoinPrune</div><div class="ttdef"><b>Definition:</b> PimPacket_m.h:96</div></div>
<div class="ttc" id="aclassinet_1_1_pim_base_html_a5a4de00e77426d0f920cb6ddc67280f0"><div class="ttname"><a href="classinet_1_1_pim_base.html#a5a4de00e77426d0f920cb6ddc67280f0">inet::PimBase::rt</a></div><div class="ttdeci">ModuleRefByPar&lt; IIpv4RoutingTable &gt; rt</div><div class="ttdef"><b>Definition:</b> PimBase.h:146</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinet.html">inet</a></li><li class="navelem"><a class="el" href="classinet_1_1_pim_dm.html">PimDm</a></li>
    <li class="footer">Generated on Sun Apr 10 2022 21:00:25 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
