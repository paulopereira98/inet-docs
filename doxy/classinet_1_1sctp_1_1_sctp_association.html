<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>INET Framework for OMNeT++/OMNEST: inet::sctp::SctpAssociation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="opp.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classinet_1_1sctp_1_1_sctp_association.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classinet_1_1sctp_1_1_sctp_association-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inet::sctp::SctpAssociation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SctpAssociation.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inet::sctp::SctpAssociation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinet_1_1sctp_1_1_sctp_association.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html">BytesToBeSent</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html">CCFunctions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html">QueueCounter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html">SSFunctions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5201fc1d70ab947f093cd75e6bcba5cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a> *mod, int32_t <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a>, int32_t <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>, <a class="el" href="classinet_1_1_i_routing_table.html">IRoutingTable</a> *<a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>, <a class="el" href="classinet_1_1_i_interface_table.html">IInterfaceTable</a> *<a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>)</td></tr>
<tr class="memdesc:a5201fc1d70ab947f093cd75e6bcba5cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">More...</a><br /></td></tr>
<tr class="separator:a5201fc1d70ab947f093cd75e6bcba5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0010ef15d6886f0effc7c5e0470a48f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation</a> ()</td></tr>
<tr class="memdesc:a0010ef15d6886f0effc7c5e0470a48f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">More...</a><br /></td></tr>
<tr class="separator:a0010ef15d6886f0effc7c5e0470a48f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08df2d221b88342403d06207996cdd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *pathId, const bool firstPass=true)</td></tr>
<tr class="memdesc:ab08df2d221b88342403d06207996cdd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: Send data from sendQueue.  <a href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">More...</a><br /></td></tr>
<tr class="separator:ab08df2d221b88342403d06207996cdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93963ce93bbe330057484baf2fad59bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *firstPath)</td></tr>
<tr class="separator:a93963ce93bbe330057484baf2fad59bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9ffc3d0449dc386b797e6bca14d515"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afb9ffc3d0449dc386b797e6bca14d515">getFsmState</a> () const</td></tr>
<tr class="separator:afb9ffc3d0449dc386b797e6bca14d515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c5b1a58984cb54c5b4288e93423755"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_state_variables.html">SctpStateVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a07c5b1a58984cb54c5b4288e93423755">getState</a> () const</td></tr>
<tr class="separator:a07c5b1a58984cb54c5b4288e93423755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f5142c5aa2d2bfb76ca3b6f10e107d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a86f5142c5aa2d2bfb76ca3b6f10e107d">getTransmissionQueue</a> () const</td></tr>
<tr class="separator:a86f5142c5aa2d2bfb76ca3b6f10e107d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bdc373cd1c2c07daa070e55c05ebdb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a97bdc373cd1c2c07daa070e55c05ebdb">getRetransmissionQueue</a> () const</td></tr>
<tr class="separator:a97bdc373cd1c2c07daa070e55c05ebdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f579245469f14a1a0990c4aacdf3d55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_algorithm.html">SctpAlgorithm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7f579245469f14a1a0990c4aacdf3d55">getSctpAlgorithm</a> () const</td></tr>
<tr class="separator:a7f579245469f14a1a0990c4aacdf3d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f714d37b4d59f55823c7e702542737"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a36f714d37b4d59f55823c7e702542737">getSctpMain</a> () const</td></tr>
<tr class="separator:a36f714d37b4d59f55823c7e702542737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c0abfdbf87bde6655be0d57d6cb245"><td class="memItemLeft" align="right" valign="top">cFSM *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83c0abfdbf87bde6655be0d57d6cb245">getFsm</a> () const</td></tr>
<tr class="separator:a83c0abfdbf87bde6655be0d57d6cb245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b7f53c059df4e407e566d37b30f2bd"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a52b7f53c059df4e407e566d37b30f2bd">getInitTimer</a> () const</td></tr>
<tr class="separator:a52b7f53c059df4e407e566d37b30f2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d50de5e9764b067091f8e5459797f48"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7d50de5e9764b067091f8e5459797f48">getShutdownTimer</a> () const</td></tr>
<tr class="separator:a7d50de5e9764b067091f8e5459797f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd718e718065ff403600d3fb566361e"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8fd718e718065ff403600d3fb566361e">getSackTimer</a> () const</td></tr>
<tr class="separator:a8fd718e718065ff403600d3fb566361e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4199b0d60e01859d5ac41650e5f81dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer</a> (cMessage *msg)</td></tr>
<tr class="separator:ab4199b0d60e01859d5ac41650e5f81dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e9a5246c3750df281c7dd4cbd072a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *sctpmsg, const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;srcAddr, const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;destAddr)</td></tr>
<tr class="memdesc:a94e9a5246c3750df281c7dd4cbd072a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process incoming SCTP segment.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">More...</a><br /></td></tr>
<tr class="separator:a94e9a5246c3750df281c7dd4cbd072a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ef4b3cf3fb578c307dc65e9d78bc97"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand</a> (cMessage *msg, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand)</td></tr>
<tr class="memdesc:a16ef4b3cf3fb578c307dc65e9d78bc97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process commands from the application.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">More...</a><br /></td></tr>
<tr class="separator:a16ef4b3cf3fb578c307dc65e9d78bc97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c42b73f2cb213158ed95d798a49532d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c42b73f2cb213158ed95d798a49532d">removePath</a> ()</td></tr>
<tr class="separator:a2c42b73f2cb213158ed95d798a49532d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8eb9205dbac787d70be30c5d251c3c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae8eb9205dbac787d70be30c5d251c3c7">removePath</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;addr)</td></tr>
<tr class="separator:ae8eb9205dbac787d70be30c5d251c3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4fc00b598430d92e98c37a92f5250b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7b4fc00b598430d92e98c37a92f5250b">deleteStreams</a> ()</td></tr>
<tr class="separator:a7b4fc00b598430d92e98c37a92f5250b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd022f11a996e8ef5e87ff2e75bec902"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a> (cMessage *timer)</td></tr>
<tr class="separator:abd022f11a996e8ef5e87ff2e75bec902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c60d1b8136a43b085fa1dca0262cf1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c60d1b8136a43b085fa1dca0262cf1e">stopTimers</a> ()</td></tr>
<tr class="separator:a5c60d1b8136a43b085fa1dca0262cf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a0a5f034c3429b541106eb681fba0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;pathId) const</td></tr>
<tr class="separator:a63a0a5f034c3429b541106eb681fba0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9a866d7277ea4d7033a029ed26322b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">printSctpPathMap</a> () const</td></tr>
<tr class="separator:acb9a866d7277ea4d7033a029ed26322b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3fa9abca47d8287d2662658f316033d0"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">indicationName</a> (int32_t code)</td></tr>
<tr class="memdesc:a3fa9abca47d8287d2662658f316033d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: returns name of SCTP_I_xxx constants.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">More...</a><br /></td></tr>
<tr class="separator:a3fa9abca47d8287d2662658f316033d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1da52aa6603f012204dffdda824ef8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;addr)</td></tr>
<tr class="memdesc:a0f1da52aa6603f012204dffdda824ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: return IPv4 or IPv6 address level.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">More...</a><br /></td></tr>
<tr class="separator:a0f1da52aa6603f012204dffdda824ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fbefcbc251615ea84b5cae69a71cc8"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a> (int32_t <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>)</td></tr>
<tr class="memdesc:a43fbefcbc251615ea84b5cae69a71cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: returns name of SCTP_S_xxx constants.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">More...</a><br /></td></tr>
<tr class="separator:a43fbefcbc251615ea84b5cae69a71cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33f00c88f903d411242bc71ed01fcdb"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a> (const char *<a class="el" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>)</td></tr>
<tr class="separator:ac33f00c88f903d411242bc71ed01fcdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed02b058f6da8f4ea649dbc9ad1f8e95"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aed02b058f6da8f4ea649dbc9ad1f8e95">SCTP_UINT16_GT</a> (uint16_t a, uint16_t <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>)</td></tr>
<tr class="memdesc:aed02b058f6da8f4ea649dbc9ad1f8e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare TSNs.  <a href="classinet_1_1sctp_1_1_sctp_association.html#aed02b058f6da8f4ea649dbc9ad1f8e95">More...</a><br /></td></tr>
<tr class="separator:aed02b058f6da8f4ea649dbc9ad1f8e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f40cb4e97b4d8bbbabb7ff9a08e5663"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f40cb4e97b4d8bbbabb7ff9a08e5663">SCTP_UINT16_GE</a> (uint16_t a, uint16_t <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>)</td></tr>
<tr class="separator:a0f40cb4e97b4d8bbbabb7ff9a08e5663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad3bd23552c404a65a2547531614879"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acad3bd23552c404a65a2547531614879">SCTP_UINT32_GT</a> (uint32_t a, uint32_t <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>)</td></tr>
<tr class="separator:acad3bd23552c404a65a2547531614879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38fe3fa3b80b42cf568dd8f652140e50"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a38fe3fa3b80b42cf568dd8f652140e50">SCTP_UINT32_GE</a> (uint32_t a, uint32_t <a class="el" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>)</td></tr>
<tr class="separator:a38fe3fa3b80b42cf568dd8f652140e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0afcaab320fc691c1a249f6cdc590e9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae0afcaab320fc691c1a249f6cdc590e9">tsnGe</a> (const uint32_t tsn1, const uint32_t tsn2)</td></tr>
<tr class="separator:ae0afcaab320fc691c1a249f6cdc590e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb13b797d8b15ce4e63caf872df54fe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a> (const uint32_t tsn1, const uint32_t tsn2)</td></tr>
<tr class="separator:aecb13b797d8b15ce4e63caf872df54fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e858590a9f56076717e3022d26a519d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2e858590a9f56076717e3022d26a519d">tsnLe</a> (const uint32_t tsn1, const uint32_t tsn2)</td></tr>
<tr class="separator:a2e858590a9f56076717e3022d26a519d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f14c356e8ffcd4040418218063f1856"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a> (const uint32_t tsn1, const uint32_t tsn2)</td></tr>
<tr class="separator:a6f14c356e8ffcd4040418218063f1856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37dfb1beb0dc88a014f33894e4f6cd0f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a37dfb1beb0dc88a014f33894e4f6cd0f">tsnBetween</a> (const uint32_t tsn1, const uint32_t midtsn, const uint32_t tsn2)</td></tr>
<tr class="separator:a37dfb1beb0dc88a014f33894e4f6cd0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd0e82e1e8d91e0ef372b2e4ff95073"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7dd0e82e1e8d91e0ef372b2e4ff95073">ssnGt</a> (const uint16_t ssn1, const uint16_t ssn2)</td></tr>
<tr class="separator:a7dd0e82e1e8d91e0ef372b2e4ff95073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b06f7fa524394dbea1afc66b524461a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5b06f7fa524394dbea1afc66b524461a">midGt</a> (const uint32_t mid1, const uint32_t mid2)</td></tr>
<tr class="separator:a5b06f7fa524394dbea1afc66b524461a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a728afe0425b677465c996826a29b86ab"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a></td></tr>
<tr class="separator:a728afe0425b677465c996826a29b86ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8eadf4c45ca2af27c7658e3f7943a9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a></td></tr>
<tr class="separator:a1b8eadf4c45ca2af27c7658e3f7943a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6d0ff4e56e33461e6b42d7e83d09b3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4c6d0ff4e56e33461e6b42d7e83d09b3">listeningAssocId</a></td></tr>
<tr class="separator:a4c6d0ff4e56e33461e6b42d7e83d09b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e048d4cdc6a8ac17d0b8f86f890722c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a></td></tr>
<tr class="separator:a3e048d4cdc6a8ac17d0b8f86f890722c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb61c1febb0d9f4b1d539c716e31c893"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adb61c1febb0d9f4b1d539c716e31c893">listening</a></td></tr>
<tr class="separator:adb61c1febb0d9f4b1d539c716e31c893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909a366683c2fd2295b4b50a71f1e63b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_l3_address.html">L3Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a></td></tr>
<tr class="separator:a909a366683c2fd2295b4b50a71f1e63b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7837d52fa05d93bc699e3ae648757e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_l3_address.html">L3Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a></td></tr>
<tr class="separator:a7c7837d52fa05d93bc699e3ae648757e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689ab2b6b3d2001faec4dc5221595eb6"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a></td></tr>
<tr class="separator:a689ab2b6b3d2001faec4dc5221595eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a787384414534b12fdf3053011c3a267c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a></td></tr>
<tr class="separator:a787384414534b12fdf3053011c3a267c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c625d9a557a687272a02a475c16fab0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a></td></tr>
<tr class="separator:a5c625d9a557a687272a02a475c16fab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be4b2527c97f264fd140c420dfa360d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a></td></tr>
<tr class="separator:a0be4b2527c97f264fd140c420dfa360d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70c4b8e13105602441b496cdc646d4e"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a></td></tr>
<tr class="separator:aa70c4b8e13105602441b496cdc646d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb59804a3cc82c3e9621fb6eed5f579"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a></td></tr>
<tr class="separator:a2bb59804a3cc82c3e9621fb6eed5f579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6e069b19f8d9bd54621bb1f9df0a35"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a></td></tr>
<tr class="separator:a0d6e069b19f8d9bd54621bb1f9df0a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6a78de62e14b228666bfbb0e7fa0cf"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a></td></tr>
<tr class="separator:adb6a78de62e14b228666bfbb0e7fa0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90bd52e82f6c7d01002b5310bf4a12b"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">StartTesting</a></td></tr>
<tr class="separator:ab90bd52e82f6c7d01002b5310bf4a12b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9234fd278812cffd86d7cde1132f83c6"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a></td></tr>
<tr class="separator:a9234fd278812cffd86d7cde1132f83c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed920dae03831eb537fac4218a4a87f"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afed920dae03831eb537fac4218a4a87f">advMsgRwnd</a></td></tr>
<tr class="separator:afed920dae03831eb537fac4218a4a87f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8458bae94d9b82f388bf659b8f57b7ac"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8458bae94d9b82f388bf659b8f57b7ac">EndToEndDelay</a></td></tr>
<tr class="separator:a8458bae94d9b82f388bf659b8f57b7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee9122668da0778c804ee1943728071"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">fairTimer</a></td></tr>
<tr class="separator:a2ee9122668da0778c804ee1943728071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709228ff19f2cd04993340523b38dcbf"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint16_t, cOutVector * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a></td></tr>
<tr class="separator:a709228ff19f2cd04993340523b38dcbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbf72461f89acee0f49e5f38ca39b79"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a></td></tr>
<tr class="separator:a9dbf72461f89acee0f49e5f38ca39b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b98ae3af3a37516c980def51d7185fb"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a></td></tr>
<tr class="separator:a8b98ae3af3a37516c980def51d7185fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad27831e3305624d4d4ab806a4260d82a"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a></td></tr>
<tr class="separator:ad27831e3305624d4d4ab806a4260d82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60672b64c91c97a3db140c2adb3ee1a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">dacPacketsRcvd</a></td></tr>
<tr class="separator:ae60672b64c91c97a3db140c2adb3ee1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">FSM transitions: analysing events and executing state transitions</div></td></tr>
<tr class="memitem:a9582c8bb6f4973c45deaee7bedb976d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9582c8bb6f4973c45deaee7bedb976d3">preanalyseAppCommandEvent</a> (int32_t commandCode)</td></tr>
<tr class="memdesc:a9582c8bb6f4973c45deaee7bedb976d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps app command codes (msg kind of app command msgs) to SCTP_E_xxx event codes.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a9582c8bb6f4973c45deaee7bedb976d3">More...</a><br /></td></tr>
<tr class="separator:a9582c8bb6f4973c45deaee7bedb976d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1939cb287be0149ad2e2207b5104388f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a> (const <a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event)</td></tr>
<tr class="memdesc:a1939cb287be0149ad2e2207b5104388f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implemements the pure SCTP state machine.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">More...</a><br /></td></tr>
<tr class="separator:a1939cb287be0149ad2e2207b5104388f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830404b89bb756c049232df67d74758b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered</a> (int32_t <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>)</td></tr>
<tr class="separator:a830404b89bb756c049232df67d74758b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Processing app commands. Invoked from processAppCommand().</div></td></tr>
<tr class="memitem:a564753009f1815d4b34f23485f7538a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand, cMessage *msg)</td></tr>
<tr class="separator:a564753009f1815d4b34f23485f7538a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a5d1aedf77cb2ba209fb0fd9584234"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand, cMessage *msg)</td></tr>
<tr class="separator:ac6a5d1aedf77cb2ba209fb0fd9584234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961124aea1654c5c8c384898fa856eba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand, cMessage *msg)</td></tr>
<tr class="separator:a961124aea1654c5c8c384898fa856eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e02c1e760ba709d9fd21cc7700a3a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event)</td></tr>
<tr class="separator:ac1e02c1e760ba709d9fd21cc7700a3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e0f252a93f17ca95cd440350384cfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event)</td></tr>
<tr class="separator:a03e0f252a93f17ca95cd440350384cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f291bb37a3e03c4e483b9202abd21b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f291bb37a3e03c4e483b9202abd21b5">process_STATUS</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand, cMessage *msg)</td></tr>
<tr class="separator:a9f291bb37a3e03c4e483b9202abd21b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba32927e5da0e4e20281389a2b07ddce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aba32927e5da0e4e20281389a2b07ddce">process_RECEIVE_REQUEST</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand)</td></tr>
<tr class="separator:aba32927e5da0e4e20281389a2b07ddce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc44ea09120834825153b8a262df804"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3dc44ea09120834825153b8a262df804">process_PRIMARY</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event, <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand)</td></tr>
<tr class="separator:a3dc44ea09120834825153b8a262df804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f8cd1826b8a660b549ba6a49a4145d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET</a> (<a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand)</td></tr>
<tr class="separator:a23f8cd1826b8a660b549ba6a49a4145d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Processing Sctp message arrivals. Invoked from processSctpHeader().</div></td></tr>
<tr class="memitem:a758c3dc1fd68c44879b2442e42368a83"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *sctpmsg, const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;src, const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;dest)</td></tr>
<tr class="separator:a758c3dc1fd68c44879b2442e42368a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae55963ef0a9559608905cb27d254e79f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_init_chunk.html">SctpInitChunk</a> *initChunk, int32_t sport, int32_t dport)</td></tr>
<tr class="memdesc:ae55963ef0a9559608905cb27d254e79f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process incoming SCTP packets.  <a href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">More...</a><br /></td></tr>
<tr class="separator:ae55963ef0a9559608905cb27d254e79f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7647c63e441930c1c74b78d2404ae37f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_init_ack_chunk.html">SctpInitAckChunk</a> *initAckChunk)</td></tr>
<tr class="separator:a7647c63e441930c1c74b78d2404ae37f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32210e52f265b878933c31261897629e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html">SctpCookieEchoChunk</a> *cookieEcho, <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> addr)</td></tr>
<tr class="separator:a32210e52f265b878933c31261897629e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf21656cc54419f3e8e6e303cea55f5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived</a> ()</td></tr>
<tr class="separator:abf21656cc54419f3e8e6e303cea55f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90469da524c287360891576ecfb3193b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_chunk.html">SctpDataChunk</a> *dataChunk)</td></tr>
<tr class="separator:a90469da524c287360891576ecfb3193b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad552ceea574093dc66cae3ac856e8e94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_sack_chunk.html">SctpSackChunk</a> *sackChunk)</td></tr>
<tr class="separator:ad552ceea574093dc66cae3ac856e8e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247c72421e476d8de2313051657de157"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_heartbeat_ack_chunk.html">SctpHeartbeatAckChunk</a> *heartbeatack, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a247c72421e476d8de2313051657de157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ad876f2d1276b8d91f6d9b2258e0d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">processForwardTsnArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_forward_tsn_chunk.html">SctpForwardTsnChunk</a> *forChunk)</td></tr>
<tr class="separator:ac2ad876f2d1276b8d91f6d9b2258e0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa502a1c149ae9bad6c4bc61fdaf2e565"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_packet_drop_chunk.html">SctpPacketDropChunk</a> *pktdrop)</td></tr>
<tr class="separator:aa502a1c149ae9bad6c4bc61fdaf2e565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ca90778077c3bf395501a1d5f6e4407"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_error_chunk.html">SctpErrorChunk</a> *error)</td></tr>
<tr class="separator:a6ca90778077c3bf395501a1d5f6e4407"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a86f722902b25fef157dd25bb990a44a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_i_routing_table.html">IRoutingTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a></td></tr>
<tr class="separator:a86f722902b25fef157dd25bb990a44a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dca1bc3fd5a1010c101cfa468f58641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_i_interface_table.html">IInterfaceTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a></td></tr>
<tr class="separator:a6dca1bc3fd5a1010c101cfa468f58641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536d27b13572880de90e411ef460e449"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">AddressVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a></td></tr>
<tr class="separator:a536d27b13572880de90e411ef460e449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee907fe53fd5728decf7d58279026cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">AddressVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a></td></tr>
<tr class="separator:a6ee907fe53fd5728decf7d58279026cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffc7538d312f71e5d62e669225b372e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">numberOfRemoteAddresses</a></td></tr>
<tr class="separator:a3ffc7538d312f71e5d62e669225b372e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fb41ade00324770a55c712c676a972"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a></td></tr>
<tr class="separator:a06fb41ade00324770a55c712c676a972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af146523cc6a220c634b8e29924e446dd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a></td></tr>
<tr class="separator:af146523cc6a220c634b8e29924e446dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954e3b53fb5a8a1b228d1c489416ce97"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a954e3b53fb5a8a1b228d1c489416ce97">initInboundStreams</a></td></tr>
<tr class="separator:a954e3b53fb5a8a1b228d1c489416ce97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9035fccfd5964567bad11699c2d65727"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">status</a></td></tr>
<tr class="separator:a9035fccfd5964567bad11699c2d65727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0aebf38ffdb9fab61ea7e434e3017ff"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae0aebf38ffdb9fab61ea7e434e3017ff">initTsn</a></td></tr>
<tr class="separator:ae0aebf38ffdb9fab61ea7e434e3017ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a727e9a42d2e6ac5d9bf512f868c99"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a></td></tr>
<tr class="separator:ad7a727e9a42d2e6ac5d9bf512f868c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae612848e92da44ea7835e51ecc2b29"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a></td></tr>
<tr class="separator:a4ae612848e92da44ea7835e51ecc2b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac927e9ea951fffed8a06e6009e4803f5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac927e9ea951fffed8a06e6009e4803f5">sackPeriod</a></td></tr>
<tr class="separator:ac927e9ea951fffed8a06e6009e4803f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3191e6fae3f979f4c79cd0f461d1cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html">CCFunctions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a></td></tr>
<tr class="separator:a9e3191e6fae3f979f4c79cd0f461d1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf3ed7915df5a1259f45dc935819f19"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1cf3ed7915df5a1259f45dc935819f19">ccModule</a></td></tr>
<tr class="separator:a1cf3ed7915df5a1259f45dc935819f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a01fb2d81e0d9b3fe15ddb1f7164ba2"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9a01fb2d81e0d9b3fe15ddb1f7164ba2">advRwnd</a></td></tr>
<tr class="separator:a9a01fb2d81e0d9b3fe15ddb1f7164ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28d79f5f20c4c8f2476455045740004"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af28d79f5f20c4c8f2476455045740004">cumTsnAck</a></td></tr>
<tr class="separator:af28d79f5f20c4c8f2476455045740004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebdd5167146d1603aad185a58a3c714"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">sendQueue</a></td></tr>
<tr class="separator:a8ebdd5167146d1603aad185a58a3c714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a665b8a119cc0922aae8f31bb1c6ad751"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a665b8a119cc0922aae8f31bb1c6ad751">numGapBlocks</a></td></tr>
<tr class="separator:a665b8a119cc0922aae8f31bb1c6ad751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2773237df3ef1f849f77d092f2c9af8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_state_variables.html">SctpStateVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a></td></tr>
<tr class="separator:a2773237df3ef1f849f77d092f2c9af8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae396b2ec388b4c116f327df91e981fa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html">BytesToBeSent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a></td></tr>
<tr class="separator:ae396b2ec388b4c116f327df91e981fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287a867b552eac34ce71a0994802f46f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a></td></tr>
<tr class="separator:a287a867b552eac34ce71a0994802f46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c4e8cb1c0a81d76e880add678aed1f"><td class="memItemLeft" align="right" valign="top">cFSM *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a></td></tr>
<tr class="separator:a16c4e8cb1c0a81d76e880add678aed1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ba01f7e9a57a99f018a59e7bf93185"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afa1dcf1e623f61153a4110ed7b9847f7">SctpPathMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a></td></tr>
<tr class="separator:aa4ba01f7e9a57a99f018a59e7bf93185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced58e600ecf362bd1e1524438f2cd8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html">QueueCounter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a></td></tr>
<tr class="separator:aced58e600ecf362bd1e1524438f2cd8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819a5646d77f74d5478f498de24e35cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a></td></tr>
<tr class="separator:a819a5646d77f74d5478f498de24e35cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ea0282200225bc44289185f5bdc91a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a></td></tr>
<tr class="separator:a14ea0282200225bc44289185f5bdc91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6a0d284775239f1399c88ae5745cf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3abff9002b5531fed280aeb98b77f387">SctpSendStreamMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a></td></tr>
<tr class="separator:a4f6a0d284775239f1399c88ae5745cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ebf58de4176fcced85f9a6e427f6dd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2909549b3ba34ceae9fa62eb86c729ef">SctpReceiveStreamMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a></td></tr>
<tr class="separator:a7ebf58de4176fcced85f9a6e427f6dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aaeb7eb0852411ee287c201c2629505"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_algorithm.html">SctpAlgorithm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a></td></tr>
<tr class="separator:a9aaeb7eb0852411ee287c201c2629505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b6d8663ac4be77c940d54d11506246"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a84b6d8663ac4be77c940d54d11506246">statisticsOutstandingBytes</a></td></tr>
<tr class="separator:a84b6d8663ac4be77c940d54d11506246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa308b9919d115d8e308dd82b6041b8de"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">statisticsQueuedReceivedBytes</a></td></tr>
<tr class="separator:aa308b9919d115d8e308dd82b6041b8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4600f537d78d186cb74ffa96516233"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a4600f537d78d186cb74ffa96516233">statisticsQueuedSentBytes</a></td></tr>
<tr class="separator:a5a4600f537d78d186cb74ffa96516233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1624d250b3f22c47c0d09b04ccd674d0"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1624d250b3f22c47c0d09b04ccd674d0">statisticsTotalSSthresh</a></td></tr>
<tr class="separator:a1624d250b3f22c47c0d09b04ccd674d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af340f9effadb60fea0c6ab2f4500b708"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af340f9effadb60fea0c6ab2f4500b708">statisticsTotalCwnd</a></td></tr>
<tr class="separator:af340f9effadb60fea0c6ab2f4500b708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16072b0899c7e175dbe261538668acf4"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16072b0899c7e175dbe261538668acf4">statisticsTotalBandwidth</a></td></tr>
<tr class="separator:a16072b0899c7e175dbe261538668acf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c5d006bcc944d3e5e2690dc0d54f51"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af7c5d006bcc944d3e5e2690dc0d54f51">statisticsRevokableGapBlocksInLastSACK</a></td></tr>
<tr class="separator:af7c5d006bcc944d3e5e2690dc0d54f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3ad873109cd043a2619c6be00c8233"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8a3ad873109cd043a2619c6be00c8233">statisticsNonRevokableGapBlocksInLastSACK</a></td></tr>
<tr class="separator:a8a3ad873109cd043a2619c6be00c8233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad57c66ee81d1210374193ffec8f5969"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aad57c66ee81d1210374193ffec8f5969">statisticsArwndInLastSACK</a></td></tr>
<tr class="separator:aad57c66ee81d1210374193ffec8f5969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236f4e781733c6a58dcc311ea9b07be9"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a></td></tr>
<tr class="separator:a236f4e781733c6a58dcc311ea9b07be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaab9ea4bc7fd514a1aaed901d69add4"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abaab9ea4bc7fd514a1aaed901d69add4">statisticsNumTotalGapBlocksStored</a></td></tr>
<tr class="separator:abaab9ea4bc7fd514a1aaed901d69add4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92417386541efe77342e7974fa428d2"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af92417386541efe77342e7974fa428d2">statisticsNumRevokableGapBlocksStored</a></td></tr>
<tr class="separator:af92417386541efe77342e7974fa428d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf7b18030fea3ce33a811310a802377"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#accf7b18030fea3ce33a811310a802377">statisticsNumNonRevokableGapBlocksStored</a></td></tr>
<tr class="separator:accf7b18030fea3ce33a811310a802377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd1ddd11ffdb397d447cd3bf78f8613"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5cd1ddd11ffdb397d447cd3bf78f8613">statisticsNumDuplicatesStored</a></td></tr>
<tr class="separator:a5cd1ddd11ffdb397d447cd3bf78f8613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8ab327969652d630f47fd37212666d"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7e8ab327969652d630f47fd37212666d">statisticsNumRevokableGapBlocksSent</a></td></tr>
<tr class="separator:a7e8ab327969652d630f47fd37212666d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a08b3ce97e68554e774bee48dd48518"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a08b3ce97e68554e774bee48dd48518">statisticsNumNonRevokableGapBlocksSent</a></td></tr>
<tr class="separator:a5a08b3ce97e68554e774bee48dd48518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4583a4c7e14e661158573ddab926bd90"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4583a4c7e14e661158573ddab926bd90">statisticsNumDuplicatesSent</a></td></tr>
<tr class="separator:a4583a4c7e14e661158573ddab926bd90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021066b7c0a3a50cdaa7e19ce34093b6"><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a021066b7c0a3a50cdaa7e19ce34093b6">statisticsSACKLengthSent</a></td></tr>
<tr class="separator:a021066b7c0a3a50cdaa7e19ce34093b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:afa1dcf1e623f61153a4110ed7b9847f7"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="classinet_1_1_l3_address.html">L3Address</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afa1dcf1e623f61153a4110ed7b9847f7">SctpPathMap</a></td></tr>
<tr class="separator:afa1dcf1e623f61153a4110ed7b9847f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad239e8df66633466eebfe1f24ecfc9d1"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="classinet_1_1_l3_address.html">L3Address</a>, uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad239e8df66633466eebfe1f24ecfc9d1">CounterMap</a></td></tr>
<tr class="separator:ad239e8df66633466eebfe1f24ecfc9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abff9002b5531fed280aeb98b77f387"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; uint32_t, <a class="el" href="classinet_1_1sctp_1_1_sctp_send_stream.html">SctpSendStream</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3abff9002b5531fed280aeb98b77f387">SctpSendStreamMap</a></td></tr>
<tr class="separator:a3abff9002b5531fed280aeb98b77f387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2909549b3ba34ceae9fa62eb86c729ef"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; uint32_t, <a class="el" href="classinet_1_1sctp_1_1_sctp_receive_stream.html">SctpReceiveStream</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2909549b3ba34ceae9fa62eb86c729ef">SctpReceiveStreamMap</a></td></tr>
<tr class="separator:a2909549b3ba34ceae9fa62eb86c729ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd40605e8c782f6dfa46671d7d5ed1c3"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; uint32_t, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a></td></tr>
<tr class="separator:acd40605e8c782f6dfa46671d7d5ed1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab66fa8ead131f80178540999123493bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a></td></tr>
<tr class="separator:ab66fa8ead131f80178540999123493bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacf7b13d2678bea8b938da65103eab4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a></td></tr>
<tr class="separator:adacf7b13d2678bea8b938da65103eab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2d80b4e5e9d423675aa4401197fd72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a></td></tr>
<tr class="separator:a5c2d80b4e5e9d423675aa4401197fd72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aea6d649e327e07bcadb0ae4cc3138479"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea6d649e327e07bcadb0ae4cc3138479">Sctp</a></td></tr>
<tr class="separator:aea6d649e327e07bcadb0ae4cc3138479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2373779306343efcef24027fc2ad43"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a></td></tr>
<tr class="separator:a2f2373779306343efcef24027fc2ad43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Processing timeouts. Invoked from processTimer().</h2></td></tr>
<tr class="memitem:a62dd10077d0e91db3d5bb8fff1eedffa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html">SSFunctions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a></td></tr>
<tr class="separator:a62dd10077d0e91db3d5bb8fff1eedffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aedbb1eceb04bbb44e5ccc2500670f3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8aedbb1eceb04bbb44e5ccc2500670f3">ssModule</a></td></tr>
<tr class="separator:a8aedbb1eceb04bbb44e5ccc2500670f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9cc508e0dd71bf0f66d37eb2a5c162"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:abd9cc508e0dd71bf0f66d37eb2a5c162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad809cace564cf8377aebf88ec9aabf04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad809cace564cf8377aebf88ec9aabf04">process_TIMEOUT_BLOCKING</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:ad809cace564cf8377aebf88ec9aabf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6626b27b6dcefecac6e46fdfdc6e0b45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a6626b27b6dcefecac6e46fdfdc6e0b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49f266cb67d617c8426fd5b40641e43b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool force)</td></tr>
<tr class="separator:a49f266cb67d617c8426fd5b40641e43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008f1c88d97ed382b936799a314a36d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event)</td></tr>
<tr class="separator:a008f1c88d97ed382b936799a314a36d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0760295b009e13e0ddb82035ba2f1a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae0760295b009e13e0ddb82035ba2f1a1">process_TIMEOUT_PROBING</a> ()</td></tr>
<tr class="separator:ae0760295b009e13e0ddb82035ba2f1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf4c710b1edb56aaf81297675ac58ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN</a> (<a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;event)</td></tr>
<tr class="separator:aedf4c710b1edb56aaf81297675ac58ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b03eb88dc2d16feb420085909f66b1"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a21b03eb88dc2d16feb420085909f66b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289a62ea3ed76b275dfd68447798c805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a289a62ea3ed76b275dfd68447798c805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21891e43647af15564361a0915fd54e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">process_TIMEOUT_ASCONF</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a21891e43647af15564361a0915fd54e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b094d786c743c274b38f4d5a7b40fa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a> (cMessage *timer, const simtime_t &amp;timeout)</td></tr>
<tr class="separator:a1b094d786c743c274b38f4d5a7b40fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85997d16b38fa49c025a4b95e2de7c2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html">SctpAssociation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation</a> ()</td></tr>
<tr class="memdesc:a85997d16b38fa49c025a4b95e2de7c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: clone a listening association.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">More...</a><br /></td></tr>
<tr class="separator:a85997d16b38fa49c025a4b95e2de7c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972213a4f4ca2c659b3d9a1f8bed6f4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation</a> (<a class="el" href="classinet_1_1_sctp_open_req.html">SctpOpenReq</a> *openCmd)</td></tr>
<tr class="memdesc:a972213a4f4ca2c659b3d9a1f8bed6f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: creates send/receive queues and sctpAlgorithm.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">More...</a><br /></td></tr>
<tr class="separator:a972213a4f4ca2c659b3d9a1f8bed6f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629095d26023c82ba649f49119ed6520"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a629095d26023c82ba649f49119ed6520">tsnIsDuplicate</a> (const uint32_t tsn) const</td></tr>
<tr class="memdesc:a629095d26023c82ba649f49119ed6520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods dealing with the handling of TSNs <br  />
  <a href="classinet_1_1sctp_1_1_sctp_association.html#a629095d26023c82ba649f49119ed6520">More...</a><br /></td></tr>
<tr class="separator:a629095d26023c82ba649f49119ed6520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ba6306d538f42833980406ab02c7eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn</a> (const uint32_t tsn, const uint32_t length, const bool uBit)</td></tr>
<tr class="separator:a93ba6306d538f42833980406ab02c7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83567bad02a1f257dc2288f7ffc1d838"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit</a> ()</td></tr>
<tr class="memdesc:a83567bad02a1f257dc2288f7ffc1d838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods for creating and sending chunks.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">More...</a><br /></td></tr>
<tr class="separator:a83567bad02a1f257dc2288f7ffc1d838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8366ea5ede4bdb6b86a68e179e437821"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_init_chunk.html">SctpInitChunk</a> *initchunk)</td></tr>
<tr class="separator:a8366ea5ede4bdb6b86a68e179e437821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae866902d586ffe74c8a5507bd854646a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_init_ack_chunk.html">SctpInitAckChunk</a> *initackchunk)</td></tr>
<tr class="separator:ae866902d586ffe74c8a5507bd854646a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc76f53db82e20817ddeadb5f90de0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;dest)</td></tr>
<tr class="separator:aebc76f53db82e20817ddeadb5f90de0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad252b794638b8e7116ced2c85f061d59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a> (uint16_t tBit=0)</td></tr>
<tr class="separator:ad252b794638b8e7116ced2c85f061d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14dfe1a1b764a4b75223005a9ae91e6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a14dfe1a1b764a4b75223005a9ae91e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e669c5f9274bef9dfafd4407751cb9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_heartbeat_chunk.html">SctpHeartbeatChunk</a> *heartbeatChunk, const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;src, const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;dest)</td></tr>
<tr class="separator:a0e669c5f9274bef9dfafd4407751cb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c24bf3630790a90861c2487fdc246ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a> ()</td></tr>
<tr class="separator:a2c24bf3630790a90861c2487fdc246ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4aa5766d652096e69b8fe388f0bc0e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown</a> ()</td></tr>
<tr class="separator:af4aa5766d652096e69b8fe388f0bc0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251f25750d719b8232738dbf541291bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;dest)</td></tr>
<tr class="separator:a251f25750d719b8232738dbf541291bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe98501af00cb108c954aef24941903a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abe98501af00cb108c954aef24941903a">sendShutdownComplete</a> ()</td></tr>
<tr class="separator:abe98501af00cb108c954aef24941903a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671d0b2ecf457870bf9e85155c66249f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_sack_chunk.html">SctpSackChunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack</a> ()</td></tr>
<tr class="separator:a671d0b2ecf457870bf9e85155c66249f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506475262b5e897e580f5091363506a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">retransmitInit</a> ()</td></tr>
<tr class="memdesc:a506475262b5e897e580f5091363506a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retransmitting chunks.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">More...</a><br /></td></tr>
<tr class="separator:a506475262b5e897e580f5091363506a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e74ea97ebcbee94332a77a945c29f60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho</a> ()</td></tr>
<tr class="separator:a8e74ea97ebcbee94332a77a945c29f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d64e3c1d75bf004819335f1cae728eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset</a> ()</td></tr>
<tr class="separator:a0d64e3c1d75bf004819335f1cae728eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf68ee076b69c50a91fc6fc51ccaabf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown</a> ()</td></tr>
<tr class="separator:abf68ee076b69c50a91fc6fc51ccaabf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7676ddf09e9b1d9b0ab88d95f868ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck</a> ()</td></tr>
<tr class="separator:add7676ddf09e9b1d9b0ab88d95f868ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b7c32ee0e22d85f5985d01ff58237c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pkt, const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;sctpmsg, <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> dest)</td></tr>
<tr class="memdesc:a30b7c32ee0e22d85f5985d01ff58237c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: adds control info to message and sends it to IP.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">More...</a><br /></td></tr>
<tr class="separator:a30b7c32ee0e22d85f5985d01ff58237c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ccb164a08163465dac35f7a9cd6426"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae6ccb164a08163465dac35f7a9cd6426">sendToIP</a> (<a class="el" href="classinet_1_1_packet.html">Packet</a> *pkt, const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;sctpmsg)</td></tr>
<tr class="separator:ae6ccb164a08163465dac35f7a9cd6426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28a5fcc0328621d1c9c40026e61041b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack</a> ()</td></tr>
<tr class="separator:ac28a5fcc0328621d1c9c40026e61041b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3cf61aaca3714edfd72de4baf812b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5e3cf61aaca3714edfd72de4baf812b2">signalConnectionTimeout</a> ()</td></tr>
<tr class="memdesc:a5e3cf61aaca3714edfd72de4baf812b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: signal to user that connection timed out.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a5e3cf61aaca3714edfd72de4baf812b2">More...</a><br /></td></tr>
<tr class="separator:a5e3cf61aaca3714edfd72de4baf812b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114000f03440234fd4816c4399605967"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a114000f03440234fd4816c4399605967">scheduleTimeout</a> (cMessage *msg, const simtime_t &amp;timeout)</td></tr>
<tr class="memdesc:a114000f03440234fd4816c4399605967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: start a timer.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a114000f03440234fd4816c4399605967">More...</a><br /></td></tr>
<tr class="separator:a114000f03440234fd4816c4399605967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14301dd160c371c105f43dde83325235"><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14301dd160c371c105f43dde83325235">cancelEvent</a> (cMessage *msg)</td></tr>
<tr class="memdesc:a14301dd160c371c105f43dde83325235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: cancel a timer.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a14301dd160c371c105f43dde83325235">More...</a><br /></td></tr>
<tr class="separator:a14301dd160c371c105f43dde83325235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83298b0154764da12c49c90fea2ea11a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp</a> (cMessage *msg)</td></tr>
<tr class="memdesc:a83298b0154764da12c49c90fea2ea11a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: sends packet to application.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">More...</a><br /></td></tr>
<tr class="separator:a83298b0154764da12c49c90fea2ea11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adedaaeffcd113b2249ba92676eb58220"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a> (int32_t code, int32_t value=0)</td></tr>
<tr class="memdesc:adedaaeffcd113b2249ba92676eb58220"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: sends status indication (SCTP_I_xxx) to application.  <a href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">More...</a><br /></td></tr>
<tr class="separator:adedaaeffcd113b2249ba92676eb58220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036a501e7d631014af2a7f0b20ac5561"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp</a> ()</td></tr>
<tr class="memdesc:a036a501e7d631014af2a7f0b20ac5561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: sends SCTP_I_ESTABLISHED indication with SctpConnectInfo to application.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">More...</a><br /></td></tr>
<tr class="separator:a036a501e7d631014af2a7f0b20ac5561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175427b9e2787f8d70aecc580a10d7a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp</a> ()</td></tr>
<tr class="separator:a175427b9e2787f8d70aecc580a10d7a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0661ec442f2253970c1889d9debf3bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac0661ec442f2253970c1889d9debf3bd">isToBeAccepted</a> () const</td></tr>
<tr class="separator:ac0661ec442f2253970c1889d9debf3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267185aa24a41da2593f26beadf099e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp</a> ()</td></tr>
<tr class="separator:a267185aa24a41da2593f26beadf099e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7407ba10853daa85798dff6fb1c1772"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">sendDataArrivedNotification</a> (uint16_t sid)</td></tr>
<tr class="separator:ad7407ba10853daa85798dff6fb1c1772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3833b2f5171b26f7c78f515806549548"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">putInDeliveryQ</a> (uint16_t sid)</td></tr>
<tr class="separator:a3833b2f5171b26f7c78f515806549548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7690d70f39aa4fc970d20b645b0bf5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief</a> ()</td></tr>
<tr class="memdesc:ad7690d70f39aa4fc970d20b645b0bf5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: prints local/remote addr/port and app gate index/assocId.  <a href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">More...</a><br /></td></tr>
<tr class="separator:ad7690d70f39aa4fc970d20b645b0bf5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0abf9c17d61e526240ca2c913a5b53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;addr)</td></tr>
<tr class="separator:aff0abf9c17d61e526240ca2c913a5b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc265636cab7afd76a358d1857f9bda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *oldPath) const</td></tr>
<tr class="separator:a4bc265636cab7afd76a358d1857f9bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaeb74282eb3e681606fb6fe5a5064cf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aeaeb74282eb3e681606fb6fe5a5064cf">getNextAddress</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *oldPath) const</td></tr>
<tr class="separator:aeaeb74282eb3e681606fb6fe5a5064cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1961f1c3cfb685372397f16fd512ba0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1961f1c3cfb685372397f16fd512ba0b">getNextDestination</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>) const</td></tr>
<tr class="separator:a1961f1c3cfb685372397f16fd512ba0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e06b0dbd861e4e60618ba01fa279dbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">bytesAllowedToSend</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool firstPass)</td></tr>
<tr class="separator:a4e06b0dbd861e4e60618ba01fa279dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c431145759442b35919279005fe7dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">status</a>)</td></tr>
<tr class="separator:a76c431145759442b35919279005fe7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d73628d82970ec75e1f01ed4932185e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7d73628d82970ec75e1f01ed4932185e">allPathsInactive</a> () const</td></tr>
<tr class="separator:a7d73628d82970ec75e1f01ed4932185e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ee1ed58791cd6e1129b7fc8ebbac6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest</a> (<a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *info)</td></tr>
<tr class="separator:a79ee1ed58791cd6e1129b7fc8ebbac6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6190bc0622a005565639bb33e0485e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a> (uint32_t srrsn, int result)</td></tr>
<tr class="separator:adc6190bc0622a005565639bb33e0485e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5426fb1018a04260d1f7aeeddccfb42a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_ssn_tsn_reset_request_parameter.html">SctpSsnTsnResetRequestParameter</a> *requestParam, int result, bool options)</td></tr>
<tr class="separator:a5426fb1018a04260d1f7aeeddccfb42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d87578f8d2521830059af456a19d960"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *requestParam)</td></tr>
<tr class="separator:a0d87578f8d2521830059af456a19d960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac765d1b46bcd0d9be48831a061835955"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest</a> (uint16_t numStreams)</td></tr>
<tr class="separator:ac765d1b46bcd0d9be48831a061835955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979520079d574e1f8dacc2064e9672e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *requestParam)</td></tr>
<tr class="separator:a979520079d574e1f8dacc2064e9672e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a6c9be16faf0c5806ea30a92216dd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest</a> (<a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *info)</td></tr>
<tr class="separator:ad8a6c9be16faf0c5806ea30a92216dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a19f9cabb3b28a8f91db2f9f8e6f452"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse</a> (uint32_t insrrsn, uint16_t inresult, uint32_t outsrrsn, uint16_t outresult)</td></tr>
<tr class="separator:a1a19f9cabb3b28a8f91db2f9f8e6f452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42546b5c6e9e891b91c177a564ed4c00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset</a> ()</td></tr>
<tr class="separator:a42546b5c6e9e891b91c177a564ed4c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb9d42dbbe581d2be1759ad0aae5ed5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfb9d42dbbe581d2be1759ad0aae5ed5">streamIsPending</a> (int32_t sid)</td></tr>
<tr class="separator:adfb9d42dbbe581d2be1759ad0aae5ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39593aedb35db4899de57772116e96a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop</a> (const bool flag)</td></tr>
<tr class="separator:ab39593aedb35db4899de57772116e96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b2e2571b843377fea7551411879be7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa5b2e2571b843377fea7551411879be7">sendHMacError</a> (const uint16_t id)</td></tr>
<tr class="separator:aa5b2e2571b843377fea7551411879be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9607ea475a8eec7b78c3a33b59796ae8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError</a> (uint16_t sid)</td></tr>
<tr class="separator:a9607ea475a8eec7b78c3a33b59796ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb51aa17cdb2887294e78f4b3065463"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1fb51aa17cdb2887294e78f4b3065463">resetGapLists</a> ()</td></tr>
<tr class="separator:a1fb51aa17cdb2887294e78f4b3065463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43f95b0c78e4354d6a8ce48ef61363b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_forward_tsn_chunk.html">SctpForwardTsnChunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk</a> (const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;pid)</td></tr>
<tr class="separator:af43f95b0c78e4354d6a8ce48ef61363b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c26626c4b787b79efa63bda77993898"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0c26626c4b787b79efa63bda77993898">msgMustBeAbandoned</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> *msg, int32_t stream, bool ordered)</td></tr>
<tr class="separator:a0c26626c4b787b79efa63bda77993898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35810f2e01a572bdcb22683982c82f07"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a35810f2e01a572bdcb22683982c82f07">chunkMustBeAbandoned</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath)</td></tr>
<tr class="separator:a35810f2e01a572bdcb22683982c82f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc83b96266e49ce77859ae958ec08898"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afc83b96266e49ce77859ae958ec08898">advancePeerTsn</a> ()</td></tr>
<tr class="separator:afc83b96266e49ce77859ae958ec08898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f51ecb152ced3414123f380ff78f8f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4f51ecb152ced3414123f380ff78f8f2">cucProcessGapReports</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, const bool isAcked)</td></tr>
<tr class="separator:a4f51ecb152ced3414123f380ff78f8f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73464c221e77fbf1b1636ff959957a76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_chunk.html">SctpDataChunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a73464c221e77fbf1b1636ff959957a76">transformDataChunk</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>)</td></tr>
<tr class="memdesc:a73464c221e77fbf1b1636ff959957a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manipulating chunks.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a73464c221e77fbf1b1636ff959957a76">More...</a><br /></td></tr>
<tr class="separator:a73464c221e77fbf1b1636ff959957a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb4ef5900ac3d0f78ea3b40e177c55b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abeb4ef5900ac3d0f78ea3b40e177c55b">makeVarFromMsg</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_chunk.html">SctpDataChunk</a> *datachunk)</td></tr>
<tr class="separator:abeb4ef5900ac3d0f78ea3b40e177c55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f8fbdbbe120b9c5cf7311946796db5"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a19f8fbdbbe120b9c5cf7311946796db5">streamScheduler</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="memdesc:a19f8fbdbbe120b9c5cf7311946796db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dealing with streams.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a19f8fbdbbe120b9c5cf7311946796db5">More...</a><br /></td></tr>
<tr class="separator:a19f8fbdbbe120b9c5cf7311946796db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b3cdd236064d09bc2985c1d8774090"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">initStreams</a> (uint32_t inStreams, uint32_t outStreams)</td></tr>
<tr class="separator:a28b3cdd236064d09bc2985c1d8774090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2df8dc85056f6a50e97d39c3e106e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a> (uint32_t inStreams)</td></tr>
<tr class="separator:a4a2df8dc85056f6a50e97d39c3e106e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcd32b5bde60f82815cecfab6bbf672"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a> (uint32_t outStreams)</td></tr>
<tr class="separator:aafcd32b5bde60f82815cecfab6bbf672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d2511db0c09de0f3c270b24feae688"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">numUsableStreams</a> ()</td></tr>
<tr class="separator:a54d2511db0c09de0f3c270b24feae688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af643cdea7ad22400600ec0628b47b709"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af643cdea7ad22400600ec0628b47b709">streamSchedulerRoundRobinPacket</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:af643cdea7ad22400600ec0628b47b709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ca9fd24dce3e6859e2aecb58ff9ded"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa9ca9fd24dce3e6859e2aecb58ff9ded">streamSchedulerRandom</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:aa9ca9fd24dce3e6859e2aecb58ff9ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf770d981474af93a352ff13b27e68a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9cf770d981474af93a352ff13b27e68a">streamSchedulerRandomPacket</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:a9cf770d981474af93a352ff13b27e68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7554bab1415649f0631d48598a2d5971"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7554bab1415649f0631d48598a2d5971">streamSchedulerFairBandwidth</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:a7554bab1415649f0631d48598a2d5971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31af650b11ff51ff6fae64de66751455"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a31af650b11ff51ff6fae64de66751455">streamSchedulerFairBandwidthPacket</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:a31af650b11ff51ff6fae64de66751455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd455afdffa682cbad657e0e283ad2f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">streamSchedulerPriority</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:abbd455afdffa682cbad657e0e283ad2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e1086f7dc43a20174dfc9e6903625e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32e1086f7dc43a20174dfc9e6903625e">streamSchedulerFCFS</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:a32e1086f7dc43a20174dfc9e6903625e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38522cbaf33adaa78d41ab707863a7ec"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a38522cbaf33adaa78d41ab707863a7ec">pathStreamSchedulerManual</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:a38522cbaf33adaa78d41ab707863a7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4f8d0a02ff10700bcca64cca35da74"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e4f8d0a02ff10700bcca64cca35da74">pathStreamSchedulerMapToPath</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, bool peek)</td></tr>
<tr class="separator:a8e4f8d0a02ff10700bcca64cca35da74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e60e9d98ca72737507a38e360be8604"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7e60e9d98ca72737507a38e360be8604">process_QUEUE_MSGS_LIMIT</a> (const <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand)</td></tr>
<tr class="memdesc:a7e60e9d98ca72737507a38e360be8604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue Management.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a7e60e9d98ca72737507a38e360be8604">More...</a><br /></td></tr>
<tr class="separator:a7e60e9d98ca72737507a38e360be8604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb2753ac21e1104902a72585cf0cedc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afdb2753ac21e1104902a72585cf0cedc">process_QUEUE_BYTES_LIMIT</a> (const <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *sctpCommand)</td></tr>
<tr class="separator:afdb2753ac21e1104902a72585cf0cedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7890a87d2af9232c6051db88278da9ef"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a> () const</td></tr>
<tr class="separator:a7890a87d2af9232c6051db88278da9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5167a2a56783c9a301133fd5ae9a0b5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks</a> (const uint32_t tsna, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, simtime_t &amp;rttEstimation)</td></tr>
<tr class="separator:a5167a2a56783c9a301133fd5ae9a0b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bebbd75454a3f12a6cf9448c777854d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1bebbd75454a3f12a6cf9448c777854d">peekOutboundDataMsg</a> ()</td></tr>
<tr class="separator:a1bebbd75454a3f12a6cf9448c777854d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac508d3b527b24a06247b42a580c9d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a9ac508d3b527b24a06247b42a580c9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0646b9287b80ba925613fda20a230153"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">getOutboundDataChunk</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, int32_t availableSpace, int32_t availableCwnd)</td></tr>
<tr class="separator:a0646b9287b80ba925613fda20a230153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7908d9ee178d444be609632456705e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs</a> ()</td></tr>
<tr class="separator:aac7908d9ee178d444be609632456705e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd914a7ca0de8389e001075bb916370"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, int32_t availableSpace, int32_t availableCwnd)</td></tr>
<tr class="separator:adfd914a7ca0de8389e001075bb916370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f67554c7367dd562d8bf849411020ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, int32_t <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>)</td></tr>
<tr class="separator:a1f67554c7367dd562d8bf849411020ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef650f8ed8fd7da37a0a29a01e0ec9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ef650f8ed8fd7da37a0a29a01e0ec9d">putInTransmissionQ</a> (uint32_t tsn, <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>)</td></tr>
<tr class="separator:a6ef650f8ed8fd7da37a0a29a01e0ec9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3a0079e12c18b14f6fec63a582a4e1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4f3a0079e12c18b14f6fec63a582a4e1">getAllTransQ</a> ()</td></tr>
<tr class="separator:a4f3a0079e12c18b14f6fec63a582a4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b17b3c35f7f3bae659ff5d2e0e27cdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement</a> ()</td></tr>
<tr class="memdesc:a3b17b3c35f7f3bae659ff5d2e0e27cdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flow control.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">More...</a><br /></td></tr>
<tr class="separator:a3b17b3c35f7f3bae659ff5d2e0e27cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a9c6759c51b9fe512fc0d7ffd793c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">pmDataIsSentOn</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:ab5a9c6759c51b9fe512fc0d7ffd793c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df44d3ac952adb270964d77ac465624"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0df44d3ac952adb270964d77ac465624">pmClearPathCounter</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a0df44d3ac952adb270964d77ac465624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce35f3ac010bf94dafc5fd34d4757eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">pmRttMeasurement</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, const simtime_t &amp;rttEstimation)</td></tr>
<tr class="separator:a6ce35f3ac010bf94dafc5fd34d4757eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04574b7f00810703e57f3091f182f5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac04574b7f00810703e57f3091f182f5a">disposeOf</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *sctpmsg)</td></tr>
<tr class="separator:ac04574b7f00810703e57f3091f182f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945a5a97349ec5511cedf7e3c8bb0270"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a945a5a97349ec5511cedf7e3c8bb0270">removeFirstChunk</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *sctpmsg)</td></tr>
<tr class="separator:a945a5a97349ec5511cedf7e3c8bb0270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936abd346f681d532b796c1672be6dc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns</a> ()</td></tr>
<tr class="memdesc:a936abd346f681d532b796c1672be6dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods for Stream Reset.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">More...</a><br /></td></tr>
<tr class="separator:a936abd346f681d532b796c1672be6dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5106db3c93b3475c32a2e82a533de5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a> ()</td></tr>
<tr class="separator:aaa5106db3c93b3475c32a2e82a533de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac322b5814c746b8f0a719570d87046ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac322b5814c746b8f0a719570d87046ae">sendStreamPresent</a> (uint32_t sid)</td></tr>
<tr class="separator:ac322b5814c746b8f0a719570d87046ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383403d684dfe30011ec4e6b8df4db1d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a383403d684dfe30011ec4e6b8df4db1d">receiveStreamPresent</a> (uint32_t sid)</td></tr>
<tr class="separator:a383403d684dfe30011ec4e6b8df4db1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabfd8aa8a0e718208eb6301d023b7d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a> (uint16_t id)</td></tr>
<tr class="separator:afabfd8aa8a0e718208eb6301d023b7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef1efe73b4cc7f655b922bb25f459c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn</a> (uint16_t id)</td></tr>
<tr class="separator:aaef1efe73b4cc7f655b922bb25f459c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9719fafd71a156b596c3d89f3e7cba55"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9719fafd71a156b596c3d89f3e7cba55">getExpectedSsnOfStream</a> (uint16_t id)</td></tr>
<tr class="separator:a9719fafd71a156b596c3d89f3e7cba55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc130170fc4618e11bdeb6c896bc0825"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afc130170fc4618e11bdeb6c896bc0825">getSsnOfStream</a> (uint16_t id)</td></tr>
<tr class="separator:afc130170fc4618e11bdeb6c896bc0825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae044aa8f7fed216881b9ad6f28234c4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae044aa8f7fed216881b9ad6f28234c4b">makeOutgoingStreamResetParameter</a> (uint32_t srsn, <a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *info)</td></tr>
<tr class="separator:ae044aa8f7fed216881b9ad6f28234c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff6b9c425ca6497e4ab669164d1c0d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acff6b9c425ca6497e4ab669164d1c0d9">makeIncomingStreamResetParameter</a> (uint32_t srsn, <a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *info)</td></tr>
<tr class="separator:acff6b9c425ca6497e4ab669164d1c0d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25473db514f81df4ff09e11ee1220f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac25473db514f81df4ff09e11ee1220f0">makeSsnTsnResetParameter</a> (uint32_t srsn)</td></tr>
<tr class="separator:ac25473db514f81df4ff09e11ee1220f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e3925a09bb31ca572aeafacf853e85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a63e3925a09bb31ca572aeafacf853e85">makeAddStreamsRequestParameter</a> (uint32_t srsn, <a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *info)</td></tr>
<tr class="separator:a63e3925a09bb31ca572aeafacf853e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab581c0be4cbd6610c69712d2b7c10f2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse</a> (uint32_t inRequestSn, uint32_t outRequestSn)</td></tr>
<tr class="separator:ab581c0be4cbd6610c69712d2b7c10f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1688808c6fdf9f3798430d794d0a3d29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1688808c6fdf9f3798430d794d0a3d29">sendOutgoingRequestAndResponse</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *inRequestParam, <a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *outRequestParam)</td></tr>
<tr class="separator:a1688808c6fdf9f3798430d794d0a3d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6930ba8b878e053d838cbe9f034fafd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *inRequestParam, <a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *outRequestParam)</td></tr>
<tr class="separator:a6930ba8b878e053d838cbe9f034fafd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8daa4de352b3ccfd7b39a947e2c297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *outRequestParam, <a class="el" href="classinet_1_1sctp_1_1_sctp_stream_reset_response_parameter.html">SctpStreamResetResponseParameter</a> *responseParam)</td></tr>
<tr class="separator:afd8daa4de352b3ccfd7b39a947e2c297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc85a41e3123508d30746432c86f475f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_stream_reset_chunk.html">SctpStreamResetChunk</a> *strResChunk)</td></tr>
<tr class="separator:adc85a41e3123508d30746432c86f475f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eca49723f8c582c77dc6b3f235c29ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *requestParam)</td></tr>
<tr class="separator:a3eca49723f8c582c77dc6b3f235c29ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a95064033a253b58188c6a03b54d9ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *requestParam)</td></tr>
<tr class="separator:a5a95064033a253b58188c6a03b54d9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb41dad3db96d468718481d5399c547e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aeb41dad3db96d468718481d5399c547e">processSsnTsnResetRequestArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_ssn_tsn_reset_request_parameter.html">SctpSsnTsnResetRequestParameter</a> *requestParam)</td></tr>
<tr class="separator:aeb41dad3db96d468718481d5399c547e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c91449b399efe7c36b0f7025e52eee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_stream_reset_response_parameter.html">SctpStreamResetResponseParameter</a> *responseParam)</td></tr>
<tr class="separator:a46c91449b399efe7c36b0f7025e52eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf1fdb20d9bbea52fb1162a7715bcc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_add_streams_request_parameter.html">SctpAddStreamsRequestParameter</a> *addInRequestParam, <a class="el" href="classinet_1_1sctp_1_1_sctp_add_streams_request_parameter.html">SctpAddStreamsRequestParameter</a> *addOutRequestParam)</td></tr>
<tr class="separator:aacf1fdb20d9bbea52fb1162a7715bcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937caf545d2965641cebd64d6e902532"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream</a> (uint16_t sid)</td></tr>
<tr class="separator:a937caf545d2965641cebd64d6e902532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d844370f18f3038dd5de4f235a4c55"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae1d844370f18f3038dd5de4f235a4c55">getFragInProgressOfStream</a> (uint16_t sid)</td></tr>
<tr class="separator:ae1d844370f18f3038dd5de4f235a4c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ceac8641cc0555e6e1f55d16e5ee6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a60ceac8641cc0555e6e1f55d16e5ee6f">setFragInProgressOfStream</a> (uint16_t sid, bool frag)</td></tr>
<tr class="separator:a60ceac8641cc0555e6e1f55d16e5ee6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b7009628fae83ef262494a6e732db9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0b7009628fae83ef262494a6e732db9">orderedQueueEmptyOfStream</a> (uint16_t sid)</td></tr>
<tr class="separator:aa0b7009628fae83ef262494a6e732db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd435f60ca7f9bc380f6667afd6dcb3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aadd435f60ca7f9bc380f6667afd6dcb3">unorderedQueueEmptyOfStream</a> (uint16_t sid)</td></tr>
<tr class="separator:aadd435f60ca7f9bc380f6667afd6dcb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7ec283674f20293cd859a528775108"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf</a> (const char *<a class="el" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, bool remote=false)</td></tr>
<tr class="memdesc:a1a7ec283674f20293cd859a528775108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods for Add-IP and AUTH.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">More...</a><br /></td></tr>
<tr class="separator:a1a7ec283674f20293cd859a528775108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41c1f021cf3395a49004de8b9c5dcc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck</a> (uint32_t serialNumber)</td></tr>
<tr class="separator:af41c1f021cf3395a49004de8b9c5dcc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6799293e10156c3b6a2cbed30fa931"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_asconf_chunk.html">SctpAsconfChunk</a> *asconfChunk)</td></tr>
<tr class="separator:a5c6799293e10156c3b6a2cbed30fa931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3952645aa70ae4aa561d559184fc0051"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_asconf_ack_chunk.html">SctpAsconfAckChunk</a> *asconfAckChunk)</td></tr>
<tr class="separator:a3952645aa70ae4aa561d559184fc0051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f12f7d2ca30cc30e15bae5fec41822a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf</a> ()</td></tr>
<tr class="separator:a1f12f7d2ca30cc30e15bae5fec41822a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7cb4e1207e6f6fc4765a77ca177ce65"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a> (uint16_t <a class="el" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>)</td></tr>
<tr class="separator:ae7cb4e1207e6f6fc4765a77ca177ce65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af93dfe0405bd90fefb8e385fcb6471b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af93dfe0405bd90fefb8e385fcb6471b5">typeInOwnChunkList</a> (uint16_t <a class="el" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>)</td></tr>
<tr class="separator:af93dfe0405bd90fefb8e385fcb6471b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8969c04b236568c7e1f2f5af2a17e902"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_asconf_ack_chunk.html">SctpAsconfAckChunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8969c04b236568c7e1f2f5af2a17e902">createAsconfAckChunk</a> (uint32_t serialNumber)</td></tr>
<tr class="separator:a8969c04b236568c7e1f2f5af2a17e902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62ce1f7ed76bb1bf4efecfabfbf3491"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_authentication_chunk.html">SctpAuthenticationChunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a> ()</td></tr>
<tr class="separator:ab62ce1f7ed76bb1bf4efecfabfbf3491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab11f706525a1dbf7ceb17b1869ddeeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_success_indication.html">SctpSuccessIndication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aab11f706525a1dbf7ceb17b1869ddeeb">createSuccessIndication</a> (uint32_t correlationId)</td></tr>
<tr class="separator:aab11f706525a1dbf7ceb17b1869ddeeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93d1f8f6b3845609968b0295cdebe44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab93d1f8f6b3845609968b0295cdebe44">calculateAssocSharedKey</a> ()</td></tr>
<tr class="separator:ab93d1f8f6b3845609968b0295cdebe44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bf48f842d1b6f71b71b7552aa49e4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93bf48f842d1b6f71b71b7552aa49e4e">compareRandom</a> ()</td></tr>
<tr class="separator:a93bf48f842d1b6f71b71b7552aa49e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8313b1d723431c43b4585e18d572f595"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a> ()</td></tr>
<tr class="separator:a8313b1d723431c43b4585e18d572f595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f8629cafcdd8fa197e251b77195bc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa6f8629cafcdd8fa197e251b77195bc3">listOrderedQ</a> ()</td></tr>
<tr class="separator:aa6f8629cafcdd8fa197e251b77195bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48641d700b304aaa014d3f8df79c60d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath, const int <a class="el" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>)</td></tr>
<tr class="separator:ac48641d700b304aaa014d3f8df79c60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de0a8daab073eac7176ee5686353023"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3de0a8daab073eac7176ee5686353023">printOutstandingTsns</a> ()</td></tr>
<tr class="separator:a3de0a8daab073eac7176ee5686353023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8130c36c0dbd49dd8700e58b1361413"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="memdesc:ab8130c36c0dbd49dd8700e58b1361413"><td class="mdescLeft">&#160;</td><td class="mdescRight">SctpCcFunctions.  <a href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">More...</a><br /></td></tr>
<tr class="separator:ab8130c36c0dbd49dd8700e58b1361413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2209b3cd6c994a4561609adacc459314"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2209b3cd6c994a4561609adacc459314">updateFastRecoveryStatus</a> (uint32_t lastTsnAck)</td></tr>
<tr class="separator:a2209b3cd6c994a4561609adacc459314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2d425c447204175284c4837e803f73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aef2d425c447204175284c4837e803f73">cwndUpdateBeforeSack</a> ()</td></tr>
<tr class="separator:aef2d425c447204175284c4837e803f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44c9b5aec6af8d342ff43ec266778e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack</a> ()</td></tr>
<tr class="separator:ae44c9b5aec6af8d342ff43ec266778e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0527d219fcbe96f8d128726bdf95502"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab0527d219fcbe96f8d128726bdf95502">cwndUpdateAfterCwndTimeout</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:ab0527d219fcbe96f8d128726bdf95502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47737a6ee0a6aaf9eb2239d25aa95de7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a47737a6ee0a6aaf9eb2239d25aa95de7">cwndUpdateAfterRtxTimeout</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a47737a6ee0a6aaf9eb2239d25aa95de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f10b326e3abde82edf74c4ac320fbf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f10b326e3abde82edf74c4ac320fbf0">cwndUpdateMaxBurst</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a9f10b326e3abde82edf74c4ac320fbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9553ef6fb59111b5fcf4e3808834692"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">cwndUpdateBytesAcked</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, uint32_t ackedBytes, bool ctsnaAdvanced)</td></tr>
<tr class="separator:af9553ef6fb59111b5fcf4e3808834692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56f988b0970d1227523ebeded0190e7"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path, double reduction)</td></tr>
<tr class="separator:af56f988b0970d1227523ebeded0190e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478b11b555f96e6ad19b8f2317355dc8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a478b11b555f96e6ad19b8f2317355dc8">printSegmentBrief</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *sctpmsg)</td></tr>
<tr class="memdesc:a478b11b555f96e6ad19b8f2317355dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: prints important header fields.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a478b11b555f96e6ad19b8f2317355dc8">More...</a><br /></td></tr>
<tr class="separator:a478b11b555f96e6ad19b8f2317355dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336c300ad9556c913ba84df2d94ff620"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">eventName</a> (int32_t event)</td></tr>
<tr class="memdesc:a336c300ad9556c913ba84df2d94ff620"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: returns name of SCTP_E_xxx constants.  <a href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">More...</a><br /></td></tr>
<tr class="separator:a336c300ad9556c913ba84df2d94ff620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81b69b202506efefcc6649dcebfc677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81b69b202506efefcc6649dcebfc677">makeDataVarFromDataMsg</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> *datMsg, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:ab81b69b202506efefcc6649dcebfc677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace89dca4ebfabfa3160ce2c2c9e18e88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ace89dca4ebfabfa3160ce2c2c9e18e88">choosePathForRetransmission</a> ()</td></tr>
<tr class="separator:ace89dca4ebfabfa3160ce2c2c9e18e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad478b5cc5a0084beed3779a4a92299cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad478b5cc5a0084beed3779a4a92299cf">timeForSack</a> (bool &amp;sackOnly, bool &amp;sackWithData)</td></tr>
<tr class="separator:ad478b5cc5a0084beed3779a4a92299cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b5ed15f14dc77be9ff82d36441b6e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:aa7b5ed15f14dc77be9ff82d36441b6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52aaab9c64b3ea45ac5d0e9452bd40e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath</a> (const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;sctpMsg)</td></tr>
<tr class="separator:a52aaab9c64b3ea45ac5d0e9452bd40e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af006645c4b89ece5d6ed6fa7b832b7be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af006645c4b89ece5d6ed6fa7b832b7be">checkOutstandingBytes</a> ()</td></tr>
<tr class="separator:af006645c4b89ece5d6ed6fa7b832b7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8ea419a00850aa746035070522a1e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0b8ea419a00850aa746035070522a1e5">updateHighSpeedCCThresholdIdx</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a0b8ea419a00850aa746035070522a1e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70260a9f264a733f0c9ec4539f2e2bd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad70260a9f264a733f0c9ec4539f2e2bd">getInitialCwnd</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path) const</td></tr>
<tr class="separator:ad70260a9f264a733f0c9ec4539f2e2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea43ea40c863bb77b251cf7d760a1ccf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication</a> (uint64_t <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>)</td></tr>
<tr class="separator:aea43ea40c863bb77b251cf7d760a1ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0147c72a22719d686e80a07a84f8a27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath)</td></tr>
<tr class="separator:aa0147c72a22719d686e80a07a84f8a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883c12c834ad3808324d3267b3e35ce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath, simtime_t &amp;rttEstimation, <a class="el" href="structinet_1_1sctp_1_1_sctp_1_1_assoc_stat.html">Sctp::AssocStat</a> *assocStat)</td></tr>
<tr class="separator:a883c12c834ad3808324d3267b3e35ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81cdc03f4a43d45de3518b76b28abf7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked</a> (uint32_t &amp;highestNewAck, simtime_t &amp;rttEstimation, <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *myChunk, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath, const bool sackIsNonRevokable)</td></tr>
<tr class="separator:ab81cdc03f4a43d45de3518b76b28abf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4542d799de5fe5e9822357fa52575f6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_sack_chunk.html">SctpSackChunk</a> *sackChunk, const uint32_t highestNewAck, <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *myChunk, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath)</td></tr>
<tr class="separator:a4542d799de5fe5e9822357fa52575f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5158df85f55fda561f51b2b60dfb8f4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *newPath)</td></tr>
<tr class="separator:a5158df85f55fda561f51b2b60dfb8f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f38ebd5aa8b7ebb8d0808c1a362dcd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>)</td></tr>
<tr class="separator:a0f38ebd5aa8b7ebb8d0808c1a362dcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3776409de1d71ba9fc2d10a5db7b029"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:ad3776409de1d71ba9fc2d10a5db7b029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ddc9fefa6b0f9d3f4f20dc0433dfe07"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8ddc9fefa6b0f9d3f4f20dc0433dfe07">calculateBytesToSendOnPath</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *pathVar)</td></tr>
<tr class="separator:a8ddc9fefa6b0f9d3f4f20dc0433dfe07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b787c705fa8a4192a5d63a83922be7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *pathVar, const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;sctpMsg, uint16_t chunksAdded, uint16_t dataChunksAdded, bool authAdded)</td></tr>
<tr class="separator:a08b787c705fa8a4192a5d63a83922be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0f7da85be8176cb9c15c5457360a20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">loadPacket</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *pathVar, Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; *sctpMsg, uint16_t *chunksAdded, uint16_t *dataChunksAdded, bool *authAdded)</td></tr>
<tr class="separator:acf0f7da85be8176cb9c15c5457360a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7701b0a949f20e920b70f84f67597a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae7701b0a949f20e920b70f84f67597a5">ackChunk</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *sackPath)</td></tr>
<tr class="separator:ae7701b0a949f20e920b70f84f67597a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48232ae51c90adad9da8d3fb28a65b56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a48232ae51c90adad9da8d3fb28a65b56">unackChunk</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>)</td></tr>
<tr class="separator:a48232ae51c90adad9da8d3fb28a65b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3430cc8dfc8a168ee6542215199f29"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *<a class="el" href="structinet_1_1sctp_1_1chunk.html">chunk</a>) const</td></tr>
<tr class="separator:aad3430cc8dfc8a168ee6542215199f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58caf94d5114d0d06d81d3ea7d50202"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af58caf94d5114d0d06d81d3ea7d50202">chunkHasBeenAcked</a> (uint32_t tsn) const</td></tr>
<tr class="separator:af58caf94d5114d0d06d81d3ea7d50202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8812e52c22fbee17a26caae618a6a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aef8812e52c22fbee17a26caae618a6a4">checkPseudoCumAck</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:aef8812e52c22fbee17a26caae618a6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab965a1aacd6125cbc03c56aea8394eed"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab965a1aacd6125cbc03c56aea8394eed">getSortedPathMap</a> ()</td></tr>
<tr class="separator:ab965a1aacd6125cbc03c56aea8394eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719c4d87ccd9f895d77351754d47d4ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl</a> (<a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="separator:a719c4d87ccd9f895d77351754d47d4ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2422fd17d4a8a31d429d52ecfbf621"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">recalculateOLIABasis</a> ()</td></tr>
<tr class="separator:a4c2422fd17d4a8a31d429d52ecfbf621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cad975e963c7832864dee6cc9758e7a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA</a> (uint32_t w, uint32_t <a class="el" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>, uint32_t totalW, double a, uint32_t mtu, uint32_t ackedBytes, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *path)</td></tr>
<tr class="memdesc:a5cad975e963c7832864dee6cc9758e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">w: cwnd of the path s: ssthresh of the path totalW: Sum of all cwnds of the association a: factor alpha of olia calculation - see <a href="https://tools.ietf.org/html/draft-khalili-mptcp-congestion-control-05">https://tools.ietf.org/html/draft-khalili-mptcp-congestion-control-05</a> mtu: mtu of the path ackedBytes: ackednowlged bytes path: path variable (for further investigation, debug, etc)  <a href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">More...</a><br /></td></tr>
<tr class="separator:a5cad975e963c7832864dee6cc9758e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3bee8a96a297f04702966666d8d80c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3d3bee8a96a297f04702966666d8d80c">addAuthChunkIfNecessary</a> (Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; sctpMsg, uint16_t chunkType, bool authAdded)</td></tr>
<tr class="separator:a3d3bee8a96a297f04702966666d8d80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affba0d21451102b22a4100074337530b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#affba0d21451102b22a4100074337530b">pathMapLargestSSThreshold</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *left, const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *right)</td></tr>
<tr class="separator:affba0d21451102b22a4100074337530b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dc7033ffc0543aecd5bc65cb64b394"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a26dc7033ffc0543aecd5bc65cb64b394">pathMapLargestSpace</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *left, const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *right)</td></tr>
<tr class="separator:a26dc7033ffc0543aecd5bc65cb64b394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c3ab9087db09897f5fc429bdf74248"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac4c3ab9087db09897f5fc429bdf74248">pathMapLargestSpaceAndSSThreshold</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *left, const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *right)</td></tr>
<tr class="separator:ac4c3ab9087db09897f5fc429bdf74248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c09cc4a87fde8083748d7f353a39154"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0c09cc4a87fde8083748d7f353a39154">pathMapSmallestLastTransmission</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *left, const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *right)</td></tr>
<tr class="separator:a0c09cc4a87fde8083748d7f353a39154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9475dc172f47d336c2b9f44175e966"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acf9475dc172f47d336c2b9f44175e966">pathMapRandomized</a> (const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *left, const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *right)</td></tr>
<tr class="separator:acf9475dc172f47d336c2b9f44175e966"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad239e8df66633466eebfe1f24ecfc9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad239e8df66633466eebfe1f24ecfc9d1">&#9670;&nbsp;</a></span>CounterMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="classinet_1_1_l3_address.html">L3Address</a>, uint32_t&gt; <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad239e8df66633466eebfe1f24ecfc9d1">inet::sctp::SctpAssociation::CounterMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acd40605e8c782f6dfa46671d7d5ed1c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd40605e8c782f6dfa46671d7d5ed1c3">&#9670;&nbsp;</a></span>SctpPathCollection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;uint32_t, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&gt; <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">inet::sctp::SctpAssociation::SctpPathCollection</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afa1dcf1e623f61153a4110ed7b9847f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1dcf1e623f61153a4110ed7b9847f7">&#9670;&nbsp;</a></span>SctpPathMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="classinet_1_1_l3_address.html">L3Address</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&gt; <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afa1dcf1e623f61153a4110ed7b9847f7">inet::sctp::SctpAssociation::SctpPathMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2909549b3ba34ceae9fa62eb86c729ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2909549b3ba34ceae9fa62eb86c729ef">&#9670;&nbsp;</a></span>SctpReceiveStreamMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;uint32_t, <a class="el" href="classinet_1_1sctp_1_1_sctp_receive_stream.html">SctpReceiveStream</a> *&gt; <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2909549b3ba34ceae9fa62eb86c729ef">inet::sctp::SctpAssociation::SctpReceiveStreamMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3abff9002b5531fed280aeb98b77f387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abff9002b5531fed280aeb98b77f387">&#9670;&nbsp;</a></span>SctpSendStreamMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;uint32_t, <a class="el" href="classinet_1_1sctp_1_1_sctp_send_stream.html">SctpSendStream</a> *&gt; <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3abff9002b5531fed280aeb98b77f387">inet::sctp::SctpAssociation::SctpSendStreamMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5201fc1d70ab947f093cd75e6bcba5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5201fc1d70ab947f093cd75e6bcba5cd">&#9670;&nbsp;</a></span>SctpAssociation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">inet::sctp::SctpAssociation::SctpAssociation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>appGateIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>assocId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_i_routing_table.html">IRoutingTable</a> *&#160;</td>
          <td class="paramname"><em>rt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_i_interface_table.html">IInterfaceTable</a> *&#160;</td>
          <td class="paramname"><em>ift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<div class="fragment"><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// ====== Initialize variables ===========================================</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = _rt;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a> = _ift;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a> = _module;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a> = _appGateIndex;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> = _assocId;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4c6d0ff4e56e33461e6b42d7e83d09b3">listeningAssocId</a> = -1;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> = -1;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb61c1febb0d9f4b1d539c716e31c893">listening</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> = 0;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> = 0;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> = 0;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> = 0;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">numberOfRemoteAddresses</a> = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> = <a class="code" href="_sctp_association_8h.html#a34c7c7c047d941065871d33ce7f97bc3">SCTP_DEFAULT_INBOUND_STREAMS</a>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> = <a class="code" href="_sctp_association_8h.html#af09cc91ff86473911040f475082ff0de">SCTP_DEFAULT_OUTBOUND_STREAMS</a>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a954e3b53fb5a8a1b228d1c489416ce97">initInboundStreams</a> = 0;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// queues and algorithm will be created on active or passive open</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac927e9ea951fffed8a06e6009e4803f5">sackPeriod</a> = <a class="code" href="_sctp_association_8h.html#a5f8211f50dea40fa08f410e3631eb1fe">SACK_DELAY</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af28d79f5f20c4c8f2476455045740004">cumTsnAck</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">sendQueue</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a665b8a119cc0922aae8f31bb1c6ad751">numGapBlocks</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> = 0;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> = 0;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a119a47470e36e23fab4b2f97eb40a3db">roomSumRcvStreams</a> = 0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = 0;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">fairTimer</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">status</a> = <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae0aebf38ffdb9fab61ea7e434e3017ff">initTsn</a> = 0;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> = 0;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a> = 2;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a0fadb15803d788f1340b466ba0e9feed">ccInitParams</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#acc8004232bfe2cd64a6a0994a44dd2c7">ccUpdateBeforeSack</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a07c790e4c342817469f8af8fa4176de3">ccUpdateAfterSack</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#afef5482e5d8d099ccecc43d45660b77c">ccUpdateAfterCwndTimeout</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a22c55464c988094dd9156f7a80e12934">ccUpdateAfterRtxTimeout</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#aad67a8054e2a5d1783b8c7b312c47b39">ccUpdateMaxBurst</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a18ac22edfbdcfb6fde6863fc329c5e2e">ccUpdateBytesAcked</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1cf3ed7915df5a1259f45dc935819f19">ccModule</a> = 0;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationBase::SctpAssociation(): new assocId=&quot;</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// ====== FSM ============================================================</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordtype">char</span> fsmName[64];</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    snprintf(fsmName, <span class="keyword">sizeof</span>(fsmName), <span class="stringliteral">&quot;fsm-%d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a> = <span class="keyword">new</span> cFSM();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;setName(fsmName);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;setState(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// ====== Path Info ======================================================</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    SctpPathInfo *pinfo = <span class="keyword">new</span> SctpPathInfo(<span class="stringliteral">&quot;pathInfo&quot;</span>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    pinfo-&gt;setRemoteAddress(L3Address());</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// ====== Timers =========================================================</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordtype">char</span> timerName[128];</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;T1_INIT of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a> = <span class="keyword">new</span> cMessage(timerName);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;T2_SHUTDOWN of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a> = <span class="keyword">new</span> cMessage(timerName);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;T5_SHUTDOWN_GUARD of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a> = <span class="keyword">new</span> cMessage(timerName);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;SACK_TIMER of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a> = <span class="keyword">new</span> cMessage(timerName);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">StartTesting</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a8cfbf736534fd54a20e022f1b18b6992">testTimeout</a> &gt; 0) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">StartTesting</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;StartTesting&quot;</span>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">StartTesting</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">StartTesting</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a114000f03440234fd4816c4399605967">scheduleTimeout</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">StartTesting</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a8cfbf736534fd54a20e022f1b18b6992">testTimeout</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>-&gt;setControlInfo(pinfo);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// ====== Output vectors =================================================</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordtype">char</span> vectorName[128];</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Advertised Receiver Window %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9a01fb2d81e0d9b3fe15ddb1f7164ba2">advRwnd</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Slow Start Threshold %d:Total&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1624d250b3f22c47c0d09b04ccd674d0">statisticsTotalSSthresh</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Congestion Window %d:Total&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af340f9effadb60fea0c6ab2f4500b708">statisticsTotalCwnd</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Bandwidth %d:Total&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16072b0899c7e175dbe261538668acf4">statisticsTotalBandwidth</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Queued Received Bytes %d:Total&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">statisticsQueuedReceivedBytes</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Queued Sent Bytes %d:Total&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a4600f537d78d186cb74ffa96516233">statisticsQueuedSentBytes</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Outstanding Bytes %d:Total&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a84b6d8663ac4be77c940d54d11506246">statisticsOutstandingBytes</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Revokable Gap Blocks in SACK %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af7c5d006bcc944d3e5e2690dc0d54f51">statisticsRevokableGapBlocksInLastSACK</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Non-Revokable Gap Blocks in SACK %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8a3ad873109cd043a2619c6be00c8233">statisticsNonRevokableGapBlocksInLastSACK</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Total Gap Blocks Stored %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abaab9ea4bc7fd514a1aaed901d69add4">statisticsNumTotalGapBlocksStored</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Revokable Gap Blocks Stored %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af92417386541efe77342e7974fa428d2">statisticsNumRevokableGapBlocksStored</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Non-Revokable Gap Blocks Stored %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#accf7b18030fea3ce33a811310a802377">statisticsNumNonRevokableGapBlocksStored</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Duplicate TSNs Stored %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5cd1ddd11ffdb397d447cd3bf78f8613">statisticsNumDuplicatesStored</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Revokable Gap Blocks Sent %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7e8ab327969652d630f47fd37212666d">statisticsNumRevokableGapBlocksSent</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Non-Revokable Gap Blocks Sent %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a08b3ce97e68554e774bee48dd48518">statisticsNumNonRevokableGapBlocksSent</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Number of Duplicate TSNs Sent %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4583a4c7e14e661158573ddab926bd90">statisticsNumDuplicatesSent</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Length of SACK Sent %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a021066b7c0a3a50cdaa7e19ce34093b6">statisticsSACKLengthSent</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Arwnd in Last SACK %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad57c66ee81d1210374193ffec8f5969">statisticsArwndInLastSACK</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Peer Rwnd %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// ====== Extensions =====================================================</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;addIP&quot;</span>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;fairStart&quot;</span>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;fairStop&quot;</span>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a>-&gt;setControlInfo(pinfo-&gt;dup());</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Advertised Message Receiver Window of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afed920dae03831eb537fac4218a4a87f">advMsgRwnd</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;End to End Delay of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8458bae94d9b82f388bf659b8f57b7ac">EndToEndDelay</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// ====== Assoc throughput ===============================================</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Throughput of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a> = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a>-&gt;record(0.0);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// ====== CMT Delayed Ack ================================================</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">dacPacketsRcvd</a> = 0;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">// ====== Stream scheduling ==============================================</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8aedbb1eceb04bbb44e5ccc2500670f3">ssModule</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;ssModule&quot;</span>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8aedbb1eceb04bbb44e5ccc2500670f3">ssModule</a>) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5ae4f49b639a5bedca2eb892da90ac3de7">ROUND_ROBIN</a>:</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a19f8fbdbbe120b9c5cf7311946796db5">SctpAssociation::streamScheduler</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: ROUND_ROBIN&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5af84b7cf8ee606783d6c823bd0aaaafdf">ROUND_ROBIN_PACKET</a>:</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af643cdea7ad22400600ec0628b47b709">SctpAssociation::streamSchedulerRoundRobinPacket</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: ROUND_ROBIN_PACKET&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5ac0acba0b91c1702a19bc67d8a7bc734a">RANDOM_SCHEDULE</a>:</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa9ca9fd24dce3e6859e2aecb58ff9ded">SctpAssociation::streamSchedulerRandom</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: RANDOM_SCHEDULE&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5af75793c64c8e4054e6069f2d512c347a">RANDOM_SCHEDULE_PACKET</a>:</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9cf770d981474af93a352ff13b27e68a">SctpAssociation::streamSchedulerRandomPacket</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: RANDOM_SCHEDULE_PACKET&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a3cf176b0d52e4b05f565be67c86e9c67">FAIR_BANDWITH</a>:</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7554bab1415649f0631d48598a2d5971">SctpAssociation::streamSchedulerFairBandwidth</a>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: FAIR_BANDWITH&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a0545623a8aa70bc90513939c7d6b6771">FAIR_BANDWITH_PACKET</a>:</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a31af650b11ff51ff6fae64de66751455">SctpAssociation::streamSchedulerFairBandwidthPacket</a>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: FAIR_BANDWITH_PACKET&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a301bcf628dec5ad6b443e660dce336a6">PRIORITY</a>:</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">SctpAssociation::streamSchedulerPriority</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: PRIORITY&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5aea885fc61dcba97af9c55ee5561cb7b5">FCFS</a>:</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a32e1086f7dc43a20174dfc9e6903625e">SctpAssociation::streamSchedulerFCFS</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: FCFS&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a27e94200cd0bc20561acbffc6d92e09c">PATH_MANUAL</a>:</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a38522cbaf33adaa78d41ab707863a7ec">SctpAssociation::pathStreamSchedulerManual</a>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: PATH_MANUAL&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a9b44631a365fd3d4a8beb844fb35c73d">PATH_MAP_TO_PATH</a>:</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">SctpAssociation::initStreams</a>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">SctpAssociation::addInStreams</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8e4f8d0a02ff10700bcca64cca35da74">SctpAssociation::pathStreamSchedulerMapToPath</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">ssUsableStreams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Setting Stream Scheduler: PATH_MAP_TO_PATH&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>.</p>

</div>
</div>
<a id="a0010ef15d6886f0effc7c5e0470a48f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0010ef15d6886f0effc7c5e0470a48f8">&#9670;&nbsp;</a></span>~SctpAssociation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">inet::sctp::SctpAssociation::~SctpAssociation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<div class="fragment"><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    EV_TRACE &lt;&lt; <span class="stringliteral">&quot;Destructor SctpAssociation &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9a01fb2d81e0d9b3fe15ddb1f7164ba2">advRwnd</a>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af28d79f5f20c4c8f2476455045740004">cumTsnAck</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a665b8a119cc0922aae8f31bb1c6ad751">numGapBlocks</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">sendQueue</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a84b6d8663ac4be77c940d54d11506246">statisticsOutstandingBytes</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">statisticsQueuedReceivedBytes</a>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a4600f537d78d186cb74ffa96516233">statisticsQueuedSentBytes</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1624d250b3f22c47c0d09b04ccd674d0">statisticsTotalSSthresh</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af340f9effadb60fea0c6ab2f4500b708">statisticsTotalCwnd</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16072b0899c7e175dbe261538668acf4">statisticsTotalBandwidth</a>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af7c5d006bcc944d3e5e2690dc0d54f51">statisticsRevokableGapBlocksInLastSACK</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8a3ad873109cd043a2619c6be00c8233">statisticsNonRevokableGapBlocksInLastSACK</a>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abaab9ea4bc7fd514a1aaed901d69add4">statisticsNumTotalGapBlocksStored</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af92417386541efe77342e7974fa428d2">statisticsNumRevokableGapBlocksStored</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#accf7b18030fea3ce33a811310a802377">statisticsNumNonRevokableGapBlocksStored</a>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5cd1ddd11ffdb397d447cd3bf78f8613">statisticsNumDuplicatesStored</a>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7e8ab327969652d630f47fd37212666d">statisticsNumRevokableGapBlocksSent</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a08b3ce97e68554e774bee48dd48518">statisticsNumNonRevokableGapBlocksSent</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4583a4c7e14e661158573ddab926bd90">statisticsNumDuplicatesSent</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a021066b7c0a3a50cdaa7e19ce34093b6">statisticsSACKLengthSent</a>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad57c66ee81d1210374193ffec8f5969">statisticsArwndInLastSACK</a>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afed920dae03831eb537fac4218a4a87f">advMsgRwnd</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8458bae94d9b82f388bf659b8f57b7ac">EndToEndDelay</a>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>[i] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>[i++];</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a>)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14301dd160c371c105f43dde83325235">cancelEvent</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a>)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14301dd160c371c105f43dde83325235">cancelEvent</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab25b76a00912c97e3e28333d424f3a6a">asconfOutstanding</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a>)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae7701b0a949f20e920b70f84f67597a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7701b0a949f20e920b70f84f67597a5">&#9670;&nbsp;</a></span>ackChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::ackChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        chunk-&gt;hasBeenAcked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        chunk-&gt;ackedOnPath = sackPath;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk()</a>.</p>

</div>
</div>
<a id="a3d3bee8a96a297f04702966666d8d80c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3bee8a96a297f04702966666d8d80c">&#9670;&nbsp;</a></span>addAuthChunkIfNecessary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::addAuthChunkIfNecessary </td>
          <td>(</td>
          <td class="paramtype">Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt;&#160;</td>
          <td class="paramname"><em>sctpMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>chunkType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>authAdded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(chunkType)) &amp;&amp; (authAdded == <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            SctpAuthenticationChunk *authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            sctpMsg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a4a2df8dc85056f6a50e97d39c3e106e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2df8dc85056f6a50e97d39c3e106e7">&#9670;&nbsp;</a></span>addInStreams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::addInStreams </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inStreams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keyword">delete</span> elem.second;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keyword">delete</span> elem.second;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a19f8fbdbbe120b9c5cf7311946796db5">SctpAssociation::streamScheduler</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>.</p>

</div>
</div>
<a id="aafcd32b5bde60f82815cecfab6bbf672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafcd32b5bde60f82815cecfab6bbf672">&#9670;&nbsp;</a></span>addOutStreams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::addOutStreams </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>outStreams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                : RoundRobin\n<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="stringliteral">    sid = -1;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral">    if ((state-&gt;ssLastDataChunkSizeSet == false || state-&gt;ssNextStream == false) &amp;&amp;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral">        (sendStreams.find(state-&gt;lastStreamScheduled)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="stringliteral">         sendStreams.find(state-&gt;lastStreamScheduled)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0))</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="stringliteral">    {</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="stringliteral">        sid = state-&gt;lastStreamScheduled;</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>.</p>

</div>
</div>
<a id="aff0abf9c17d61e526240ca2c913a5b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0abf9c17d61e526240ca2c913a5b53">&#9670;&nbsp;</a></span>addPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::addPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;{</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Add Path remote address: &quot;</span> &lt;&lt; addr &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>, addr)) {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot; get new path for &quot;</span> &lt;&lt; addr &lt;&lt; <span class="stringliteral">&quot; at line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>(addr, <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[addr] = path;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[addr] = 0;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[addr] = 0;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[addr] = 0;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    }</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;path added\n&quot;</span>;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>.</p>

</div>
</div>
<a id="afc83b96266e49ce77859ae958ec08898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc83b96266e49ce77859ae958ec08898">&#9670;&nbsp;</a></span>advancePeerTsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::advancePeerTsn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;{</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="comment">// Rewrote code for efficiency, it consomed &gt;40% of total CPU time before!</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="comment">// Find the highest TSN to advance to, not just the first one.</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a> + 1);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">while</span> (iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end()) {</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordflow">if</span> (iterator-&gt;second-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a> = iterator-&gt;second-&gt;tsn;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32d10933c0677d4faed7d61fb7289365">ackPointAdvanced</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            iterator++;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        }</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            <span class="keywordflow">if</span> (iterator-&gt;second-&gt;hasBeenAcked == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                iterator++;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160; </div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;advancedPeerTsnAck now=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="a7d73628d82970ec75e1f01ed4932185e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d73628d82970ec75e1f01ed4932185e">&#9670;&nbsp;</a></span>allPathsInactive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::allPathsInactive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;{</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <span class="keywordflow">if</span> (elem.second-&gt;activePath) {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;        }</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    }</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>.</p>

</div>
</div>
<a id="a4e06b0dbd861e4e60618ba01fa279dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e06b0dbd861e4e60618ba01fa279dbf">&#9670;&nbsp;</a></span>bytesAllowedToSend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::bytesAllowedToSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>firstPass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    assert(path != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = 0;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;):&quot;</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; osb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// ====== First transmission =============================================</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a71cb1f0fcd451c79eac561d88c83fe16">firstDataSent</a>) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// ====== Transmission allowed by peer&#39;s receiver window? ================</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a> || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> &lt;= 0)) &amp;&amp; (path-&gt;outstandingBytes == 0)) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">// Zero Window Probing</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): zeroWindowProbing&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// ====== Retransmissions ================================================</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        CounterMap::const_iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): bytes in transQ=&quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second &gt; 0) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keyword">const</span> int32_t allowance = path-&gt;cwnd - path-&gt;outstandingBytes;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): cwnd-osb=&quot;</span> &lt;&lt; allowance &lt;&lt; endl;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> &lt; path-&gt;pmtu) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = 0;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): one chunk&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <span class="comment">// RFC4960: When a Fast Retransmit is being performed, the sender SHOULD ignore the value</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <span class="comment">// of cwnd and SHOULD NOT delay retransmission for this single packet.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (allowance &gt; 0) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                CounterMap::const_iterator bit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">if</span> (bit-&gt;second &gt; (uint32_t)allowance) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = allowance;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): cwnd does not allow all RTX&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="keywordflow">return</span>; <span class="comment">// More bytes available than allowed -&gt; just return what is allowed.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = bit-&gt;second;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): cwnd allows more than those &quot;</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                              &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> &lt;&lt; <span class="stringliteral">&quot; bytes for retransmission&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">else</span> { <span class="comment">// You may retransmit one packet</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): allowance&lt;=0: retransmit one packet&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// ====== New transmissions ===========================================</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#aad67a8054e2a5d1783b8c7b312c47b39">ccUpdateMaxBurst</a>)(path);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="comment">// ====== Get cwnd value to use, according to maxBurstVariant ======</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            uint32_t myCwnd = path-&gt;cwnd;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1bb004d64bb574b03e1d0a9a6b98178a">SctpStateVariables::MBV_UseItOrLoseItTempCwnd</a>) ||</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc">SctpStateVariables::MBV_CongestionWindowLimitingTempCwnd</a>))</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                myCwnd = path-&gt;tempCwnd;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="comment">// ====== Obtain byte allowance ====================================</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">if</span> ((((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) &amp;&amp;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                  (path-&gt;outstandingBytes &lt; myCwnd) &amp;&amp;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                  (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a>) &amp;&amp;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                  (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> &gt; 0))</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                 ||</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                 ((!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) &amp;&amp;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                  (path-&gt;outstandingBytes &lt; myCwnd) &amp;&amp;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                  (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a>)))</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                &amp;&amp;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                ((path-&gt;blockingTimeout &lt; 0.0) || <span class="comment">/* Chunk Rescheduling: no new transmission when blocking is active! */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                 (simTime() &gt;= path-&gt;blockingTimeout)))</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;):&quot;</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; bookedSumSendStreams=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; bytes.bytesToSend=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keyword">const</span> int32_t allowance = myCwnd - path-&gt;outstandingBytes - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <span class="keywordflow">if</span> (allowance &gt; 0) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> &gt; (uint32_t)allowance) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = myCwnd - path-&gt;outstandingBytes;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): bytesToSend are limited by cwnd: &quot;</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                  &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;): send all stored bytes: &quot;</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                  &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="comment">// Do not send more than the peer&#39;s arwnd allows</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;bytesAllowedToSend(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;):&quot;</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; osb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; tempCwnd=&quot;</span> &lt;&lt; path-&gt;tempCwnd</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; bytes.packet=&quot;</span> &lt;&lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> ? <span class="stringliteral">&quot;YES!&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; bytes.chunk=&quot;</span> &lt;&lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> ? <span class="stringliteral">&quot;YES!&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; bytes.bytesToSend=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="ab93d1f8f6b3845609968b0295cdebe44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93d1f8f6b3845609968b0295cdebe44">&#9670;&nbsp;</a></span>calculateAssocSharedKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::calculateAssocSharedKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> peerFirst = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93bf48f842d1b6f71b71b7552aa49e4e">compareRandom</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (peerFirst == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>; i++)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa1b4e3573170b2e412f2862e752b1f0a">sharedKey</a>[i] = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[i];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="namespaceinet_1_1utils.html#a5bf993b2576999e290895d1d0d984c43">for</a> (uint32_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac9d2f2eaa0e405ffb8c67eb098646b6e">sizePeerKeyVector</a>; i++)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa1b4e3573170b2e412f2862e752b1f0a">sharedKey</a>[i + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afe7cd57ff1aad606556c59f7e18f93d2">peerKeyVector</a>[i];</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac9d2f2eaa0e405ffb8c67eb098646b6e">sizePeerKeyVector</a>; i++)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa1b4e3573170b2e412f2862e752b1f0a">sharedKey</a>[i] = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afe7cd57ff1aad606556c59f7e18f93d2">peerKeyVector</a>[i];</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="namespaceinet_1_1utils.html#a5bf993b2576999e290895d1d0d984c43">for</a> (uint32_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>; i++)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa1b4e3573170b2e412f2862e752b1f0a">sharedKey</a>[i + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac9d2f2eaa0e405ffb8c67eb098646b6e">sizePeerKeyVector</a>] = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[i];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ddc9fefa6b0f9d3f4f20dc0433dfe07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ddc9fefa6b0f9d3f4f20dc0433dfe07">&#9670;&nbsp;</a></span>calculateBytesToSendOnPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::calculateBytesToSendOnPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>pathVar</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8313b1d723431c43b4585e18d572f595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8313b1d723431c43b4585e18d572f595">&#9670;&nbsp;</a></span>calculateRcvBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::calculateRcvBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    uint32_t sumDelivery = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    uint32_t sumOrdered = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    uint32_t sumUnOrdered = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">for</span> (SctpReceiveStreamMap::const_iterator iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.begin();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;         iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.end(); iterator++)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">const</span> SctpReceiveStream *stream = iterator-&gt;second;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        sumDelivery += stream-&gt;getDeliveryQ()-&gt;getQueueSize();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        sumOrdered += stream-&gt;getOrderedQ()-&gt;getQueueSize();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        sumUnOrdered += stream-&gt;getUnorderedQ()-&gt;getQueueSize();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;DeliveryQ= &quot;</span> &lt;&lt; sumDelivery</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;, OrderedQ=&quot;</span> &lt;&lt; sumOrdered</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;, UnorderedQ=&quot;</span> &lt;&lt; sumUnOrdered</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;, bufferedMessages=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;             &lt;&lt; endl;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abeb4ef5900ac3d0f78ea3b40e177c55b">makeVarFromMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">processForwardTsnArrived()</a>.</p>

</div>
</div>
<a id="a14301dd160c371c105f43dde83325235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14301dd160c371c105f43dde83325235">&#9670;&nbsp;</a></span>cancelEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::cancelEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: cancel a timer. </p>
<div class="fragment"><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;cancelEvent(msg);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="af006645c4b89ece5d6ed6fa7b832b7be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af006645c4b89ece5d6ed6fa7b832b7be">&#9670;&nbsp;</a></span>checkOutstandingBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::checkOutstandingBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aef8812e52c22fbee17a26caae618a6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8812e52c22fbee17a26caae618a6a4">&#9670;&nbsp;</a></span>checkPseudoCumAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::checkPseudoCumAck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    uint32_t earliestOutstandingTsn = path-&gt;pseudoCumAck;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    uint32_t rtxEarliestOutstandingTsn = path-&gt;rtxPseudoCumAck;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a37d6000c519fd0c1cf8755c0e43f44ce">findEarliestOutstandingTsnsForPath</a>(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            path-&gt;remoteAddress,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            earliestOutstandingTsn, rtxEarliestOutstandingTsn);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(path-&gt;pseudoCumAck, earliestOutstandingTsn) ||</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(path-&gt;rtxPseudoCumAck, rtxEarliestOutstandingTsn))</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        EV_WARN &lt;&lt; <span class="stringliteral">&quot;WRONG PSEUDO CUM-ACK!&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;pseudoCumAck=&quot;</span> &lt;&lt; path-&gt;pseudoCumAck &lt;&lt; <span class="stringliteral">&quot;, earliestOutstandingTsn=&quot;</span> &lt;&lt; earliestOutstandingTsn &lt;&lt; endl</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;rtxPseudoCumAck=&quot;</span> &lt;&lt; path-&gt;rtxPseudoCumAck &lt;&lt; <span class="stringliteral">&quot;, rtxEarliestOutstandingTsn=&quot;</span> &lt;&lt; rtxEarliestOutstandingTsn &lt;&lt; endl;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a42546b5c6e9e891b91c177a564ed4c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42546b5c6e9e891b91c177a564ed4c00">&#9670;&nbsp;</a></span>checkStreamsToReset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::checkStreamsToReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">fragInProgress</a> &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> == 0 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() &gt; 0)) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af">RESET_BOTH</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a>) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.clear();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            std::list&lt;uint16_t&gt;::iterator it;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keywordflow">for</span> (it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.end();) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream</a>(*it) == 0) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.push_back(*it);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.erase(it);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    ++it;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> &amp;&amp;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a> ||</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;             <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a> ||</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;             <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a>))</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4b30b8b8b9928ac338052bd41310d1f6">resetDeferred</a> &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>)) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a>) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>: {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    SctpSsnTsnResetRequestParameter *ssnParam = check_and_cast&lt;SctpSsnTsnResetRequestParameter *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aeb41dad3db96d468718481d5399c547e">processSsnTsnResetRequestArrived</a>(ssnParam);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabab99d4f2829ffb45516472323358a54">PERFORMED_WITH_OPTION</a>) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = 0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(ssnParam, <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <span class="keyword">delete</span> ssnParam;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a>: {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    SctpIncomingSsnResetRequestParameter *inParam = check_and_cast&lt;SctpIncomingSsnResetRequestParameter *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">dup</a>());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">//                    state-&gt;incomingRequest-&gt;setName(&quot;StateSackIncoming&quot;);</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">//                    inParam-&gt;setName(&quot;checkInParam&quot;);</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived</a>(inParam);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <span class="keyword">delete</span> inParam;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4b30b8b8b9928ac338052bd41310d1f6">resetDeferred</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af">RESET_BOTH</a>) &amp;&amp;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                 (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0))</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a>)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="ace89dca4ebfabfa3160ce2c2c9e18e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace89dca4ebfabfa3160ce2c2c9e18e88">&#9670;&nbsp;</a></span>choosePathForRetransmission()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * inet::sctp::SctpAssociation::choosePathForRetransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    uint32_t <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a> = 0;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *temp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        CounterMap::const_iterator tq = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> ((tq != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.end()) &amp;&amp; (tq-&gt;second &gt; <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>)) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a> = tq-&gt;second;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            temp = path;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> temp;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="aad3430cc8dfc8a168ee6542215199f29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3430cc8dfc8a168ee6542215199f29">&#9670;&nbsp;</a></span>chunkHasBeenAcked() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::chunkHasBeenAcked </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">return</span> chunk-&gt;hasBeenAcked;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4f51ecb152ced3414123f380ff78f8f2">cucProcessGapReports()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">getOutboundDataChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="af58caf94d5114d0d06d81d3ea7d50202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58caf94d5114d0d06d81d3ea7d50202">&#9670;&nbsp;</a></span>chunkHasBeenAcked() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::chunkHasBeenAcked </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tsn</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="keyword">const</span> SctpDataVariables *chunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(tsn);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">if</span> (chunk) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a35810f2e01a572bdcb22683982c82f07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35810f2e01a572bdcb22683982c82f07">&#9670;&nbsp;</a></span>chunkMustBeAbandoned()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::chunkMustBeAbandoned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;{</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="keywordflow">switch</span> (chunk-&gt;prMethod) {</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0a9d1baba3f8225cf159988b9930af975e">PR_TTL</a>:</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            <span class="keywordflow">if</span> (chunk-&gt;expiryTime &gt; 0 &amp;&amp; chunk-&gt;expiryTime &lt;= simTime()) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                <span class="keywordflow">if</span> (!chunk-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; will be abandoned&quot;</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot; (expiryTime=&quot;</span> &lt;&lt; chunk-&gt;expiryTime</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot; sendTime=&quot;</span> &lt;&lt; chunk-&gt;sendTime &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                    chunk-&gt;hasBeenAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                    chunk-&gt;sendForwardIfAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">SCTP_I_ABANDONED</a>);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                }</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0aa47c2b0c1d0a86d4969d8bcdc86f0ae5">PR_RTX</a>:</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            <span class="keywordflow">if</span> (chunk-&gt;numberOfRetransmissions &gt;= chunk-&gt;allowedNoRetransmissions) {</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                <span class="keywordflow">if</span> (!chunk-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;chunkMustBeAbandoned: TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; will be abandoned&quot;</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot; (maxRetransmissions=&quot;</span> &lt;&lt; chunk-&gt;allowedNoRetransmissions &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                    chunk-&gt;hasBeenAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                    chunk-&gt;sendForwardIfAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                    chunk-&gt;countsAsOutstanding = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">SCTP_I_ABANDONED</a>);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                }</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            }</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160; </div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>.</p>

</div>
</div>
<a id="a719c4d87ccd9f895d77351754d47d4ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719c4d87ccd9f895d77351754d47d4ad">&#9670;&nbsp;</a></span>chunkReschedulingControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::chunkReschedulingControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: chunkReschedulingControl:&quot;</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tqueueFillLevel=&quot;</span> &lt;&lt; (100.0 * (double)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">queuedSentBytes</a>) / (double)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> &lt;&lt; <span class="stringliteral">&quot;%&quot;</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tpeerRwnd=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;       &lt;&lt; endl;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">double</span> totalBandwidth = 0.0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> totalOutstandingBytes = 0;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> totalQueuedBytes = 0;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="namespaceinet_1_1utils.html#a5bf993b2576999e290895d1d0d984c43">for</a> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        totalQueuedBytes += myPath-&gt;queuedBytes;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        totalOutstandingBytes += myPath-&gt;outstandingBytes;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        totalBandwidth += (double)myPath-&gt;cwnd / myPath-&gt;srtt.dbl();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    assert(totalOutstandingBytes == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> queuedBytes = path-&gt;queuedBytes;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> outstandingBytes = path-&gt;outstandingBytes;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">/* senderLimit is just the size of the send queue! */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    uint32_t senderLimit = ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> != 0) ? <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> : 0xffffffff);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1">SctpStateVariables::CBSV_BothSides</a>) ||</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a01d96d99802e13c09ec03af90234ec98">SctpStateVariables::CBSV_SenderOnly</a>) ||</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a176761a05ff1492fb7e629c1968969d1">SctpStateVariables::CBSV_ReceiverOnly</a>))</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        senderLimit = senderLimit / <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">/* receiverLimit is the peerRwnd + all bytes queued</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">       (i.e. waiting or being outstanding)! */</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    uint32_t receiverLimit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> + totalQueuedBytes;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1">SctpStateVariables::CBSV_BothSides</a>) ||</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a01d96d99802e13c09ec03af90234ec98">SctpStateVariables::CBSV_SenderOnly</a>) ||</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a176761a05ff1492fb7e629c1968969d1">SctpStateVariables::CBSV_ReceiverOnly</a>))</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        receiverLimit = receiverLimit / <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> senderBlockingFraction = (queuedBytes - outstandingBytes) / (<span class="keywordtype">double</span>)senderLimit;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> receiverBlockingFraction = (queuedBytes - outstandingBytes) / (<span class="keywordtype">double</span>)receiverLimit;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    EV &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tt3=&quot;</span> &lt;&lt; (path-&gt;T3_RtxTimer-&gt;isScheduled() ? path-&gt;T3_RtxTimer-&gt;getArrivalTime().dbl() : -1.0)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tssthresh=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tsrtt=&quot;</span> &lt;&lt; path-&gt;srtt</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tbw=&quot;</span> &lt;&lt; (8.0 * (double)path-&gt;cwnd) / (1000000.0 * path-&gt;srtt) &lt;&lt; <span class="stringliteral">&quot; Mbit/s&quot;</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tosb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tqueued=&quot;</span> &lt;&lt; path-&gt;queuedBytes</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tslimit=&quot;</span> &lt;&lt; senderLimit</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\trlimit=&quot;</span> &lt;&lt; receiverLimit</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tsblocking=&quot;</span> &lt;&lt; 100.0 * senderBlockingFraction &lt;&lt; <span class="stringliteral">&quot; %&quot;</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\trblocking=&quot;</span> &lt;&lt; 100.0 * receiverBlockingFraction &lt;&lt; <span class="stringliteral">&quot; %&quot;</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;       &lt;&lt; endl;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    path-&gt;statisticsPathSenderBlockingFraction-&gt;record(senderBlockingFraction);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    path-&gt;statisticsPathReceiverBlockingFraction-&gt;record(receiverBlockingFraction);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// ====== Chunk Rescheduling =============================================</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca2a6d484a06d45dabbde3235c877684f2">SctpStateVariables::CCRV_SenderOnly</a>) ||</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca7575abf956e1f023fb5c35bda960d90e">SctpStateVariables::CCRV_ReceiverOnly</a>) ||</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca00fb9010be9a7cc8da4a01d761f043d8">SctpStateVariables::CCRV_BothSides</a>))</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> ((((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca2a6d484a06d45dabbde3235c877684f2">SctpStateVariables::CCRV_SenderOnly</a>) ||</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;              (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca00fb9010be9a7cc8da4a01d761f043d8">SctpStateVariables::CCRV_BothSides</a>)) &amp;&amp;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;             (senderBlockingFraction &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af43635c67e05cef61299c057676a27d4">cmtChunkReschedulingThreshold</a>)) ||</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            (((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca7575abf956e1f023fb5c35bda960d90e">SctpStateVariables::CCRV_ReceiverOnly</a>) ||</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;              (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca00fb9010be9a7cc8da4a01d761f043d8">SctpStateVariables::CCRV_BothSides</a>)) &amp;&amp;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;             (receiverBlockingFraction &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af43635c67e05cef61299c057676a27d4">cmtChunkReschedulingThreshold</a>)))</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">if</span> ((!path-&gt;fastRecoveryActive) &amp;&amp; <span class="comment">// Only apply when path is not yet in Fast Recovery!</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                ((path-&gt;blockingTimeout &lt; 0.0) || <span class="comment">// Do not move chunks to an already-blocked path!</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                 (simTime() &gt;= path-&gt;blockingTimeout)))</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="comment">// ====== Rescheduling of chunk from other path to current path ====</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keywordflow">if</span> (iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end()) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    SctpDataVariables *chunk = iterator-&gt;second;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *lastPath = chunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <span class="keywordflow">if</span> ((chunk-&gt;countsAsOutstanding == <span class="keyword">true</span>) &amp;&amp; <span class="comment">// T.D. 04.08.2011: Chunk must be outstanding, i.e. in the network!</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        (chunk-&gt;hasBeenMoved == <span class="keyword">false</span>) &amp;&amp; <span class="comment">// T.D. 08.07.2011: Check, whether this chunk has already been moved!</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        ((lastPath != path) ||</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                         (chunk-&gt;sendTime + (2 * path-&gt;srtt) &lt; simTime())))</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        assert(chunk-&gt;numberOfTransmissions &gt; 0); <span class="comment">// It has been transmitted as least once</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        assert(chunk-&gt;hasBeenAcked == <span class="keyword">false</span>); <span class="comment">// It has not been acked (since it is outstanding)</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                        EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: RESCHEDULING TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; on &quot;</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                           &lt;&lt; lastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                           &lt;&lt; path-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        <span class="comment">// ====== Move chunk ======================================</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        lastPath-&gt;vectorPathBlockingTsnsMoved-&gt;record(chunk-&gt;tsn);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath</a>(chunk, path);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        <span class="comment">// This chunk is important, since it is blocking others ...</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        <span class="comment">// If SackNow is supported, ensure that it is SACK&#39;ed quickly!</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        chunk-&gt;ibit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a5ad88d3ba6b0fcfa0e174ccb785332c9">sackNow</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a726ea0dfa526eeef342f3581d2b2241a">blockingTsnsMoved</a>++;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        chunk-&gt;hasBeenMoved = (lastPath != path);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        <span class="comment">// Restart T3 timer on its old path, if it is scheduled</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="keywordflow">if</span> (lastPath-&gt;T3_RtxTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                            <span class="comment">// Stop timer, if path is empty now.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                            <span class="comment">// Else, keep it running, without reset!</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                            <span class="keywordflow">if</span> (lastPath-&gt;queuedBytes == 0) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(lastPath-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                            }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        <span class="comment">// ====== Handle Congestion Control =======================</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa11a63baa3a74d62110fc295b63c295b">cmtMovedChunksReduceCwnd</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                            <span class="keywordflow">if</span> (lastPath != path) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                <span class="keywordflow">if</span> ((lastPath-&gt;blockingTimeout &gt;= 0.0) &amp;&amp;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                    (simTime() &lt; lastPath-&gt;blockingTimeout))</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                    <span class="comment">// Path is already blocked</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                    EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;\tCR-3 on path &quot;</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                       &lt;&lt; lastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; (blocked until &quot;</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                       &lt;&lt; lastPath-&gt;blockingTimeout &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lastPath-&gt;fastRecoveryActive) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                    <span class="comment">// A further problem during Fast Recovery -&gt; block path</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                    <span class="keyword">const</span> simtime_t pause = lastPath-&gt;srtt;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                    lastPath-&gt;blockingTimeout = simTime() + pause;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                    assert(!lastPath-&gt;BlockingTimer-&gt;isScheduled());</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(lastPath-&gt;BlockingTimer, pause);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                    EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;\tCR-2 on path &quot;</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                       &lt;&lt; lastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; (pause=&quot;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                       &lt;&lt; pause &lt;&lt; <span class="stringliteral">&quot;; blocked until &quot;</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                       &lt;&lt; lastPath-&gt;blockingTimeout &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                    <span class="comment">// Go into Fast Recovery mode ...</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                    lastPath-&gt;requiresRtx = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                                    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#acc8004232bfe2cd64a6a0994a44dd2c7">ccUpdateBeforeSack</a>)();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a07c790e4c342817469f8af8fa4176de3">ccUpdateAfterSack</a>)();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                    lastPath-&gt;requiresRtx = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                    EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;\tCR-1 on path &quot;</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                       &lt;&lt; lastPath-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                            }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;\tCR-4 on path &quot;</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                   &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; (lastTX=&quot;</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                   &lt;&lt; simTime() - chunk-&gt;sendTime</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                   &lt;&lt; <span class="stringliteral">&quot;, TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                lastPath-&gt;requiresRtx = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#acc8004232bfe2cd64a6a0994a44dd2c7">ccUpdateBeforeSack</a>)();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a07c790e4c342817469f8af8fa4176de3">ccUpdateAfterSack</a>)();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                                lastPath-&gt;requiresRtx = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                            }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// ====== Test ===========================================================</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca35ef0d7cfff5ec07fe58316f541598c3">SctpStateVariables::CCRV_Test</a>) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        abort();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="ac33f00c88f903d411242bc71ed01fcdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33f00c88f903d411242bc71ed01fcdb">&#9670;&nbsp;</a></span>chunkToInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t inet::sctp::SctpAssociation::chunkToInt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    EV_STATICCONTEXT;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;DATA&quot;</span>) == 0)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;INIT&quot;</span>) == 0)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;INIT_ACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">INIT_ACK</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;SACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;HEARTBEAT&quot;</span>) == 0)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">HEARTBEAT</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;HEARTBEAT_ACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">HEARTBEAT_ACK</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;ABORT&quot;</span>) == 0)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">ABORT</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;SHUTDOWN&quot;</span>) == 0)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f">SHUTDOWN</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;SHUTDOWN_ACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa2d9dde04457cd20eaa66b7da11a5c909">SHUTDOWN_ACK</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;ERRORTYPE&quot;</span>) == 0)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764">ERRORTYPE</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;COOKIE_ECHO&quot;</span>) == 0)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">COOKIE_ECHO</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;COOKIE_ACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b">COOKIE_ACK</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;SHUTDOWN_COMPLETE&quot;</span>) == 0)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">SHUTDOWN_COMPLETE</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;AUTH&quot;</span>) == 0)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;NR-SACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabf000493f824e826ba49e25981668cbb">NR_SACK</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;ASCONF_ACK&quot;</span>) == 0)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;PKTDROP&quot;</span>) == 0)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;RE_CONFIG&quot;</span>) == 0)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;FORWARD_TSN&quot;</span>) == 0)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;ASCONF&quot;</span>) == 0)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (strcmp(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="stringliteral">&quot;IFORWARD_TSN&quot;</span>) == 0)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa944c4eb5d1659d5ae21ff5e9eb070027">IFORWARD_TSN</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    EV_WARN &lt;&lt; <span class="stringliteral">&quot;ChunkConversion not successful\n&quot;</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> 0xffff;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>.</p>

</div>
</div>
<a id="a85997d16b38fa49c025a4b95e2de7c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85997d16b38fa49c025a4b95e2de7c2f">&#9670;&nbsp;</a></span>cloneAssociation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html">SctpAssociation</a> * inet::sctp::SctpAssociation::cloneAssociation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: clone a listening association. </p>
<p>Used for forking. </p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation</a> *assoc = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *queueClass = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;getClassName();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    assoc-&gt;transmissionQ = check_and_cast&lt;SctpQueue *&gt;(<a class="code" href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a>(queueClass));</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    assoc-&gt;retransmissionQ = check_and_cast&lt;SctpQueue *&gt;(<a class="code" href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a>(queueClass));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *sctpAlgorithmClass = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;getClassName();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    assoc-&gt;sctpAlgorithm = check_and_cast&lt;SctpAlgorithm *&gt;(<a class="code" href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a>(sctpAlgorithmClass));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    assoc-&gt;sctpAlgorithm-&gt;setAssociation(assoc);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    assoc-&gt;sctpAlgorithm-&gt;initialize();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    assoc-&gt;state = assoc-&gt;sctpAlgorithm-&gt;createStateVariables();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;auth&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *chunks = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;chunks&quot;</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordtype">bool</span> asc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordtype">bool</span> asca = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordtype">char</span> *chunkscopy = (<span class="keywordtype">char</span> *)malloc(strlen(chunks) + 1);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        strcpy(chunkscopy, chunks);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordtype">char</span> *token;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        token = strtok(chunkscopy, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">while</span> (token != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                asc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                asca = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af93dfe0405bd90fefb8e385fcb6471b5">typeInOwnChunkList</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token))) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.push_back(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            token = strtok(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIP&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">if</span> (!asc &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af93dfe0405bd90fefb8e385fcb6471b5">typeInOwnChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.push_back(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">if</span> (!asca &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af93dfe0405bd90fefb8e385fcb6471b5">typeInOwnChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>))</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.push_back(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        free(chunkscopy);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    assoc-&gt;state-&gt;active = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    assoc-&gt;state-&gt;fork = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    assoc-&gt;localAddr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    assoc-&gt;localPort = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    assoc-&gt;localAddressList = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    assoc-&gt;listening = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    assoc-&gt;outboundStreams = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    assoc-&gt;inboundStreams = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    assoc-&gt;fd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    FSM_Goto((*assoc-&gt;fsm), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a72a1b9225ed8203a655fe8cfbb389a97">printInfoAssocMap</a>();</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> assoc;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>.</p>

</div>
</div>
<a id="a93bf48f842d1b6f71b71b7552aa49e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bf48f842d1b6f71b71b7552aa49e4e">&#9670;&nbsp;</a></span>compareRandom()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::compareRandom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    int32_t i, sizeKeyVector, sizePeerKeyVector, size = 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    sizeKeyVector = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    sizePeerKeyVector = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac9d2f2eaa0e405ffb8c67eb098646b6e">sizePeerKeyVector</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (sizeKeyVector != sizePeerKeyVector) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">if</span> (sizePeerKeyVector &gt; sizeKeyVector) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            size = sizeKeyVector;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">for</span> (i = sizePeerKeyVector - 1; i &gt; sizeKeyVector; i--) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afe7cd57ff1aad606556c59f7e18f93d2">peerKeyVector</a>[i] != 0)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            size = sizePeerKeyVector;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">for</span> (i = sizeKeyVector - 1; i &gt; sizePeerKeyVector; i--) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[i] != 0)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        size = sizeKeyVector;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (i = size - 1; i &gt; 0; i--) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[i] &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afe7cd57ff1aad606556c59f7e18f93d2">peerKeyVector</a>[i])</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[i] &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afe7cd57ff1aad606556c59f7e18f93d2">peerKeyVector</a>[i])</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab93d1f8f6b3845609968b0295cdebe44">calculateAssocSharedKey()</a>.</p>

</div>
</div>
<a id="a8969c04b236568c7e1f2f5af2a17e902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8969c04b236568c7e1f2f5af2a17e902">&#9670;&nbsp;</a></span>createAsconfAckChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_asconf_ack_chunk.html">SctpAsconfAckChunk</a> * inet::sctp::SctpAssociation::createAsconfAckChunk </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>serialNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    SctpAsconfAckChunk *asconfAckChunk = <span class="keyword">new</span> SctpAsconfAckChunk();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    asconfAckChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    asconfAckChunk-&gt;setSerialNumber(serialNumber);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    asconfAckChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a84e4cdc3d3cb5afb8e8d7ff23b41870a">SCTP_ADD_IP_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> asconfAckChunk;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>.</p>

</div>
</div>
<a id="ab62ce1f7ed76bb1bf4efecfabfbf3491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab62ce1f7ed76bb1bf4efecfabfbf3491">&#9670;&nbsp;</a></span>createAuthChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_authentication_chunk.html">SctpAuthenticationChunk</a> * inet::sctp::SctpAssociation::createAuthChunk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    SctpAuthenticationChunk *authChunk = <span class="keyword">new</span> SctpAuthenticationChunk();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    authChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    authChunk-&gt;setSharedKey(0);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    authChunk-&gt;setHMacIdentifier(1);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    authChunk-&gt;setHMacOk(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    authChunk-&gt;setHMACArraySize(<a class="code" href="_sctp_association_8h.html#a2d82d70c6d7ee846e74cd7f310ce8e3a">SHA_LENGTH</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">for</span> (int32_t i = 0; i &lt; <a class="code" href="_sctp_association_8h.html#a2d82d70c6d7ee846e74cd7f310ce8e3a">SHA_LENGTH</a>; i++) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        authChunk-&gt;setHMAC(i, 0);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    authChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a56e72a0f9ec877eefe4ba27bae5b01fb">SCTP_AUTH_CHUNK_LENGTH</a> + <a class="code" href="_sctp_association_8h.html#a2d82d70c6d7ee846e74cd7f310ce8e3a">SHA_LENGTH</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> authChunk;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>.</p>

</div>
</div>
<a id="af43f95b0c78e4354d6a8ce48ef61363b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43f95b0c78e4354d6a8ce48ef61363b">&#9670;&nbsp;</a></span>createForwardTsnChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_forward_tsn_chunk.html">SctpForwardTsnChunk</a> * inet::sctp::SctpAssociation::createForwardTsnChunk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;{</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    uint16_t chunkLength = <a class="code" href="_sctp_association_8h.html#a01761d50f4708bd6046f920f4760ce25">SCTP_FORWARD_TSN_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    SctpDataVariables *chunk;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keyword">typedef</span> std::map&lt;uint16_t, int16_t&gt; SidMap;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    SidMap sidMap;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Create forwardTsnChunk for &quot;</span> &lt;&lt; pid &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    SctpForwardTsnChunk *forwChunk = <span class="keyword">new</span> SctpForwardTsnChunk();</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    forwChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afc83b96266e49ce77859ae958ec08898">advancePeerTsn</a>();</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    forwChunk-&gt;setNewCumTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a>);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        chunk = elem.second;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;tsn=&quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; lastDestination=&quot;</span> &lt;&lt; chunk-&gt;getLastDestination() &lt;&lt; <span class="stringliteral">&quot; abandoned=&quot;</span> &lt;&lt; chunk-&gt;hasBeenAbandoned &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordflow">if</span> (chunk-&gt;getLastDestination() == pid &amp;&amp; chunk-&gt;hasBeenAbandoned &amp;&amp; chunk-&gt;tsn &lt;= forwChunk-&gt;getNewCumTsn()) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="keywordflow">if</span> (chunk-&gt;ordered) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                sidMap[chunk-&gt;sid] = chunk-&gt;ssn;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                sidMap[chunk-&gt;sid] = -1;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <span class="comment">/* Fake chunk retransmission */</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordflow">if</span> (chunk-&gt;sendForwardIfAbandoned) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                chunk-&gt;gapReports = 0;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                chunk-&gt;hasBeenFastRetransmitted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                chunk-&gt;sendTime = simTime();</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                chunk-&gt;numberOfRetransmissions++;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                chunk-&gt;sendForwardIfAbandoned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                <span class="keyword">auto</span> itt = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.find(chunk-&gt;tsn);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                <span class="keywordflow">if</span> (itt != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end()) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.erase(itt);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                    chunk-&gt;enqueuedInTransmissionQ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    <span class="keyword">auto</span> i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(pid);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                    i-&gt;second -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                    <span class="keyword">auto</span> ib = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(pid);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                    ib-&gt;second -= chunk-&gt;booksize;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        }</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    forwChunk-&gt;setSidArraySize(sidMap.size());</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    forwChunk-&gt;setSsnArraySize(sidMap.size());</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    int32_t i = 0;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : sidMap) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        forwChunk-&gt;setSid(i, elem.first);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        forwChunk-&gt;setSsn(i, elem.second);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        chunkLength += 4;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        i++;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    forwChunk-&gt;setByteLength(chunkLength);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    iter-&gt;second.numForwardTsn++;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">return</span> forwChunk;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a671d0b2ecf457870bf9e85155c66249f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671d0b2ecf457870bf9e85155c66249f">&#9670;&nbsp;</a></span>createSack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_sack_chunk.html">SctpSackChunk</a> * inet::sctp::SctpAssociation::createSack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;{</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:createSACK localAddress=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;  remoteAddress=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot; localRwnd=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> &lt;&lt; <span class="stringliteral">&quot; queuedBytes=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="comment">// ====== Get receiver window size to be advertised ======================</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    uint32_t arwnd = 0;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    uint32_t msgRwnd = 0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0 &amp;&amp; (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>) &lt;= 0)</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> == 0 &amp;&amp; (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a>) &lt;= 0))</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        msgRwnd = 0;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0 &amp;&amp; (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>) &lt; 3)</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;             || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a> &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a>) || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a804a4dca88ee4c4db458bf5213da8639">swsMsgInvoked</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        msgRwnd = 1;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a804a4dca88ee4c4db458bf5213da8639">swsMsgInvoked</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            msgRwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        }</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            msgRwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc31b50a7ed3b9eabdd54beeff27cf7f">tellArwnd</a>) {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        arwnd = msgRwnd;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="comment">// ====== Receiver buffer is full =====================================</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <span class="keywordflow">if</span> ((int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>) &lt;= 0) {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            arwnd = 0;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a> &gt; 0) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">swsAvoidanceInvoked</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="comment">// ====== Silly window syndrome avoidance =============================</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a>) ||</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                 (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">swsAvoidanceInvoked</a> == <span class="keyword">true</span>))</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            arwnd = 1;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a> &gt; 0)</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">swsAvoidanceInvoked</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;arwnd=1; createSack : SWS Avoidance ACTIVE !!!\n&quot;</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="comment">// ====== There is space in the receiver buffer =======================</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            arwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; arwnd = &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; arwnd &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// ====== Record statistics ==============================================</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afed920dae03831eb537fac4218a4a87f">advMsgRwnd</a>-&gt;record(msgRwnd);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">statisticsQueuedReceivedBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9a01fb2d81e0d9b3fe15ddb1f7164ba2">advRwnd</a>-&gt;record(arwnd);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="comment">// ====== Create SACK chunk ==============================================</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    SctpSackChunk *sackChunk = <span class="keyword">new</span> SctpSackChunk();</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">nrSack</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        sackChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabf000493f824e826ba49e25981668cbb">NR_SACK</a>);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">//        sackChunk-&gt;setName(&quot;NR_SACK&quot;);</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        sackChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    sackChunk-&gt;setCumTsnAck(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>());</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;SACK: set cumTsnAck to &quot;</span> &lt;&lt; sackChunk-&gt;getCumTsnAck() &lt;&lt; endl;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    sackChunk-&gt;setA_rwnd(arwnd);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    sackChunk-&gt;setIsNrSack(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">nrSack</a>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    sackChunk-&gt;setSackSeqNum(++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab412792a78fcfad8c859d66dbb0ae11e">outgoingSackSeqNum</a>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        sackChunk-&gt;setMsg_rwnd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        sackChunk-&gt;setMsg_rwnd(0);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160; </div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="comment">// ====== What has to be stored in the SACK? =============================</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keyword">const</span> uint32_t mtu = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#ac2819b57f4b5d94629a64b440734a546">pmtu</a>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    uint32_t hdrSize;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        hdrSize = 40;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>)</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        hdrSize = 20;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type&quot;</span>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keyword">const</span> uint32_t allowedLength = mtu</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        - hdrSize</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        - <a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        - <a class="code" href="_sctp_association_8h.html#ad4c0ed05112e2eae28cc210916cd3fdd">SCTP_SACK_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    uint32_t numDups = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.size();</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    uint32_t numRevokableGaps = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">getNumGaps</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    uint32_t numNonRevokableGaps = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">getNumGaps</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">SctpGapList::GT_NonRevokable</a>);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordtype">size_t</span> revokableGapsSpace = ~0;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordtype">size_t</span> nonRevokableGapsSpace = ~0;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordtype">size_t</span> sackHeaderLength = ~0;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keyword">const</span> uint32_t totalGaps = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">getNumGaps</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordtype">bool</span> compression = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="comment">// ====== Record statistics ==============================================</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abaab9ea4bc7fd514a1aaed901d69add4">statisticsNumTotalGapBlocksStored</a>-&gt;record(totalGaps);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af92417386541efe77342e7974fa428d2">statisticsNumRevokableGapBlocksStored</a>-&gt;record(numRevokableGaps);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#accf7b18030fea3ce33a811310a802377">statisticsNumNonRevokableGapBlocksStored</a>-&gt;record(numNonRevokableGaps);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5cd1ddd11ffdb397d447cd3bf78f8613">statisticsNumDuplicatesStored</a>-&gt;record(numDups);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="comment">// ====== Optimization ===================================================</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> optR = (int)numRevokableGaps - (<span class="keywordtype">int</span>)totalGaps;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> optNR = (int)numNonRevokableGaps - (<span class="keywordtype">int</span>)totalGaps;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459a57c861b58ae0953bd536e402cda4ef80">SctpStateVariables::GLOV_Shrunken</a>) &amp;&amp;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        ((numRevokableGaps &gt; 0) || (numNonRevokableGaps &gt; 0)))</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        compression = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="comment">// ------ Optimization 1: R=ANY, NR=non-revokable ------</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">nrSack</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        (((optR &gt; 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459acd265f988c8e234d1e5c35027893771c">SctpStateVariables::GLOV_Optimized1</a>)) ||</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;         ((optR &gt; 0) &amp;&amp; (optR &gt;= optNR) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459ae9dd70002689c25274c7469f8988ebb5">SctpStateVariables::GLOV_Optimized2</a>))))</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        assert(totalGaps &lt; numRevokableGaps);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        sackHeaderLength = (compression == <span class="keyword">true</span>) ? <a class="code" href="_sctp_association_8h.html#a51a10fe095262a5aa1e69605953062f2">SCTP_COMPRESSED_NRSACK_CHUNK_LENGTH</a> : <a class="code" href="_sctp_association_8h.html#af91683bf2748f5b5b7fe6cbddfde21d9">SCTP_NRSACK_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, compression, revokableGapsSpace); <span class="comment">// Add ALL</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        numNonRevokableGaps = copyToNRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">SctpGapList::GT_NonRevokable</a>, compression, nonRevokableGapsSpace); <span class="comment">// Add NR-acks only</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        assert(numRevokableGaps == totalGaps);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="comment">//        opt += optR;</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">// ------ Optimization 2: NR=ANY, R=difference ---------</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">nrSack</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;             (optNR &gt; 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459ae9dd70002689c25274c7469f8988ebb5">SctpStateVariables::GLOV_Optimized2</a>))</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        assert(totalGaps &lt; numNonRevokableGaps);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        sackChunk-&gt;setNrSubtractRGaps(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        sackHeaderLength = (compression == <span class="keyword">true</span>) ? <a class="code" href="_sctp_association_8h.html#a51a10fe095262a5aa1e69605953062f2">SCTP_COMPRESSED_NRSACK_CHUNK_LENGTH</a> : <a class="code" href="_sctp_association_8h.html#af91683bf2748f5b5b7fe6cbddfde21d9">SCTP_NRSACK_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>, compression, revokableGapsSpace); <span class="comment">// Add R-acks only</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        numNonRevokableGaps = copyToNRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, compression, nonRevokableGapsSpace); <span class="comment">// Add ALL</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        assert(numNonRevokableGaps == totalGaps);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment">//        opt += optNR;</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    }</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="comment">// ------ Regular NR-SACK ---------------------------</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">nrSack</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            sackHeaderLength = <a class="code" href="_sctp_association_8h.html#af91683bf2748f5b5b7fe6cbddfde21d9">SCTP_NRSACK_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            <span class="keywordflow">if</span> (compression == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                sackHeaderLength = <a class="code" href="_sctp_association_8h.html#a51a10fe095262a5aa1e69605953062f2">SCTP_COMPRESSED_NRSACK_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>, compression, revokableGapsSpace); <span class="comment">// Add R-acks only</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            numNonRevokableGaps = copyToNRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">SctpGapList::GT_NonRevokable</a>, compression, nonRevokableGapsSpace); <span class="comment">// Add NR-acks only</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="comment">// ------ Regular SACK ------------------------------</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            sackHeaderLength = <a class="code" href="_sctp_association_8h.html#ad4c0ed05112e2eae28cc210916cd3fdd">SCTP_SACK_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, <span class="keyword">false</span>, revokableGapsSpace); <span class="comment">// Add ALL</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            numNonRevokableGaps = 0;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            nonRevokableGapsSpace = 0;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="comment">// ====== SACK has to be shortened to fit in MTU ===========================</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    uint32_t sackLength = sackHeaderLength + revokableGapsSpace + nonRevokableGapsSpace + numDups * 4;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <span class="keywordflow">if</span> (sackLength &gt; allowedLength) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="comment">// Strategy to reduce the SACK size:</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">// - Report no duplicates (they are not used for congestion control)</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="comment">// - Split the remaining space equally between</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <span class="comment">//   revokable and non-revokable GapAcks</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="comment">// ====== Drop duplicates list ========================================</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        numDups = 0;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        sackLength -= 4 * numDups;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="keywordflow">if</span> (sackLength &gt; allowedLength) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="comment">// Unfortunately, dropping the duplicates has not solved the problem.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            <span class="comment">//    =&gt; Now, the gap lists have to be shortened!</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            iter-&gt;second.numOverfullSACKs++;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            <span class="comment">// ====== Undo NR optimization ====================================</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            <span class="keywordflow">if</span> (sackChunk-&gt;getNrSubtractRGaps() == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                sackChunk-&gt;setNrSubtractRGaps(<span class="keyword">false</span>); <span class="comment">// Unset SubtractRGaps!</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                <span class="comment">// This optimization cannot work when lists have to be shortened.</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                <span class="comment">// Just use regular NR list.</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            revokableGapsSpace = allowedLength - sackHeaderLength;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            <span class="keywordflow">if</span> (totalGaps &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">getNumGaps</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>))) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, compression, revokableGapsSpace); <span class="comment">// Add ALL</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>, compression, revokableGapsSpace); <span class="comment">// Add R-acks only</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            sackLength = sackHeaderLength + revokableGapsSpace + nonRevokableGapsSpace + numDups * 4;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="comment">// ====== Shorten gap lists ========================================</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa54a8d4c5dfa691153e9d497d3a3d4a4">smartOverfullSACKHandling</a>) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                <span class="keywordflow">if</span> (sackHeaderLength + revokableGapsSpace &lt; allowedLength) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                    <span class="comment">// Fill NR-acks up to allowed size</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                    nonRevokableGapsSpace = allowedLength - sackHeaderLength - revokableGapsSpace;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                    numNonRevokableGaps = copyToNRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">SctpGapList::GT_NonRevokable</a>, compression, nonRevokableGapsSpace); <span class="comment">// Add NR-acks only</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                    sackLength = sackHeaderLength + revokableGapsSpace + nonRevokableGapsSpace + numDups * 4;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    <span class="comment">// Not even space to set R-acks =&gt; cut R-acks, no NR-acks!</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    nonRevokableGapsSpace = allowedLength - sackHeaderLength;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, compression, revokableGapsSpace); <span class="comment">// Add ALL</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                }</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                <span class="keywordflow">if</span> (sackLength &gt; allowedLength) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                    <span class="keywordtype">double</span> revokableFraction = 1.0;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                    <span class="keyword">const</span> uint32_t blocksBeRemoved = (sackLength - allowedLength) / 4;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                    <span class="keywordflow">if</span> (numRevokableGaps + numNonRevokableGaps &gt; 0) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                        revokableFraction = numRevokableGaps / (double)(numRevokableGaps + numNonRevokableGaps);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                    }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                    <span class="keyword">const</span> uint32_t removeRevokable = (uint32_t)ceil(blocksBeRemoved * revokableFraction);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                    <span class="keyword">const</span> uint32_t removeNonRevokable = (uint32_t)ceil(blocksBeRemoved * (1.0 - revokableFraction));</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                    numRevokableGaps -= <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">std::min</a>(removeRevokable, numRevokableGaps);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                    numNonRevokableGaps -= <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">std::min</a>(removeNonRevokable, numNonRevokableGaps);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                    revokableGapsSpace = 4 * numRevokableGaps;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                    nonRevokableGapsSpace = 4 * numNonRevokableGaps;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                    numRevokableGaps = copyToRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>, compression, revokableGapsSpace); <span class="comment">// Add R-acks only</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                    numNonRevokableGaps = copyToNRGaps(sackChunk, &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">SctpGapList::GT_NonRevokable</a>, compression, nonRevokableGapsSpace); <span class="comment">// Add NR-acks only</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                    sackLength = sackHeaderLength + revokableGapsSpace + nonRevokableGapsSpace + numDups * 4;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; </div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            assert(sackLength &lt;= allowedLength);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            <span class="comment">// Update values in SACK chunk ...</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            sackChunk-&gt;setNumGaps(numRevokableGaps);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            sackChunk-&gt;setNumNrGaps(numNonRevokableGaps);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    }</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    sackChunk-&gt;setNumDupTsns(numDups);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    sackChunk-&gt;setByteLength(sackLength);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="comment">// ====== Apply limit ====================================================</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9ffb16100e369db5ec33892778050345">gapReportLimit</a> &lt; 1000000) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">if</span> (!compression) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            numRevokableGaps = <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">std::min</a>(numRevokableGaps, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9ffb16100e369db5ec33892778050345">gapReportLimit</a>);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            numNonRevokableGaps = <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">std::min</a>(numNonRevokableGaps, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9ffb16100e369db5ec33892778050345">gapReportLimit</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="comment">// Update values in SACK chunk ...</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            sackChunk-&gt;setNumGaps(numRevokableGaps);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            sackChunk-&gt;setNumNrGaps(numNonRevokableGaps);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            sackLength = sackHeaderLength + revokableGapsSpace + nonRevokableGapsSpace + numDups * 4;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            assert(<span class="keyword">false</span>); <span class="comment">// NOTE: IMPLEMENT ME!</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    }</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="comment">// ====== Add duplicates =================================================</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span> (numDups &gt; 0) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        sackChunk-&gt;setDupTsnsArraySize(numDups);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        uint32_t key = 0;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            sackChunk-&gt;setDupTsns(key, elem);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            key++;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keywordflow">if</span> (key == numDups)</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.clear();</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="comment">// ====== Record statistics ==============================================</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a021066b7c0a3a50cdaa7e19ce34093b6">statisticsSACKLengthSent</a>-&gt;record(sackLength);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7e8ab327969652d630f47fd37212666d">statisticsNumRevokableGapBlocksSent</a>-&gt;record(numRevokableGaps);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a08b3ce97e68554e774bee48dd48518">statisticsNumNonRevokableGapBlocksSent</a>-&gt;record(numNonRevokableGaps);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4583a4c7e14e661158573ddab926bd90">statisticsNumDuplicatesSent</a>-&gt;record(numDups);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">// ====== Print information ==============================================</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;createSack:&quot;</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; bufferedMessages=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; msgRwnd=&quot;</span> &lt;&lt; msgRwnd</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; arwnd=&quot;</span> &lt;&lt; sackChunk-&gt;getA_rwnd()</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; cumAck=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>()</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; numRGaps=&quot;</span> &lt;&lt; numRevokableGaps</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; numNRGaps=&quot;</span> &lt;&lt; numNonRevokableGaps</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; numDups=&quot;</span> &lt;&lt; numDups</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; gapList={&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a> &lt;&lt; <span class="stringliteral">&quot;}&quot;</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;             &lt;&lt; endl;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">return</span> sackChunk;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="aab11f706525a1dbf7ceb17b1869ddeeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab11f706525a1dbf7ceb17b1869ddeeb">&#9670;&nbsp;</a></span>createSuccessIndication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_success_indication.html">SctpSuccessIndication</a> * inet::sctp::SctpAssociation::createSuccessIndication </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>correlationId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    SctpSuccessIndication *success = <span class="keyword">new</span> SctpSuccessIndication();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    success-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa9f826ff3ec07403856a679034f6fda3">SUCCESS_INDICATION</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    success-&gt;setResponseCorrelationId(correlationId);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    success-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>.</p>

</div>
</div>
<a id="a4f51ecb152ced3414123f380ff78f8f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f51ecb152ced3414123f380ff78f8f2">&#9670;&nbsp;</a></span>cucProcessGapReports()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cucProcessGapReports </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>isAcked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;{</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">// We only care for newly acked chunks.</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="comment">// Therefore, the previous state must be &quot;unacked&quot;.</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="comment">// For CUCv2, it has to be checked whether it is the first transmission.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="comment">// Otherwise, the behaviour will be like CUCv1 -&gt; decreasing PseudoCumAck on T3 RTX!</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="keywordflow">if</span> ((path-&gt;findPseudoCumAck == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            ((chunk-&gt;numberOfRetransmissions == 0) ||</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07aad0b1eedd882ee330560e88df6849798">SctpStateVariables::CUCV_PseudoCumAck</a>)))</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            path-&gt;pseudoCumAck = chunk-&gt;tsn;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            path-&gt;findPseudoCumAck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> ((isAcked) &amp;&amp; <span class="comment">/* Not acked before and acked now =&gt; ack for the first time */</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            (path-&gt;pseudoCumAck == chunk-&gt;tsn))</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            path-&gt;newPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            path-&gt;findPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="comment">// CUCv2</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> ((path-&gt;findRTXPseudoCumAck == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            (chunk-&gt;numberOfRetransmissions &gt; 0))</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            path-&gt;rtxPseudoCumAck = chunk-&gt;tsn;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            path-&gt;findRTXPseudoCumAck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">if</span> ((isAcked) &amp;&amp; <span class="comment">/* Not acked before and acked now =&gt; ack for the first time */</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            (path-&gt;rtxPseudoCumAck == chunk-&gt;tsn))</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            path-&gt;newRTXPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            path-&gt;findRTXPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="ab0527d219fcbe96f8d128726bdf95502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0527d219fcbe96f8d128726bdf95502">&#9670;&nbsp;</a></span>cwndUpdateAfterCwndTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cwndUpdateAfterCwndTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;{</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// When the association does not transmit data on a given transport address</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">// within an RTO, the cwnd of the transport address SHOULD be adjusted to 2*MTU.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterCwndTimeout]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; (cmtCCGroup=&quot;</span> &lt;&lt; path-&gt;cmtCCGroup &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    path-&gt;cwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad70260a9f264a733f0c9ec4539f2e2bd">getInitialCwnd</a>(path);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;\t=&gt;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a47737a6ee0a6aaf9eb2239d25aa95de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47737a6ee0a6aaf9eb2239d25aa95de7">&#9670;&nbsp;</a></span>cwndUpdateAfterRtxTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cwndUpdateAfterRtxTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordtype">double</span> decreaseFactor = 0.5;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    path-&gt;oliaSentBytes = 0;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    EV &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterRtxTimeout]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;       &lt;&lt; <span class="stringliteral">&quot; (cmtCCGroup=&quot;</span> &lt;&lt; path-&gt;cmtCCGroup &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tSST=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalSsthresh</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tCWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwnd</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;\tBW.CWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwndBandwidth;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aba698b93dfd336e1911e8a478fa9ebb0">highSpeedCC</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        decreaseFactor = HighSpeedCwndAdjustmentTable[path-&gt;highSpeedCCThresholdIdx].<a class="code" href="structinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry.html#a3d08dd7a6ad280ea8be666902bafd7e5">decreaseFactor</a>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;\tHighSpeedDecreaseFactor=&quot;</span> &lt;&lt; decreaseFactor;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">// ====== SCTP or CMT-SCTP (independent congestion control) ==============</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">false</span>) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">SctpStateVariables::CCCV_CMT</a>)) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;cwnd - (int32_t)rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd),</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                4 * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        path-&gt;cwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">// ====== Resource Pooling RTX Timeout ===================================</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="comment">// ====== CMT/RPv1-SCTP RTX Timeout ===================================</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa">SctpStateVariables::CCCV_CMTRPv1</a>) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> sstRatio = (double)path-&gt;ssthresh / (<span class="keywordtype">double</span>)path-&gt;cmtGroupTotalSsthresh;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keyword">const</span> int32_t decreasedWindow = (int32_t)path-&gt;cwnd - (int32_t)rint(path-&gt;cmtGroupTotalCwnd * decreaseFactor);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(decreasedWindow,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;pmtu,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                            (int32_t)ceil((<span class="keywordtype">double</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (<span class="keywordtype">double</span>)path-&gt;pmtu * sstRatio)));</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            path-&gt;cwnd = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;pmtu,</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    (int32_t)ceil((<span class="keywordtype">double</span>)path-&gt;pmtu * sstRatio));</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="comment">// ====== CMT/RPv2-SCTP RTX Timeout ===================================</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20">SctpStateVariables::CCCV_CMTRPv2</a>) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> pathBandwidth = path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> bandwidthToGive = path-&gt;cmtGroupTotalCwndBandwidth / 2.0;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> reductionFactor = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(0.5, bandwidthToGive / pathBandwidth);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            path-&gt;ssthresh = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    (int32_t)ceil(path-&gt;cwnd - reductionFactor * path-&gt;cwnd));</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            path-&gt;cwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="comment">// ====== Like MPTCP RTX Timeout ======================================</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d">SctpStateVariables::CCCV_CMT_LIA</a>) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;cwnd - (int32_t)rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd),</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            path-&gt;cwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01">SctpStateVariables::CCCV_CMT_OLIA</a>) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="comment">// like draft</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;cwnd - (int32_t)rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd),</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    4 * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            path-&gt;cwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="comment">// ====== TEST RTX Timeout ============================================</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349">SctpStateVariables::CCCV_CMTRP_Test1</a>) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> pathBandwidth = path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> bandwidthToGive = path-&gt;cmtGroupTotalCwndBandwidth / 2.0;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">double</span> reductionFactor = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(0.5, bandwidthToGive / pathBandwidth);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            path-&gt;ssthresh = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu,</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    (int32_t)ceil(path-&gt;cwnd - reductionFactor * path-&gt;cwnd));</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            path-&gt;cwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="comment">// ====== Like MPTCP RTX Timeout ======================================</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec">SctpStateVariables::CCCV_CMTRP_Test2</a>) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;cwnd - (int32_t)rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd),</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                    (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            path-&gt;cwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="comment">// ====== Other -&gt; error ==============================================</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Implementation for this cmtCCVariant is missing!&quot;</span>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    path-&gt;highSpeedCCThresholdIdx = 0;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    path-&gt;partialBytesAcked = 0;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    path-&gt;vectorPathPbAcked-&gt;record(path-&gt;partialBytesAcked);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;\t=&gt;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">// Leave Fast Recovery mode</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (path-&gt;fastRecoveryActive == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        path-&gt;fastRecoveryActive = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        path-&gt;fastRecoveryExitPoint = 0;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        path-&gt;vectorPathFastRecoveryState-&gt;record(0);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="ae44c9b5aec6af8d342ff43ec266778e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44c9b5aec6af8d342ff43ec266778e1">&#9670;&nbsp;</a></span>cwndUpdateAfterSack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cwndUpdateAfterSack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin(); iter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end(); iter++) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = iter-&gt;second;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">if</span> (path-&gt;fastRecoveryActive == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="comment">// ====== Retransmission required -&gt; reduce congestion window ======</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">if</span> (path-&gt;requiresRtx) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordtype">double</span> decreaseFactor = 0.5;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                EV &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterSack]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; (cmtCCGroup=&quot;</span> &lt;&lt; path-&gt;cmtCCGroup &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tSST=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalSsthresh</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tCWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwnd</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tBW.CWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwndBandwidth;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aba698b93dfd336e1911e8a478fa9ebb0">highSpeedCC</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    decreaseFactor = HighSpeedCwndAdjustmentTable[path-&gt;highSpeedCCThresholdIdx].<a class="code" href="structinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry.html#a3d08dd7a6ad280ea8be666902bafd7e5">decreaseFactor</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    EV &lt;&lt; <span class="stringliteral">&quot;\tHighSpeedDecreaseFactor=&quot;</span> &lt;&lt; decreaseFactor;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="comment">// ====== SCTP or CMT-SCTP (independent congestion control) =====</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">false</span>) ||</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">SctpStateVariables::CCCV_CMT</a>))</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterSack]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;cwnd - (int32_t)rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd),</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                            4 * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="comment">// ====== Resource Pooling ======================================</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    <span class="comment">// ====== CMT/RP-SCTPv1 Fast Retransmit ======================</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa">SctpStateVariables::CCCV_CMTRPv1</a>) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> sstRatio = (double)path-&gt;ssthresh / (<span class="keywordtype">double</span>)path-&gt;cmtGroupTotalSsthresh;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        <span class="keyword">const</span> int32_t reducedCwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl</a>(path, rint(path-&gt;cmtGroupTotalCwnd * decreaseFactor));</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(reducedCwnd,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;pmtu,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                        (int32_t)ceil((<span class="keywordtype">double</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (<span class="keywordtype">double</span>)path-&gt;pmtu * sstRatio)));</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                        path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    <span class="comment">// ====== CMT/RPv2-SCTP Fast Retransmit ======================</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20">SctpStateVariables::CCCV_CMTRPv2</a>) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <span class="comment">// Bandwidth is based on cwnd, *not* ssthresh!</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> pathBandwidth = path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> bandwidthToGive = path-&gt;cmtGroupTotalCwndBandwidth / 2.0;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> reductionFactor = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(0.5, bandwidthToGive / pathBandwidth);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        <span class="keyword">const</span> int32_t reducedCwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl</a>(path, reductionFactor * path-&gt;cwnd);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        path-&gt;ssthresh = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(reducedCwnd, (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                        path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    <span class="comment">// ====== Like MPTCP Fast Retransmit =========================</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d">SctpStateVariables::CCCV_CMT_LIA</a>) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                        <span class="comment">// Just like plain CMT-SCTP ...</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                        <span class="keyword">const</span> int32_t reducedCwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl</a>(path, rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd));</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(reducedCwnd, (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01">SctpStateVariables::CCCV_CMT_OLIA</a>) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                        <span class="comment">// like draft</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>((int32_t)path-&gt;cwnd - (int32_t)rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd),</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                4 * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <span class="comment">// ====== TEST Fast Retransmit ===============================</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349">SctpStateVariables::CCCV_CMTRP_Test1</a>) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                        <span class="comment">// Bandwidth is based on cwnd, *not* ssthresh!</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> pathBandwidth = path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> bandwidthToGive = path-&gt;cmtGroupTotalCwndBandwidth / 2.0;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> reductionFactor = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(0.5, bandwidthToGive / pathBandwidth);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        <span class="keyword">const</span> int32_t reducedCwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl</a>(path, reductionFactor * path-&gt;cwnd);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                        path-&gt;ssthresh = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(reducedCwnd, (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                    <span class="comment">// ====== TEST Fast Retransmit ===============================</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec">SctpStateVariables::CCCV_CMTRP_Test2</a>) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        <span class="comment">// Just like CMT-SCTP ...</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                        <span class="keyword">const</span> int32_t reducedCwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl</a>(path, rint(decreaseFactor * (<span class="keywordtype">double</span>)path-&gt;cwnd));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                        path-&gt;ssthresh = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(reducedCwnd, (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> * (int32_t)path-&gt;pmtu);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                        path-&gt;cwnd = path-&gt;ssthresh;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                    <span class="comment">// ====== Other -&gt; error =====================================</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Implementation for this cmtCCVariant is missing!&quot;</span>);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;\t=&gt;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                path-&gt;partialBytesAcked = 0;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                path-&gt;vectorPathPbAcked-&gt;record(path-&gt;partialBytesAcked);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aba698b93dfd336e1911e8a478fa9ebb0">highSpeedCC</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0b8ea419a00850aa746035070522a1e5">updateHighSpeedCCThresholdIdx</a>(path);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="comment">// ====== Fast Recovery ========================================</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4ef1420f7192d31efb748b761642e943">fastRecoverySupported</a>) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                    uint32_t highestAckOnPath = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    uint32_t highestOutstanding = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                    <span class="keywordflow">for</span> (SctpQueue::PayloadQueue::const_iterator chunkIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                         chunkIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end(); chunkIterator++)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                        <span class="keyword">const</span> SctpDataVariables *chunk = chunkIterator-&gt;second;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                        <span class="keywordflow">if</span> (chunk-&gt;getLastDestinationPath() == path) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk)) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(chunk-&gt;tsn, highestAckOnPath)) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                    highestAckOnPath = chunk-&gt;tsn;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                            }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(chunk-&gt;tsn, highestOutstanding)) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                    highestOutstanding = chunk-&gt;tsn;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                                }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                            }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    path-&gt;oliaSentBytes = 0;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <span class="comment">/* this can ONLY become TRUE, when Fast Recovery IS supported */</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                    path-&gt;fastRecoveryActive = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    path-&gt;fastRecoveryExitPoint = highestOutstanding;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    path-&gt;fastRecoveryEnteringTime = simTime();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    path-&gt;vectorPathFastRecoveryState-&gt;record(path-&gt;cwnd);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterSack] Entering Fast Recovery on path &quot;</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                            &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;, exit point is &quot;</span> &lt;&lt; path-&gt;fastRecoveryExitPoint</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;, pseudoCumAck=&quot;</span> &lt;&lt; path-&gt;pseudoCumAck</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;, rtxPseudoCumAck=&quot;</span> &lt;&lt; path-&gt;rtxPseudoCumAck &lt;&lt; endl;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">if</span> (path-&gt;fastRecoveryActive) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterSack] Still in Fast Recovery on path &quot;</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                            &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;, exit point is &quot;</span> &lt;&lt; path-&gt;fastRecoveryExitPoint &lt;&lt; endl;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="aef2d425c447204175284c4837e803f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2d425c447204175284c4837e803f73">&#9670;&nbsp;</a></span>cwndUpdateBeforeSack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cwndUpdateBeforeSack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// First, calculate per-path values.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *otherPath = elem.second;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        otherPath-&gt;utilizedCwnd = otherPath-&gt;outstandingBytesBeforeUpdate;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// Calculate per-path-group values.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> currentPathIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;         currentPathIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end(); currentPathIterator++)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *currentPath = currentPathIterator-&gt;second;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        currentPath-&gt;cmtGroupPaths = 0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        currentPath-&gt;cmtGroupTotalCwnd = 0;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        currentPath-&gt;cmtGroupTotalSsthresh = 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        currentPath-&gt;cmtGroupTotalUtilizedCwnd = 0;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        currentPath-&gt;cmtGroupTotalCwndBandwidth = 0.0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        currentPath-&gt;cmtGroupTotalUtilizedCwndBandwidth = 0.0;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordtype">double</span> qNumerator = 0.0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordtype">double</span> qDenominator = 0.0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">for</span> (SctpPathMap::const_iterator otherPathIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;             otherPathIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end(); otherPathIterator++)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *otherPath = otherPathIterator-&gt;second;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> (otherPath-&gt;cmtCCGroup == currentPath-&gt;cmtCCGroup) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                currentPath-&gt;cmtGroupPaths++;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                currentPath-&gt;cmtGroupTotalCwnd += otherPath-&gt;cwnd;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                currentPath-&gt;cmtGroupTotalSsthresh += otherPath-&gt;ssthresh;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                currentPath-&gt;cmtGroupTotalCwndBandwidth += otherPath-&gt;cwnd / GET_SRTT(otherPath-&gt;srtt.dbl());</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span> ((otherPath-&gt;blockingTimeout &lt; 0.0) || (otherPath-&gt;blockingTimeout &lt; simTime())) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    currentPath-&gt;cmtGroupTotalUtilizedCwnd += otherPath-&gt;utilizedCwnd;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    currentPath-&gt;cmtGroupTotalUtilizedCwndBandwidth += otherPath-&gt;utilizedCwnd / GET_SRTT(otherPath-&gt;srtt.dbl());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                qNumerator = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(qNumerator, otherPath-&gt;cwnd / (pow(GET_SRTT(otherPath-&gt;srtt.dbl()), 2.0)));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                qDenominator = qDenominator + (otherPath-&gt;cwnd / GET_SRTT(otherPath-&gt;srtt.dbl()));</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        currentPath-&gt;cmtGroupAlpha = currentPath-&gt;cmtGroupTotalCwnd * (qNumerator / pow(qDenominator, 2.0));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="af9553ef6fb59111b5fcf4e3808834692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9553ef6fb59111b5fcf4e3808834692">&#9670;&nbsp;</a></span>cwndUpdateBytesAcked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cwndUpdateBytesAcked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ackedBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ctsnaAdvanced</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;====&gt; cwndUpdateBytesAcked:&quot;</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; path=&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; ackedBytes=&quot;</span> &lt;&lt; ackedBytes</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; ctsnaAdvanced=&quot;</span> &lt;&lt; ((ctsnaAdvanced == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; ssthresh=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; ackedBytes=&quot;</span> &lt;&lt; ackedBytes</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; pathOsbBeforeUpdate=&quot;</span> &lt;&lt; path-&gt;outstandingBytesBeforeUpdate</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; pathOsb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            &lt;&lt; endl;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (path-&gt;fastRecoveryActive == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="comment">// T.D. 21.11.09: Increasing cwnd is only allowed when not being in</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="comment">//                Fast Recovery mode!</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="comment">// ====== Slow Start ==================================================</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> (path-&gt;cwnd &lt;= path-&gt;ssthresh) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="comment">// ------ Clear PartialBytesAcked counter --------------------------</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            path-&gt;partialBytesAcked = 0;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="comment">// ------ Increase Congestion Window -------------------------------</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">if</span> ((ctsnaAdvanced == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                ((path-&gt;outstandingBytesBeforeUpdate &gt;= path-&gt;cwnd) ||</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                 ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a>) &amp;&amp; (path-&gt;outstandingBytesBeforeUpdate + path-&gt;pmtu &gt; path-&gt;cwnd))))</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateBytesAcked-SlowStart]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; (cmtCCGroup=&quot;</span> &lt;&lt; path-&gt;cmtCCGroup &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\tacked=&quot;</span> &lt;&lt; ackedBytes</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\tSST=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalSsthresh</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\tCWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwnd</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\tBW.CWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwndBandwidth;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="comment">// ====== SCTP or CMT-SCTP (independent congestion control) =====</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">false</span>) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">SctpStateVariables::CCCV_CMT</a>)) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    path-&gt;cwnd += (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pmtu, ackedBytes);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="comment">// ====== Resource Pooling Slow Start ===========================</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    <span class="comment">// ====== CMT/RPv1-SCTP Slow Start ===========================</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa">SctpStateVariables::CCCV_CMTRPv1</a>) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> sstRatio = (double)path-&gt;ssthresh / (<span class="keywordtype">double</span>)path-&gt;cmtGroupTotalSsthresh;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                        path-&gt;cwnd += (int32_t)ceil(<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pmtu, ackedBytes) * sstRatio);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    <span class="comment">// ====== CMT/RPv2-SCTP Slow Start ===========================</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20">SctpStateVariables::CCCV_CMTRPv2</a>) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                        <span class="comment">// Increase ratio based on cwnd bandwidth share!</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> increaseRatio = ((double)path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl()))</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                            / (double)path-&gt;cmtGroupTotalCwndBandwidth;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        path-&gt;cwnd += (int32_t)ceil(<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pmtu, ackedBytes) * increaseRatio);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <span class="comment">// ====== Like MPTCP Slow Start ==============================</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d">SctpStateVariables::CCCV_CMT_LIA</a>) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                        <span class="comment">// T.D. 14.08.2011: Rewrote MPTCP-Like CC code</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                        path-&gt;cwnd = updateMPTCP(path-&gt;cwnd, path-&gt;cmtGroupTotalCwnd,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                path-&gt;cmtGroupAlpha, path-&gt;pmtu, ackedBytes);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01">SctpStateVariables::CCCV_CMT_OLIA</a>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        <span class="comment">// OLIA see draft</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        path-&gt;cwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA</a>(path-&gt;cwnd, path-&gt;ssthresh,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                                path-&gt;cmtGroupTotalCwnd, path-&gt;cmtGroupAlpha,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                path-&gt;pmtu, ackedBytes, path);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    <span class="comment">// ====== TEST Slow Start ====================================</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349">SctpStateVariables::CCCV_CMTRP_Test1</a>) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                        <span class="comment">// Increase ratio based on cwnd bandwidth share!</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> increaseRatio = ((double)path-&gt;utilizedCwnd / GET_SRTT(path-&gt;srtt.dbl()))</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                            / (double)path-&gt;cmtGroupTotalUtilizedCwndBandwidth;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        path-&gt;cwnd += (int32_t)ceil(<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pmtu, ackedBytes) * increaseRatio);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    <span class="comment">// ====== Like MPTCP Slow Start ==============================</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec">SctpStateVariables::CCCV_CMTRP_Test2</a>) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        path-&gt;cwnd = updateMPTCP(path-&gt;cwnd, path-&gt;cmtGroupTotalCwnd,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                                path-&gt;cmtGroupAlpha, path-&gt;pmtu, ackedBytes);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="comment">// ====== Other -&gt; error =====================================</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Implementation for this cmtCCVariant is missing!&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                path-&gt;vectorPathPbAcked-&gt;record(path-&gt;partialBytesAcked);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                EV &lt;&lt; <span class="stringliteral">&quot;\t=&gt;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="comment">// ------ No need to increase Congestion Window --------------------</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC &quot;</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;Not increasing cwnd of path &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; in slow start:\t&quot;</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;ctsnaAdvanced=&quot;</span> &lt;&lt; ((ctsnaAdvanced == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;ssthresh=&quot;</span> &lt;&lt; path-&gt;ssthresh &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;ackedBytes=&quot;</span> &lt;&lt; ackedBytes &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;pathOsbBeforeUpdate=&quot;</span> &lt;&lt; path-&gt;outstandingBytesBeforeUpdate &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;pathOsb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;(pathOsbBeforeUpdate &gt;= path-&gt;cwnd)=&quot;</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                        &lt;&lt; (path-&gt;outstandingBytesBeforeUpdate &gt;= path-&gt;cwnd) &lt;&lt; endl;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="comment">// ====== Congestion Avoidance ========================================</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="comment">// ------ Increase PartialBytesAcked counter -----------------------</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            path-&gt;partialBytesAcked += ackedBytes;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="comment">// ------ Increase Congestion Window -------------------------------</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordtype">double</span> increaseFactor = 1.0;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aba698b93dfd336e1911e8a478fa9ebb0">highSpeedCC</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0b8ea419a00850aa746035070522a1e5">updateHighSpeedCCThresholdIdx</a>(path);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                increaseFactor = HighSpeedCwndAdjustmentTable[path-&gt;highSpeedCCThresholdIdx].<a class="code" href="structinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry.html#a8c4222189fec0791551a4a790bfb222b">increaseFactor</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                EV &lt;&lt; <span class="stringliteral">&quot;HighSpeedCC Increase: factor=&quot;</span> &lt;&lt; increaseFactor &lt;&lt; endl;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> avancedAndEnoughOutstanding =</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                (ctsnaAdvanced == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                ((path-&gt;outstandingBytesBeforeUpdate &gt;= path-&gt;cwnd) ||</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                 ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a>) &amp;&amp;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                  (path-&gt;outstandingBytesBeforeUpdate + path-&gt;pmtu &gt; path-&gt;cwnd)));</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> enoughPartiallyAcked =</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                (path-&gt;partialBytesAcked &gt;= path-&gt;cwnd) ||</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a>) &amp;&amp;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                 (path-&gt;partialBytesAcked &gt;= path-&gt;pmtu) &amp;&amp;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                 (path-&gt;partialBytesAcked + path-&gt;pmtu &gt; path-&gt;cwnd));</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keywordflow">if</span> (avancedAndEnoughOutstanding &amp;&amp; enoughPartiallyAcked) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                EV &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateBytesAcked-CgAvoidance]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; (cmtCCGroup=&quot;</span> &lt;&lt; path-&gt;cmtCCGroup &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tacked=&quot;</span> &lt;&lt; ackedBytes</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tSST=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalSsthresh</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tCWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwnd</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tBW.CWND=&quot;</span> &lt;&lt; path-&gt;cmtGroupTotalCwndBandwidth;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="comment">// ====== SCTP or CMT-SCTP (independent congestion control) =====</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">false</span>) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">SctpStateVariables::CCCV_CMT</a>)) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    path-&gt;cwnd += (int32_t)rint(increaseFactor * path-&gt;pmtu);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                <span class="comment">// ====== Resource Pooling Congestion Avoidance =================</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                    <span class="comment">// ====== CMT/RP-SCTP Congestion Avoidance ===================</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa">SctpStateVariables::CCCV_CMTRPv1</a>) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> sstRatio = (double)path-&gt;ssthresh / (<span class="keywordtype">double</span>)path-&gt;cmtGroupTotalSsthresh;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                        path-&gt;cwnd += (int32_t)ceil(increaseFactor * path-&gt;pmtu * sstRatio);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    <span class="comment">// ====== CMT/RPv2-SCTP Congestion Avoidance =================</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20">SctpStateVariables::CCCV_CMTRPv2</a>) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                        <span class="comment">// Increase ratio based on cwnd bandwidth share!</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> increaseRatio = ((double)path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl()))</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                            / (double)path-&gt;cmtGroupTotalCwndBandwidth;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                        path-&gt;cwnd += (int32_t)ceil(increaseFactor * path-&gt;pmtu * increaseRatio);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    <span class="comment">// ====== Like MPTCP Congestion Avoidance ====================</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d">SctpStateVariables::CCCV_CMT_LIA</a>) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                        <span class="comment">// T.D. 14.08.2011: Rewrote MPTCP-Like CC code</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                        path-&gt;cwnd = updateMPTCP(path-&gt;cwnd, path-&gt;cmtGroupTotalCwnd,</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                path-&gt;cmtGroupAlpha, path-&gt;pmtu, path-&gt;pmtu);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01">SctpStateVariables::CCCV_CMT_OLIA</a>) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        <span class="comment">// like draft</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        path-&gt;cwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA</a>(path-&gt;cwnd, path-&gt;ssthresh,</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                path-&gt;cmtGroupTotalCwnd, path-&gt;cmtGroupAlpha,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                                path-&gt;pmtu, path-&gt;pmtu, path);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    <span class="comment">// ====== TEST Congestion Avoidance ==========================</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349">SctpStateVariables::CCCV_CMTRP_Test1</a>) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        <span class="comment">// Increase ratio based on cwnd bandwidth share!</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">double</span> increaseRatio = ((double)path-&gt;utilizedCwnd / GET_SRTT(path-&gt;srtt.dbl()))</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                            / (double)path-&gt;cmtGroupTotalUtilizedCwndBandwidth;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                        path-&gt;cwnd += (int32_t)ceil(increaseFactor * path-&gt;pmtu * increaseRatio);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    <span class="comment">// ====== TEST Congestion Avoidance ==========================</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec">SctpStateVariables::CCCV_CMTRP_Test2</a>) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        path-&gt;cwnd = updateMPTCP(path-&gt;cwnd, path-&gt;cmtGroupTotalCwnd,</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                                path-&gt;cmtGroupAlpha, path-&gt;pmtu, path-&gt;pmtu);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <span class="comment">// ====== Other -&gt; error =====================================</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Implementation for this cmtCCVariant is missing!&quot;</span>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                EV &lt;&lt; <span class="stringliteral">&quot;\t=&gt;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                path-&gt;partialBytesAcked =</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    ((path-&gt;cwnd &lt; path-&gt;partialBytesAcked) ?</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                     (path-&gt;partialBytesAcked - path-&gt;cwnd) : 0);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <span class="comment">// ------ No need to increase Congestion Window -------------------</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC &quot;</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;Not increasing cwnd of path &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; in congestion avoidance: &quot;</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;ctsnaAdvanced=&quot;</span> &lt;&lt; ((ctsnaAdvanced == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;ssthresh=&quot;</span> &lt;&lt; path-&gt;ssthresh &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;ackedBytes=&quot;</span> &lt;&lt; ackedBytes &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;pathOsbBeforeUpdate=&quot;</span> &lt;&lt; path-&gt;outstandingBytesBeforeUpdate &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;pathOsb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;(pathOsbBeforeUpdate &gt;= path-&gt;cwnd)=&quot;</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        &lt;&lt; (path-&gt;outstandingBytesBeforeUpdate &gt;= path-&gt;cwnd) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;partialBytesAcked=&quot;</span> &lt;&lt; path-&gt;partialBytesAcked &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;(path-&gt;partialBytesAcked &gt;= path-&gt;cwnd)=&quot;</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                        &lt;&lt; (path-&gt;partialBytesAcked &gt;= path-&gt;cwnd) &lt;&lt; endl;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="comment">// ====== Reset PartialBytesAcked counter if no more outstanding bytes</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">if</span> (path-&gt;outstandingBytes == 0) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            path-&gt;partialBytesAcked = 0;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        path-&gt;vectorPathPbAcked-&gt;record(path-&gt;partialBytesAcked);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC &quot;</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;Not increasing cwnd of path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; during Fast Recovery&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a9f10b326e3abde82edf74c4ac320fbf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f10b326e3abde82edf74c4ac320fbf0">&#9670;&nbsp;</a></span>cwndUpdateMaxBurst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::cwndUpdateMaxBurst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1caa79446558db077338e93f92c09658">SctpStateVariables::MBV_UseItOrLoseIt</a>) ||</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a97d73147bbda9a30a2c3fa46b8aca019">SctpStateVariables::MBV_CongestionWindowLimiting</a>) ||</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1bb004d64bb574b03e1d0a9a6b98178a">SctpStateVariables::MBV_UseItOrLoseItTempCwnd</a>) ||</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc">SctpStateVariables::MBV_CongestionWindowLimitingTempCwnd</a>))</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="keywordflow">if</span> (path-&gt;cwnd &gt; ((path-&gt;outstandingBytes + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a> * path-&gt;pmtu))) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateMaxBurst]\t&quot;</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\ttempCwnd=&quot;</span> &lt;&lt; path-&gt;tempCwnd</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\tosb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\tmaxBurst=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a> * path-&gt;pmtu;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <span class="comment">// ====== Update cwnd or tempCwnd, according to MaxBurst variant ===</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1caa79446558db077338e93f92c09658">SctpStateVariables::MBV_UseItOrLoseIt</a>) ||</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a97d73147bbda9a30a2c3fa46b8aca019">SctpStateVariables::MBV_CongestionWindowLimiting</a>))</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                path-&gt;cwnd = path-&gt;outstandingBytes + (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a> * path-&gt;pmtu);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1bb004d64bb574b03e1d0a9a6b98178a">SctpStateVariables::MBV_UseItOrLoseItTempCwnd</a>) ||</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                     (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc">SctpStateVariables::MBV_CongestionWindowLimitingTempCwnd</a>))</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                path-&gt;tempCwnd = path-&gt;outstandingBytes + (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a> * path-&gt;pmtu);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                assert(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a97d73147bbda9a30a2c3fa46b8aca019">SctpStateVariables::MBV_CongestionWindowLimiting</a>) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                <span class="keywordflow">if</span> (path-&gt;ssthresh &lt; path-&gt;cwnd) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    path-&gt;ssthresh = path-&gt;cwnd;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc">SctpStateVariables::MBV_CongestionWindowLimitingTempCwnd</a>) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="keywordflow">if</span> (path-&gt;ssthresh &lt; path-&gt;tempCwnd) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    path-&gt;ssthresh = path-&gt;tempCwnd;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;\t=&gt;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\tcwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\ttempCwnd=&quot;</span> &lt;&lt; path-&gt;tempCwnd</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    &lt;&lt; endl;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="comment">// ====== Possible transmission will not exceed burst size ============</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="comment">// Just store current cwnd to tempCwnd</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            path-&gt;tempCwnd = path-&gt;cwnd;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a0f38ebd5aa8b7ebb8d0808c1a362dcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">&#9670;&nbsp;</a></span>decreaseOutstandingBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::decreaseOutstandingBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *lastPath = chunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;countsAsOutstanding) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        assert(lastPath-&gt;outstandingBytes &gt;= chunk-&gt;booksize);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        lastPath-&gt;outstandingBytes -= chunk-&gt;booksize;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        lastPath-&gt;statisticsPathOutstandingBytes-&gt;record(lastPath-&gt;outstandingBytes);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> -= chunk-&gt;booksize;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        SctpSendStream *stream = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keyword">auto</span> associter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(chunk-&gt;sid);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">if</span> (associter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end()) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            stream = associter-&gt;second;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Stream with id %d not found&quot;</span>, chunk-&gt;sid);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        stream-&gt;setBytesInFlight(stream-&gt;getBytesInFlight() - chunk-&gt;booksize);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        assert((int64_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> &gt;= 0);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a84b6d8663ac4be77c940d54d11506246">statisticsOutstandingBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        chunk-&gt;countsAsOutstanding = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>.find(lastPath-&gt;remoteAddress);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2d22a4ca3db8d254e2cf52bd25c7c6a9">outstandingMessages</a>--;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">osbWithHeader</a>)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            iterator-&gt;second -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;booksize);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            iterator-&gt;second -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;booksize + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a35810f2e01a572bdcb22683982c82f07">chunkMustBeAbandoned()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ef650f8ed8fd7da37a0a29a01e0ec9d">putInTransmissionQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged()</a>.</p>

</div>
</div>
<a id="a7b4fc00b598430d92e98c37a92f5250b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4fc00b598430d92e98c37a92f5250b">&#9670;&nbsp;</a></span>deleteStreams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::deleteStreams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;         {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        testsid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            testsid = (testsid + 1) % <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adfb9d42dbbe581d2be1759ad0aae5ed5">streamIsPending</a>(testsid)) {</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>.</p>

</div>
</div>
<a id="a5167a2a56783c9a301133fd5ae9a0b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5167a2a56783c9a301133fd5ae9a0b5d">&#9670;&nbsp;</a></span>dequeueAckedChunks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::dequeueAckedChunks </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsna</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t &amp;&#160;</td>
          <td class="paramname"><em>rttEstimation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;{</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    Sctp::AssocStat *assocStat = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a31d8497337df5b1fac236d614bf2a247">getAssocStat</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="comment">// Set it ridiculously high</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    rttEstimation = SIMTIME_MAX;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160; </div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="comment">// Are there chunks in the retransmission queue ? If Yes -&gt; check for dequeue.</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">while</span> (iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end()) {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        SctpDataVariables *chunk = iterator-&gt;second;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae0afcaab320fc691c1a249f6cdc590e9">tsnGe</a>(tsna, chunk-&gt;tsn)) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: CumAcked TSN &quot;</span> &lt;&lt; chunk-&gt;tsn</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; chunk-&gt;getLastDestination() &lt;&lt; endl;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk)) {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *lastPath = chunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                <span class="comment">// CumAck affects lastPath -&gt; reset its T3 timer later.</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                lastPath-&gt;newCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                <span class="comment">// CumAck of SACK has acknowledged this chunk. Handle Pseudo CumAck.</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                lastPath-&gt;findPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                lastPath-&gt;newPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;                <span class="comment">// T.D. 22.11.09: CUCv2</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                lastPath-&gt;findRTXPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                lastPath-&gt;newRTXPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;            }</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk</a>(chunk, sackPath, rttEstimation, assocStat);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        }</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;dequeueAckedChunks(): rttEstimation=&quot;</span> &lt;&lt; rttEstimation &lt;&lt; endl;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="adfd914a7ca0de8389e001075bb916370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd914a7ca0de8389e001075bb916370">&#9670;&nbsp;</a></span>dequeueOutboundDataMsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> * inet::sctp::SctpAssociation::dequeueOutboundDataMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>availableSpace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>availableCwnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;{</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    SctpDataMsg *datMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    cPacketQueue *streamQ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    int32_t nextStream = -1;</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160; </div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;dequeueOutboundDataMsg: &quot;</span> &lt;&lt; availableSpace &lt;&lt; <span class="stringliteral">&quot; bytes left to be sent&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160; </div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs</a>();</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160; </div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="comment">/* Only change stream if we don&#39;t have to finish a fragmented message */</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa76162a98d1d0e4e81ea5605b90443c7">lastMsgWasFragment</a>)</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        nextStream = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        nextStream = (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a>)(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160; </div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keywordflow">if</span> (nextStream == -1)</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;dequeueOutboundDataMsg: now stream &quot;</span> &lt;&lt; nextStream &lt;&lt; endl;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    SctpSendStream *stream = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(nextStream)-&gt;second;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    streamQ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160; </div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordflow">if</span> (!stream-&gt;getUnorderedStreamQ()-&gt;isEmpty()) {</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        streamQ = stream-&gt;getUnorderedStreamQ();</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;DequeueOutboundDataMsg() found chunks in stream &quot;</span> &lt;&lt; nextStream &lt;&lt; <span class="stringliteral">&quot; unordered queue, queue size=&quot;</span> &lt;&lt; stream-&gt;getUnorderedStreamQ()-&gt;getLength() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    }</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!stream-&gt;getStreamQ()-&gt;isEmpty()) {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        streamQ = stream-&gt;getStreamQ();</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;DequeueOutboundDataMsg() found chunks in stream &quot;</span> &lt;&lt; nextStream &lt;&lt; <span class="stringliteral">&quot; ordered queue, queue size=&quot;</span> &lt;&lt; stream-&gt;getStreamQ()-&gt;getLength() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    }</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160; </div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    <span class="keywordflow">if</span> (streamQ) {</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        int32_t <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> = <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;front())-&gt;getEncapsulatedPacket()-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> &lt;= availableSpace) &amp;&amp;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            ((int32_t)check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;front())-&gt;getBooksize() &lt;= availableCwnd))</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        {</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;            datMsg = check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;pop());</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">sendQueue</a>-&gt;record(streamQ-&gt;getLength());</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160; </div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;            <span class="keywordflow">if</span> (!datMsg-&gt;getFragment()) {</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                datMsg-&gt;setBBit(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                datMsg-&gt;setEBit(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa76162a98d1d0e4e81ea5605b90443c7">lastMsgWasFragment</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            }</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                <span class="keywordflow">if</span> (datMsg-&gt;getEBit())</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa76162a98d1d0e4e81ea5605b90443c7">lastMsgWasFragment</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa76162a98d1d0e4e81ea5605b90443c7">lastMsgWasFragment</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            }</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; </div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;DequeueOutboundDataMsg() found chunk (&quot;</span> &lt;&lt; datMsg-&gt;str() &lt;&lt; <span class="stringliteral">&quot;) in the stream queue &quot;</span> &lt;&lt; nextStream &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; streamQ &lt;&lt; <span class="stringliteral">&quot;) queue size=&quot;</span> &lt;&lt; streamQ-&gt;getLength() &lt;&lt; endl;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    }</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="keywordflow">if</span> (datMsg != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(datMsg-&gt;getEncapsulatedPacket()-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> -= datMsg-&gt;getBooksize();</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordflow">return</span> datMsg;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="ac04574b7f00810703e57f3091f182f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04574b7f00810703e57f3091f182f5a">&#9670;&nbsp;</a></span>disposeOf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::disposeOf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *&#160;</td>
          <td class="paramname"><em>sctpmsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;{</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    SctpChunk *chunk;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    uint32_t numberOfChunks = sctpmsg-&gt;getSctpChunksArraySize();</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <span class="keywordflow">if</span> (numberOfChunks &gt; 0)</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; numberOfChunks; i++) {</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;            chunk = sctpmsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;         <span class="comment">/*   if (chunk-&gt;getSctpChunkType() == DATA) {</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;<span class="comment">                delete chunk-&gt;Chunk::peek&lt;SctpSimpleMessage&gt;(Chunk::BackwardIterator(B(0)));</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;<span class="comment">            }*/</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;            <span class="keyword">delete</span> chunk;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        }</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    <span class="keyword">delete</span> sctpmsg;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop()</a>.</p>

</div>
</div>
<a id="a336c300ad9556c913ba84df2d94ff620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336c300ad9556c913ba84df2d94ff620">&#9670;&nbsp;</a></span>eventName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * inet::sctp::SctpAssociation::eventName </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: returns name of SCTP_E_xxx constants. </p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#define CASE(x)    case x: \</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">        s = (char *)#x + 7; break</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a> = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a15d11aaf672ea8e4970304f031c4a165">SCTP_E_OPEN_PASSIVE</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab4b5e84e646985a9faa2a4f88e031b16">SCTP_E_ASSOCIATE</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159">SCTP_E_SHUTDOWN</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">SCTP_E_CLOSE</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4951ad537b8b030e199c8301a43beb44">SCTP_E_RCV_INIT</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540">SCTP_E_RCV_VALID_COOKIE_ECHO</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7d78c14307263b403b73da4009a90daf">SCTP_E_RCV_INIT_ACK</a>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">SCTP_E_RCV_COOKIE_ACK</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8">SCTP_E_RCV_SHUTDOWN</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a30c6382a4c5d5ca7e759536f5e50c8a2">SCTP_E_RCV_SHUTDOWN_ACK</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3afa663adb7622f9432e89fa0aa1dc5dcb">SCTP_E_RCV_SHUTDOWN_COMPLETE</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a9812393b37f092cf98d8517d3992b941">SCTP_E_TIMEOUT_INIT_TIMER</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ae3f63b702f8e3bebc195afc21227c681">SCTP_E_TIMEOUT_SHUTDOWN_TIMER</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a28351538202fc5cdb48f3efe87c2d0d0">SCTP_E_TIMEOUT_RTX_TIMER</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ad25cab553e118244b925d7953520a74d">SCTP_E_TIMEOUT_HEARTBEAT_TIMER</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1a582149c1b7607c37eb22fc0e22fd4c">SCTP_E_RECEIVE</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a625c4793d60b30bc8ac0c85a76850797">SCTP_E_DUP_RECEIVED</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0787ad146854283b81ec9adac5186cb1">SCTP_E_PRIMARY</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab16fde9b626b7cb2b6b965de7e8edccd">SCTP_E_QUEUE_MSGS_LIMIT</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4e19a42cf0a4e213646aa87843e65267">SCTP_E_QUEUE_BYTES_LIMIT</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">SCTP_E_NO_MORE_OUTSTANDING</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a98c597c43e317d082f8bbb9900eb067f">SCTP_E_DELIVERED</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7fbf555d28b43b3e2d6bb3e4afdd49e7">SCTP_E_SEND_SHUTDOWN_ACK</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a91cd08ad34c4800733b7cc105f863c92">SCTP_E_STOP_SENDING</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acd609e7c59b9751f3d806d4b0057df00">SCTP_E_STREAM_RESET</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3af6811b1e92009e65a2a114c6a8a35625">SCTP_E_RESET_ASSOC</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a9a6164811faafd189e6ee3c60889b636">SCTP_E_ADD_STREAMS</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a682c30b47f3f3aaea043f036f1dd1324">SCTP_E_SEND_ASCONF</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab63af511683389d52c86429bc24127fe">SCTP_E_SET_STREAM_PRIO</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0673c78aa8200a369e19b12a4201db67">SCTP_E_ACCEPT</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac248d90be39c398d316ba7bc0649b53a">SCTP_E_ACCEPT_SOCKET_ID</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#undef CASE</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="aac7908d9ee178d444be609632456705e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7908d9ee178d444be609632456705e">&#9670;&nbsp;</a></span>fragmentOutboundDataMsgs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::fragmentOutboundDataMsgs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                                               {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    cPacketQueue *streamQ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.begin(); iter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end(); ++iter) {</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        SctpSendStream *stream = iter-&gt;second;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        streamQ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160; </div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        <span class="keywordflow">if</span> (!stream-&gt;getUnorderedStreamQ()-&gt;isEmpty()) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;            streamQ = stream-&gt;getUnorderedStreamQ();</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;fragmentOutboundDataMsgs() found chunks in stream &quot;</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="stringliteral">&quot; unordered queue, queue size=&quot;</span> &lt;&lt; stream-&gt;getUnorderedStreamQ()-&gt;getLength() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;        }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!stream-&gt;getStreamQ()-&gt;isEmpty()) {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;            streamQ = stream-&gt;getStreamQ();</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;fragmentOutboundDataMsgs() found chunks in stream &quot;</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="stringliteral">&quot; ordered queue, queue size=&quot;</span> &lt;&lt; stream-&gt;getStreamQ()-&gt;getLength() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        }</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160; </div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;        <span class="keywordflow">if</span> (streamQ) {</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;            int32_t <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> = <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;front())-&gt;getEncapsulatedPacket()-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            <span class="comment">/* check if chunk found in queue has to be fragmented */</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> &gt; (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a> + (int32_t)<a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                <span class="comment">/* START FRAGMENTATION */</span></div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                SctpDataMsg *datMsgQueued = check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;pop());</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                cPacket *datMsgQueuedEncMsg = datMsgQueued-&gt;getEncapsulatedPacket();</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                SctpDataMsg *datMsgLastFragment = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                uint32_t offset = 0;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                uint32_t msgbytes = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a>;</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                <span class="keyword">const</span> uint16_t fullSizedPackets = (uint16_t)(datMsgQueued-&gt;getByteLength() / msgbytes);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Fragmentation: chunk &quot;</span> &lt;&lt; &amp;datMsgQueued &lt;&lt; <span class="stringliteral">&quot; - size = &quot;</span> &lt;&lt; datMsgQueued-&gt;getByteLength() &lt;&lt; endl;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: number of fullSizedPackets: &quot;</span> &lt;&lt; fullSizedPackets &lt;&lt; endl;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                uint16_t pcounter = 0;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                <span class="keywordflow">while</span> (datMsgQueued) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                    <span class="comment">/* detemine size of fragment, either max payload or what&#39;s left */</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                    <span class="keywordflow">if</span> (msgbytes &gt; datMsgQueuedEncMsg-&gt;getByteLength() - offset)</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                        msgbytes = datMsgQueuedEncMsg-&gt;getByteLength() - offset;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                    <span class="comment">/* new DATA msg */</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;                    SctpDataMsg *datMsgFragment = <span class="keyword">new</span> SctpDataMsg();</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                    datMsgFragment-&gt;setSid(datMsgQueued-&gt;getSid());</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                    datMsgFragment-&gt;setPpid(datMsgQueued-&gt;getPpid());</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                    <span class="keywordflow">if</span> (++pcounter == fullSizedPackets &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a5ad88d3ba6b0fcfa0e174ccb785332c9">sackNow</a>)</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                        datMsgFragment-&gt;setSackNow(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                        datMsgFragment-&gt;setSackNow(datMsgQueued-&gt;getSackNow());</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                    datMsgFragment-&gt;setInitialDestination(datMsgQueued-&gt;getInitialDestination());</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                    datMsgFragment-&gt;setEnqueuingTime(datMsgQueued-&gt;getEnqueuingTime());</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                    datMsgFragment-&gt;setPrMethod(datMsgQueued-&gt;getPrMethod());</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                    datMsgFragment-&gt;setPriority(datMsgQueued-&gt;getPriority());</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="comment">//                    EV_DETAIL &lt;&lt; &quot;felix: &quot; &lt;&lt; datMsgQueued-&gt;getPriority() &lt;&lt; endl;</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;                    datMsgFragment-&gt;setStrReset(datMsgQueued-&gt;getStrReset());</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                    datMsgFragment-&gt;setMsgNum(datMsgQueued-&gt;getMsgNum());</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                    datMsgFragment-&gt;setOrdered(datMsgQueued-&gt;getOrdered());</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                    datMsgFragment-&gt;setExpiryTime(datMsgQueued-&gt;getExpiryTime());</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                    datMsgFragment-&gt;setRtx(datMsgQueued-&gt;getRtx());</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;                    datMsgFragment-&gt;setFragment(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160; </div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a61247836483b3253faed1a703b51d37b">padding</a>)</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                        datMsgFragment-&gt;setBooksize(<a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(msgbytes + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">header</a>));</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;                        datMsgFragment-&gt;setBooksize(msgbytes + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">header</a>);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160; </div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                    <span class="comment">/* is this the first fragment? */</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                    <span class="keywordflow">if</span> (offset == 0)</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                        datMsgFragment-&gt;setBBit(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160; </div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                    <span class="comment">/* new msg */</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                    cPacket *datMsgFragmentEncMsg = datMsgQueuedEncMsg-&gt;dup();</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160; </div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                    datMsgFragmentEncMsg-&gt;setByteLength(msgbytes);</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                    SctpSimpleMessage *datMsgQueuedSimple = <span class="keyword">dynamic_cast&lt;</span>SctpSimpleMessage *<span class="keyword">&gt;</span>(datMsgQueuedEncMsg);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                    SctpSimpleMessage *datMsgFragmentSimple = <span class="keyword">dynamic_cast&lt;</span>SctpSimpleMessage *<span class="keyword">&gt;</span>(datMsgFragmentEncMsg);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;                    <span class="keywordflow">if</span> ((datMsgQueuedSimple != <span class="keyword">nullptr</span>) &amp;&amp;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                        (datMsgFragmentSimple != <span class="keyword">nullptr</span>) &amp;&amp;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                        (datMsgQueuedSimple-&gt;getDataArraySize() &gt;= msgbytes + offset))</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                    {</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                        datMsgFragmentSimple-&gt;setDataArraySize(msgbytes);</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                        datMsgFragmentSimple-&gt;setDataLen(msgbytes);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                        <span class="comment">/* copy data */</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                        <span class="keywordflow">for</span> (uint32_t i = offset; i &lt; offset + msgbytes; i++) {</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                            datMsgFragmentSimple-&gt;setData(i - offset, datMsgQueuedSimple-&gt;getData(i));</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                        }</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                    }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160; </div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                    offset += msgbytes;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;<span class="comment">//                    datMsgFragment-&gt;insertAtBack(datMsgFragmentEncMsg);</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                    datMsgFragment-&gt;encapsulate(datMsgFragmentEncMsg);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160; </div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                    <span class="comment">/* insert fragment into queue */</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                    <span class="keywordflow">if</span> (!streamQ-&gt;isEmpty()) {</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                        <span class="keywordflow">if</span> (!datMsgLastFragment) {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                            <span class="comment">/* insert first fragment at the begining of the queue*/</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                            streamQ-&gt;insertBefore(check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;front()), datMsgFragment);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                        }</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                            <span class="comment">/* insert fragment after last inserted   */</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                            streamQ-&gt;insertAfter(datMsgLastFragment, datMsgFragment);</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                        }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                    }</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                        streamQ-&gt;insert(datMsgFragment);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160; </div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">queuedMessages</a>++;</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(datMsgFragment-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> += datMsgFragment-&gt;getBooksize();</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Fragmentation: fragment &quot;</span> &lt;&lt; &amp;datMsgFragment &lt;&lt; <span class="stringliteral">&quot; created, length = &quot;</span> &lt;&lt; datMsgFragmentEncMsg-&gt;getByteLength() &lt;&lt; <span class="stringliteral">&quot;, queue size = &quot;</span> &lt;&lt; streamQ-&gt;getLength() &lt;&lt; endl;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;                    datMsgLastFragment = datMsgFragment;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160; </div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                    <span class="comment">/* all fragments done? */</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                    <span class="keywordflow">if</span> (datMsgQueuedEncMsg-&gt;getByteLength() == offset) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                        datMsgFragment-&gt;setEBit(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a5ad88d3ba6b0fcfa0e174ccb785332c9">sackNow</a>)</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;                            datMsgFragment-&gt;setSackNow(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;                        <span class="comment">/* remove original element */</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Fragmentation: delete &quot;</span> &lt;&lt; &amp;datMsgQueued &lt;&lt; endl;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">//                        streamQ-&gt;pop();</span></div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(datMsgQueued-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> -= datMsgQueued-&gt;getBooksize();</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                        <span class="keyword">delete</span> datMsgQueued;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                        datMsgQueued = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">queuedMessages</a>--;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;                    }</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;                } <span class="comment">// while</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            }</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        }</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    }</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg()</a>.</p>

</div>
</div>
<a id="aea43ea40c863bb77b251cf7d760a1ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea43ea40c863bb77b251cf7d760a1ccf">&#9670;&nbsp;</a></span>generateSendQueueAbatedIndication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::generateSendQueueAbatedIndication </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;{</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>) {</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="comment">// Just send SCTP_I_SENDQUEUE_ABATED once, after all newly acked</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="comment">// chunks have been dequeued.</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <span class="comment">// Only send indication if the sendBuffer size has dropped below the sendQueueLimit</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="comment">//        assert(state-&gt;lastSendQueueAbated &lt; simTime());</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4f5848422301f6fb2bbf94c32d802a03">appSendAllowed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tSCTP_I_SENDQUEUE_ABATED(&quot;</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a> &lt;&lt; <span class="stringliteral">&quot;) to refill buffer &quot;</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        Indication *msg = <span class="keyword">new</span> Indication(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">indicationName</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4451d4a7e620fdd17b5f9f2b5a68aae4">SCTP_I_SENDQUEUE_ABATED</a>), <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4451d4a7e620fdd17b5f9f2b5a68aae4">SCTP_I_SENDQUEUE_ABATED</a>);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        msg-&gt;addTag&lt;SocketInd&gt;()-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keyword">auto</span>&amp; sendQueueAbatedIndication = msg-&gt;addTag&lt;SctpSendQueueAbatedReq&gt;();</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        sendQueueAbatedIndication-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        sendQueueAbatedIndication-&gt;setLocalAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        sendQueueAbatedIndication-&gt;setRemoteAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        sendQueueAbatedIndication-&gt;setNumMsgs(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>); <span class="comment">// NOTE: Legacy API!</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        sendQueueAbatedIndication-&gt;setQueuedForStreamArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.size());</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> streamID = 0;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            <span class="keyword">const</span> SctpSendStream *stream = elem.second;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            sendQueueAbatedIndication-&gt;setQueuedForStream(streamID, stream-&gt;getUnorderedStreamQ()-&gt;getByteLength() + stream-&gt;getStreamQ()-&gt;getByteLength());</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            streamID++;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        }</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        sendQueueAbatedIndication-&gt;setBytesAvailable(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a>);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        sendQueueAbatedIndication-&gt;setBytesQueued(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a>);</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        sendQueueAbatedIndication-&gt;setBytesLimit(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>);</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160; </div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a18dcce996954bda0e061c76c966187ca">lastSendQueueAbated</a> = simTime();</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="a0f1da52aa6603f012204dffdda824ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1da52aa6603f012204dffdda824ef8">&#9670;&nbsp;</a></span>getAddressLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inet::sctp::SctpAssociation::getAddressLevel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: return IPv4 or IPv6 address level. </p>
<div class="fragment"><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;{</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <span class="keywordflow">if</span> (addr.getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <span class="keywordflow">switch</span> (addr.toIpv6().getScope()) {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669ac1e3e3729897e0f8e40bba3031bdb62f">Ipv6Address::UNSPECIFIED</a>:</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669a871bef210ccddd8ebd0de85332a7d95c">Ipv6Address::MULTICAST</a>:</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160; </div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669ad34cb1bec59d790395ee0229787950d3">Ipv6Address::LOOPBACK</a>:</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160; </div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669a396fd6105f7213b96de4e64c37a1c82a">Ipv6Address::LINK</a>:</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;                <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160; </div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669a3fa94dff232b1e624f4a3e96f0263d04">Ipv6Address::SITE</a>:</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160; </div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669afbb8f8548bd12dab1f30125bc7397d9c">Ipv6Address::GLOBAL</a>:</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown IPv6 scope: %d&quot;</span>, (<span class="keywordtype">int</span>)(addr.toIpv6().getScope()));</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        }</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    }</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr.getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;        <span class="keywordflow">switch</span> (addr.toIpv4().getAddressCategory()) {</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea1da078de954f1fab03e4d42012c9c61c">Ipv4Address::UNSPECIFIED</a>:</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eae0778b975e58be2ad8019dcc9be8c8e2">Ipv4Address::THIS_NETWORK</a>:</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea47afd644b4e51a8502a11ebd182c2833">Ipv4Address::MULTICAST</a>:</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eaa75e82b3af26a506620ad7c9f3c8af44">Ipv4Address::BROADCAST</a>:</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea27047131bf9e30c830ed79d9169ff2d3">Ipv4Address::BENCHMARK</a>:</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eac3caaf425bba1f707a2e358d69581e90">Ipv4Address::IPv6_TO_IPv4_RELAY</a>:</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eabc697bfb804d4464ca118959dfce4a09">Ipv4Address::IETF</a>:</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eaeb32ff43fcbfee46ad8ccbd31589ad9e">Ipv4Address::TEST_NET</a>:</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea855bba1158f64732ded07b23dc39d6ea">Ipv4Address::RESERVED</a>:</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160; </div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eacbf7496746c94739e2b59e494433428c">Ipv4Address::LOOPBACK</a>:</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160; </div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea9b6bb99ed4cc992e7c483b61a1c06273">Ipv4Address::LINKLOCAL</a>:</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160; </div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea1689e51c53d1e8da1e300af2cdf367bc">Ipv4Address::PRIVATE_NETWORK</a>:</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;                <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160; </div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea493d8506036b6b2851c6f4961e442ad2">Ipv4Address::GLOBAL</a>:</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown Ipv4 address category: %d&quot;</span>, (<span class="keywordtype">int</span>)(addr.toIpv4().getAddressCategory()));</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        }</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    }</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type: %d&quot;</span>, (<span class="keywordtype">int</span>)(addr.getType()));</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_nat_hook.html#a2891e669f6d9d433cdabb7bb7bfc3fd8">inet::sctp::SctpNatHook::datagramForwardHook()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_nat_hook.html#a135689fe5a2f660923dd01a60c7db469">inet::sctp::SctpNatHook::datagramPreRoutingHook()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>.</p>

</div>
</div>
<a id="a4f3a0079e12c18b14f6fec63a582a4e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3a0079e12c18b14f6fec63a582a4e1">&#9670;&nbsp;</a></span>getAllTransQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::getAllTransQ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;{</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    uint32_t sum = 0;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        sum += elem.second;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">return</span> sum;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a937caf545d2965641cebd64d6e902532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937caf545d2965641cebd64d6e902532">&#9670;&nbsp;</a></span>getBytesInFlightOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::getBytesInFlightOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">auto</span> streamIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(sid);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    assert(streamIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end());</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> streamIterator-&gt;second-&gt;getBytesInFlight();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="a9719fafd71a156b596c3d89f3e7cba55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9719fafd71a156b596c3d89f3e7cba55">&#9670;&nbsp;</a></span>getExpectedSsnOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::getExpectedSsnOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;{</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    uint16_t str;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    str = iterator-&gt;second-&gt;getExpectedStreamSeqNum();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">return</span> str;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="ae1d844370f18f3038dd5de4f235a4c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d844370f18f3038dd5de4f235a4c55">&#9670;&nbsp;</a></span>getFragInProgressOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::getFragInProgressOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">auto</span> streamIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(sid);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    assert(streamIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end());</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> streamIterator-&gt;second-&gt;getFragInProgress();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="a83c0abfdbf87bde6655be0d57d6cb245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c0abfdbf87bde6655be0d57d6cb245">&#9670;&nbsp;</a></span>getFsm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cFSM* inet::sctp::SctpAssociation::getFsm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="afb9ffc3d0449dc386b797e6bca14d515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb9ffc3d0449dc386b797e6bca14d515">&#9670;&nbsp;</a></span>getFsmState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::getFsmState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState(); };</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad70260a9f264a733f0c9ec4539f2e2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70260a9f264a733f0c9ec4539f2e2bd">&#9670;&nbsp;</a></span>getInitialCwnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::getInitialCwnd </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    uint32_t newCwnd;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keyword">const</span> uint32_t upperLimit = (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> &gt; 0) ? (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> * path-&gt;pmtu) : <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(2 * path-&gt;pmtu, 4380);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">false</span>) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">SctpStateVariables::CCCV_CMT</a>)) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        newCwnd = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> &gt; 0) ? (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> * path-&gt;pmtu) : (4 * path-&gt;pmtu),</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                upperLimit);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        newCwnd = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>((int32_t)ceil(((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> &gt; 0) ?</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                              (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> * path-&gt;pmtu) :</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                              (4 * path-&gt;pmtu)) / (<span class="keywordtype">double</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size()),</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                upperLimit);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (newCwnd &lt; path-&gt;pmtu) { <span class="comment">// T.D. 09.09.2010: cwnd &lt; MTU makes no sense ...</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            newCwnd = path-&gt;pmtu;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }    <span class="keywordflow">return</span> newCwnd;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab0527d219fcbe96f8d128726bdf95502">cwndUpdateAfterCwndTimeout()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters()</a>.</p>

</div>
</div>
<a id="a52b7f53c059df4e407e566d37b30f2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b7f53c059df4e407e566d37b30f2bd">&#9670;&nbsp;</a></span>getInitTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::getInitTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeaeb74282eb3e681606fb6fe5a5064cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaeb74282eb3e681606fb6fe5a5064cf">&#9670;&nbsp;</a></span>getNextAddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a>&amp; inet::sctp::SctpAssociation::getNextAddress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>oldPath</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *nextPath = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a>(oldPath);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">if</span> (nextPath != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            <span class="keywordflow">return</span> nextPath-&gt;remoteAddress;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_data_variables.html#abb798401014b6d330e9e42b4551c1faa">SctpDataVariables::zeroAddress</a>;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>.</p>

</div>
</div>
<a id="a1961f1c3cfb685372397f16fd512ba0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1961f1c3cfb685372397f16fd512ba0b">&#9670;&nbsp;</a></span>getNextDestination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * inet::sctp::SctpAssociation::getNextDestination </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;{</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *next;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Running getNextDestination()&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;numberOfTransmissions == 0) {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <span class="keywordflow">if</span> (chunk-&gt;getInitialDestinationPath() == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;            next = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>();</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        }</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;            next = chunk-&gt;getInitialDestinationPath();</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        }</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <span class="keywordflow">if</span> (chunk-&gt;hasBeenFastRetransmitted) {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Chunk &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; is scheduled for FastRetransmission. Next destination = &quot;</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                      &lt;&lt; chunk-&gt;getLastDestination() &lt;&lt; endl;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;            <span class="keywordflow">return</span> chunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;        }</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <span class="comment">// If this is a retransmission, we should choose another, active path.</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *last = chunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        next = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a>(last);</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <span class="keywordflow">if</span> ((next == <span class="keyword">nullptr</span>) || (next-&gt;confirmed == <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;            next = last;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;        }</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    }</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160; </div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;getNextDestination(): chunk was last sent to &quot;</span> &lt;&lt; chunk-&gt;getLastDestination()</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;, will next be sent to path &quot;</span> &lt;&lt; next-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <span class="keywordflow">return</span> next;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>.</p>

</div>
</div>
<a id="a4bc265636cab7afd76a358d1857f9bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc265636cab7afd76a358d1857f9bda">&#9670;&nbsp;</a></span>getNextPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * inet::sctp::SctpAssociation::getNextPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>oldPath</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;{</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    int32_t hit = 0;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size() &gt; 1) {</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *newPath = elem.second;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;            <span class="keywordflow">if</span> (newPath == oldPath) {</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                <span class="keywordflow">if</span> (++hit == 1) {</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;                }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;            }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;            <span class="keywordflow">if</span> ((newPath-&gt;activePath) &amp;&amp;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;                ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">false</span>) || (newPath-&gt;blockingTimeout &lt;= 0.0) ||</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;                 (simTime() &gt; newPath-&gt;blockingTimeout)))</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                <span class="keywordflow">return</span> newPath;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;            }</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        }</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    }</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1961f1c3cfb685372397f16fd512ba0b">getNextDestination()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>.</p>

</div>
</div>
<a id="a0646b9287b80ba925613fda20a230153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0646b9287b80ba925613fda20a230153">&#9670;&nbsp;</a></span>getOutboundDataChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> * inet::sctp::SctpAssociation::getOutboundDataChunk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>availableSpace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>availableCwnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;{</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="comment">/* are there chunks in the transmission queue ? If Yes -&gt; dequeue and return it */</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;getOutboundDataChunk(&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;):&quot;</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; availableSpace=&quot;</span> &lt;&lt; availableSpace</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; availableCwnd=&quot;</span> &lt;&lt; availableCwnd</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            &lt;&lt; endl;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.empty()) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;             it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end(); it++)</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        {</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;            SctpDataVariables *chunk = it-&gt;second;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk) == <span class="keyword">false</span>) &amp;&amp; !chunk-&gt;hasBeenAbandoned &amp;&amp;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;                (chunk-&gt;getNextDestinationPath() == path))</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            {</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                <span class="keyword">const</span> int32_t len = <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;getOutboundDataChunk() found chunk &quot;</span> &lt;&lt; chunk-&gt;tsn</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; in the transmission queue, length=&quot;</span> &lt;&lt; len &lt;&lt; endl;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                <span class="keywordflow">if</span> ((len &lt;= availableSpace) &amp;&amp;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                    ((int32_t)chunk-&gt;booksize &lt;= availableCwnd))</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                {</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                    <span class="comment">// T.D. 05.01.2010: The bookkeeping counters may only be decreased when</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;                    <span class="comment">// this chunk is actually dequeued. Therefore, the check</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;                    <span class="comment">// for &quot;chunkHasBeenAcked==false&quot; has been moved into the</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                    <span class="comment">// &quot;if&quot; statement above!</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.erase(it);</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;                    chunk-&gt;enqueuedInTransmissionQ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                    <span class="keyword">auto</span> i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;                    i-&gt;second -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                    <span class="keyword">auto</span> ib = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                    ib-&gt;second -= chunk-&gt;booksize;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                    <span class="keywordflow">return</span> chunk;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                }</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;            }</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    }</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;no chunk found in transmissionQ\n&quot;</span>;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a7890a87d2af9232c6051db88278da9ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7890a87d2af9232c6051db88278da9ef">&#9670;&nbsp;</a></span>getOutstandingBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::getOutstandingBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;{</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    int32_t osb = 0;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        osb += elem.second-&gt;outstandingBytes;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    }</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="keywordflow">return</span> osb;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a63a0a5f034c3429b541106eb681fba0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a0a5f034c3429b541106eb681fba0c">&#9670;&nbsp;</a></span>getPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a>* inet::sctp::SctpAssociation::getPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>pathId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        SctpPathMap::const_iterator iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.find(pathId);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">return</span> (iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end()) ? iterator-&gt;second : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3dc44ea09120834825153b8a262df804">process_PRIMARY()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f291bb37a3e03c4e483b9202abd21b5">process_STATUS()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>.</p>

</div>
</div>
<a id="a97bdc373cd1c2c07daa070e55c05ebdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97bdc373cd1c2c07daa070e55c05ebdb">&#9670;&nbsp;</a></span>getRetransmissionQueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a>* inet::sctp::SctpAssociation::getRetransmissionQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>; };</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a30cf75b48d96d75634722d733ba7b207">inet::sctp::SctpAlgorithm::setAssociation()</a>.</p>

</div>
</div>
<a id="a8fd718e718065ff403600d3fb566361e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd718e718065ff403600d3fb566361e">&#9670;&nbsp;</a></span>getSackTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::getSackTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f579245469f14a1a0990c4aacdf3d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f579245469f14a1a0990c4aacdf3d55">&#9670;&nbsp;</a></span>getSctpAlgorithm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_algorithm.html">SctpAlgorithm</a>* inet::sctp::SctpAssociation::getSctpAlgorithm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36f714d37b4d59f55823c7e702542737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f714d37b4d59f55823c7e702542737">&#9670;&nbsp;</a></span>getSctpMain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a>* inet::sctp::SctpAssociation::getSctpMain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>; };</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html#a0c2a3ff5acfd3ffba440fe95a55566e9">inet::sctp::SctpPathVariables::SctpPathVariables()</a>.</p>

</div>
</div>
<a id="a7d50de5e9764b067091f8e5459797f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d50de5e9764b067091f8e5459797f48">&#9670;&nbsp;</a></span>getShutdownTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::getShutdownTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab965a1aacd6125cbc03c56aea8394eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab965a1aacd6125cbc03c56aea8394eed">&#9670;&nbsp;</a></span>getSortedPathMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> * &gt; inet::sctp::SctpAssociation::getSortedPathMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    std::vector&lt;SctpPathVariables *&gt; sortedPaths;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        sortedPaths.insert(sortedPaths.end(), path);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        std::stable_sort(sortedPaths.begin(), sortedPaths.end(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    EV &lt;&lt; <span class="stringliteral">&quot;SORTED PATH MAP:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : sortedPaths) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;  cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;  ssthresh=&quot;</span> &lt;&lt; path-&gt;ssthresh</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;  outstanding=&quot;</span> &lt;&lt; path-&gt;outstandingBytes</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;  bytesToRetransmit=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1be5b9ed70775e1335802dddcb21d35a">bytesToRetransmit</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> sortedPaths;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths()</a>.</p>

</div>
</div>
<a id="afc130170fc4618e11bdeb6c896bc0825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc130170fc4618e11bdeb6c896bc0825">&#9670;&nbsp;</a></span>getSsnOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::getSsnOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;{</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span> iterator-&gt;second-&gt;getNextStreamSeqNum();</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="a07c5b1a58984cb54c5b4288e93423755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c5b1a58984cb54c5b4288e93423755">&#9670;&nbsp;</a></span>getState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_state_variables.html">SctpStateVariables</a>* inet::sctp::SctpAssociation::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>; };</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>.</p>

</div>
</div>
<a id="a86f5142c5aa2d2bfb76ca3b6f10e107d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f5142c5aa2d2bfb76ca3b6f10e107d">&#9670;&nbsp;</a></span>getTransmissionQueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a>* inet::sctp::SctpAssociation::getTransmissionQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>; };</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a30cf75b48d96d75634722d733ba7b207">inet::sctp::SctpAlgorithm::setAssociation()</a>.</p>

</div>
</div>
<a id="ab81cdc03f4a43d45de3518b76b28abf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81cdc03f4a43d45de3518b76b28abf7">&#9670;&nbsp;</a></span>handleChunkReportedAsAcked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::handleChunkReportedAsAcked </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>highestNewAck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t &amp;&#160;</td>
          <td class="paramname"><em>rttEstimation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>myChunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>sackIsNonRevokable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;{</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkLastPath = myChunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="comment">// SFR algorithm</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; myChunkLastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;findPseudoCumAck=&quot;</span> &lt;&lt; ((myChunkLastPath-&gt;findPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;pseudoCumAck=&quot;</span> &lt;&lt; myChunkLastPath-&gt;pseudoCumAck &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;newPseudoCumAck=&quot;</span> &lt;&lt; ((myChunkLastPath-&gt;newPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;findRTXPseudoCumAck=&quot;</span> &lt;&lt; ((myChunkLastPath-&gt;findRTXPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;rtxPseudoCumAck=&quot;</span> &lt;&lt; myChunkLastPath-&gt;rtxPseudoCumAck &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;newRTXPseudoCumAck=&quot;</span> &lt;&lt; ((myChunkLastPath-&gt;newRTXPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;           &lt;&lt; endl;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="comment">// This chunk has not been acked before -&gt; new ack on its myChunkLastPath.</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">if</span> (myChunkLastPath-&gt;sawNewAck == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; myChunkLastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;Saw new ack -&gt; setting highestNewAckInSack!&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            myChunkLastPath-&gt;sawNewAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <span class="comment">// Smart Fast RTX</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="comment">// If chunk has already been transmitted on another path, do not consider it</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <span class="comment">// for fast RTX handling!</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordflow">if</span> ((!myChunk-&gt;hasBeenTimerBasedRtxed) ||</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91bf14261e7d93cfdb4f2276ba1f55a8">cmtSmartFastRTX</a> == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            <span class="keywordflow">if</span> (myChunkLastPath-&gt;lowestNewAckInSack == 0) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                myChunkLastPath-&gt;lowestNewAckInSack = myChunk-&gt;tsn; <span class="comment">// The lowest TSN acked</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <span class="keywordflow">if</span> (myChunkLastPath-&gt;highestNewAckInSack == 0) {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                myChunkLastPath-&gt;highestNewAckInSack = myChunk-&gt;tsn; <span class="comment">// The highest TSN acked so far</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(myChunkLastPath-&gt;highestNewAckInSack, myChunk-&gt;tsn)) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                myChunkLastPath-&gt;highestNewAckInSack = myChunk-&gt;tsn; <span class="comment">// The highest TSN acked so far</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span> ((myChunk-&gt;numberOfTransmissions == 1) &amp;&amp;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        (myChunk-&gt;hasBeenMoved == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        (myChunk-&gt;hasBeenReneged == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">if</span> (myChunkLastPath == sackPath) {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="keyword">const</span> simtime_t timeDifference = simTime() - myChunk-&gt;sendTime;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <span class="keywordflow">if</span> ((timeDifference &lt; rttEstimation) || (rttEstimation == -1.0)) {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                rttEstimation = timeDifference;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            }</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; processSackArrived: computed rtt time diff == &quot;</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                      &lt;&lt; timeDifference &lt;&lt; <span class="stringliteral">&quot; for TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; endl;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">cmtSlowPathRTTUpdate</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                (myChunkLastPath-&gt;waitingForRTTCalculaton == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            {</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                <span class="comment">// numberOfTransmissions==1, hasBeenReneged==false</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                <span class="comment">// T.D. 25.02.2010: Slow Path Update</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <span class="comment">// Remember this chunk&#39;s TSN and send time in order to update the</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                <span class="comment">// path&#39;s RTT using a stale SACK on its own path.</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                myChunkLastPath-&gt;tsnForRTTCalculation = myChunk-&gt;tsn;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                myChunkLastPath-&gt;txTimeForRTTCalculation = myChunk-&gt;sendTime;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                myChunkLastPath-&gt;waitingForRTTCalculaton = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        }</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">if</span> ((myChunk-&gt;hasBeenAbandoned == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        (myChunk-&gt;hasBeenReneged == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        (myChunk-&gt;hasBeenAcked == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: GapAcked TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; myChunkLastPath-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">if</span> (myChunk-&gt;tsn &gt; highestNewAck) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            highestNewAck = myChunk-&gt;tsn;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="keywordflow">if</span> (sackIsNonRevokable == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            myChunkLastPath-&gt;gapAckedChunksInLastSACK++;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            myChunkLastPath-&gt;gapNRAckedChunksInLastSACK++;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            myChunkLastPath-&gt;gapAckedChunksInLastSACK++;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">// ====== Non-Renegable SACK =============================================</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">if</span> (sackIsNonRevokable == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="comment">// NOTE: nonRenegablyAckChunk() will only work with ChunkMap,</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <span class="comment">//       since the actual chunk object will be gone ...</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk</a>(myChunk, sackPath, rttEstimation,</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a31d8497337df5b1fac236d614bf2a247">getAssocStat</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>));</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="comment">// ====== Renegable SACK =================================================</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk</a>(myChunk, sackPath);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="a4542d799de5fe5e9822357fa52575f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4542d799de5fe5e9822357fa52575f6d">&#9670;&nbsp;</a></span>handleChunkReportedAsMissing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::handleChunkReportedAsMissing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_sack_chunk.html">SctpSackChunk</a> *&#160;</td>
          <td class="paramname"><em>sackChunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>highestNewAck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>myChunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;{</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkLastPath = myChunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; is missing in gap reports (last &quot;</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            &lt;&lt; myChunkLastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(myChunk)) {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;has not been acked, highestNewAck=&quot;</span> &lt;&lt; highestNewAck</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; countsAsOutstanding=&quot;</span> &lt;&lt; myChunk-&gt;countsAsOutstanding &lt;&lt; endl;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="comment">// ===== Check whether a Fast Retransmission is necessary =============</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="comment">// Non-CMT behaviour: check for highest TSN</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        uint32_t chunkReportedAsMissing = (highestNewAck &gt; myChunk-&gt;tsn || (myChunk-&gt;getLastDestinationPath()-&gt;fastRecoveryActive &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> &gt;= myChunk-&gt;tsn)) ? 1 : 0;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="comment">// Split Fast Retransmission (SFR) algorithm for CMT</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7ce523a3d4cee654d29ad3b2b343fa29">cmtUseSFR</a> == <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            chunkReportedAsMissing = 0; <span class="comment">// Default: do not assume chunk as missing.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160; </div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="comment">// If there has been another chunk with highest TSN acked on this path,</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="comment">// the current one is missing.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            <span class="keywordflow">if</span> ((myChunkLastPath-&gt;sawNewAck) &amp;&amp;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(myChunkLastPath-&gt;highestNewAckInSack, myChunk-&gt;tsn)))</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f74bc3426c565c3515c12bb4110dadb">cmtUseDAC</a> == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                    chunkReportedAsMissing = 1;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                    <span class="comment">// ------ DAC algorithm at sender side -----------</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                    <span class="comment">// Is there a newly acked TSN on another path?</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                    <span class="keywordtype">bool</span> sawNewAckOnlyOnThisPath = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *otherPath = elem.second;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                        <span class="keywordflow">if</span> ((otherPath != myChunkLastPath) &amp;&amp; (otherPath-&gt;sawNewAck)) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                            sawNewAckOnlyOnThisPath = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                        }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                    }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                    <span class="keywordflow">if</span> (sawNewAckOnlyOnThisPath == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                        <span class="comment">// All newly acked TSNs were sent on the same path</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                        EV &lt;&lt; <span class="stringliteral">&quot;SplitFastRTX + DAC: all on same path:   &quot;</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot;TSN=&quot;</span> &lt;&lt; myChunk-&gt;tsn</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot; lowestNewAckInSack=&quot;</span> &lt;&lt; myChunkLastPath-&gt;lowestNewAckInSack</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot; highestNewAckInSack=&quot;</span> &lt;&lt; myChunkLastPath-&gt;highestNewAckInSack</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot; (on path &quot;</span> &lt;&lt; myChunkLastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                        <span class="comment">// Are there newly acked TSNs ta, tb, so that ta &lt; myChunk-&gt;tsn &lt; tb?</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                        <span class="comment">// myChunkLastPath-&gt;highestNewAckInSack is highest newly acked TSN on the current path</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                        <span class="comment">//   -&gt; since all TSNs were on this path, this value can be used as tb</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                        <span class="comment">// lowestNewAckInSack is the lowest newly acked TSN of this SACK</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                        <span class="comment">//   -&gt; since all TSNs were on the same path, this value can be used as ta</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(myChunkLastPath-&gt;lowestNewAckInSack, myChunk-&gt;tsn) &amp;&amp;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(myChunk-&gt;tsn, myChunkLastPath-&gt;highestNewAckInSack))</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                        {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                            EV &lt;&lt; <span class="stringliteral">&quot;   =&gt; conservative increment of 1&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                            chunkReportedAsMissing = 1;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                        }</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(myChunkLastPath-&gt;lowestNewAckInSack, myChunk-&gt;tsn)) { <span class="comment">// All newly acked TSNs are larger than myChunk-&gt;tsn</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                            EV &lt;&lt; <span class="stringliteral">&quot;   =&gt; reported increment of dacPacketsRcvd=&quot;</span> &lt;&lt; (<span class="keywordtype">unsigned</span> int)sackChunk-&gt;getDacPacketsRcvd() &lt;&lt; endl;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                            chunkReportedAsMissing = sackChunk-&gt;getDacPacketsRcvd();</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                        }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    }</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                        <span class="comment">// Mixed SACKS: newly acked TSNs were sent to multiple paths</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                        EV &lt;&lt; <span class="stringliteral">&quot;SplitFastRTX + DAC: mixed acks, increment is 1&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                        chunkReportedAsMissing = 1;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                    }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            } <span class="comment">// else: There is no need to increment the missing count.</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;SplitFastRTX: chunkReportedAsMissing=&quot;</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;               &lt;&lt; chunkReportedAsMissing &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;sawNewAck=&quot;</span> &lt;&lt; myChunkLastPath-&gt;sawNewAck &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;lowestNewAckInSack=&quot;</span> &lt;&lt; myChunkLastPath-&gt;lowestNewAckInSack</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;highestNewAckInSack=&quot;</span> &lt;&lt; myChunkLastPath-&gt;highestNewAckInSack &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;TSN=&quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; endl;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <span class="keywordflow">if</span> (chunkReportedAsMissing &gt; 0) {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            myChunk-&gt;gapReports += chunkReportedAsMissing;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            myChunkLastPath-&gt;gapUnackedChunksInLastSACK++;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            <span class="keywordflow">if</span> (myChunk-&gt;gapReports &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a51b29effaca42ae02a7a9c8060db0f0b">numGapReports</a>) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                <span class="keywordtype">bool</span> fastRtx = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a868cb96b2900bf174709bd0c187ea15b">rtxMethod</a>) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                    <span class="keywordflow">case</span> 0: <span class="comment">// Only one Fast RTX after 3 Gap reports</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                        fastRtx = ((myChunk-&gt;hasBeenFastRetransmitted == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                                   ((myChunk-&gt;numberOfRetransmissions == 0) ||</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                                    ((myChunk-&gt;hasBeenMoved) &amp;&amp;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                                     (myChunk-&gt;countsAsOutstanding) &amp;&amp;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                                     (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adef04544ead5c64d9bcef89a6240deee">movedChunkFastRTXFactor</a> &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                                     ((simTime() - myChunk-&gt;sendTime) &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adef04544ead5c64d9bcef89a6240deee">movedChunkFastRTXFactor</a> * myChunkLastPath-&gt;srtt))));</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                    <span class="keywordflow">case</span> 1: <span class="comment">// Just 1 Fast RTX per RTT</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                        fastRtx = ((myChunk-&gt;hasBeenFastRetransmitted == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                                   (myChunk-&gt;numberOfRetransmissions == 0 ||</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                                    (simTime() - myChunk-&gt;sendTime) &gt; myChunkLastPath-&gt;srtt));</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160; </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                    <span class="keywordflow">case</span> 2: <span class="comment">// Switch off Fast RTX</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                        fastRtx = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                    <span class="keywordflow">case</span> 3: <span class="comment">// Always Fast RTX</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                        fastRtx = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                <span class="keywordflow">if</span> (fastRtx) {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    <span class="keywordflow">if</span> (myChunk-&gt;hasBeenMoved) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                        EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: MovedFastRTX for TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; endl;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                    }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                    myChunk-&gt;hasBeenMoved = <span class="keyword">false</span>; <span class="comment">// Just trigger *one* fast RTX ...</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                    <span class="comment">// ====== Add chunk to transmission queue ========</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(myChunk-&gt;tsn) == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a35810f2e01a572bdcb22683982c82f07">chunkMustBeAbandoned</a>(myChunk, sackPath)) {</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                            Sctp::AssocStat *assocStat = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a31d8497337df5b1fac236d614bf2a247">getAssocStat</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                            <span class="keywordflow">if</span> (assocStat) {</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                                assocStat-&gt;<a class="code" href="structinet_1_1sctp_1_1_sctp_1_1_assoc_stat.html#a8bf23fc0cd8aed4f5058051f6a7bc392">numFastRtx</a>++;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                            }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                        }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                        myChunk-&gt;hasBeenFastRetransmitted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                        myChunk-&gt;sendForwardIfAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                        EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: Fast RTX for TSN &quot;</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                                  &lt;&lt; myChunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; myChunk-&gt;getLastDestination() &lt;&lt; endl;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                        myChunkLastPath-&gt;numberOfFastRetransmissions++;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                        myChunk-&gt;setNextDestination(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1961f1c3cfb685372397f16fd512ba0b">getNextDestination</a>(myChunk));</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkNextPath = myChunk-&gt;getNextDestinationPath();</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                        assert(myChunkNextPath != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                        <span class="keywordflow">if</span> (myChunk-&gt;countsAsOutstanding) {</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(myChunk);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                        }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab17d7618f344517419348720e5d617b0">checkAndInsertChunk</a>(myChunk-&gt;tsn, myChunk)) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Fast RTX: cannot add message/chunk (TSN=&quot;</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                                      &lt;&lt; myChunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot;) to the transmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                        }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                            myChunk-&gt;enqueuedInTransmissionQ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                            <span class="keyword">auto</span> q = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(myChunk-&gt;getNextDestination());</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                            q-&gt;second += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(myChunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                            <span class="keyword">auto</span> qb = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(myChunk-&gt;getNextDestination());</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                            qb-&gt;second += myChunk-&gt;booksize;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                        }</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                        myChunkNextPath-&gt;requiresRtx = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                        <span class="keywordflow">if</span> (myChunkNextPath-&gt;findLowestTsn == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                            <span class="comment">// TD 08.12.09: fixed detection of lowest TSN retransmitted</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                            myChunkNextPath-&gt;lowestTsnRetransmitted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                        }</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                    }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        }</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        myChunkLastPath-&gt;findLowestTsn = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="comment">// Reneging, type 1:</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <span class="comment">// A chunk in the gap blocks has been un-acked =&gt; reneg it.</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged</a>(myChunk, sackPath, 1);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="ad3776409de1d71ba9fc2d10a5db7b029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3776409de1d71ba9fc2d10a5db7b029">&#9670;&nbsp;</a></span>increaseOutstandingBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::increaseOutstandingBytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    path-&gt;outstandingBytes += chunk-&gt;booksize;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    path-&gt;statisticsPathOutstandingBytes-&gt;record(path-&gt;outstandingBytes);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> += chunk-&gt;booksize;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    SctpSendStream *stream = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keyword">auto</span> associter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(chunk-&gt;sid);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (associter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end()) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        stream = associter-&gt;second;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    }</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Stream with id %d not found&quot;</span>, chunk-&gt;sid);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    stream-&gt;setBytesInFlight(stream-&gt;getBytesInFlight() + chunk-&gt;booksize);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a84b6d8663ac4be77c940d54d11506246">statisticsOutstandingBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2d22a4ca3db8d254e2cf52bd25c7c6a9">outstandingMessages</a>++;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">osbWithHeader</a>)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        iterator-&gt;second += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;booksize);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        iterator-&gt;second += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;booksize + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">loadPacket()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a3fa9abca47d8287d2662658f316033d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa9abca47d8287d2662658f316033d0">&#9670;&nbsp;</a></span>indicationName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * inet::sctp::SctpAssociation::indicationName </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: returns name of SCTP_I_xxx constants. </p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#define CASE(x)    case x: \</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">        s = (char *)#x + 7; break</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a> = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">switch</span> (code) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac86bda582e97cea3531d33de119bfe32">SCTP_I_DATA</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac517ec43854d6a1906516c90cac01672">SCTP_I_DATA_NOTIFICATION</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac09e2e069a9d5f8ba91f6bd37617b104">SCTP_I_ESTABLISHED</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4c7679960000a1b643a11a592d4bae58">SCTP_I_PEER_CLOSED</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56">SCTP_I_CLOSED</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1abb95c5625118af8e012c452eede32be5">SCTP_I_CONNECTION_REFUSED</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a790979ee47faf670a15f7bca44f0a88f">SCTP_I_CONNECTION_RESET</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa2e3e0e0f4503da528a9c8ee98e410fc">SCTP_I_TIMED_OUT</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1accea7f9a4fec30b52a2599297e5b875c">SCTP_I_STATUS</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a8d469a35851882c7bb88d622816f6ae6">SCTP_I_ABORT</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aeea0b34cfe78c702d3e0f7065dec3a56">SCTP_I_SHUTDOWN_RECEIVED</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a1d9c913a95b558c7af403e318dd49867">SCTP_I_SEND_MSG</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac03a332e802dee0dd7b63a648a64a2d8">SCTP_I_SENDQUEUE_FULL</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4451d4a7e620fdd17b5f9f2b5a68aae4">SCTP_I_SENDQUEUE_ABATED</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">SCTP_I_ABANDONED</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1adeae8ea24c8f2bc62e028d16e4b1ad1a">SCTP_I_SEND_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a72786a4a5888f99ca8844766dd186c7e">SCTP_I_RCV_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a9bce762a81bf55cedb5d25a87479f250">SCTP_I_RESET_REQUEST_FAILED</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a44bb72f907584ed68920b2eabe578c3f">SCTP_I_ADDRESS_ADDED</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac88a114fb7cbc497d41f0baa53388852">SCTP_I_SENDSOCKETOPTIONS</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a70f41bbd71811f67358edaf004db7df2">SCTP_I_AVAILABLE</a>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#undef CASE</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1_sctp_nat_server.html#a470601ececa9d2f18980716f157d1a41">inet::SctpNatServer::handleMessage()</a>, <a class="el" href="classinet_1_1_sctp_nat_peer.html#a77d0ccccde9f1fc5223585efc5a43257">inet::SctpNatPeer::handleMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>.</p>

</div>
</div>
<a id="a972213a4f4ca2c659b3d9a1f8bed6f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a972213a4f4ca2c659b3d9a1f8bed6f4b">&#9670;&nbsp;</a></span>initAssociation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::initAssociation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_open_req.html">SctpOpenReq</a> *&#160;</td>
          <td class="paramname"><em>openCmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: creates send/receive queues and sctpAlgorithm. </p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:initAssociation\n&quot;</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// create send/receive queues</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *queueClass = openCmd-&gt;getQueueClass();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a> = check_and_cast&lt;SctpQueue *&gt;(<a class="code" href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a>(queueClass));</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a> = check_and_cast&lt;SctpQueue *&gt;(<a class="code" href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a>(queueClass));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> = openCmd-&gt;getInboundStreams();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> = openCmd-&gt;getOutboundStreams();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// create algorithm</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *sctpAlgorithmClass = openCmd-&gt;getSctpAlgorithmClass();</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (opp_isempty(sctpAlgorithmClass))</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        sctpAlgorithmClass = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;sctpAlgorithmClass&quot;</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a> = check_and_cast&lt;SctpAlgorithm *&gt;(<a class="code" href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a>(sctpAlgorithmClass));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a30cf75b48d96d75634722d733ba7b207">setAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a04118fcb524502c1bc0fd938724e459b">initialize</a>();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// create state block</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a9a45b0c5160f0153c674656428af82f9">createStateVariables</a>();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;auth&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *chunks = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;chunks&quot;</span>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordtype">bool</span> asc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordtype">bool</span> asca = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordtype">char</span> *chunkscopy = (<span class="keywordtype">char</span> *)malloc(strlen(chunks) + 1);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        strcpy(chunkscopy, chunks);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordtype">char</span> *token;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        token = strtok(chunkscopy, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">while</span> (token != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                asc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                asca = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.push_back(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">chunkToInt</a>(token));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            token = strtok(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIP&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">if</span> (!asc)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.push_back(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="keywordflow">if</span> (!asca)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.push_back(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        free(chunkscopy);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>.</p>

</div>
</div>
<a id="ab8130c36c0dbd49dd8700e58b1361413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8130c36c0dbd49dd8700e58b1361413">&#9670;&nbsp;</a></span>initCcParameters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::initCcParameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SctpCcFunctions. </p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    path-&gt;cwnd = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad70260a9f264a733f0c9ec4539f2e2bd">getInitialCwnd</a>(path);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    path-&gt;ssthresh = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    EV_DEBUG &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [initCCParameters]\t&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; (cmtCCGroup=&quot;</span> &lt;&lt; path-&gt;cmtCCGroup &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;             &lt;&lt; <span class="stringliteral">&quot;\tsst=&quot;</span> &lt;&lt; path-&gt;ssthresh &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a>.clear();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.clear();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a28b3cdd236064d09bc2985c1d8774090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b3cdd236064d09bc2985c1d8774090">&#9670;&nbsp;</a></span>initStreams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::initStreams </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inStreams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>outStreams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                                                    {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        SctpReceiveStream *rcvStream = <span class="keyword">new</span> SctpReceiveStream(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>[i] = rcvStream;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        rcvStream-&gt;setStreamId(i);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4754b772f1b1f9936dd3112e0c8cb1ea">numMsgsReq</a>[i] = 0;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Stream %d Throughput&quot;</span>, i);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>[i] = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">SctpAssociation::addOutStreams</a>(uint32_t outStreams)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    uint32_t i, j;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Add &quot;</span> &lt;&lt; outStreams &lt;&lt; <span class="stringliteral">&quot; outbound streams&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">for</span> (i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.size(), j = 0; j &lt; outStreams; i++, j++) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        SctpSendStream *sendStream = <span class="keyword">new</span> SctpSendStream(<span class="keyword">this</span>, i);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        sendStream-&gt;setStreamId(i);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>[i] = sendStream;</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="ac0661ec442f2253970c1889d9debf3bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0661ec442f2253970c1889d9debf3bd">&#9670;&nbsp;</a></span>isToBeAccepted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::isToBeAccepted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4c6d0ff4e56e33461e6b42d7e83d09b3">listeningAssocId</a> != -1; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="aa6f8629cafcdd8fa197e251b77195bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f8629cafcdd8fa197e251b77195bc3">&#9670;&nbsp;</a></span>listOrderedQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::listOrderedQ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;stream &quot;</span> &lt;&lt; elem.second-&gt;getStreamId() &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        elem.second-&gt;getOrderedQ()-&gt;printQueue();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acf0f7da85be8176cb9c15c5457360a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0f7da85be8176cb9c15c5457360a20">&#9670;&nbsp;</a></span>loadPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::loadPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>pathVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; *&#160;</td>
          <td class="paramname"><em>sctpMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>chunksAdded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>dataChunksAdded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>authAdded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    *sctpMsg = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">sctpMsg</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">sctpMsg</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    *chunksAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b1872bbfb9a69f59f398774a99c79de">chunksAdded</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    *dataChunksAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2a0ae018474859b54f4ef2c4edd9831d">dataChunksAdded</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    *authAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aca5d5a3117ad813aca250aac00116dd8">authAdded</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;loadPacket: path=&quot;</span> &lt;&lt; pathVar-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; osb=&quot;</span> &lt;&lt; pathVar-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; pathVar-&gt;outstandingBytes + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">osbWithHeader</a>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> -= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> -= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a> + ((*dataChunksAdded) * <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> -= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; (*sctpMsg)-&gt;getSctpChunksArraySize(); i++) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keyword">const</span> SctpChunk *chunkPtr = (*sctpMsg)-&gt;getSctpChunks(i);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (chunkPtr-&gt;getSctpChunkType() == 0) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keyword">const</span> SctpDataChunk *dataChunk = check_and_cast&lt;const SctpDataChunk *&gt;(chunkPtr);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">if</span> (dataChunk != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keyword">const</span> uint32_t tsn = dataChunk-&gt;getTsn();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                SctpDataVariables *chunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.find(tsn)-&gt;second;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                assert(chunk != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                chunk-&gt;queuedOnPath = pathVar;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                chunk-&gt;queuedOnPath-&gt;queuedBytes += chunk-&gt;booksize;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                chunk-&gt;setLastDestination(pathVar);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes</a>(chunk, pathVar);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                chunk-&gt;countsAsOutstanding = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a63e3925a09bb31ca572aeafacf853e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63e3925a09bb31ca572aeafacf853e85">&#9670;&nbsp;</a></span>makeAddStreamsRequestParameter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> * inet::sctp::SctpAssociation::makeAddStreamsRequestParameter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    SctpAddStreamsRequestParameter *addStreams = <span class="keyword">new</span> SctpAddStreamsRequestParameter();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (info-&gt;getInstreams() &gt; 0) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        addStreams-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        addStreams-&gt;setNumberOfStreams(info-&gt;getInstreams());</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> = addStreams-&gt;getNumberOfStreams();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info-&gt;getOutstreams() &gt; 0) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        addStreams-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        addStreams-&gt;setNumberOfStreams(info-&gt;getOutstreams());</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> = addStreams-&gt;getNumberOfStreams();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    addStreams-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    addStreams-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#ae43ec40df0b4b94ce78e31785f7e0079">SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">return</span> addStreams;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>.</p>

</div>
</div>
<a id="ab81b69b202506efefcc6649dcebfc677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81b69b202506efefcc6649dcebfc677">&#9670;&nbsp;</a></span>makeDataVarFromDataMsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> * inet::sctp::SctpAssociation::makeDataVarFromDataMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> *&#160;</td>
          <td class="paramname"><em>datMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    SctpDataVariables *datVar = <span class="keyword">new</span> SctpDataVariables();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    datMsg-&gt;setInitialDestination(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    datVar-&gt;setInitialDestination(path);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    datVar-&gt;bbit = datMsg-&gt;getBBit();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    datVar-&gt;ebit = datMsg-&gt;getEBit();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    datVar-&gt;ibit = datMsg-&gt;getSackNow();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    datVar-&gt;enqueuingTime = datMsg-&gt;getEnqueuingTime();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    datVar-&gt;expiryTime = datMsg-&gt;getExpiryTime();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    datVar-&gt;ppid = datMsg-&gt;getPpid();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    datVar-&gt;len = datMsg-&gt;getByteLength() * 8;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    datVar-&gt;sid = datMsg-&gt;getSid();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    datVar-&gt;allowedNoRetransmissions = datMsg-&gt;getRtx();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    datVar-&gt;booksize = datMsg-&gt;getBooksize();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    datVar-&gt;prMethod = datMsg-&gt;getPrMethod();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    datVar-&gt;priority = datMsg-&gt;getPriority();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    datVar-&gt;strReset = datMsg-&gt;getStrReset();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// ------ Stream handling ---------------------------------------</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(datMsg-&gt;getSid());</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    SctpSendStream *stream = iterator-&gt;second;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    uint32_t nextSSN = stream-&gt;getNextStreamSeqNum();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    datVar-&gt;userData = datMsg-&gt;decapsulate();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (datMsg-&gt;getOrdered()) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// ------ Ordered mode: assign SSN ---------</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (datMsg-&gt;getEBit()) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            datVar-&gt;ssn = nextSSN++;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            datVar-&gt;ssn = nextSSN;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        datVar-&gt;ordered = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (nextSSN &gt; 65535) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            stream-&gt;setNextStreamSeqNum(0);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            stream-&gt;setNextStreamSeqNum(nextSSN);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// ------ Ordered mode: no SSN needed ------</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        datVar-&gt;ssn = 0;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        datVar-&gt;ordered = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">ssLastDataChunkSizeSet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> datVar;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="acff6b9c425ca6497e4ab669164d1c0d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff6b9c425ca6497e4ab669164d1c0d9">&#9670;&nbsp;</a></span>makeIncomingStreamResetParameter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> * inet::sctp::SctpAssociation::makeIncomingStreamResetParameter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    SctpIncomingSsnResetRequestParameter *inResetParam;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    inResetParam = <span class="keyword">new</span> SctpIncomingSsnResetRequestParameter();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    inResetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">INCOMING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    inResetParam-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (info-&gt;getStreamsArraySize() &gt; 0) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        inResetParam-&gt;setStreamNumbersArraySize(info-&gt;getStreamsArraySize());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespaceinet.html#a9ad30be62e792f35add531d609e18d1f">uint</a> i = 0; i &lt; info-&gt;getStreamsArraySize(); i++) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            inResetParam-&gt;setStreamNumbers(i, info-&gt;getStreams(i));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].streams.push_back(inResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae58bbe95c4c95067997c7978e2601682">resetInStreams</a>.push_back(inResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    inResetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a6f0c28ebd0e945046ac8fb42fbd83263">SCTP_INCOMING_RESET_REQUEST_PARAMETER_LENGTH</a> + (info-&gt;getStreamsArraySize() * 2));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> inResetParam;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>.</p>

</div>
</div>
<a id="ae044aa8f7fed216881b9ad6f28234c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae044aa8f7fed216881b9ad6f28234c4b">&#9670;&nbsp;</a></span>makeOutgoingStreamResetParameter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> * inet::sctp::SctpAssociation::makeOutgoingStreamResetParameter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    SctpOutgoingSsnResetRequestParameter *outResetParam;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    outResetParam = <span class="keyword">new</span> SctpOutgoingSsnResetRequestParameter();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    outResetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    outResetParam-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    outResetParam-&gt;setSrResSn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a> - 1);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    outResetParam-&gt;setLastTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].lastTsn = outResetParam-&gt;getLastTsn();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() == 0) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (info-&gt;getStreamsArraySize() &gt; 0) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            outResetParam-&gt;setStreamNumbersArraySize(info-&gt;getStreamsArraySize());</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="namespaceinet.html#a9ad30be62e792f35add531d609e18d1f">uint</a> i = 0; i &lt; info-&gt;getStreamsArraySize(); i++) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                outResetParam-&gt;setStreamNumbers(i, (uint16_t)info-&gt;getStreams(i));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].streams.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        outResetParam-&gt;setStreamNumbersArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size());</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        uint16_t i = 0;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">for</span> (std::list&lt;uint16_t&gt;::iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.end(); ++it) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            outResetParam-&gt;setStreamNumbers(i, *it);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].streams.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            i++;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.clear();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    outResetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af2bfa081c6dcf4411e925e156155fff1">SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</a> + (outResetParam-&gt;getStreamNumbersArraySize() * 2));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> outResetParam;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>.</p>

</div>
</div>
<a id="a93ba6306d538f42833980406ab02c7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ba6306d538f42833980406ab02c7eb">&#9670;&nbsp;</a></span>makeRoomForTsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::makeRoomForTsn </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>uBit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;{</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tmakeRoomForTsn:&quot;</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; tsn=&quot;</span> &lt;&lt; tsn</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; length=&quot;</span> &lt;&lt; length</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; highestTsn=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="comment">// Reneging may not happen when it is turned off!</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    assert(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a15f4e2ba243fc1a3bd33bb2095e11c55">disableReneging</a> == <span class="keyword">false</span>);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="comment">// Get the highest TSN of the GapAck blocks.</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    uint32_t tryTsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>();</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    uint32_t sum = 0;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="keywordflow">while</span> ((sum &lt; length) &amp;&amp;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;           (tryTsn &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>()))</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        <span class="comment">// ====== New TSN is larger than highest one in GapList? ==============</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(tsn, tryTsn)) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            <span class="comment">// There is no space for a TSN that high!</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;makeRoomForTsn:&quot;</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; tsn=&quot;</span> &lt;&lt; tryTsn</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; tryTsn=&quot;</span> &lt;&lt; tryTsn &lt;&lt; <span class="stringliteral">&quot; -&gt; no space&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        }</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <span class="keyword">const</span> uint32_t oldSum = sum;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="comment">// ====== Iterate all streams to find chunk with TSN &quot;tryTsn&quot; =========</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>) {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            SctpReceiveStream *receiveStream = elem.second;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            <span class="comment">// ====== Get chunk to drop ========================================</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            SctpQueue *queue;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;            <span class="keywordflow">if</span> (uBit) {</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                queue = receiveStream-&gt;getUnorderedQ(); <span class="comment">// Look in unordered queue</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                queue = receiveStream-&gt;getOrderedQ(); <span class="comment">// Look in ordered queue</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            }</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            SctpDataVariables *chunk = queue-&gt;getChunk(tryTsn);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <span class="keywordflow">if</span> (chunk == <span class="keyword">nullptr</span>) { <span class="comment">// 12.06.08</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                EV_DETAIL &lt;&lt; tryTsn &lt;&lt; <span class="stringliteral">&quot; not found in orderedQ. Try deliveryQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                <span class="comment">// Chunk is already in delivery queue.</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                queue = receiveStream-&gt;getDeliveryQ();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                chunk = queue-&gt;getChunk(tryTsn);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            }</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160; </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;            <span class="comment">// ====== A chunk has been found -&gt; drop it ========================</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            <span class="keywordflow">if</span> (chunk != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                sum += chunk-&gt;len;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                <span class="keywordflow">if</span> (queue-&gt;deleteMsg(tryTsn)) {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                    EV_INFO &lt;&lt; tryTsn &lt;&lt; <span class="stringliteral">&quot; found and deleted&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>--;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> -= chunk-&gt;len / 8;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7dd0e82e1e8d91e0ef372b2e4ff95073">ssnGt</a>(receiveStream-&gt;getExpectedStreamSeqNum(), chunk-&gt;ssn)) {</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                        receiveStream-&gt;setExpectedStreamSeqNum(chunk-&gt;ssn);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                    }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160; </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                    <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                    iter-&gt;second.numChunksReneged++;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a119a47470e36e23fab4b2f97eb40a3db">roomSumRcvStreams</a> -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a557ff655e14942284308ed1832ab61b1">removeFromGapList</a>(tryTsn);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160; </div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;            }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; tryTsn &lt;&lt; <span class="stringliteral">&quot; not found in stream &quot;</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                        &lt;&lt; receiveStream-&gt;getStreamId() &lt;&lt; endl;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;            }</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        }</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="keywordflow">if</span> (sum == oldSum) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;            EV_INFO &lt;&lt; tryTsn &lt;&lt; <span class="stringliteral">&quot; not found in any stream&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        tryTsn--;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160; </div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>.</p>

</div>
</div>
<a id="ac25473db514f81df4ff09e11ee1220f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25473db514f81df4ff09e11ee1220f0">&#9670;&nbsp;</a></span>makeSsnTsnResetParameter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_parameter.html">SctpParameter</a> * inet::sctp::SctpAssociation::makeSsnTsnResetParameter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srsn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    SctpSsnTsnResetRequestParameter *resetParam;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    resetParam = <span class="keyword">new</span> SctpSsnTsnResetRequestParameter();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    resetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da49d2481bd61baef54d20e24f18b1035b">SSN_TSN_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    resetParam-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    resetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af1816a9d22c3f780777d311d6b8cf839">SCTP_SSN_TSN_RESET_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> resetParam;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>.</p>

</div>
</div>
<a id="abeb4ef5900ac3d0f78ea3b40e177c55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb4ef5900ac3d0f78ea3b40e177c55b">&#9670;&nbsp;</a></span>makeVarFromMsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> * inet::sctp::SctpAssociation::makeVarFromMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_chunk.html">SctpDataChunk</a> *&#160;</td>
          <td class="paramname"><em>datachunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;{</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    SctpDataVariables *chunk = <span class="keyword">new</span> SctpDataVariables();</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160; </div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    chunk-&gt;bbit = dataChunk-&gt;getBBit();</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    chunk-&gt;ebit = dataChunk-&gt;getEBit();</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    chunk-&gt;ibit = dataChunk-&gt;getIBit();</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    chunk-&gt;sid = dataChunk-&gt;getSid();</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    chunk-&gt;ssn = dataChunk-&gt;getSsn();</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    chunk-&gt;ppid = dataChunk-&gt;getPpid();</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    chunk-&gt;tsn = dataChunk-&gt;getTsn();</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">if</span> (!dataChunk-&gt;getUBit()) {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        chunk-&gt;ordered = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        chunk-&gt;ordered = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    }</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    SctpSimpleMessage *smsg = check_and_cast&lt;SctpSimpleMessage *&gt;(dataChunk-&gt;decapsulate());</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="comment">/*    auto&amp; smsg = dataChunk-&gt;Chunk::peek&lt;SctpSimpleMessage&gt;(Chunk::BackwardIterator(B(0)));*/</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    chunk-&gt;userData = smsg;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;smsg encapsulate? &quot;</span> &lt;&lt; smsg-&gt;getEncaps() &lt;&lt; endl;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <span class="keywordflow">if</span> (smsg-&gt;getEncaps())</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        chunk-&gt;len = smsg-&gt;getByteLength() * 8;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        chunk-&gt;len = smsg-&gt;getDataLen() * 8;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    chunk-&gt;firstSendTime = dataChunk-&gt;getFirstSendTime();</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;makeVarFromMsg: queuedBytes has been increased to &quot;</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordflow">return</span> chunk;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>.</p>

</div>
</div>
<a id="a5b06f7fa524394dbea1afc66b524461a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b06f7fa524394dbea1afc66b524461a">&#9670;&nbsp;</a></span>midGt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::midGt </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>mid1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>mid2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#a24fbb320a654205e2ac75840a8936af4">SCTP_TSN_GT</a>(mid1, mid2); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5158df85f55fda561f51b2b60dfb8f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5158df85f55fda561f51b2b60dfb8f4d">&#9670;&nbsp;</a></span>moveChunkToOtherPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::moveChunkToOtherPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>newPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;{</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;    <span class="comment">// ======= Remove chunk from outstanding bytes ===========================</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;countsAsOutstanding) {</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    }</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160; </div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <span class="comment">// ====== Prepare next destination =======================================</span></div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    chunk-&gt;hasBeenFastRetransmitted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    chunk-&gt;gapReports = 0;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    chunk-&gt;setNextDestination(newPath);</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160; </div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    <span class="comment">// ====== Rebook chunk on new path =======================================</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    assert(chunk-&gt;queuedOnPath-&gt;queuedBytes &gt;= chunk-&gt;booksize);</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    chunk-&gt;queuedOnPath-&gt;queuedBytes -= chunk-&gt;booksize;</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    chunk-&gt;queuedOnPath-&gt;statisticsPathQueuedSentBytes-&gt;record(chunk-&gt;queuedOnPath-&gt;queuedBytes);</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160; </div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    chunk-&gt;queuedOnPath = chunk-&gt;getNextDestinationPath();</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    chunk-&gt;queuedOnPath-&gt;queuedBytes += chunk-&gt;booksize;</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    chunk-&gt;queuedOnPath-&gt;statisticsPathQueuedSentBytes-&gt;record(chunk-&gt;queuedOnPath-&gt;queuedBytes);</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160; </div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <span class="comment">// ====== Perform bookkeeping ============================================</span></div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <span class="comment">// Check, if chunk_ptr-&gt;tsn is already in transmission queue.</span></div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;    <span class="comment">// This can happen in case multiple timeouts occur in succession.</span></div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab17d7618f344517419348720e5d617b0">checkAndInsertChunk</a>(chunk-&gt;tsn, chunk)) {</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; already in transmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;    }</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;        chunk-&gt;enqueuedInTransmissionQ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Inserting TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; into transmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        <span class="keyword">auto</span> q = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;        q-&gt;second += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;        <span class="keyword">auto</span> qb = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;        qb-&gt;second += chunk-&gt;booksize;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> += (chunk-&gt;booksize + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6428ad61e8f55afecf09d1019f3e3f1a">bytesToAddPerPeerChunk</a>);</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a>++;</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;        }</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    }</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a>) {</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a>;</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;    }</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a>) {</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a>;</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;    }</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160; </div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    <span class="comment">// T.D. 02.08.2011: The peer window may not be full anymore!</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> &gt; 0)) {</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    }</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160; </div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>);</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>.</p>

</div>
</div>
<a id="a0c26626c4b787b79efa63bda77993898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c26626c4b787b79efa63bda77993898">&#9670;&nbsp;</a></span>msgMustBeAbandoned()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::msgMustBeAbandoned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ordered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f67554c7367dd562d8bf849411020ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f67554c7367dd562d8bf849411020ff">&#9670;&nbsp;</a></span>nextChunkFitsIntoPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::nextChunkFitsIntoPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;{</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    int32_t nextStream = -1;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    SctpSendStream *stream;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160; </div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="comment">/* Only change stream if we don&#39;t have to finish a fragmented message */</span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa76162a98d1d0e4e81ea5605b90443c7">lastMsgWasFragment</a>)</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        nextStream = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        nextStream = (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">ssGetNextSid</a>)(path, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160; </div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">if</span> (nextStream == -1)</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    stream = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(nextStream)-&gt;second;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160; </div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordflow">if</span> (stream) {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        cPacketQueue *streamQ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <span class="keywordflow">if</span> (!stream-&gt;getUnorderedStreamQ()-&gt;isEmpty())</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;            streamQ = stream-&gt;getUnorderedStreamQ();</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!stream-&gt;getStreamQ()-&gt;isEmpty())</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;            streamQ = stream-&gt;getStreamQ();</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;        <span class="keywordflow">if</span> (streamQ) {</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            int32_t <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> = <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(check_and_cast&lt;SctpDataMsg *&gt;(streamQ-&gt;front())-&gt;getEncapsulatedPacket()-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;            <span class="comment">/* Check if next message would be fragmented */</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> &gt; (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a> + (int32_t)<a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                <span class="comment">/* Test if fragment fits */</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a> &gt;= (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a>)</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;            }</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160; </div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;            <span class="comment">/* Message doesn&#39;t need to be fragmented, just try if it fits */</span></div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> &lt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>)</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        }</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    }</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160; </div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a883c12c834ad3808324d3267b3e35ce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a883c12c834ad3808324d3267b3e35ce0">&#9670;&nbsp;</a></span>nonRenegablyAckChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::nonRenegablyAckChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t &amp;&#160;</td>
          <td class="paramname"><em>rttEstimation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structinet_1_1sctp_1_1_sctp_1_1_assoc_stat.html">Sctp::AssocStat</a> *&#160;</td>
          <td class="paramname"><em>assocStat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;{</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *lastPath = chunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    assert(lastPath != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="comment">// ====== Bookkeeping ====================================================</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="comment">// Subtract chunk size from sender buffer size</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> -= chunk-&gt;len / 8;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="comment">// Subtract chunk size from the queue size of its stream</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keyword">auto</span> streamIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(chunk-&gt;sid);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    assert(streamIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end());</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    SctpSendStream *stream = streamIterator-&gt;second;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    assert(stream != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    cPacketQueue *streamQ = (chunk-&gt;ordered == <span class="keyword">false</span>) ? stream-&gt;getUnorderedStreamQ() : stream-&gt;getStreamQ();</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    assert(streamQ != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;priority &gt; 0) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">queuedDroppableBytes</a> -= chunk-&gt;len / 8;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">if</span> ((chunk-&gt;hasBeenCountedAsNewlyAcked == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        (chunk-&gt;hasBeenAcked == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa11a63baa3a74d62110fc295b63c295b">cmtMovedChunksReduceCwnd</a> == <span class="keyword">false</span>) ||</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            (chunk-&gt;hasBeenMoved == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            chunk-&gt;hasBeenCountedAsNewlyAcked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            <span class="comment">// The chunk has not been acked before.</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="comment">// Therefore, its size may *once* be counted as newly acked.</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            lastPath-&gt;newlyAckedBytes += chunk-&gt;booksize;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        }</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    }</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    assert(chunk-&gt;queuedOnPath-&gt;queuedBytes &gt;= chunk-&gt;booksize);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    chunk-&gt;queuedOnPath-&gt;queuedBytes -= chunk-&gt;booksize;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    chunk-&gt;queuedOnPath-&gt;statisticsPathQueuedSentBytes-&gt;record(chunk-&gt;queuedOnPath-&gt;queuedBytes);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    chunk-&gt;queuedOnPath = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    assert(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">queuedSentBytes</a> &gt;= chunk-&gt;booksize);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">queuedSentBytes</a> -= chunk-&gt;booksize;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a4600f537d78d186cb74ffa96516233">statisticsQueuedSentBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">queuedSentBytes</a>);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">if</span> (assocStat) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        assocStat-&gt;ackedBytes += chunk-&gt;len / 8;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">if</span> ((assocStat) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">fairTimer</a>)) {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        assocStat-&gt;fairAckedBytes += chunk-&gt;len / 8;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    }</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">cmtSlowPathRTTUpdate</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        (lastPath-&gt;waitingForRTTCalculaton == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        (lastPath != sackPath) &amp;&amp;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        (chunk-&gt;numberOfTransmissions == 1) &amp;&amp;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        (chunk-&gt;hasBeenMoved == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        (chunk-&gt;hasBeenReneged == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        <span class="comment">// Slow Path Update</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        <span class="comment">// Remember this chunk&#39;s TSN and send time in order to update the</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="comment">// path&#39;s RTT using a stale SACK on its own path.</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        lastPath-&gt;tsnForRTTCalculation = chunk-&gt;tsn;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        lastPath-&gt;txTimeForRTTCalculation = chunk-&gt;sendTime;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        lastPath-&gt;waitingForRTTCalculaton = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="comment">// ====== RTT calculation ================================================</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk) == <span class="keyword">false</span>) &amp;&amp; (chunk-&gt;countsAsOutstanding)) {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <span class="keywordflow">if</span> ((chunk-&gt;numberOfTransmissions == 1) &amp;&amp; (lastPath == sackPath) &amp;&amp; (chunk-&gt;hasBeenMoved == <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            <span class="keyword">const</span> simtime_t timeDifference = simTime() - chunk-&gt;sendTime;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            <span class="keywordflow">if</span> ((timeDifference &lt; rttEstimation) || (rttEstimation == SIMTIME_MAX)) {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                rttEstimation = timeDifference;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        }</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="comment">// ====== Remove chunk pointer from ChunkMap =============================</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="comment">// The chunk still has to be remembered as acknowledged!</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7701b0a949f20e920b70f84f67597a5">ackChunk</a>(chunk, sackPath);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="comment">// ====== Remove chunk from transmission queue ===========================</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="comment">// Dequeue chunk, cause it has been acked</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(chunk-&gt;tsn)) {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#abec69d2ae66e927c510a5e027513c9ab">removeMsg</a>(chunk-&gt;tsn);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        chunk-&gt;enqueuedInTransmissionQ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <span class="keyword">auto</span> q = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        q-&gt;second -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <span class="keyword">auto</span> qb = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        qb-&gt;second -= chunk-&gt;booksize;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="comment">// ====== Remove chunk from retransmission queue =========================</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    chunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ac39ebd6639c60f3bf6b77e7d34b7be7d">getAndExtractChunk</a>(chunk-&gt;tsn);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;userData != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        <span class="keyword">delete</span> chunk-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_data_variables.html#a4493f6ca0cc1005125a362c7a8c16bbb">userData</a>;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keyword">delete</span> chunk;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked()</a>.</p>

</div>
</div>
<a id="a54d2511db0c09de0f3c270b24feae688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d2511db0c09de0f3c270b24feae688">&#9670;&nbsp;</a></span>numUsableStreams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::numUsableStreams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                          {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(testsid)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(testsid)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                sid = testsid;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: chose sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="aa0b7009628fae83ef262494a6e732db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b7009628fae83ef262494a6e732db9">&#9670;&nbsp;</a></span>orderedQueueEmptyOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::orderedQueueEmptyOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">auto</span> streamIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(sid);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    assert(streamIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end());</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> streamIterator-&gt;second-&gt;getStreamQ()-&gt;isEmpty();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>.</p>

</div>
</div>
<a id="a26dc7033ffc0543aecd5bc65cb64b394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26dc7033ffc0543aecd5bc65cb64b394">&#9670;&nbsp;</a></span>pathMapLargestSpace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::pathMapLargestSpace </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> l = (left-&gt;cwnd - left-&gt;outstandingBytes);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> r = (right-&gt;cwnd - right-&gt;outstandingBytes);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> l &gt; r;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="ac4c3ab9087db09897f5fc429bdf74248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c3ab9087db09897f5fc429bdf74248">&#9670;&nbsp;</a></span>pathMapLargestSpaceAndSSThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::pathMapLargestSpaceAndSSThreshold </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (left-&gt;ssthresh != right-&gt;ssthresh) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">return</span> left-&gt;ssthresh &gt; right-&gt;ssthresh;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> l = (left-&gt;cwnd - left-&gt;outstandingBytes);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> r = (right-&gt;cwnd - right-&gt;outstandingBytes);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> l &gt; r;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="affba0d21451102b22a4100074337530b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affba0d21451102b22a4100074337530b">&#9670;&nbsp;</a></span>pathMapLargestSSThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::pathMapLargestSSThreshold </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> left-&gt;ssthresh &gt; right-&gt;ssthresh;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="acf9475dc172f47d336c2b9f44175e966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf9475dc172f47d336c2b9f44175e966">&#9670;&nbsp;</a></span>pathMapRandomized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::pathMapRandomized </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> left-&gt;sendAllRandomizer &lt; right-&gt;sendAllRandomizer;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a0c09cc4a87fde8083748d7f353a39154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c09cc4a87fde8083748d7f353a39154">&#9670;&nbsp;</a></span>pathMapSmallestLastTransmission()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::pathMapSmallestLastTransmission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> left-&gt;lastTransmission &lt; right-&gt;lastTransmission;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a76c431145759442b35919279005fe7dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76c431145759442b35919279005fe7dc">&#9670;&nbsp;</a></span>pathStatusIndication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::pathStatusIndication </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;{</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    Indication *msg = <span class="keyword">new</span> Indication(<span class="stringliteral">&quot;StatusInfo&quot;</span>, <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1accea7f9a4fec30b52a2599297e5b875c">SCTP_I_STATUS</a>);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="keyword">auto</span>&amp; cmd = msg-&gt;addTag&lt;SctpStatusReq&gt;();</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    cmd-&gt;setPathId(path-&gt;remoteAddress);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    cmd-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    cmd-&gt;setActive(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">status</a>);</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">status</a>) {</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;        <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        iter-&gt;second.numPathFailures++;</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    }</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp</a>(msg);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0df44d3ac952adb270964d77ac465624">pmClearPathCounter()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>.</p>

</div>
</div>
<a id="a38522cbaf33adaa78d41ab707863a7ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38522cbaf33adaa78d41ab707863a7ec">&#9670;&nbsp;</a></span>pathStreamSchedulerManual()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::pathStreamSchedulerManual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                                                                                              {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">if</span> (path == iterator-&gt;second)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        pathNo++;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: about to send on &quot;</span> &lt;&lt; pathNo + 1 &lt;&lt; <span class="stringliteral">&quot;. path&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    testsid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        testsid = (testsid + 1) % <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90372394cb50a5c205e524a4e06b5de1">ssStreamToPathMap</a>[testsid] == (int32_t)pathNo) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            sid = testsid;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: chose sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a> = sid;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    } <span class="keywordflow">while</span> (sid == -1 &amp;&amp; testsid != (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;streamScheduler sid=&quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot; lastStream=&quot;</span> &lt;&lt; lastsid &lt;&lt; <span class="stringliteral">&quot; outboundStreams=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> &lt;&lt; <span class="stringliteral">&quot; next=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8e4f8d0a02ff10700bcca64cca35da74">SctpAssociation::pathStreamSchedulerMapToPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    int32_t thisPath = -1;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    int32_t workingPaths = 0;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (myPath-&gt;activePath) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (myPath == path) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                thisPath = workingPaths;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            workingPaths++;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (thisPath == -1) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;THIS PATH IS NOT WORKING???&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    int32_t sid = -1;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">for</span> (SctpSendStreamMap::const_iterator iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.begin();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;         iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end(); iterator++)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        SctpSendStream *stream = iterator-&gt;second;</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a8e4f8d0a02ff10700bcca64cca35da74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4f8d0a02ff10700bcca64cca35da74">&#9670;&nbsp;</a></span>pathStreamSchedulerMapToPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::pathStreamSchedulerMapToPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                assert(sid == -1);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                sid = stream-&gt;getStreamId();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;pathStreamSchedulerMapToPath sid=&quot;</span> &lt;&lt; sid</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; path=&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; (path &quot;</span> &lt;&lt; (1 + thisPath)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; of &quot;</span> &lt;&lt; workingPaths &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;} <span class="comment">// namespace sctp</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;} <span class="comment">// namespace inet</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a9ac508d3b527b24a06247b42a580c9d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac508d3b527b24a06247b42a580c9d0">&#9670;&nbsp;</a></span>peekAbandonedChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> * inet::sctp::SctpAssociation::peekAbandonedChunk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;{</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    SctpDataVariables *retChunk = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4333912695504ed7796c6c892f9306ad">prMethod</a> != 0 &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.empty()) {</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>) {</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;            SctpDataVariables *chunk = elem.second;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160; </div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;            <span class="keywordflow">if</span> (chunk-&gt;getLastDestinationPath() == path) {</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                <span class="comment">/* Apply policies if necessary */</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                <span class="keywordflow">if</span> (!chunk-&gt;hasBeenAbandoned &amp;&amp; !chunk-&gt;hasBeenAcked &amp;&amp;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                    (chunk-&gt;hasBeenFastRetransmitted || chunk-&gt;hasBeenTimerBasedRtxed))</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                {</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                    <span class="keywordflow">switch</span> (chunk-&gt;prMethod) {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0a9d1baba3f8225cf159988b9930af975e">PR_TTL</a>:</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;                            <span class="keywordflow">if</span> (chunk-&gt;expiryTime &gt; 0 &amp;&amp; chunk-&gt;expiryTime &lt;= simTime()) {</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                                <span class="keywordflow">if</span> (!chunk-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; will be abandoned&quot;</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;                                              &lt;&lt; <span class="stringliteral">&quot; (expiryTime=&quot;</span> &lt;&lt; chunk-&gt;expiryTime</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;                                              &lt;&lt; <span class="stringliteral">&quot; sendTime=&quot;</span> &lt;&lt; chunk-&gt;sendTime &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;                                    chunk-&gt;hasBeenAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">SCTP_I_ABANDONED</a>);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                                }</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                            }</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160; </div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0aa47c2b0c1d0a86d4969d8bcdc86f0ae5">PR_RTX</a>:</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;                            <span class="keywordflow">if</span> (chunk-&gt;hasBeenFastRetransmitted &amp;&amp; chunk-&gt;numberOfRetransmissions &gt;= chunk-&gt;allowedNoRetransmissions) {</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                                <span class="keywordflow">if</span> (!chunk-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;                                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;peekAbandonedChunk: TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; will be abandoned&quot;</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;                                              &lt;&lt; <span class="stringliteral">&quot; (maxRetransmissions=&quot;</span> &lt;&lt; chunk-&gt;allowedNoRetransmissions &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                                    chunk-&gt;hasBeenAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">SCTP_I_ABANDONED</a>);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                                }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                            }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                    }</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                <span class="keywordflow">if</span> (chunk-&gt;hasBeenAbandoned &amp;&amp; chunk-&gt;sendForwardIfAbandoned) {</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                    retChunk = chunk;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                }</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;            }</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        }</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <span class="keywordflow">return</span> retChunk;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a1bebbd75454a3f12a6cf9448c777854d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bebbd75454a3f12a6cf9448c777854d">&#9670;&nbsp;</a></span>peekOutboundDataMsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_msg.html">SctpDataMsg</a>* inet::sctp::SctpAssociation::peekOutboundDataMsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1939cb287be0149ad2e2207b5104388f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1939cb287be0149ad2e2207b5104388f">&#9670;&nbsp;</a></span>performStateTransition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::performStateTransition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemements the pure SCTP state machine. </p>
<div class="fragment"><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;{</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    EV_TRACE &lt;&lt; <span class="stringliteral">&quot;performStateTransition\n&quot;</span>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">if</span> (event == <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>) { <span class="comment">// e.g. discarded segment</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Staying in state: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) &lt;&lt; <span class="stringliteral">&quot; (no FSM event)\n&quot;</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// state machine</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    int32_t oldState = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>:</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a15d11aaf672ea8e4970304f031c4a165">SCTP_E_OPEN_PASSIVE</a>:</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab4b5e84e646985a9faa2a4f88e031b16">SCTP_E_ASSOCIATE</a>:</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4951ad537b8b030e199c8301a43beb44">SCTP_E_RCV_INIT</a>:</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540">SCTP_E_RCV_VALID_COOKIE_ECHO</a>:</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">SCTP_E_CLOSE</a>:</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>:</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7d78c14307263b403b73da4009a90daf">SCTP_E_RCV_INIT_ACK</a>:</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540">SCTP_E_RCV_VALID_COOKIE_ECHO</a>:</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>:</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">SCTP_E_RCV_COOKIE_ACK</a>:</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">//                    sendEstabIndicationToApp();</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>:</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>:</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">SCTP_E_CLOSE</a>:</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159">SCTP_E_SHUTDOWN</a>:</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a91cd08ad34c4800733b7cc105f863c92">SCTP_E_STOP_SENDING</a>:</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abd7b1dad02570bd8bebe2a87175f94d8">stopSending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92e36a97d90067ad9934694eff0358fe">lastTsn</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8">SCTP_E_RCV_SHUTDOWN</a>:</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160; </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>:</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">SCTP_E_NO_MORE_OUTSTANDING</a>:</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">SCTP_S_SHUTDOWN_SENT</a>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8">SCTP_E_RCV_SHUTDOWN</a>:</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a30c6382a4c5d5ca7e759536f5e50c8a2">SCTP_E_RCV_SHUTDOWN_ACK</a>:</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>:</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">SCTP_E_NO_MORE_OUTSTANDING</a>:</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159">SCTP_E_SHUTDOWN</a>:</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">SCTP_S_SHUTDOWN_SENT</a>:</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a30c6382a4c5d5ca7e759536f5e50c8a2">SCTP_E_RCV_SHUTDOWN_ACK</a>:</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8">SCTP_E_RCV_SHUTDOWN</a>:</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>:</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">SCTP_E_RCV_ABORT</a>:</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3afa663adb7622f9432e89fa0aa1dc5dcb">SCTP_E_RCV_SHUTDOWN_COMPLETE</a>:</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                    FSM_Goto((*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>), <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span> (oldState != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Transition: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(oldState) &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState())</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;    (event was: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">eventName</a>(event) &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(oldState) &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                  &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) &lt;&lt; <span class="stringliteral">&quot;  (on &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">eventName</a>(event) &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState());</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;Staying in state: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState())</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; (event was: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">eventName</a>(event) &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (event == <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a> &amp;&amp; oldState == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>)</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">if</span> (oldState != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;return false because oldState=&quot;</span> &lt;&lt; oldState &lt;&lt; <span class="stringliteral">&quot; and new state is closed\n&quot;</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>.</p>

</div>
</div>
<a id="a0df44d3ac952adb270964d77ac465624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df44d3ac952adb270964d77ac465624">&#9670;&nbsp;</a></span>pmClearPathCounter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::pmClearPathCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;{</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> = 0;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    path-&gt;pathErrorCount = 0;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">if</span> (path-&gt;activePath == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        <span class="comment">/* notify the application */</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication</a>(path, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; state changes from INACTIVE to ACTIVE !!!&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;        path-&gt;activePath = <span class="keyword">true</span>; <span class="comment">// Mark path as active!</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    }</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="ab5a9c6759c51b9fe512fc0d7ffd793c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a9c6759c51b9fe512fc0d7ffd793c1">&#9670;&nbsp;</a></span>pmDataIsSentOn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::pmDataIsSentOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;{</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="keywordflow">if</span> ((!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6d50ef5dd10f9a335470bb3ea0cd7fe4">sendHeartbeatsOnActivePaths</a>) || (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">getEnableHeartbeats</a>())) {</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;        <span class="comment">/* restart hb_timer on this path */</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">getEnableHeartbeats</a>()) {</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;            path-&gt;heartbeatTimeout = path-&gt;pathRto + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a030c456daf728b814f1559331ae5e4fa">getHbInterval</a>();</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;HeartbeatTimer, path-&gt;heartbeatTimeout);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Restarting HB timer on path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; to expire at time &quot;</span> &lt;&lt; path-&gt;heartbeatTimeout &lt;&lt; endl;</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;        }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    }</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    path-&gt;cwndTimeout = path-&gt;pathRto;</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;CwndTimer);</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;CwndTimer, path-&gt;cwndTimeout);</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Restarting CWND timer on path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; to expire at time &quot;</span> &lt;&lt; path-&gt;cwndTimeout &lt;&lt; endl;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a6ce35f3ac010bf94dafc5fd34d4757eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce35f3ac010bf94dafc5fd34d4757eb">&#9670;&nbsp;</a></span>pmRttMeasurement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::pmRttMeasurement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const simtime_t &amp;&#160;</td>
          <td class="paramname"><em>rttEstimation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;{</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="keywordflow">if</span> (rttEstimation &lt; SIMTIME_MAX) {</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        <span class="keywordflow">if</span> (simTime() &gt; path-&gt;rttUpdateTime) {</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;            <span class="keywordflow">if</span> (path-&gt;rttUpdateTime == SIMTIME_ZERO) {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                path-&gt;rttvar = rttEstimation.dbl() / 2;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                path-&gt;srtt = rttEstimation;</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                path-&gt;pathRto = 3.0 * rttEstimation.dbl();</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                path-&gt;pathRto = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pathRto.dbl(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">getRtoMax</a>()), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0fd064155c57364f1af7e69b870bc9d6">getRtoMin</a>());</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;            }</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                path-&gt;rttvar = (1.0 - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rtoBeta&quot;</span>).doubleValue()) * path-&gt;rttvar.dbl()</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                    + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rtoBeta&quot;</span>).doubleValue() * fabs(path-&gt;srtt.dbl() - rttEstimation.dbl());</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                path-&gt;srtt = (1.0 - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rtoAlpha&quot;</span>).doubleValue()) * path-&gt;srtt.dbl()</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                    + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rtoAlpha&quot;</span>).doubleValue() * rttEstimation.dbl();</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                path-&gt;pathRto = path-&gt;srtt.dbl() + 4.0 * path-&gt;rttvar.dbl();</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                path-&gt;pathRto = <a class="code" href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">max</a>(<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pathRto.dbl(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">getRtoMax</a>()), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0fd064155c57364f1af7e69b870bc9d6">getRtoMin</a>());</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;            }</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            <span class="comment">// RFC 2960, sect. 6.3.1: new RTT measurements SHOULD be made no more</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;            <span class="comment">// than once per round-trip.</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;            path-&gt;rttUpdateTime = simTime() + path-&gt;srtt;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;            path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;            path-&gt;statisticsPathRTT-&gt;record(rttEstimation);</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;        }</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    }</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="a3b17b3c35f7f3bae659ff5d2e0e27cdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b17b3c35f7f3bae659ff5d2e0e27cdd">&#9670;&nbsp;</a></span>pmStartPathManagement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::pmStartPathManagement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flow control. </p>
<div class="fragment"><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;{</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path;</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <span class="keyword">const</span> NetworkInterface *rtie;</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    int32_t i = 0;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <span class="comment">/* populate path structures !!! */</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <span class="comment">/* set a high start value...this is appropriately decreased later (below) */</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">assocPmtu</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a>;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;        path = elem.second;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        path-&gt;pathErrorCount = 0;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;        rtie = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;<a class="code" href="classinet_1_1_i_routing_table.html#ac58e47cf1dbf907fa0432ed0028c7fff">getOutputInterfaceForDestination</a>(path-&gt;remoteAddress);</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;        path-&gt;pmtu = rtie-&gt;<a class="code" href="classinet_1_1_network_interface.html#a18512a9c641d908462ccdc46cc934dc2">getMtu</a>();</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Path MTU of Interface &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; path-&gt;pmtu &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;        <span class="keywordflow">if</span> (path-&gt;pmtu &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">assocPmtu</a>) {</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">assocPmtu</a> = path-&gt;pmtu;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a> &gt; path-&gt;pmtu - <a class="code" href="_sctp_association_8h.html#a294612afcb62d33531f390a08f0c3209">IP_HEADER_LENGTH</a> - <a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a> - <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>) {</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a> = path-&gt;pmtu - <a class="code" href="_sctp_association_8h.html#a294612afcb62d33531f390a08f0c3209">IP_HEADER_LENGTH</a> - <a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a> - <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;        }</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters</a>(path);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        path-&gt;pathRto = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aae9adf88872652564ddc0d7108c9398c">getRtoInitial</a>();</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        path-&gt;srtt = path-&gt;pathRto;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;        path-&gt;rttvar = SIMTIME_ZERO;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        <span class="comment">/* from now on we may have one update per RTO/SRTT */</span></div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        path-&gt;rttUpdateTime = SIMTIME_ZERO;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160; </div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;        path-&gt;partialBytesAcked = 0;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        path-&gt;outstandingBytes = 0;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        path-&gt;activePath = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        <span class="comment">// Timer probably not running, but stop it anyway I.R.</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160; </div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        <span class="keywordflow">if</span> (path-&gt;remoteAddress == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">initialPrimaryPath</a> &amp;&amp; !path-&gt;confirmed) {</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;            path-&gt;confirmed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        EV_DETAIL &lt;&lt; getFullPath() &lt;&lt; <span class="stringliteral">&quot; numberOfLocalAddresses=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.size() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">getEnableHeartbeats</a>()) {</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;            path-&gt;heartbeatTimeout = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a030c456daf728b814f1559331ae5e4fa">getHbInterval</a>() + i * path-&gt;pathRto;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;            <span class="keywordflow">if</span> (!path-&gt;confirmed)</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat</a>(path);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;HeartbeatTimer, path-&gt;heartbeatTimeout);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;HeartbeatIntervalTimer, path-&gt;heartbeatIntervalTimeout);</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;        }</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;        path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        i++;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    }</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a9582c8bb6f4973c45deaee7bedb976d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9582c8bb6f4973c45deaee7bedb976d3">&#9670;&nbsp;</a></span>preanalyseAppCommandEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::preanalyseAppCommandEvent </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>commandCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps app command codes (msg kind of app command msgs) to SCTP_E_xxx event codes. </p>
<div class="fragment"><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;{</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">switch</span> (commandCode) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdab694e16feea5cac24c59c66a9a66df07">SCTP_C_ASSOCIATE</a>:</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab4b5e84e646985a9faa2a4f88e031b16">SCTP_E_ASSOCIATE</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda20fb42486ba2dced5d4666a9e70b288d">SCTP_C_OPEN_PASSIVE</a>:</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a15d11aaf672ea8e4970304f031c4a165">SCTP_E_OPEN_PASSIVE</a>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda9946abcfe42f08ee931a61702da3dbb0">SCTP_C_SEND</a>:</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdae85e2568e855de4b367b2d52d91bc615">SCTP_C_CLOSE</a>:</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">SCTP_E_CLOSE</a>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda01fd609688085ab357d444956c958da3">SCTP_C_ABORT</a>:</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda55d98a3165e2822df8a529a354e3238f">SCTP_C_RECEIVE</a>:</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1a582149c1b7607c37eb22fc0e22fd4c">SCTP_E_RECEIVE</a>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda7a6c60ed84414d930d2eddb352551ab9">SCTP_C_SEND_UNORDERED</a>:</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda87ed3b0b287e0613037c53b54c8bfdac">SCTP_C_SEND_ORDERED</a>:</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdaf466b03877e0b9ba0bf42c78a8bb48ed">SCTP_C_PRIMARY</a>:</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0787ad146854283b81ec9adac5186cb1">SCTP_E_PRIMARY</a>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda42601c1d54b267b993596568486b40c1">SCTP_C_QUEUE_MSGS_LIMIT</a>:</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab16fde9b626b7cb2b6b965de7e8edccd">SCTP_E_QUEUE_MSGS_LIMIT</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda3ec64cfc3dc178de53f0d04dbeb97851">SCTP_C_QUEUE_BYTES_LIMIT</a>:</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4e19a42cf0a4e213646aa87843e65267">SCTP_E_QUEUE_BYTES_LIMIT</a>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda591096550310097ab8fbad2bc8e08ba0">SCTP_C_SHUTDOWN</a>:</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159">SCTP_E_SHUTDOWN</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdaeec02eb1d8486459c966f9782b24c5fa">SCTP_C_NO_OUTSTANDING</a>:</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7fbf555d28b43b3e2d6bb3e4afdd49e7">SCTP_E_SEND_SHUTDOWN_ACK</a>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda54b67c143034075242acf43abcc658eb">SCTP_C_STREAM_RESET</a>:</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acd609e7c59b9751f3d806d4b0057df00">SCTP_E_STREAM_RESET</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda6c1c367443e3751b12e0ddcecf0710ef">SCTP_C_RESET_ASSOC</a>:</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3af6811b1e92009e65a2a114c6a8a35625">SCTP_E_RESET_ASSOC</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdae938f7487c0b3e0598414cf643fb30dd">SCTP_C_ADD_STREAMS</a>:</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a9a6164811faafd189e6ee3c60889b636">SCTP_E_ADD_STREAMS</a>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda3c664a962a05f30d4d9ddf9d54b351d5">SCTP_C_SEND_ASCONF</a>:</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a682c30b47f3f3aaea043f036f1dd1324">SCTP_E_SEND_ASCONF</a>; <span class="comment">// Needed for multihomed NAT</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda6e72bf5712709ddd77bdc5bddfdad282">SCTP_C_SET_STREAM_PRIO</a>:</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab63af511683389d52c86429bc24127fe">SCTP_E_SET_STREAM_PRIO</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdac326e8263fb2ab730dc9be7771f3522c">SCTP_C_ACCEPT</a>:</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0673c78aa8200a369e19b12a4201db67">SCTP_E_ACCEPT</a>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdac026306800eda6fb439a5ce8162137f3">SCTP_C_ACCEPT_SOCKET_ID</a>:</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac248d90be39c398d316ba7bc0649b53a">SCTP_E_ACCEPT_SOCKET_ID</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda1a6df3a0e981b5fc96ca8fe175a5f6ba">SCTP_C_SET_RTO_INFO</a>:</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a72e72ec5808ecc8c9e3bd676f782e727">SCTP_E_SET_RTO_INFO</a>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;commandCode=&quot;</span> &lt;&lt; commandCode &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown message kind in app command&quot;</span>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="ad7690d70f39aa4fc970d20b645b0bf5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7690d70f39aa4fc970d20b645b0bf5a">&#9670;&nbsp;</a></span>printAssocBrief()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::printAssocBrief </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: prints local/remote addr/port and app gate index/assocId. </p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Connection &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;              &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;  on app[&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a> &lt;&lt; <span class="stringliteral">&quot;],assocId=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;  in &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>.</p>

</div>
</div>
<a id="a3de0a8daab073eac7176ee5686353023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de0a8daab073eac7176ee5686353023">&#9670;&nbsp;</a></span>printOutstandingTsns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::printOutstandingTsns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acb9a866d7277ea4d7033a029ed26322b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb9a866d7277ea4d7033a029ed26322b">&#9670;&nbsp;</a></span>printSctpPathMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::printSctpPathMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Sctp PathMap:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;:  osb=&quot;</span> &lt;&lt; path-&gt;outstandingBytes</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>.</p>

</div>
</div>
<a id="a478b11b555f96e6ad19b8f2317355dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478b11b555f96e6ad19b8f2317355dc8">&#9670;&nbsp;</a></span>printSegmentBrief()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::printSegmentBrief </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *&#160;</td>
          <td class="paramname"><em>sctpmsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: prints important header fields. </p>
<div class="fragment"><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    EV_STATICCONTEXT;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; sctpmsg-&gt;getSrcPort() &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; sctpmsg-&gt;getDestPort() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;initTag &quot;</span> &lt;&lt; sctpmsg-&gt;getVTag() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a03e0f252a93f17ca95cd440350384cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e0f252a93f17ca95cd440350384cfb">&#9670;&nbsp;</a></span>process_ABORT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_ABORT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;SctpAssociationEventProc:process_ABORT; assoc=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>:</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>());</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a564753009f1815d4b34f23485f7538a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a564753009f1815d4b34f23485f7538a9">&#9670;&nbsp;</a></span>process_ASSOCIATE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_ASSOCIATE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    L3Address lAddr, rAddr;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    SctpOpenReq *openCmd = check_and_cast&lt;SctpOpenReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keyword">auto</span> request = check_and_cast&lt;Request *&gt;(msg);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a> = request-&gt;getTags();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; interfaceReq = <a class="code" href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a>.findTag&lt;<a class="code" href="_i_udp-gates_8txt.html#a8d28e59a0d202e69c382d34ad7080937">InterfaceReq</a>&gt;();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (interfaceReq &amp;&amp; interfaceReq-&gt;getInterfaceId() != -1) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a74b6d3c440930004322d57cd34db1b66">setInterfaceId</a>(interfaceReq-&gt;getInterfaceId());</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationEventProc:process_ASSOCIATE\n&quot;</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>:</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getContextPointer() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a4361b816d6c6bbb111f9f8aecdda0519">setSocketOptions</a>((SocketOptions *)(msg-&gt;getContextPointer()));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation</a>(openCmd);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad35a598f6ff288f4cb1e419c9df6721c">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a> = openCmd-&gt;getLocalAddresses();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;process_ASSOCIATE: number of local addresses=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>.size() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            lAddr = openCmd-&gt;getLocalAddresses().front();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">if</span> (!(openCmd-&gt;getRemoteAddresses().empty())) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a> = openCmd-&gt;getRemoteAddresses();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                rAddr = openCmd-&gt;getRemoteAddresses().front();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                rAddr = openCmd-&gt;getRemoteAddr();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> = openCmd-&gt;getLocalPort();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> = openCmd-&gt;getRemotePort();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;open active with fd=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> &lt;&lt; <span class="stringliteral">&quot; and assocId=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> = openCmd-&gt;getFd();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">streamReset</a> = openCmd-&gt;getStreamReset();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4333912695504ed7796c6c892f9306ad">prMethod</a> = openCmd-&gt;getPrMethod();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a29e541b64dbb33df29d39fa29cbe610e">numRequests</a> = openCmd-&gt;getNumRequests();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1256a4a71c0dc47eb276f672646d2f1c">appLimited</a> = openCmd-&gt;getAppLimited();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">if</span> (rAddr.isUnspecified() || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> == 0)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error processing command OPEN_ACTIVE: remote address and port must be specified&quot;</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> == 0) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a4a66566d533bfd1d9d74f8b79af722fc">getEphemeralPort</a>();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;OPEN: &quot;</span> &lt;&lt; lAddr &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; rAddr &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">updateSockPair</a>(<span class="keyword">this</span>, lAddr, rAddr, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit</a>();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error processing command OPEN_ACTIVE: connection already exists&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="ac1e02c1e760ba709d9fd21cc7700a3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e02c1e760ba709d9fd21cc7700a3a3">&#9670;&nbsp;</a></span>process_CLOSE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_CLOSE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;SctpAssociationEventProc:process_CLOSE; assoc=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>:</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>());</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown</a>();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>:</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>() == 0) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6a5d1aedf77cb2ba209fb0fd9584234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a5d1aedf77cb2ba209fb0fd9584234">&#9670;&nbsp;</a></span>process_OPEN_PASSIVE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_OPEN_PASSIVE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    L3Address lAddr;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    int16_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    SctpOpenReq *openCmd = check_and_cast&lt;SctpOpenReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;SctpAssociationEventProc:process_OPEN_PASSIVE\n&quot;</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>:</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">if</span> (msg-&gt;getContextPointer() != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a4361b816d6c6bbb111f9f8aecdda0519">setSocketOptions</a>((SocketOptions *)(msg-&gt;getContextPointer()));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation</a>(openCmd);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f134c96ca120472e237d3670baac965">fork</a> = openCmd-&gt;getFork();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a> = openCmd-&gt;getLocalAddresses();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;process_OPEN_PASSIVE: number of local addresses=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>.size() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            lAddr = openCmd-&gt;getLocalAddresses().front();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> = openCmd-&gt;getLocalPort();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> = openCmd-&gt;getInboundStreams();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> = openCmd-&gt;getOutboundStreams();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb61c1febb0d9f4b1d539c716e31c893">listening</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> = openCmd-&gt;getFd();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;open listening socket with fd=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> &lt;&lt; <span class="stringliteral">&quot; and assocId=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;messageAcceptLimit&quot;</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">streamReset</a> = openCmd-&gt;getStreamReset();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a29e541b64dbb33df29d39fa29cbe610e">numRequests</a> = openCmd-&gt;getNumRequests();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32261db46fc12453ad0cc633a3b22480">messagesToPush</a> = openCmd-&gt;getMessagesToPush();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> == 0)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error processing command OPEN_PASSIVE: local port must be specified&quot;</span>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Assoc &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;::Starting to listen on: &quot;</span> &lt;&lt; lAddr &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">updateSockPair</a>(<span class="keyword">this</span>, lAddr, L3Address(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>, 0);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error processing command OPEN_PASSIVE: connection already exists&quot;</span>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a3dc44ea09120834825153b8a262df804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dc44ea09120834825153b8a262df804">&#9670;&nbsp;</a></span>process_PRIMARY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_PRIMARY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    SctpPathInfo *pinfo = check_and_cast&lt;SctpPathInfo *&gt;(sctpCommand);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(pinfo-&gt;getRemoteAddress()));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="afdb2753ac21e1104902a72585cf0cedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb2753ac21e1104902a72585cf0cedc">&#9670;&nbsp;</a></span>process_QUEUE_BYTES_LIMIT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_QUEUE_BYTES_LIMIT </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keyword">const</span> SctpInfoReq *qinfo = check_and_cast&lt;const SctpInfoReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> = qinfo-&gt;getText();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a7e60e9d98ca72737507a38e360be8604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e60e9d98ca72737507a38e360be8604">&#9670;&nbsp;</a></span>process_QUEUE_MSGS_LIMIT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_QUEUE_MSGS_LIMIT </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue Management. </p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">const</span> SctpInfoReq *qinfo = check_and_cast&lt;const SctpInfoReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">queueLimit</a> = qinfo-&gt;getText();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a758c3dc1fd68c44879b2442e42368a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a758c3dc1fd68c44879b2442e42368a83">&#9670;&nbsp;</a></span>process_RCV_Message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::process_RCV_Message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *&#160;</td>
          <td class="paramname"><em>sctpmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// ====== Header checks ==================================================</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    EV_DEBUG &lt;&lt; getFullPath() &lt;&lt; <span class="stringliteral">&quot; SctpAssociationRcvMessage:process_RCV_Message&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; remoteAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a69408b8a0086c9f6b05b93a363e8166f">pktDropSent</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(src);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">const</span> uint16_t srcPort = sctpmsg-&gt;getDestPort();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">const</span> uint16_t destPort = sctpmsg-&gt;getSrcPort();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">const</span> uint32_t numberOfChunks = sctpmsg-&gt;getSctpChunksArraySize();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;numberOfChunks=&quot;</span> &lt;&lt; numberOfChunks &lt;&lt; endl;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//    state-&gt;sctpmsg = sctpmsg-&gt;dup();</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">bool</span> authenticationNecessary = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a230f256d8477a28c11b80d23fa372412">sackAlreadySent</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a> &amp;&amp;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a> &amp;&amp;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a> &amp;&amp;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a> &amp;&amp;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        simTime() &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a81d9796afe50280bd5d7b9305320cff1">lastAssocThroughputTime</a> + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7407ddfc7a56a3b33d19f70b6b1ad5dc">throughputInterval</a> &amp;&amp;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">assocThroughputVector</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab11d47c00a91f6879c0852e110ef9cc2">assocThroughput</a> / (simTime() - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a81d9796afe50280bd5d7b9305320cff1">lastAssocThroughputTime</a>) / 1000);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a81d9796afe50280bd5d7b9305320cff1">lastAssocThroughputTime</a> = simTime();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab11d47c00a91f6879c0852e110ef9cc2">assocThroughput</a> = 0;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab11d47c00a91f6879c0852e110ef9cc2">assocThroughput</a> += <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpmsg-&gt;getChunkLength()).get();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// ====== Handle chunks ==================================================</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">bool</span> trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">bool</span> sendAllowed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">bool</span> dupReceived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">bool</span> dataChunkReceived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">bool</span> shutdownCalled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">bool</span> sackWasReceived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; numberOfChunks; i++) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">//        SctpChunk *header = (SctpChunk *)(sctpmsg-&gt;getSctpChunks(0));</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        SctpChunk *header = sctpmsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keyword">const</span> uint8_t <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = header-&gt;getSctpChunkType();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Header length: &quot;</span> &lt;&lt; header-&gt;getByteLength() &lt;&lt; endl;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a>) &amp;&amp;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">ABORT</a>) &amp;&amp;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764">ERRORTYPE</a>) &amp;&amp;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            (sctpmsg-&gt;getVTag() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>))</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            EV_WARN &lt;&lt; <span class="stringliteral">&quot; VTag &quot;</span> &lt;&lt; sctpmsg-&gt;getVTag() &lt;&lt; <span class="stringliteral">&quot; incorrect. Should be &quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> &lt;&lt; <span class="stringliteral">&quot; localVTag=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> (authenticationNecessary) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a>) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;AUTH received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="keyword">auto</span> authChunk = check_and_cast&lt;SctpAuthenticationChunk *&gt;(header);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">if</span> (authChunk-&gt;getHMacIdentifier() != 1) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa5b2e2571b843377fea7551411879be7">sendHMacError</a>(authChunk-&gt;getHMacIdentifier());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    it-&gt;second.numAuthChunksRejected++;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//                    delete authChunk;</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (authChunk-&gt;getHMacOk() == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <span class="keyword">delete</span> authChunk;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    it-&gt;second.numAuthChunksRejected++;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                authenticationNecessary = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                it-&gt;second.numAuthChunksAccepted++;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//                delete authChunk;</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>)) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a>: {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;INIT received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keyword">auto</span> initChunk = check_and_cast&lt;SctpInitChunk *&gt;(header);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">if</span> ((initChunk-&gt;getNoInStreams() != 0) &amp;&amp;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    (initChunk-&gt;getNoOutStreams() != 0) &amp;&amp;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    (initChunk-&gt;getInitTag() != 0))</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived</a>(initChunk, srcPort, destPort);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                i = numberOfChunks - 1;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//                delete initChunk;</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">INIT_ACK</a>:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;INIT_ACK received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keyword">auto</span> initAckChunk = check_and_cast&lt;SctpInitAckChunk *&gt;(header);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    <span class="keywordflow">if</span> ((initAckChunk-&gt;getNoInStreams() != 0) &amp;&amp;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        (initAckChunk-&gt;getNoOutStreams() != 0) &amp;&amp;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        (initAckChunk-&gt;getInitTag() != 0))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived</a>(initAckChunk);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (initAckChunk-&gt;getInitTag() == 0) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    i = numberOfChunks - 1;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">//                    delete initAckChunk;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;INIT_ACK will be ignored&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">COOKIE_ECHO</a>: {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;COOKIE_ECHO received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keyword">auto</span> cookieEchoChunk = check_and_cast&lt;SctpCookieEchoChunk *&gt;(header);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived</a>(cookieEchoChunk, src);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">//                delete cookieEchoChunk;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b">COOKIE_ACK</a>:</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;COOKIE_ACK received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    check_and_cast&lt;SctpCookieAckChunk *&gt;(header);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">//                    delete cookieAckChunk;</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;DATA received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;DATA in state closed: send ABORT\n&quot;</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>(1);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">SCTP_E_RCV_COOKIE_ACK</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a89d1e5ac795c5b90d021198fbf153dc2">stopReading</a>) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a>) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">//                        delete state-&gt;shutdownChunk;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keyword">delete</span> header;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                  <span class="comment">/*  if (state-&gt;sctpmsg) {</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">                        delete state-&gt;sctpmsg;</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">                        state-&gt;sctpmsg = nullptr;</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">                    }*/</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keywordflow">if</span> (!(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>)) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    <span class="keyword">auto</span> dataChunk = check_and_cast&lt;SctpDataChunk *&gt;(header);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    <span class="keywordflow">if</span> ((dataChunk-&gt;getByteLength() - <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>) &gt; 0) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">dacPacketsRcvd</a>++;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        <span class="keyword">const</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> <span class="keyword">event</span> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived</a>(dataChunk);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        <span class="keywordflow">if</span> (event == <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a98c597c43e317d082f8bbb9900eb067f">SCTP_E_DELIVERED</a>) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">streamReset</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a>) &amp;&amp;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1d3596a56e6f10abf61a916eb5378963">lastTsnBeforeReset</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>()) ||</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                 ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1d3596a56e6f10abf61a916eb5378963">lastTsnBeforeReset</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aece48727b9d9e191872e5dd84215f850">lastTsnReceived</a>))))</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                            {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa755a6ed831c327da57dba1bccf229d6">inOut</a>) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0b08c6a2c7525b591579e6e111e13fc5">inRequestSn</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>, <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                            dataChunkReceived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event == <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                            dataChunkReceived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event == <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a625c4793d60b30bc8ac0c85a76850797">SCTP_E_DUP_RECEIVED</a>) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                            dupReceived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event == <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                            dataChunkReceived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">//                    delete dataChunk;</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>:</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabf000493f824e826ba49e25981668cbb">NR_SACK</a>: {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;SACK chunk received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keyword">auto</span> sackChunk = check_and_cast&lt;SctpSackChunk *&gt;(header);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived</a>(sackChunk);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                sendAllowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">//                delete sackChunk;</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">getQueueSize</a>() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> == 0) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;No more packets: send SHUTDOWN&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">SCTP_E_NO_MORE_OUTSTANDING</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        shutdownCalled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;No more outstanding&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                sackWasReceived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">ABORT</a>: {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keyword">auto</span> abortChunk = check_and_cast&lt;SctpAbortChunk *&gt;(header);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;ABORT with T-Bit &quot;</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        &lt;&lt; abortChunk-&gt;getT_Bit() &lt;&lt; <span class="stringliteral">&quot; received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">if</span> (sctpmsg-&gt;getVTag() == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> || sctpmsg-&gt;getVTag() == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a8d469a35851882c7bb88d622816f6ae6">SCTP_I_ABORT</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">//                delete abortChunk;</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">HEARTBEAT</a>: {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;HEARTBEAT received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="keyword">auto</span> heartbeatChunk = check_and_cast&lt;SctpHeartbeatChunk *&gt;(header);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">if</span> (!(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>)) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck</a>(heartbeatChunk, dest, src);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">//                delete heartbeatChunk;</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="keywordflow">if</span> (path) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    path-&gt;numberOfHeartbeatsRcvd++;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    path-&gt;vectorPathRcvdHb-&gt;record(path-&gt;numberOfHeartbeatsRcvd);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">HEARTBEAT_ACK</a>: {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;HEARTBEAT_ACK received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">SCTP_E_RCV_COOKIE_ACK</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keyword">auto</span> heartbeatAckChunk = check_and_cast&lt;SctpHeartbeatAckChunk *&gt;(header);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">if</span> (path) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived</a>(heartbeatAckChunk, path);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">//                delete heartbeatAckChunk;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f">SHUTDOWN</a>: {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;SHUTDOWN received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keyword">auto</span> shutdownChunk = check_and_cast&lt;SctpShutdownChunk *&gt;(header);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">if</span> (shutdownChunk-&gt;getCumTsnAck() &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    simtime_t rttEstimation = SIMTIME_MAX;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks</a>(shutdownChunk-&gt;getCumTsnAck(),</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), rttEstimation);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a> = shutdownChunk-&gt;getCumTsnAck();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8">SCTP_E_RCV_SHUTDOWN</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aeea0b34cfe78c702d3e0f7065dec3a56">SCTP_I_SHUTDOWN_RECEIVED</a>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">//                delete shutdownChunk;</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;               <span class="comment">/* if (state-&gt;resetChunk != nullptr) {</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">                    delete state-&gt;resetChunk;</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">                }*/</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa2d9dde04457cd20eaa66b7da11a5c909">SHUTDOWN_ACK</a>:</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;SHUTDOWN_ACK received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    check_and_cast&lt;SctpShutdownAckChunk *&gt;(header);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abe98501af00cb108c954aef24941903a">sendShutdownComplete</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c60d1b8136a43b085fa1dca0262cf1e">stopTimers</a>();</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;state=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) &lt;&lt; endl;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">SCTP_S_SHUTDOWN_SENT</a>) ||</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>))</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a30c6382a4c5d5ca7e759536f5e50c8a2">SCTP_E_RCV_SHUTDOWN_ACK</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56">SCTP_I_CLOSED</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a>) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">//                    delete shutdownAckChunk;</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">SHUTDOWN_COMPLETE</a>: {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;Shutdown Complete arrived&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                check_and_cast&lt;SctpShutdownCompleteChunk *&gt;(header);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3afa663adb7622f9432e89fa0aa1dc5dcb">SCTP_E_RCV_SHUTDOWN_COMPLETE</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4c7679960000a1b643a11a592d4bae58">SCTP_I_PEER_CLOSED</a>); <span class="comment">// necessary for NAT-Rendezvous</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keywordflow">if</span> (trans == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c60d1b8136a43b085fa1dca0262cf1e">stopTimers</a>();</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47a57a0799efef0ecdb1542bffd7d613">shutdownAckChunk</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">//                delete shutdownCompleteChunk;</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>: {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;FORWARD_TSN received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keyword">auto</span> forwChunk = check_and_cast&lt;SctpForwardTsnChunk *&gt;(header);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">processForwardTsnArrived</a>(forwChunk);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                sendAllowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                dataChunkReceived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">//                delete forwChunk;</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>: {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;StreamReset received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">//                    delete header;</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="keyword">auto</span> strResChunk = check_and_cast&lt;SctpStreamResetChunk *&gt;(header);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived</a>(strResChunk);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                sendAllowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">//                delete strResChunk;</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>:</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;ASCONF received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">SCTP_E_RCV_COOKIE_ACK</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                SctpAsconfChunk *asconfChunk;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                asconfChunk = check_and_cast&lt;SctpAsconfChunk *&gt;(header);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived</a>(asconfChunk);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">//                delete asconfChunk;</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>: {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;ASCONF_ACK received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="keyword">auto</span> asconfAckChunk = check_and_cast&lt;SctpAsconfAckChunk *&gt;(header);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived</a>(asconfAckChunk);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">//                delete asconfAckChunk;</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>:</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;PKTDROP received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a1dee97405fa022b09cb20207f45f8285">pktdrop</a>) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <span class="keyword">auto</span> packetDropChunk = check_and_cast&lt;SctpPacketDropChunk *&gt;(header);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <span class="keywordflow">if</span> (packetDropChunk-&gt;getBFlag() &amp;&amp; !packetDropChunk-&gt;getMFlag())</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived</a>(packetDropChunk);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    sendAllowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">//                    delete packetDropChunk;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764">ERRORTYPE</a>: {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;ERROR received&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keyword">auto</span> errorChunk = check_and_cast&lt;SctpErrorChunk *&gt;(header);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived</a>(errorChunk);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">//                delete errorChunk;</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                EV_ERROR &lt;&lt; <span class="stringliteral">&quot;different type&quot;</span> &lt;&lt; endl; <span class="comment">// TODO</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span> (i == numberOfChunks - 1 &amp;&amp; ((dataChunkReceived &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a230f256d8477a28c11b80d23fa372412">sackAlreadySent</a>) || dupReceived)) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            sendAllowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;i=&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; sendAllowed=true; scheduleSack&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack</a>();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">SCTP_S_SHUTDOWN_SENT</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment">// Send any new DATA chunks, SACK chunks, HEARTBEAT chunks etc.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;SctpAssociationRcvMessage: send new data? state=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState())</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; sendAllowed=&quot;</span> &lt;&lt; sendAllowed</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; shutdownCalled=&quot;</span> &lt;&lt; shutdownCalled &lt;&lt; endl;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>) ||</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>) ||</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>)) &amp;&amp;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            (sendAllowed) &amp;&amp;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            (!shutdownCalled))</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>());</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    } <span class="comment">// end of for-loop</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> &gt; 0) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabab99d4f2829ffb45516472323358a54">PERFORMED_WITH_OPTION</a>) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(check_and_cast&lt;SctpSsnTsnResetRequestParameter *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da0d865b62cbb3f9f4e8f826adc76b9a5c">PERFORMED_WITH_ADDOUT</a>) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest</a>(check_and_cast&lt;SctpAddStreamsRequestParameter *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>)-&gt;getNumberOfStreams());</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(check_and_cast&lt;SctpAddStreamsRequestParameter *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>)-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">responseSn</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = 0;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">responseSn</a> = 0;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (sackWasReceived) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset</a>();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        sackWasReceived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// ====== Clean-up =======================================================</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">/*  if (!state-&gt;pktDropSent) {</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">          disposeOf(state-&gt;sctpmsg);</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">          EV_DEBUG &lt;&lt; &quot;state-&gt;sctpmsg was disposed&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">      }*/</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>.</p>

</div>
</div>
<a id="aba32927e5da0e4e20281389a2b07ddce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba32927e5da0e4e20281389a2b07ddce">&#9670;&nbsp;</a></span>process_RECEIVE_REQUEST()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_RECEIVE_REQUEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociation::process_RECEIVE_REQUEST\n&quot;</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    SctpSendReq *sendCommand = check_and_cast&lt;SctpSendReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> ((uint32_t)sendCommand-&gt;getSid() &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> || sendCommand-&gt;getSid() &lt; 0) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Application tries to read from invalid stream id....\n&quot;</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4754b772f1b1f9936dd3112e0c8cb1ea">numMsgsReq</a>[sendCommand-&gt;getSid()] += sendCommand-&gt;getNumMsgs();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp</a>();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a961124aea1654c5c8c384898fa856eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961124aea1654c5c8c384898fa856eba">&#9670;&nbsp;</a></span>process_SEND()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_SEND </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    SctpSendReq *sendCommand = check_and_cast&lt;SctpSendReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() != <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="comment">// TD 12.03.2009: since SCTP_S_ESTABLISHED is the only case, the</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">// switch(...)-block has been removed for enhanced readability.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;process_SEND: state is not SCTP_S_ESTABLISHED -&gt; returning&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;process_SEND:&quot;</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; assocId=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; remoteAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; cmdRemoteAddr=&quot;</span> &lt;&lt; sendCommand-&gt;getRemoteAddr()</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; cmdPrimary=&quot;</span> &lt;&lt; (sendCommand-&gt;getPrimary() ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; appGateIndex=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; streamId=&quot;</span> &lt;&lt; sendCommand-&gt;getSid() &lt;&lt; endl;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    Packet *applicationPacket = check_and_cast&lt;Packet *&gt;(msg);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; applicationData = applicationPacket-&gt;peekDataAsBytes();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">int</span> sendBytes = <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(applicationData-&gt;getChunkLength()).get();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;got msg of length &quot;</span> &lt;&lt; applicationData-&gt;getChunkLength() &lt;&lt; <span class="stringliteral">&quot; sendBytes=&quot;</span> &lt;&lt; sendBytes &lt;&lt; endl;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    iter-&gt;second.sentBytes += sendBytes;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// ------ Prepare SctpDataMsg -----------------------------------------</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">const</span> uint32_t streamId = sendCommand-&gt;getSid();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">const</span> uint32_t sendUnordered = sendCommand-&gt;getSendUnordered();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">const</span> uint32_t ppid = sendCommand-&gt;getPpid();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    SctpSendStream *stream = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">auto</span> associter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(streamId);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (associter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end()) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        stream = associter-&gt;second;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Stream with id %d not found&quot;</span>, streamId);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    SctpDataMsg *datMsg = <span class="keyword">new</span> SctpDataMsg();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    SctpSimpleMessage *smsg = <span class="keyword">new</span> SctpSimpleMessage();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    smsg-&gt;setDataArraySize(sendBytes);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    std::vector&lt;uint8_t&gt; vec = applicationData-&gt;getBytes();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; sendBytes; i++)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        smsg-&gt;setData(i, vec[i]);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    smsg-&gt;setDataLen(sendBytes);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    smsg-&gt;setEncaps(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    smsg-&gt;setByteLength(sendBytes);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    datMsg-&gt;encapsulate(smsg);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    datMsg-&gt;setSid(streamId);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    datMsg-&gt;setPpid(ppid);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    datMsg-&gt;setEnqueuingTime(simTime());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    datMsg-&gt;setSackNow(sendCommand-&gt;getSackNow());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// ------ PR-SCTP &amp; Drop messages to free buffer space ----------------</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    datMsg-&gt;setPrMethod(sendCommand-&gt;getPrMethod());</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">switch</span> (sendCommand-&gt;getPrMethod()) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0a9d1baba3f8225cf159988b9930af975e">PR_TTL</a>:</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keywordflow">if</span> (sendCommand-&gt;getPrValue() &gt; 0) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                datMsg-&gt;setExpiryTime(simTime() + sendCommand-&gt;getPrValue());</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0aa47c2b0c1d0a86d4969d8bcdc86f0ae5">PR_RTX</a>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            datMsg-&gt;setRtx((uint32_t)sendCommand-&gt;getPrValue());</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0a86aa7905ff31733e5431f577bc3771ee">PR_PRIO</a>:</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            datMsg-&gt;setPriority((uint32_t)sendCommand-&gt;getPrValue());</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">queuedDroppableBytes</a> += <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(msg)-&gt;getByteLength();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4f5848422301f6fb2bbf94c32d802a03">appSendAllowed</a>) &amp;&amp;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">queuedDroppableBytes</a> &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        ((uint64_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>))</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        uint32_t lowestPriority;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        cQueue *strq;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        int64_t dropsize = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (sendUnordered)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            strq = stream-&gt;getUnorderedStreamQ();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            strq = stream-&gt;getStreamQ();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">while</span> (dropsize &gt;= 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">queuedDroppableBytes</a> &gt; 0) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            lowestPriority = 0;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="comment">// Find lowest priority</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">for</span> (cQueue::Iterator iter(*strq); !iter.end(); iter++) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                SctpDataMsg *msg = (SctpDataMsg *)(*iter);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">if</span> (msg-&gt;getPriority() &gt; lowestPriority)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    lowestPriority = msg-&gt;getPriority();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="comment">// If just passed message has the lowest priority,</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="comment">// drop it and we&#39;re done.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">if</span> (datMsg-&gt;getPriority() &gt; lowestPriority) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;msg will be abandoned, buffer is full and priority too low (&quot;</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                         &lt;&lt; datMsg-&gt;getPriority() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">queuedDroppableBytes</a> -= <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(msg)-&gt;getByteLength();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keyword">delete</span> datMsg;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keyword">delete</span> smsg;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">SCTP_I_ABANDONED</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// ------ Set initial destination address -----------------------------</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (sendCommand-&gt;getPrimary()) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (sendCommand-&gt;getRemoteAddr().isUnspecified()) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            datMsg-&gt;setInitialDestination(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            datMsg-&gt;setInitialDestination(sendCommand-&gt;getRemoteAddr());</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        datMsg-&gt;setInitialDestination(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20824834eb617dde35385bb715df3ebe">getPrimaryPathIndex</a>());</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// ------ Optional padding and size calculations ----------------------</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a61247836483b3253faed1a703b51d37b">padding</a>) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        datMsg-&gt;setBooksize(<a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(smsg-&gt;getByteLength() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">header</a>));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        datMsg-&gt;setBooksize(smsg-&gt;getByteLength() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">header</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(smsg-&gt;getByteLength() + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> += datMsg-&gt;getBooksize();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Add chunk size to sender buffer size</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> += smsg-&gt;getByteLength();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    datMsg-&gt;setMsgNum(++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a21ad5bb505f90e3f59872dbd229d1ce4">msgNum</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// ------ Ordered/Unordered modes -------------------------------------</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (sendUnordered == 1) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        datMsg-&gt;setOrdered(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        stream-&gt;getUnorderedStreamQ()-&gt;insert(datMsg);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        datMsg-&gt;setOrdered(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        stream-&gt;getStreamQ()-&gt;insert(datMsg);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">sendQueue</a>-&gt;record(stream-&gt;getStreamQ()-&gt;getLength());</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Size of send queue &quot;</span> &lt;&lt; stream-&gt;getStreamQ()-&gt;getLength() &lt;&lt; endl;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// ------ Send buffer full? -------------------------------------------</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4f5848422301f6fb2bbf94c32d802a03">appSendAllowed</a>) &amp;&amp;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        ((uint64_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="comment">// If there are not enough messages that could be dropped,</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">// the buffer is really full and the app has to be notified.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">queuedDroppableBytes</a> &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac03a332e802dee0dd7b63a648a64a2d8">SCTP_I_SENDQUEUE_FULL</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4f5848422301f6fb2bbf94c32d802a03">appSendAllowed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">queuedMessages</a>++;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">queueLimit</a> &gt; 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">queuedMessages</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">queueLimit</a>)) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a992e5ae74dd0e474c175c5e8532548b0">queueUpdate</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;process_SEND:&quot;</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; last=&quot;</span> &lt;&lt; sendCommand-&gt;getLast()</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;    queueLimit=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">queueLimit</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// ------ Call sendCommandInvoked() to send message -------------------</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// sendCommandInvoked() itself will call sendOnAllPaths() ...</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (sendCommand-&gt;getLast() == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">if</span> (sendCommand-&gt;getPrimary()) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a714945e09714a86e441a84fb9d138189">sendCommandInvoked</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a714945e09714a86e441a84fb9d138189">sendCommandInvoked</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(datMsg-&gt;getInitialDestination()));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a9f291bb37a3e03c4e483b9202abd21b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f291bb37a3e03c4e483b9202abd21b5">&#9670;&nbsp;</a></span>process_STATUS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_STATUS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a> = check_and_cast&lt;ITaggedObject *&gt;(msg)-&gt;getTags();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keyword">auto</span>&amp; statusInfo = <a class="code" href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a>.addTagIfAbsent&lt;SctpStatusReq&gt;();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    statusInfo-&gt;setState(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState());</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    statusInfo-&gt;setStateName(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()));</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    statusInfo-&gt;setPathId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    statusInfo-&gt;setActive(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#a4d8d172128eead28926035855605dbb9">activePath</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp</a>(msg);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a23f8cd1826b8a660b549ba6a49a4145d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f8cd1826b8a660b549ba6a49a4145d">&#9670;&nbsp;</a></span>process_STREAM_RESET()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_STREAM_RESET </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;process_STREAM_RESET request arriving from App\n&quot;</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    SctpResetReq *rinfo = check_and_cast&lt;SctpResetReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled())) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">if</span> (rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9995bc4ae95ebf5ea531d5a9b1ae7089">ADD_BOTH</a>) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest</a>(rinfo);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">fragInProgress</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> == 0) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest</a>(rinfo);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">if</span> (rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a> || rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af">RESET_BOTH</a> ||</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a> || rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a> ||</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> &gt; 0) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">if</span> (rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a> || rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a> || rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af">RESET_BOTH</a>) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span> (rinfo-&gt;getStreamsArraySize() &gt; 0) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; rinfo-&gt;getStreamsArraySize(); i++) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream</a>(rinfo-&gt;getStreams(i)) &gt; 0) ||</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae1d844370f18f3038dd5de4f235a4c55">getFragInProgressOfStream</a>(rinfo-&gt;getStreams(i)) ||</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                            !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa0b7009628fae83ef262494a6e732db9">orderedQueueEmptyOfStream</a>(rinfo-&gt;getStreams(i)) ||</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                            !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aadd435f60ca7f9bc380f6667afd6dcb3">unorderedQueueEmptyOfStream</a>(rinfo-&gt;getStreams(i)))</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.push_back(rinfo-&gt;getStreams(i));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.push_back(rinfo-&gt;getStreams(i));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    <span class="keywordflow">if</span> (rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>; i++) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream</a>(i) &gt; 0) || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae1d844370f18f3038dd5de4f235a4c55">getFragInProgressOfStream</a>(i)) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.push_back(i);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                            }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.push_back(i);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                            }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest</a>(rinfo);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">if</span> ((rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>) ||</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                (rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a>) ||</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                (rinfo-&gt;getRequestType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a> = rinfo;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">//                state-&gt;resetInfo-&gt;setName(&quot;state-resetLater&quot;);</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a>-&gt;<a class="code" href="classinet_1_1_sctp_reset_req.html#a2ab591e827ef9eb5a869444bb972a0fd">getRequestType</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a> = rinfo-&gt;<a class="code" href="classinet_1_1_sctp_reset_req.html#ab618fcbd111f5b54e169f0cf4d00185b">dup</a>();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">//                state-&gt;resetInfo-&gt;setName(&quot;state-resetInfo&quot;);</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a>-&gt;<a class="code" href="classinet_1_1_sctp_reset_req.html#a2ab591e827ef9eb5a869444bb972a0fd">getRequestType</a>();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="a21891e43647af15564361a0915fd54e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21891e43647af15564361a0915fd54e3">&#9670;&nbsp;</a></span>process_TIMEOUT_ASCONF()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_ASCONF </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;{</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    int32_t value;</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160; </div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    <span class="keywordflow">if</span> ((value = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters</a>(path)) == 1) {</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf</a>();</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160; </div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;        <span class="comment">/* increase the RTO (by doubling it) */</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;        path-&gt;pathRto = <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(2 * path-&gt;pathRto.dbl(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">getRtoMax</a>());</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;        path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160; </div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;AsconfTimer, path-&gt;pathRto);</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    }</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="ad809cace564cf8377aebf88ec9aabf04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad809cace564cf8377aebf88ec9aabf04">&#9670;&nbsp;</a></span>process_TIMEOUT_BLOCKING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_BLOCKING </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;{</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;TIMEOUT_BLOCKING on &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; cwnd=&quot;</span> &lt;&lt; path-&gt;cwnd &lt;&lt; endl;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    path-&gt;blockingTimeout = -1.0;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(path);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6626b27b6dcefecac6e46fdfdc6e0b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6626b27b6dcefecac6e46fdfdc6e0b45">&#9670;&nbsp;</a></span>process_TIMEOUT_HEARTBEAT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_HEARTBEAT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;{</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    <span class="keywordtype">bool</span> oldState = path-&gt;activePath;</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160; </div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="comment">/* check if error counters must be increased */</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    <span class="keywordflow">if</span> (path-&gt;activePath) {</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a>++;</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;        path-&gt;pathErrorCount++;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160; </div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;HB timeout timer expired for path &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; --&gt; Increase Error Counters (Assoc: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &lt;&lt; <span class="stringliteral">&quot;, Path: &quot;</span> &lt;&lt; path-&gt;pathErrorCount &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    }</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160; </div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    <span class="comment">/* RTO must be doubled for this path ! */</span></div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;    path-&gt;pathRto = (simtime_t)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(2 * path-&gt;pathRto.dbl(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">getRtoMax</a>());</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;    path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;    <span class="comment">/* check if any thresholds are exceeded, and if so, check if ULP must be notified */</span></div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &gt; (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a50c5bede27c9440db7f7b538d357d811">getAssocMaxRtx</a>()) {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    }</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        <span class="comment">/* set path state to INACTIVE, if the path error counter is exceeded */</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;        <span class="keywordflow">if</span> (path-&gt;pathErrorCount &gt; (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#ad198759e2dfed3076e801e778c31a154">getPathMaxRetrans</a>()) {</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;            oldState = path-&gt;activePath;</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;            path-&gt;activePath = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;            <span class="keywordflow">if</span> (path == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>()) {</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a>(path));</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;            }</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;pathErrorCount now &quot;</span> &lt;&lt; path-&gt;pathErrorCount</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;; PP now &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20824834eb617dde35385bb715df3ebe">getPrimaryPathIndex</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;        }</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;        <span class="comment">/* then: we can check, if all paths are INACTIVE ! */</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7d73628d82970ec75e1f01ed4932185e">allPathsInactive</a>()) {</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sctp_do_hb_to_timer() : ALL PATHS INACTIVE --&gt; closing ASSOC\n&quot;</span>;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        }</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path-&gt;activePath == <span class="keyword">false</span> &amp;&amp; oldState == <span class="keyword">true</span>) { <span class="comment">// FIXME oldState may be uninitialized</span></div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;            <span class="comment">/* notify the application, in case the PATH STATE has changed from ACTIVE to INACTIVE */</span></div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication</a>(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;        }</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    }</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="a49f266cb67d617c8426fd5b40641e43b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49f266cb67d617c8426fd5b40641e43b">&#9670;&nbsp;</a></span>process_TIMEOUT_HEARTBEAT_INTERVAL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_HEARTBEAT_INTERVAL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;{</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;HB Interval timer expired -- sending new HB REQ on path &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    <span class="comment">/* restart hb_send_timer on this path */</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatIntervalTimer);</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    path-&gt;heartbeatIntervalTimeout = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a030c456daf728b814f1559331ae5e4fa">getHbInterval</a>() + path-&gt;pathRto;</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    path-&gt;heartbeatTimeout = path-&gt;pathRto;</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;HeartbeatIntervalTimer, path-&gt;heartbeatIntervalTimeout);</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160; </div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">getEnableHeartbeats</a>() &amp;&amp; (simTime() - path-&gt;lastAckTime &gt; path-&gt;heartbeatIntervalTimeout / 2 || path-&gt;forceHb || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6d50ef5dd10f9a335470bb3ea0cd7fe4">sendHeartbeatsOnActivePaths</a>)) {</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat</a>(path);</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;HeartbeatTimer, path-&gt;heartbeatTimeout);</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160; </div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        path-&gt;forceHb = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    }</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="a008f1c88d97ed382b936799a314a36d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a008f1c88d97ed382b936799a314a36d5">&#9670;&nbsp;</a></span>process_TIMEOUT_INIT_REXMIT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_INIT_REXMIT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;{</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="keywordflow">if</span> (++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5d430e1b30135bd72296b6fa9be2b882">initRetransCounter</a> &gt; (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a31b676ab1908f304a511e155b867375f">getMaxInitRetrans</a>()) {</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Retransmission count during connection setup exceeds &quot;</span> &lt;&lt; (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a31b676ab1908f304a511e155b867375f">getMaxInitRetrans</a>() &lt;&lt; <span class="stringliteral">&quot;, giving up\n&quot;</span>;</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56">SCTP_I_CLOSED</a>);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    }</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Performing retransmission #&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5d430e1b30135bd72296b6fa9be2b882">initRetransCounter</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) {</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>:</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">retransmitInit</a>();</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160; </div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>:</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho</a>();</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160; </div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Internal error: INIT-REXMIT timer expired while in state %s&quot;</span>,</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()));</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    }</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> *= 2;</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a98a59db4aaf7f9d0d8a5127de2c97a37">getMaxInitRetransTimeout</a>()) {</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a98a59db4aaf7f9d0d8a5127de2c97a37">getMaxInitRetransTimeout</a>();</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    }</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="ae0760295b009e13e0ddb82035ba2f1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0760295b009e13e0ddb82035ba2f1a1">&#9670;&nbsp;</a></span>process_TIMEOUT_PROBING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_PROBING </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a289a62ea3ed76b275dfd68447798c805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a289a62ea3ed76b275dfd68447798c805">&#9670;&nbsp;</a></span>process_TIMEOUT_RESET()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_RESET </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;{</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    int32_t value;</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    std::map&lt;uint32_t, SctpStateVariables::RequestData&gt;::reverse_iterator rit;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>.rbegin();</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordflow">if</span> (rit-&gt;second.result == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>) {</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;        value = 1;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    }</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        value = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters</a>(path);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    }</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keywordflow">if</span> (value == 1) {</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Performing timeout reset&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset</a>();</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160; </div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        <span class="comment">/* increase the RTO (by doubling it) */</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;        path-&gt;pathRto = <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(2 * path-&gt;pathRto.dbl(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">getRtoMax</a>());</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;        path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;ResetTimer, path-&gt;pathRto);</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    }</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="abd9cc508e0dd71bf0f66d37eb2a5c162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd9cc508e0dd71bf0f66d37eb2a5c162">&#9670;&nbsp;</a></span>process_TIMEOUT_RTX()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_RTX </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;{</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Processing retransmission timeout ...&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160; </div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="comment">// Stop blocking!</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <span class="keywordflow">if</span> (path-&gt;BlockingTimer) {</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;BlockingTimer);</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    }</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    path-&gt;blockingTimeout = -1.0;</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160; </div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="comment">// ====== Increase the RTO (by doubling it) ==============================</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    path-&gt;pathRto = <a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(2 * path-&gt;pathRto.dbl(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">getRtoMax</a>());</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Schedule T3 based retransmission for path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; oldest chunk sent &quot;</span> &lt;&lt; simTime() - path-&gt;oldestChunkSendTime &lt;&lt; <span class="stringliteral">&quot; ago&quot;</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; (TSN &quot;</span> &lt;&lt; path-&gt;oldestChunkTsn &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Unacked chunks in Retransmission Queue:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <span class="keywordflow">for</span> (SctpQueue::PayloadQueue::const_iterator iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;         iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end(); ++iterator)</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    {</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        <span class="keyword">const</span> SctpDataVariables *myChunk = iterator-&gt;second;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;        <span class="keywordflow">if</span> (!myChunk-&gt;hasBeenAcked) {</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;            <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkLastPath = myChunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; myChunk-&gt;tsn</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\tsent=now-&quot;</span> &lt;&lt; simTime() - myChunk-&gt;sendTime</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\tlast=&quot;</span> &lt;&lt; myChunkLastPath-&gt;remoteAddress</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\tmoved=&quot;</span> &lt;&lt; ((myChunk-&gt;hasBeenMoved == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;YES!&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>)</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\tnumTX=&quot;</span> &lt;&lt; myChunk-&gt;numberOfTransmissions</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\tnumRTX=&quot;</span> &lt;&lt; myChunk-&gt;numberOfRetransmissions</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\tfastRTX=&quot;</span> &lt;&lt; ((myChunk-&gt;hasBeenFastRetransmitted == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;YES!&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>)</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;                     &lt;&lt; endl;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        }</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;    }</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;----------------------&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160; </div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <span class="comment">// ====== Update congestion window =======================================</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a22c55464c988094dd9156f7a80e12934">ccUpdateAfterRtxTimeout</a>)(path);</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160; </div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <span class="comment">// ====== Error Counter Handling =========================================</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a>) {</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a>++;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        path-&gt;pathErrorCount++;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;RTX-Timeout: errorCount increased to &quot;</span> &lt;&lt; path-&gt;pathErrorCount &lt;&lt; <span class="stringliteral">&quot;  state-&gt;errorCount=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    }</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &gt; (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a50c5bede27c9440db7f7b538d357d811">getAssocMaxRtx</a>()) {</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        <span class="comment">/* error counter exceeded terminate the association -- create an SCTPC_EV_CLOSE event and send it to myself */</span></div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160; </div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RTX : ASSOC ERROR COUNTER EXCEEDED, closing ASSOC&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    }</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;        <span class="keywordflow">if</span> (path-&gt;pathErrorCount &gt; <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;pathMaxRetrans&quot;</span>))) {</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;            <span class="keywordtype">bool</span> notifyUlp = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160; </div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;pathErrorCount exceeded\n&quot;</span>;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;            <span class="keywordflow">if</span> (path-&gt;activePath) {</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;                <span class="comment">/* tell the source */</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;                notifyUlp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;            }</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;            path-&gt;activePath = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;            <span class="keywordflow">if</span> (path-&gt;remoteAddress == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20824834eb617dde35385bb715df3ebe">getPrimaryPathIndex</a>()) {</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *nextPath = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a>(path);</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                <span class="keywordflow">if</span> (nextPath != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(nextPath);</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                }</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;            }</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RTX(&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;) : PATH ERROR COUNTER EXCEEDED, path status is INACTIVE&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7d73628d82970ec75e1f01ed4932185e">allPathsInactive</a>()) {</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;                EV_WARN &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RTX: ALL PATHS INACTIVE --&gt; connection LOST!&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;            }</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (notifyUlp) {</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;                <span class="comment">// Send notification to the application</span></div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication</a>(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;            }</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;        }</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RTX(&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;) : PATH ERROR COUNTER now &quot;</span> &lt;&lt; path-&gt;pathErrorCount &lt;&lt; endl;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    }</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160; </div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="comment">// ====== Do Retransmission ==============================================</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="comment">// dequeue all chunks not acked so far and put them in the TransmissionQ</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.empty()) {</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Still &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.size()</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; chunks in retransmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160; </div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>) {</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;            SctpDataVariables *chunk = elem.second;</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;            assert(chunk != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160; </div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;            <span class="comment">// ====== Insert chunks into TransmissionQ ============================</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;            <span class="comment">// Only insert chunks that were sent to the path that has timed out</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a35810f2e01a572bdcb22683982c82f07">chunkMustBeAbandoned</a>(chunk, path) &amp;&amp; ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(chunk) == <span class="keyword">false</span> &amp;&amp; chunk-&gt;countsAsOutstanding)</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                                                       || chunk-&gt;hasBeenReneged) &amp;&amp; (chunk-&gt;getLastDestinationPath() == path))</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;            {</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *nextPath = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1961f1c3cfb685372397f16fd512ba0b">getNextDestination</a>(chunk);</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;                EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: Timer-Based RTX for TSN &quot;</span> &lt;&lt; chunk-&gt;tsn</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;: lastDestination=&quot;</span> &lt;&lt; chunk-&gt;getLastDestination()</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; lastPathRTO=&quot;</span> &lt;&lt; chunk-&gt;getLastDestinationPath()-&gt;pathRto</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; nextDestination=&quot;</span> &lt;&lt; nextPath-&gt;remoteAddress</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; nextPathRTO=&quot;</span> &lt;&lt; nextPath-&gt;pathRto</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; waiting=&quot;</span> &lt;&lt; simTime() - chunk-&gt;sendTime</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;                          &lt;&lt; endl;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;                nextPath-&gt;numberOfTimerBasedRetransmissions++;</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;                chunk-&gt;hasBeenTimerBasedRtxed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;                chunk-&gt;sendForwardIfAbandoned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;                chunk-&gt;numberOfTransmissions++;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160; </div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;                <span class="keywordflow">if</span> (!chunk-&gt;hasBeenAbandoned) {</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;                    <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;                    iter-&gt;second.numT3Rtx++;</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;                }</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160; </div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath</a>(chunk, nextPath);</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;            }</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        }</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    }</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160; </div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *nextPath = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a>(path);</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;TimeoutRTX: sendOnAllPaths()&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(nextPath);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="aedf4c710b1edb56aaf81297675ac58ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf4c710b1edb56aaf81297675ac58ac">&#9670;&nbsp;</a></span>process_TIMEOUT_SHUTDOWN()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::process_TIMEOUT_SHUTDOWN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;{</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <span class="keywordflow">if</span> (++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &gt; (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a50c5bede27c9440db7f7b538d357d811">getAssocMaxRtx</a>()) {</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    }</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160; </div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Performing shutdown retransmission. Assoc error count now &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &lt;&lt; <span class="stringliteral">&quot; \n&quot;</span>;</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">SCTP_S_SHUTDOWN_SENT</a>) {</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown</a>();</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    }</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>)</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck</a>();</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160; </div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> *= 2;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> &gt; <a class="code" href="_sctp_association_8h.html#a899e0c5a9422a556e99f7ad0aea9ab8e">SCTP_TIMEOUT_INIT_REXMIT_MAX</a>)</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> = <a class="code" href="_sctp_association_8h.html#a899e0c5a9422a556e99f7ad0aea9ab8e">SCTP_TIMEOUT_INIT_REXMIT_MAX</a>;</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="aacf1fdb20d9bbea52fb1162a7715bcc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf1fdb20d9bbea52fb1162a7715bcc7">&#9670;&nbsp;</a></span>processAddInAndOutResetRequestArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::processAddInAndOutResetRequestArrived </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_add_streams_request_parameter.html">SctpAddStreamsRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>addInRequestParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_add_streams_request_parameter.html">SctpAddStreamsRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>addOutRequestParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;{</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk(<span class="stringliteral">&quot;AddInOut_CONFIG&quot;</span>);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    uint32_t srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    SctpAddStreamsRequestParameter *addStreams = <span class="keyword">new</span> SctpAddStreamsRequestParameter(<span class="stringliteral">&quot;Add_Streams&quot;</span>);</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="comment">/*  SctpAddStreamsRequestParameter *addStreams = new SctpAddStreamsRequestParameter();*/</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    addStreams-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    addStreams-&gt;setNumberOfStreams(addInRequestParam-&gt;getNumberOfStreams());</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> = addStreams-&gt;getNumberOfStreams();</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    addStreams-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    addStreams-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#ae43ec40df0b4b94ce78e31785f7e0079">SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    resetChunk-&gt;addParameter(addStreams);</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160; </div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    SctpStreamResetChunk *responseChunk = <span class="keyword">new</span> SctpStreamResetChunk(<span class="stringliteral">&quot;responseRE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    responseChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    responseChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    SctpStreamResetResponseParameter *outResponseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter(<span class="stringliteral">&quot;Out_Response_Param&quot;</span>);</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="comment">/*  SctpStreamResetResponseParameter *outResponseParam = new SctpStreamResetResponseParameter();*/</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    outResponseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    outResponseParam-&gt;setSrResSn(addOutRequestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    outResponseParam-&gt;setResult(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    outResponseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    responseChunk-&gt;addParameter(outResponseParam);</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    SctpStreamResetResponseParameter *inResponseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter(<span class="stringliteral">&quot;In_Response_Param&quot;</span>);</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <span class="comment">/* SctpStreamResetResponseParameter *inResponseParam = new SctpStreamResetResponseParameter();*/</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    inResponseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    inResponseParam-&gt;setSrResSn(addInRequestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    inResponseParam-&gt;setResult(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addInRequestParam-&gt;getSrReqSn()].result = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutRequestParam-&gt;getSrReqSn()].result = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    inResponseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    responseChunk-&gt;addParameter(inResponseParam);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    msg-&gt;appendSctpChunks(responseChunk);</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(0);</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = ++srsn;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    }</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resetChunk-&gt;dup());</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="comment">//    state-&gt;resetChunk-&gt;setName(&quot;stateAddResetChunk&quot;);</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="a16ef4b3cf3fb578c307dc65e9d78bc97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ef4b3cf3fb578c307dc65e9d78bc97">&#9670;&nbsp;</a></span>processAppCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processAppCommand </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_command_req.html">SctpCommandReq</a> *&#160;</td>
          <td class="paramname"><em>sctpCommand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process commands from the application. </p>
<p>Normally returns true. A return value of false means that the connection structure must be deleted by the caller (SCTP). </p>
<div class="fragment"><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> <span class="keyword">event</span> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9582c8bb6f4973c45deaee7bedb976d3">preanalyseAppCommandEvent</a>(msg-&gt;getKind());</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;App command: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">eventName</a>(event) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">switch</span> (event) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab4b5e84e646985a9faa2a4f88e031b16">SCTP_E_ASSOCIATE</a>:</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE</a>(event, sctpCommand, msg);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a15d11aaf672ea8e4970304f031c4a165">SCTP_E_OPEN_PASSIVE</a>:</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE</a>(event, sctpCommand, msg);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>:</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND</a>(event, sctpCommand, msg);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>:</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT</a>(event);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1a582149c1b7607c37eb22fc0e22fd4c">SCTP_E_RECEIVE</a>:</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aba32927e5da0e4e20281389a2b07ddce">process_RECEIVE_REQUEST</a>(event, sctpCommand);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0787ad146854283b81ec9adac5186cb1">SCTP_E_PRIMARY</a>:</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3dc44ea09120834825153b8a262df804">process_PRIMARY</a>(event, sctpCommand);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acd609e7c59b9751f3d806d4b0057df00">SCTP_E_STREAM_RESET</a>:</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3af6811b1e92009e65a2a114c6a8a35625">SCTP_E_RESET_ASSOC</a>:</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a9a6164811faafd189e6ee3c60889b636">SCTP_E_ADD_STREAMS</a>:</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a56fd22ad54a0ee87c07af43bad02b439">peerStreamReset</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET</a>(sctpCommand);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keyword">event</span> = <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a682c30b47f3f3aaea043f036f1dd1324">SCTP_E_SEND_ASCONF</a>:</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIpType&quot;</span>));</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab63af511683389d52c86429bc24127fe">SCTP_E_SET_STREAM_PRIO</a>: {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <span class="keyword">auto</span> sctpSendReq = check_and_cast&lt;SctpSendReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2397deb375d3da825a02c3962772b3de">ssPriorityMap</a>[sctpSendReq-&gt;getSid()] = sctpSendReq-&gt;getPpid();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4e19a42cf0a4e213646aa87843e65267">SCTP_E_QUEUE_BYTES_LIMIT</a>:</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afdb2753ac21e1104902a72585cf0cedc">process_QUEUE_BYTES_LIMIT</a>(sctpCommand);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab16fde9b626b7cb2b6b965de7e8edccd">SCTP_E_QUEUE_MSGS_LIMIT</a>:</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7e60e9d98ca72737507a38e360be8604">process_QUEUE_MSGS_LIMIT</a>(sctpCommand);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">SCTP_E_CLOSE</a>:</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb61c1febb0d9f4b1d539c716e31c893">listening</a>) {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                <span class="keyword">event</span> = <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a89d1e5ac795c5b90d021198fbf153dc2">stopReading</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159">SCTP_E_SHUTDOWN</a>: <span class="comment">/*sendShutdown*/</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;SCTP_E_SHUTDOWN in state &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;send shutdown ack\n&quot;</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a91cd08ad34c4800733b7cc105f863c92">SCTP_E_STOP_SENDING</a>:</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7fbf555d28b43b3e2d6bb3e4afdd49e7">SCTP_E_SEND_SHUTDOWN_ACK</a>:</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0673c78aa8200a369e19b12a4201db67">SCTP_E_ACCEPT</a>:</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> = sctpCommand-&gt;getFd();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Accepted fd &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">fd</a> &lt;&lt; <span class="stringliteral">&quot; for assoc &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac248d90be39c398d316ba7bc0649b53a">SCTP_E_ACCEPT_SOCKET_ID</a>:</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp</a>();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a72e72ec5808ecc8c9e3bd676f782e727">SCTP_E_SET_RTO_INFO</a>: {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keyword">auto</span> sctpRtoReq = check_and_cast&lt;SctpRtoReq *&gt;(sctpCommand);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a2f4edf7c4a68638cc2cf474e38aa20f7">setRtoInitial</a>(sctpRtoReq-&gt;getRtoInitial());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a8275718c0c53580427cebef83643b601">setRtoMin</a>(sctpRtoReq-&gt;getRtoMin());</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#ad8dede12465316eed6ef53a8816cbf68">setRtoMax</a>(sctpRtoReq-&gt;getRtoMax());</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Wrong event code&quot;</span>);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment">//    delete sctpCommand;</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="comment">// then state transitions</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(event);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#ad772f7cf94124dbb2b77333b74294184">inet::sctp::Sctp::handleMessage()</a>.</p>

</div>
</div>
<a id="a3952645aa70ae4aa561d559184fc0051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3952645aa70ae4aa561d559184fc0051">&#9670;&nbsp;</a></span>processAsconfAckArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processAsconfAckArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_asconf_ack_chunk.html">SctpAsconfAckChunk</a> *&#160;</td>
          <td class="paramname"><em>asconfAckChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;{</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    SctpParameter *sctpParam;</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    L3Address addr;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    SctpAsconfChunk *sctpasconf;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;    std::vector&lt;uint32_t&gt; errorCorrId;</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    <span class="keywordtype">bool</span> errorFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160; </div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;    sctpasconf = check_and_cast&lt;SctpAsconfChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_asconf_chunk.html#aa8b8a45419cc82422f292720af9a457c">dup</a>());</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    <span class="keywordflow">if</span> (asconfAckChunk-&gt;getSerialNumber() == sctpasconf-&gt;getSerialNumber()) {</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;AsconfTimer);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> = 0;</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab25b76a00912c97e3e28333d424f3a6a">asconfOutstanding</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#afc7e9be480da7da4108f975f825a3694">pathErrorCount</a> = 0;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        std::vector&lt;L3Address&gt; remAddr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; asconfAckChunk-&gt;getAsconfResponseArraySize(); j++) {</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;            sctpParam = asconfAckChunk-&gt;getAsconfResponse(j);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;            <span class="keywordflow">if</span> (sctpParam-&gt;getParameterType() == <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa1ac54b9e0c5c311ce822593a6c385c08">ERROR_CAUSE_INDICATION</a>) {</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;                SctpErrorCauseParameter *error = check_and_cast&lt;SctpErrorCauseParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;                errorCorrId.push_back(error-&gt;getResponseCorrelationId());</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;error added with id &quot;</span> &lt;&lt; error-&gt;getResponseCorrelationId() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;            }</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        }</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; sctpasconf-&gt;getAsconfParamsArraySize(); i++) {</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;            sctpParam = <a class="code" href="_i_n_e_t_defs_8h.html#af3e4d5321e837cae974ef2a2871d9e0e">CHK</a>(sctpasconf-&gt;removeAsconfParam());</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;            errorFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;            <span class="keywordflow">switch</span> (sctpParam-&gt;getParameterType()) {</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa2b446c9d6257106ca738c491d8be195a">ADD_IP_ADDRESS</a>:</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                    SctpAddIPParameter *ipParam;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                    ipParam = check_and_cast&lt;SctpAddIPParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                    <span class="keywordflow">if</span> (errorCorrId.size() &gt; 0) {</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : errorCorrId)</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                            <span class="keywordflow">if</span> ((elem) == ipParam-&gt;getRequestCorrelationId()) {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                                errorFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                            }</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                    }</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                    <span class="keywordflow">if</span> (errorFound == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                        <span class="keyword">delete</span> ipParam;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                    }</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                    addr = ipParam-&gt;getAddressParam();</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;                    <span class="keywordflow">if</span> (addr.isUnspecified()) {</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;                        addr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a44bb72f907584ed68920b2eabe578c3f">SCTP_I_ADDRESS_ADDED</a>);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;                    }</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a2c663e078f689c02c0d2e88f87bf3c70">addLocalAddressToAllRemoteAddresses</a>(<span class="keyword">this</span>, addr, remAddr);</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back(addr);</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;                    <span class="keyword">delete</span> ipParam;</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160; </div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa7f31c822022e812cfe79f74208bd52d2">DELETE_IP_ADDRESS</a>:</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;                    SctpDeleteIPParameter *delParam;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                    delParam = check_and_cast&lt;SctpDeleteIPParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;                    <span class="keywordflow">if</span> (errorCorrId.size() &gt; 0) {</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : errorCorrId) {</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;                            <span class="keywordflow">if</span> ((elem) == delParam-&gt;getRequestCorrelationId()) {</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;                                errorFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;                            }</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;                        }</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                    }</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                    <span class="keywordflow">if</span> (errorFound == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                        <span class="keyword">delete</span> delParam;</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                    }</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                    addr = delParam-&gt;getAddressParam();</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0fa059a2fa4f153171f1d65573152740">removeLocalAddressFromAllRemoteAddresses</a>(<span class="keyword">this</span>, addr, remAddr);</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> j = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.begin(); j != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.end(); j++) {</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                        <span class="keywordflow">if</span> ((*j) == addr) {</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;erase address &quot;</span> &lt;&lt; (*j) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.erase(j);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                        }</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                    }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                    <span class="keyword">delete</span> delParam;</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160; </div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa56b489d7c0b1220ec5562475ee1a40d">SET_PRIMARY_ADDRESS</a>:</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                    SctpSetPrimaryIPParameter *priParam;</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                    priParam = check_and_cast&lt;SctpSetPrimaryIPParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                    <span class="keywordflow">if</span> (errorCorrId.size() &gt; 0) {</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : errorCorrId) {</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                            <span class="keywordflow">if</span> ((elem) == priParam-&gt;getRequestCorrelationId()) {</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;                                errorFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;                            }</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                        }</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                    }</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                    <span class="keywordflow">if</span> (errorFound == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                        <span class="keyword">delete</span> priParam;</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                    }</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;                    <span class="keyword">delete</span> priParam;</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;            }</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        }</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <span class="keyword">delete</span> sctpasconf;</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a5c6799293e10156c3b6a2cbed30fa931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c6799293e10156c3b6a2cbed30fa931">&#9670;&nbsp;</a></span>processAsconfArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processAsconfArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_asconf_chunk.html">SctpAsconfChunk</a> *&#160;</td>
          <td class="paramname"><em>asconfChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;{</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    SctpParameter *sctpParam;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    L3Address addr;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    std::vector&lt;L3Address&gt; locAddr;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Asconf arrived &quot;</span> &lt;&lt; asconfChunk-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;<span class="comment">//    SctpHeader *sctpAsconfAck = new SctpHeader(&quot;ASCONF_ACK&quot;);</span></div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpAsconfAck = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    sctpAsconfAck-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    sctpAsconfAck-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    sctpAsconfAck-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a>) {</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        sctpAsconfAck-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    }</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a423a984da69ac3749eb4c2e54f9744fc">numberAsconfReceived</a> &gt; 0 || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a423a984da69ac3749eb4c2e54f9744fc">numberAsconfReceived</a> == 0 &amp;&amp; asconfChunk-&gt;getSerialNumber() == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a423a984da69ac3749eb4c2e54f9744fc">numberAsconfReceived</a>)) {</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;        SctpAsconfAckChunk *asconfAckChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8969c04b236568c7e1f2f5af2a17e902">createAsconfAckChunk</a>(asconfChunk-&gt;getSerialNumber());</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a423a984da69ac3749eb4c2e54f9744fc">numberAsconfReceived</a>++;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        int32_t <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> = asconfChunk-&gt;getAsconfParamsArraySize();</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Number of Asconf parameters=&quot;</span> &lt;&lt; <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;        <span class="keywordflow">for</span> (int32_t <a class="code" href="namespaceinet_1_1units_1_1constants.html#ab7123881f3235ef940214db8f26eb61a">c</a> = 0; <a class="code" href="namespaceinet_1_1units_1_1constants.html#ab7123881f3235ef940214db8f26eb61a">c</a> &lt; <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>; <a class="code" href="namespaceinet_1_1units_1_1constants.html#ab7123881f3235ef940214db8f26eb61a">c</a>++) {</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            sctpParam = (SctpParameter *)(asconfChunk-&gt;removeAsconfParam());</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            <span class="keywordflow">switch</span> (sctpParam-&gt;getParameterType()) {</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa2b446c9d6257106ca738c491d8be195a">ADD_IP_ADDRESS</a>:</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;ADD_IP_PARAMETER\n&quot;</span>;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                    SctpAddIPParameter *ipParam;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                    ipParam = check_and_cast&lt;SctpAddIPParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                    addr = ipParam-&gt;getAddressParam();</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                    <span class="keywordflow">if</span> (addr.isUnspecified()) {</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;no address specified, add natted address &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                        addr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a44bb72f907584ed68920b2eabe578c3f">SCTP_I_ADDRESS_ADDED</a>);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                    }</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>) {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a53df841ce837c67ca71e9a9e3a3533a6">addRemoteAddress</a>(<span class="keyword">this</span>, (elem), addr)) {</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath</a>(addr);</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                            EV_INFO &lt;&lt; <span class="stringliteral">&quot;add remote address &quot;</span> &lt;&lt; addr &lt;&lt; <span class="stringliteral">&quot; to local address &quot;</span> &lt;&lt; (elem) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                            this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.push_back(addr);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                        }</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                    }</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                    path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr);</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">getEnableHeartbeats</a>()) {</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatIntervalTimer);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;                        path-&gt;statisticsPathRTO-&gt;record(path-&gt;pathRto);</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;HeartbeatIntervalTimer, path-&gt;pathRto);</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;                        path-&gt;forceHb = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;                    }</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                        path-&gt;confirmed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;                    <span class="keyword">delete</span> ipParam;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa7f31c822022e812cfe79f74208bd52d2">DELETE_IP_ADDRESS</a>:</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                    SctpDeleteIPParameter *delParam;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                    delParam = check_and_cast&lt;SctpDeleteIPParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;                    addr = delParam-&gt;getAddressParam();</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.size() == 1) {</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;                        SctpErrorCauseParameter *errorParam;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                        errorParam = <span class="keyword">new</span> SctpErrorCauseParameter(<span class="stringliteral">&quot;ErrorCause&quot;</span>);</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;                        errorParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa1ac54b9e0c5c311ce822593a6c385c08">ERROR_CAUSE_INDICATION</a>);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                        errorParam-&gt;setResponseCorrelationId(delParam-&gt;getRequestCorrelationId());</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;                        errorParam-&gt;setErrorCauseType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa53336ad9e16cd7d912e48a04a53a9fce">ERROR_DELETE_LAST_IP_ADDRESS</a>);</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;                        errorParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 4);</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                        errorParam-&gt;encapsulate(delParam-&gt;dup());</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                        <span class="comment">// FIXME is the c-style conversion need here?</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;                        asconfAckChunk-&gt;addAsconfResponse(errorParam);</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;                    }</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>) {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;addr=remoteAddr, make Error Parameter\n&quot;</span>;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;                        SctpErrorCauseParameter *errParam;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;                        errParam = <span class="keyword">new</span> SctpErrorCauseParameter(<span class="stringliteral">&quot;ErrorCause&quot;</span>);</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;<span class="comment">//                        errParam = new SctpErrorCauseParameter();</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;                        errParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa1ac54b9e0c5c311ce822593a6c385c08">ERROR_CAUSE_INDICATION</a>);</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;                        errParam-&gt;setResponseCorrelationId(delParam-&gt;getRequestCorrelationId());</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;                        errParam-&gt;setErrorCauseType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa18343c8d8e6c68549fde3d0973218469">ERROR_DELETE_SOURCE_ADDRESS</a>);</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;                        errParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 4);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;                        errParam-&gt;encapsulate(delParam-&gt;dup());</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;                        asconfAckChunk-&gt;addAsconfResponse(errParam);</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;                    }</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;                        locAddr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>;</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a9da70ecf5e5a2632b264df02da2379f9">removeRemoteAddressFromAllAssociations</a>(<span class="keyword">this</span>, addr, locAddr);</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c42b73f2cb213158ed95d798a49532d">removePath</a>(addr);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;remove path from address &quot;</span> &lt;&lt; addr &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;                        asconfAckChunk-&gt;addAsconfResponse(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aab11f706525a1dbf7ceb17b1869ddeeb">createSuccessIndication</a>(delParam-&gt;getRequestCorrelationId()));</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;                    }</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;                    <span class="keyword">delete</span> delParam;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160; </div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa56b489d7c0b1220ec5562475ee1a40d">SET_PRIMARY_ADDRESS</a>:</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SET_PRIMARY_ADDRESS\n&quot;</span>;</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                    SctpSetPrimaryIPParameter *priParam;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;                    priParam = check_and_cast&lt;SctpSetPrimaryIPParameter *&gt;(sctpParam);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                    addr = priParam-&gt;getAddressParam();</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                    <span class="keywordflow">if</span> (addr.isUnspecified()) {</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;no address specified, add natted address &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                        addr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>;</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                    }</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>) {</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                        <span class="keywordflow">if</span> ((elem) == addr) {</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr)-&gt;confirmed == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr));</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;                                EV_INFO &lt;&lt; <span class="stringliteral">&quot;set primaryPath to &quot;</span> &lt;&lt; addr &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;                            }</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#a7b38d2c01b6aa96561236c953dfb47e9">primaryPathCandidate</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr));</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;                            }</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;                        }</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;                    }</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;                    asconfAckChunk-&gt;addAsconfResponse(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aab11f706525a1dbf7ceb17b1869ddeeb">createSuccessIndication</a>(priParam-&gt;getRequestCorrelationId()));</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                    <span class="keyword">delete</span> priParam;</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;            }</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;        }</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;        sctpAsconfAck-&gt;appendSctpChunks(asconfAckChunk);</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;ASCONF-ACK&quot;</span>);</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpAsconfAck, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">corrIdNum</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">asconfSn</a>;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIpType&quot;</span>).stringValue();</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf</a>(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;        }</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    }</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="abf21656cc54419f3e8e6e303cea55f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf21656cc54419f3e8e6e303cea55f5f">&#9670;&nbsp;</a></span>processCookieAckArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processCookieAckArrived </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordtype">bool</span> trans = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">SCTP_E_RCV_COOKIE_ACK</a>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a1f08b07dada2838e38a94d622dac6882">getCookieArraySize</a>() == 0) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a60b2d59179a37b03c433b85f0eef74fb">getStateCookie</a>();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a32210e52f265b878933c31261897629e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32210e52f265b878933c31261897629e">&#9670;&nbsp;</a></span>processCookieEchoArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processCookieEchoArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html">SctpCookieEchoChunk</a> *&#160;</td>
          <td class="paramname"><em>cookieEcho</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_l3_address.html">L3Address</a>&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;{</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">bool</span> trans = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keyword">const</span> SctpCookie *cookie = cookieEcho-&gt;getStateCookie();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">if</span> (cookie-&gt;getCreationTime() + simtime_t(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;validCookieLifetime&quot;</span>)) &lt; simTime()) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;stale Cookie: sendAbort\n&quot;</span>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keyword">delete</span> cookie;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (cookie-&gt;getLocalTag() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> || cookie-&gt;getPeerTag() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordtype">bool</span> same = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">for</span> (int32_t i = 0; i &lt; 32; i++) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="keywordflow">if</span> (cookie-&gt;getLocalTieTag(i) != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac8e352a9a6ced4f8c1b4417973337aa6">localTieTag</a>[i]) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    same = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="keywordflow">if</span> (cookie-&gt;getPeerTieTag(i) != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b0f4c73581b4bf47d1855b361a2debf">peerTieTag</a>[i]) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    same = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <span class="keywordflow">if</span> (!same) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <span class="keyword">delete</span> cookie;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;State is CLOSED, Cookie_Ack has to be sent\n&quot;</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540">SCTP_E_RCV_VALID_COOKIE_ECHO</a>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">if</span> (trans)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck</a>(addr); <span class="comment">// send to address</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;State is not CLOSED, but COOKIE_ECHO received. Compare the Tags\n&quot;</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="comment">// case A: Peer restarted, retrieve information from cookie</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">if</span> (cookie-&gt;getLocalTag() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> &amp;&amp; cookie-&gt;getPeerTag() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="keywordtype">bool</span> same = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">for</span> (int32_t i = 0; i &lt; 32; i++) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <span class="keywordflow">if</span> (cookie-&gt;getLocalTieTag(i) != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac8e352a9a6ced4f8c1b4417973337aa6">localTieTag</a>[i]) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    same = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <span class="keywordflow">if</span> (cookie-&gt;getPeerTieTag(i) != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b0f4c73581b4bf47d1855b361a2debf">peerTieTag</a>[i]) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                    same = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="keywordflow">if</span> (same) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> = cookie-&gt;getLocalTag();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> = cookie-&gt;getPeerTag();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck</a>(addr);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="comment">// case B: Setup collision, retrieve information from cookie</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cookie-&gt;getPeerTag() == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> &amp;&amp; (cookie-&gt;getLocalTag() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> || cookie-&gt;getLocalTag() == 0)) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> = cookie-&gt;getLocalTag();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> = cookie-&gt;getPeerTag();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540">SCTP_E_RCV_VALID_COOKIE_ECHO</a>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck</a>(addr);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cookie-&gt;getPeerTag() == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> &amp;&amp; cookie-&gt;getLocalTag() == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck</a>(addr); <span class="comment">// send to address src</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keyword">delete</span> cookie;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a90469da524c287360891576ecfb3193b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90469da524c287360891576ecfb3193b">&#9670;&nbsp;</a></span>processDataArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processDataArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_chunk.html">SctpDataChunk</a> *&#160;</td>
          <td class="paramname"><em>dataChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;{</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keyword">const</span> uint32_t tsn = dataChunk-&gt;getTsn();</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160; </div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa335931741a930f24d5191e6e755712b">newChunkReceived</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aece48727b9d9e191872e5dd84215f850">lastTsnReceived</a> = tsn;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>) {</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <span class="keywordflow">if</span> (elem == path) {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        }</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">if</span> (!found) {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>.push_back(path);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    }</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4cf077a6e243219375473c2540a5150a">lastDataSourcePath</a> = path;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; SctpAssociation::processDataArrived TSN=&quot;</span> &lt;&lt; tsn &lt;&lt; endl;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    path-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#a782bbeb20946f3aca18fc3575166655d">vectorPathReceivedTsn</a>-&gt;record(tsn);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">if</span> (dataChunk-&gt;getIBit()) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keyword">const</span> uint32_t payloadLength = dataChunk-&gt;getByteLength() - <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;state-&gt;bytesRcvd=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a03c90350c07fd882609d1cd61310fa33">bytesRcvd</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keywordflow">if</span> (payloadLength == 0) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;No user data. Send ABORT&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">SCTP_E_ABORT</a>;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    }</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a03c90350c07fd882609d1cd61310fa33">bytesRcvd</a> += payloadLength;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;state-&gt;bytesRcvd now=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a03c90350c07fd882609d1cd61310fa33">bytesRcvd</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    path-&gt;numberOfBytesReceived += payloadLength;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    iter-&gt;second.rcvdBytes += payloadLength;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab1421b50b8372772a4feef53b3dcf431">stopReceiving</a>) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="comment">// ====== Duplicate: tsn &lt; CumAckTsn =====================================</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2e858590a9f56076717e3022d26a519d">tsnLe</a>(tsn, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>())) {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1392697b6c24b4ca0341b389734963c4">stopOldData</a>) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae0afcaab320fc691c1a249f6cdc590e9">tsnGe</a>(tsn, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aecb688d526335dbec44d4c11051fc4d0">peerTsnAfterReset</a>)) {</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1392697b6c24b4ca0341b389734963c4">stopOldData</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;            }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: Duplicate TSN &quot;</span> &lt;&lt; tsn &lt;&lt; <span class="stringliteral">&quot; (smaller than CumAck)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.push_back(tsn);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.unique();</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            path-&gt;numberOfDuplicates++;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160; </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a625c4793d60b30bc8ac0c85a76850797">SCTP_E_DUP_RECEIVED</a>;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="comment">// ====== Duplicate ======================================================</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a629095d26023c82ba649f49119ed6520">tsnIsDuplicate</a>(tsn)) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        <span class="comment">// TSN value is duplicate within a fragment</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Duplicate TSN &quot;</span> &lt;&lt; tsn &lt;&lt; <span class="stringliteral">&quot; (copy)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.push_back(tsn);</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.unique();</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        path-&gt;numberOfDuplicates++;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    }</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="comment">// ====== Out of receiver buffer space? ==================================</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;         (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> &lt;= 0)) ||</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> == 0) &amp;&amp;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;         ((int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a></div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                    - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a>) &lt;= 0)))</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(tsn, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>())) {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;DROP: &quot;</span> &lt;&lt; (int)tsn &lt;&lt; <span class="stringliteral">&quot; high=&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>()</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; Q=&quot;</span> &lt;&lt; (int)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; <span class="stringliteral">&quot; Rwnd=&quot;</span> &lt;&lt; (<span class="keywordtype">int</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            <span class="keywordflow">if</span> ((!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a69408b8a0086c9f6b05b93a363e8166f">pktDropSent</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a1dee97405fa022b09cb20207f45f8285">pktdrop</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ff55b82ce89539122707f6d7714523e">peerPktDrop</a>)) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Receive buffer full (case 1): sendPacketDrop&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;            }</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            iter-&gt;second.numDropsBecauseNewTsnGreaterThanHighestTsn++;</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <span class="comment">//          }  ????</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((tsn &lt; state-&gt;gapList.getHighestTsnReceived()) &amp;&amp;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                 (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a15f4e2ba243fc1a3bd33bb2095e11c55">disableReneging</a> == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                 (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn</a>(tsn, dataChunk-&gt;getByteLength() - <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a> * 8, dataChunk-&gt;getUBit())))</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            <span class="keywordflow">if</span> ((!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a69408b8a0086c9f6b05b93a363e8166f">pktDropSent</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a1dee97405fa022b09cb20207f45f8285">pktdrop</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ff55b82ce89539122707f6d7714523e">peerPktDrop</a>)) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Receive buffer full (case 2): sendPacketDrop&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            }</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            iter-&gt;second.numDropsBecauseNoRoomInBuffer++;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="comment">// ====== Update of CumAckTsn ============================================</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#af28532e63452a06ecdcea527ec79310e">updateGapList</a>(tsn, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa335931741a930f24d5191e6e755712b">newChunkReceived</a>,</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a15f4e2ba243fc1a3bd33bb2095e11c55">disableReneging</a> == <span class="keyword">false</span>) ? <span class="keyword">true</span> : <span class="keyword">false</span>);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ad755fd16cc349ca05ba1df9700c72f4d">tryToAdvanceCumAckTsn</a>();</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;cumAckTsn=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>()</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; highestTsnReceived=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; </div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="comment">// ====== Silly Window Syndrome Avoidance ================================</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">swsAvoidanceInvoked</a>) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <span class="comment">// swsAvoidanceInvoked =&gt; schedule a SACK to be sent at once in this case</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        EV_TRACE &lt;&lt; <span class="stringliteral">&quot;swsAvoidanceInvoked&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160; </div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keywordflow">if</span> (dataChunk-&gt;getSid() &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>) {</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError</a>(dataChunk-&gt;getSid());</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    }</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="comment">// ====== Enqueue new chunk ==============================================</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> <span class="keyword">event</span> = <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">SCTP_E_SEND</a>;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa335931741a930f24d5191e6e755712b">newChunkReceived</a>) {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.find(dataChunk-&gt;getSid());</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> ret = iter-&gt;second-&gt;enqueueNewDataChunk(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abeb4ef5900ac3d0f78ea3b40e177c55b">makeVarFromMsg</a>(dataChunk));</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordflow">if</span> (ret &gt; 0) {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> += payloadLength;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;            <span class="keyword">event</span> = <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a98c597c43e317d082f8bbb9900eb067f">SCTP_E_DELIVERED</a>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 3) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>++;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">sendDataArrivedNotification</a>(dataChunk-&gt;getSid());</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">putInDeliveryQ</a>(dataChunk-&gt;getSid());</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                <span class="keywordflow">if</span> (simTime() &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9d5db6b670a371d3a3a1b28c51358216">lastThroughputTime</a> + 1) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>; i++) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>, i)) {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                            <span class="keywordtype">char</span> vectorName[128];</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                            snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Stream %d Throughput&quot;</span>, i);</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>[i] = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                        }</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>[i]-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8627167b7a6bf683ca2fec625647cbd1">streamThroughput</a>[i]</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                                / (simTime() - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9d5db6b670a371d3a3a1b28c51358216">lastThroughputTime</a>) / 1024);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8627167b7a6bf683ca2fec625647cbd1">streamThroughput</a>[i] = 0;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                    }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9d5db6b670a371d3a3a1b28c51358216">lastThroughputTime</a> = simTime();</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8627167b7a6bf683ca2fec625647cbd1">streamThroughput</a>[dataChunk-&gt;getSid()] += payloadLength;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        }</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa335931741a930f24d5191e6e755712b">newChunkReceived</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">return</span> event;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a6ca90778077c3bf395501a1d5f6e4407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ca90778077c3bf395501a1d5f6e4407">&#9670;&nbsp;</a></span>processErrorArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::processErrorArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_error_chunk.html">SctpErrorChunk</a> *&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;{</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    uint32_t parameterType;</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; errorChunk-&gt;getParametersArraySize(); i++) {</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        SctpParameter *param = (SctpParameter *)errorChunk-&gt;getParameters(i);</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;        parameterType = param-&gt;getParameterType();</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        <span class="keywordflow">switch</span> (parameterType) {</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a5b624fb01c9f863862edf6e93aa2067d">MISSING_NAT_ENTRY</a>: {</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIP&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>-&gt;isScheduled())</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">corrIdNum</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">asconfSn</a>;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIpType&quot;</span>).stringValue();</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf</a>(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;                }</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;            }</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160; </div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a1b2a469bc942e91a34bf08f5b333233c">UNSUPPORTED_HMAC</a>: {</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;            }</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;        }</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    }</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="ac2ad876f2d1276b8d91f6d9b2258e0d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ad876f2d1276b8d91f6d9b2258e0d2">&#9670;&nbsp;</a></span>processForwardTsnArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processForwardTsnArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_forward_tsn_chunk.html">SctpForwardTsnChunk</a> *&#160;</td>
          <td class="paramname"><em>forChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;{</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    EV_TRACE &lt;&lt; <span class="stringliteral">&quot;processForwardTsnArrived\n&quot;</span>;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;last state-&gt;cTsnAck=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>() &lt;&lt; <span class="stringliteral">&quot; fwCumAck=&quot;</span> &lt;&lt; fwChunk-&gt;getNewCumTsn() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="comment">/* Ignore old FORWARD_TSNs, probably stale retransmits. */</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>() &gt;= fwChunk-&gt;getNewCumTsn()) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; fwChunk-&gt;getSidArraySize(); i++) {</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="keywordflow">if</span> (fwChunk-&gt;getSsn(i) != -1) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.find(fwChunk-&gt;getSid(i));</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            SctpReceiveStream *rStream = iter-&gt;second;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;            <span class="comment">/* Uncomment the folloing to drop gap-acknowledged messages</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="comment">             * between two abandonend messages rather then delivering them.</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            <span class="keywordflow">if</span> (rStream-&gt;getOrderedQ()-&gt;getQueueSize() &gt; 0)</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                rStream-&gt;setExpectedStreamSeqNum(rStream-&gt;getOrderedQ()-&gt;getFirstSsnInQueue(fwChunk-&gt;getSid(i)));</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rStream-&gt;getExpectedStreamSeqNum() &lt;= fwChunk-&gt;getSsn(i))</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                rStream-&gt;setExpectedStreamSeqNum(fwChunk-&gt;getSsn(i) + 1);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;            <span class="keywordflow">if</span> (rStream-&gt;getExpectedStreamSeqNum() &gt; 65535) {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                rStream-&gt;setExpectedStreamSeqNum(0);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">sendDataArrivedNotification</a>(fwChunk-&gt;getSid(i));</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer</a>();</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        }</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    }</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="comment">/* Update Gap lists with abandoned TSNs and advance CumTSNAck */</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>() + 1; i &lt;= fwChunk-&gt;getNewCumTsn(); i++) {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        <span class="keywordflow">if</span> (i &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>() &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#af25727334af162eb6311ccde898edf54">tsnInGapList</a>(i)) {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            <span class="keywordtype">bool</span> dummy;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#af28532e63452a06ecdcea527ec79310e">updateGapList</a>(i, dummy, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ad755fd16cc349ca05ba1df9700c72f4d">tryToAdvanceCumAckTsn</a>();</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    }</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a247c72421e476d8de2313051657de157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247c72421e476d8de2313051657de157">&#9670;&nbsp;</a></span>processHeartbeatAckArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processHeartbeatAckArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_heartbeat_ack_chunk.html">SctpHeartbeatAckChunk</a> *&#160;</td>
          <td class="paramname"><em>heartbeatack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;{</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    path-&gt;numberOfHeartbeatAcksRcvd++;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    path-&gt;vectorPathRcvdHbAck-&gt;record(path-&gt;numberOfHeartbeatAcksRcvd);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="comment">/* hb-ack goes to pathmanagement, reset error counters, stop timeout timer */</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keyword">const</span> L3Address addr = hback-&gt;getRemoteAddr();</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keyword">const</span> simtime_t hbTimeField = hback-&gt;getTimeField();</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <span class="comment">/* assume a valid RTT measurement on this path */</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    simtime_t rttEstimation = simTime() - hbTimeField;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">pmRttMeasurement</a>(path, rttEstimation);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0df44d3ac952adb270964d77ac465624">pmClearPathCounter</a>(path);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    path-&gt;confirmed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    path-&gt;lastAckTime = simTime();</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="keywordflow">if</span> (path-&gt;primaryPathCandidate == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr));</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        path-&gt;primaryPathCandidate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        <span class="keywordflow">if</span> (path-&gt;pmtu &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">assocPmtu</a>) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">assocPmtu</a> = path-&gt;pmtu;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        path-&gt;ssthresh = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        path-&gt;heartbeatTimeout = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a030c456daf728b814f1559331ae5e4fa">getHbInterval</a>() + path-&gt;pathRto;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="keywordflow">if</span> (path-&gt;activePath == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;HB ACK arrived activePath=false. remoteAddress=&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; initialPP=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">initialPrimaryPath</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        path-&gt;activePath = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47ff5d38deaba8dffba7320824fa8dc8">reactivatePrimaryPath</a> &amp;&amp; path-&gt;remoteAddress == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">initialPrimaryPath</a>) {</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(path);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;primaryPath now &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20824834eb617dde35385bb715df3ebe">getPrimaryPathIndex</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Received HB ACK chunk...resetting error counters on path &quot;</span> &lt;&lt; addr</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;, rttEstimation=&quot;</span> &lt;&lt; rttEstimation &lt;&lt; endl;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    path-&gt;pathErrorCount = 0;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a6930ba8b878e053d838cbe9f034fafd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6930ba8b878e053d838cbe9f034fafd1">&#9670;&nbsp;</a></span>processInAndOutResetRequestArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processInAndOutResetRequestArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>inRequestParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>outRequestParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;{</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    uint32_t inSrSn = 0;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    uint32_t outSrSn = 0;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    uint16_t inRes = 0;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    uint16_t outRes = 0;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    uint16_t num = 0;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(outRequestParam-&gt;getLastTsn(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>())) {</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1d3596a56e6f10abf61a916eb5378963">lastTsnBeforeReset</a> = outRequestParam-&gt;getLastTsn();</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = outRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0b08c6a2c7525b591579e6e111e13fc5">inRequestSn</a> = inRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa755a6ed831c327da57dba1bccf229d6">inOut</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    }</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;        <span class="keywordflow">if</span> (outRequestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;            num = 0;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; outRequestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a383403d684dfe30011ec4e6b8df4db1d">receiveStreamPresent</a>(outRequestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                    outSrSn = outRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                    outRes = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>;</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                    num++;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                }</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;            }</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;            <span class="keywordflow">if</span> (num == 0) {</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; outRequestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn</a>(outRequestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;                }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;            }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        }</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;processInAndOutResetRequestArrived: resetExpectedSsns\n&quot;</span>;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse</a>(inRequestParam-&gt;getSrReqSn(), outRequestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        <span class="keywordflow">if</span> (inRequestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            num = 0;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; inRequestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a383403d684dfe30011ec4e6b8df4db1d">receiveStreamPresent</a>(inRequestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                    inSrSn = inRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;                    inRes = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                    num++;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;<span class="comment">//                    sendStreamResetResponse(outRequestParam-&gt;getSrReqSn(), DENIED);</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                }</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;            }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;            <span class="keywordflow">if</span> (num == 0) {</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse</a>(inRequestParam, outRequestParam);</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;            }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="keywordflow">if</span> (inSrSn &gt; 0 &amp;&amp; outSrSn &gt; 0) {</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse</a>(inSrSn, inRes, outSrSn, outRes);</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    }</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="a5a95064033a253b58188c6a03b54d9ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a95064033a253b58188c6a03b54d9ef">&#9670;&nbsp;</a></span>processIncomingResetRequestArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::processIncomingResetRequestArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>requestParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;{</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    uint16_t num = 0;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; (requestParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>))) {</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="comment">// Retransmission</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    }</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">fragInProgress</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> == 0) {</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <span class="keywordflow">if</span> (requestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac322b5814c746b8f0a719570d87046ae">sendStreamPresent</a>(requestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                }</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afc130170fc4618e11bdeb6c896bc0825">getSsnOfStream</a>(requestParam-&gt;getStreamNumbers(i)) == 0) {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;                    num++;</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;                }</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;            }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;            <span class="keywordflow">if</span> (num == requestParam-&gt;getStreamNumbersArraySize()) {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            }</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af1650a0eb535a1e48aae550d69e82afc">findPeerStreamToReset</a>(requestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160; </div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">//                    resetSsn(requestParam-&gt;getStreamNumbers(i));</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.push_back(requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                }</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;            }</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        }</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns</a>();</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest</a>(requestParam);</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="comment">//        sendBundledOutgoingResetAndResponse(requestParam);</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        EV_TRACE &lt;&lt; <span class="stringliteral">&quot;processIncomingResetRequestArrived: sendOutgoingResetRequestArrived returned\n&quot;</span>;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    }</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        <span class="keywordflow">if</span> (requestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.clear();</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.clear();</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac322b5814c746b8f0a719570d87046ae">sendStreamPresent</a>(requestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                }</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream</a>(requestParam-&gt;getStreamNumbers(i)) &gt; 0) || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae1d844370f18f3038dd5de4f235a4c55">getFragInProgressOfStream</a>(requestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.push_back(requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                }</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.push_back(requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a>(requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                }</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            }</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        }</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>; i++) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream</a>(i) &gt; 0) {</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.push_back(i);</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                }</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.push_back(i);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a>(i);</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                }</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;        }</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0) {</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;<span class="comment">//            sendBundledOutgoingResetAndResponse(requestParam);</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest</a>(requestParam);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        }</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a>) {</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>);</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4b30b8b8b9928ac338052bd41310d1f6">resetDeferred</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        }</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = requestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = ((SctpParameter *)requestParam)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">dup</a>(); <span class="comment">// FIXME is the c-style conversion need here?, duplicate only SctpParameter part!!!</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="comment">//        state-&gt;incomingRequest-&gt;setName(&quot;StateIncoming&quot;);</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    }</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="a7647c63e441930c1c74b78d2404ae37f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7647c63e441930c1c74b78d2404ae37f">&#9670;&nbsp;</a></span>processInitAckArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processInitAckArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_init_ack_chunk.html">SctpInitAckChunk</a> *&#160;</td>
          <td class="paramname"><em>initAckChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordtype">bool</span> trans = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    uint16_t <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;State is COOKIE_WAIT, Cookie_Echo has to be sent\n&quot;</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> = <a class="code" href="_sctp_association_8h.html#ad0253f70ce80e86b5da3240da37f4334">SCTP_TIMEOUT_INIT_REXMIT</a>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7d78c14307263b403b73da4009a90daf">SCTP_E_RCV_INIT_ACK</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">//        delete state-&gt;initChunk; will be deleted when state ESTABLISHED is entered</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">if</span> (trans) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> = initAckChunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> = initAckChunk-&gt;getInitTag();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7f22059ff6b1b5932b624677b918d9c6">setInitialCumAckTsn</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> - 1);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a> = initAckChunk-&gt;getA_rwnd();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">if</span> (initAckChunk-&gt;getMsg_rwnd() &gt; 0) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a> = initAckChunk-&gt;getMsg_rwnd();</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.clear();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">numberOfRemoteAddresses</a> = initAckChunk-&gt;getAddressesArraySize();</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;number of remote addresses in initAck=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">numberOfRemoteAddresses</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">numberOfRemoteAddresses</a>; j++) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                <span class="keywordflow">if</span> (initAckChunk-&gt;getAddresses(j).getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    <span class="keywordflow">if</span> (!((elem).isUnspecified())) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;addPath &quot;</span> &lt;&lt; initAckChunk-&gt;getAddresses(j) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a53df841ce837c67ca71e9a9e3a3533a6">addRemoteAddress</a>(<span class="keyword">this</span>, (elem), initAckChunk-&gt;getAddresses(j))) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                            this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.push_back(initAckChunk-&gt;getAddresses(j));</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath</a>(initAckChunk-&gt;getAddresses(j));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                        }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot; get new path for &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>, <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = path;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">initialPrimaryPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> = ((initAckChunk-&gt;getNoOutStreams() &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>) ? initAckChunk-&gt;getNoOutStreams() : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> = ((initAckChunk-&gt;getNoInStreams() &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>) ? initAckChunk-&gt;getNoInStreams() : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordflow">if</span> (initAckChunk-&gt;getHmacTypesArraySize() != 0) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; initAckChunk-&gt;getSctpChunkTypesArraySize(); j++) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = initAckChunk-&gt;getSctpChunkTypes(j);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">INIT_ACK</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">SHUTDOWN_COMPLETE</a>) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a975d83452a110dab5c981723226e200d">peerChunkList</a>.push_back(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">if</span> (initAckChunk-&gt;getSepChunksArraySize() &gt; 0) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; initAckChunk-&gt;getSepChunksArraySize(); i++) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    <span class="keywordflow">if</span> (initAckChunk-&gt;getSepChunks(i) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a56fd22ad54a0ee87c07af43bad02b439">peerStreamReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                    <span class="keywordflow">if</span> (initAckChunk-&gt;getSepChunks(i) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ff55b82ce89539122707f6d7714523e">peerPktDrop</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho</a>(initAckChunk);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;State=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">printSctpPathMap</a>();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="ae55963ef0a9559608905cb27d254e79f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae55963ef0a9559608905cb27d254e79f">&#9670;&nbsp;</a></span>processInitArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processInitArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_init_chunk.html">SctpInitChunk</a> *&#160;</td>
          <td class="paramname"><em>initChunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>dport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process incoming SCTP packets. </p>
<p>Invoked from process_RCV_Message </p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation</a> *assoc;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">char</span> timerName[64];</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordtype">bool</span> trans = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    uint16_t <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">AddressVector</a> adv;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    EV_TRACE &lt;&lt; <span class="stringliteral">&quot;processInitArrived\n&quot;</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;fork=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f134c96ca120472e237d3670baac965">fork</a> &lt;&lt; <span class="stringliteral">&quot; initReceived=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0152b28825f0ed61145f42f5edd71903">initReceived</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f134c96ca120472e237d3670baac965">fork</a> &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0152b28825f0ed61145f42f5edd71903">initReceived</a>) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            EV_TRACE &lt;&lt; <span class="stringliteral">&quot;cloneAssociation\n&quot;</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            assoc = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            EV_TRACE &lt;&lt; <span class="stringliteral">&quot;addForkedAssociation\n&quot;</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a4c168e63cf66b601306b7537de63f226">addForkedAssociation</a>(<span class="keyword">this</span>, assoc, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>, srcPort, destPort);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            assoc-&gt;listening = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb61c1febb0d9f4b1d539c716e31c893">listening</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;Connection forked: this connection got new assocId=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                                                                           <span class="stringliteral">&quot;spinoff keeps LISTENing with assocId=&quot;</span> &lt;&lt; assoc-&gt;assocId &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;T2_SHUTDOWN of assoc %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>-&gt;setName(timerName);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;T5_SHUTDOWN_GUARD of assoc %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>-&gt;setName(timerName);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;SACK_TIMER of assoc %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>-&gt;setName(timerName);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            snprintf(timerName, <span class="keyword">sizeof</span>(timerName), <span class="stringliteral">&quot;T1_INIT of assoc %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>-&gt;setName(timerName);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">updateSockPair</a>(<span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>, srcPort, destPort);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0152b28825f0ed61145f42f5edd71903">initReceived</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0152b28825f0ed61145f42f5edd71903">initReceived</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">initialPrimaryPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>));</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">if</span> (initchunk-&gt;getAddressesArraySize() == 0) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot; get new path for &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *rPath = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>, <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[rPath-&gt;remoteAddress] = rPath;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[rPath-&gt;remoteAddress] = 0;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[rPath-&gt;remoteAddress] = 0;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[rPath-&gt;remoteAddress] = 0;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> = initchunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7f22059ff6b1b5932b624677b918d9c6">setInitialCumAckTsn</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> - 1);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a> = initchunk-&gt;getA_rwnd();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">if</span> (initchunk-&gt;getMsg_rwnd() &gt; 0) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a> = initchunk-&gt;getMsg_rwnd();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> = initchunk-&gt;getInitTag();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">numberOfRemoteAddresses</a> = initchunk-&gt;getAddressesArraySize();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.clear();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>.front().isUnspecified()) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">for</span> (int32_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>-&gt;<a class="code" href="classinet_1_1_i_interface_table.html#a39b2f2f3355257ccce4b5d929bd504e6">getNumInterfaces</a>(); ++i) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv4</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    <span class="keywordflow">if</span> (<span class="keyword">auto</span> ipv4Data = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>-&gt;<a class="code" href="classinet_1_1_i_interface_table.html#a405c8eb436b41dd83ad2b72c380e853d">getInterface</a>(i)-&gt;<a class="code" href="classinet_1_1_network_interface.html#af37d527247bf3ee8eacedb9dc25ebdbf">findProtocolData</a>&lt;Ipv4InterfaceData&gt;()) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        adv.push_back(ipv4Data-&gt;getIPAddress());</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="preprocessor">#endif // ifdef INET_WITH_IPv4</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv6</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    <span class="keywordflow">if</span> (<span class="keyword">auto</span> ipv6Data = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>-&gt;<a class="code" href="classinet_1_1_i_interface_table.html#a405c8eb436b41dd83ad2b72c380e853d">getInterface</a>(i)-&gt;<a class="code" href="classinet_1_1_network_interface.html#af37d527247bf3ee8eacedb9dc25ebdbf">findProtocolData</a>&lt;Ipv6InterfaceData&gt;()) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        adv.push_back(ipv6Data-&gt;getAddress(0));</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="preprocessor">#endif // ifdef INET_WITH_IPv6</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;INET was compiled without IPv4/IPv6 support&quot;</span>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                adv = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordtype">int</span> rlevel = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">if</span> (adv.size() == 1) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back((*adv.begin()));</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rlevel &gt; 0) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : adv) {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a>((elem)) &gt;= rlevel) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">addLocalAddress</a>(<span class="keyword">this</span>, (elem));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back((elem));</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; initchunk-&gt;getAddressesArraySize(); j++) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <span class="comment">// skip IPv6 because we can&#39;t send to them yet</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">if</span> (initchunk-&gt;getAddresses(j).getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>)</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <span class="comment">// set path variables for this pathlocalAddresses</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(initchunk-&gt;getAddresses(j))) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>(initchunk-&gt;getAddresses(j), <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot; get new path for &quot;</span> &lt;&lt; initchunk-&gt;getAddresses(j) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a53df841ce837c67ca71e9a9e3a3533a6">addRemoteAddress</a>(<span class="keyword">this</span>, (elem), initchunk-&gt;getAddresses(j))) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                            this-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.push_back(initchunk-&gt;getAddresses(j));</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                        }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[path-&gt;remoteAddress] = path;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[path-&gt;remoteAddress] = 0;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[path-&gt;remoteAddress] = 0;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[path-&gt;remoteAddress] = 0;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>, <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;Get new path for &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = path;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span> (initchunk-&gt;getHmacTypesArraySize() != 0) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; initchunk-&gt;getSctpChunkTypesArraySize(); j++) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = initchunk-&gt;getSctpChunkTypes(j);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">INIT_ACK</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">SHUTDOWN_COMPLETE</a>) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a975d83452a110dab5c981723226e200d">peerChunkList</a>.push_back(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;number supported extensions:&quot;</span> &lt;&lt; initchunk-&gt;getSepChunksArraySize() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">if</span> (initchunk-&gt;getSepChunksArraySize() &gt; 0) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; initchunk-&gt;getSepChunksArraySize(); i++) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <span class="keywordflow">if</span> (initchunk-&gt;getSepChunks(i) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a56fd22ad54a0ee87c07af43bad02b439">peerStreamReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    <span class="keywordflow">if</span> (initchunk-&gt;getSepChunks(i) == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ff55b82ce89539122707f6d7714523e">peerPktDrop</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;set peerPktDrop to true\n&quot;</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4951ad537b8b030e199c8301a43beb44">SCTP_E_RCV_INIT</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span> (trans) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck</a>(initchunk);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            trans = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4951ad537b8b030e199c8301a43beb44">SCTP_E_RCV_INIT</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <span class="keywordflow">if</span> (trans) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck</a>(initchunk);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>) { <span class="comment">// INIT-Collision</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;INIT collision: send Init-Ack\n&quot;</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">if</span> (initchunk-&gt;getHmacTypesArraySize() != 0) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a975d83452a110dab5c981723226e200d">peerChunkList</a>.size() == 0) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; initchunk-&gt;getSctpChunkTypesArraySize(); j++) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = initchunk-&gt;getSctpChunkTypes(j);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">INIT_ACK</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a> &amp;&amp; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> != <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">SHUTDOWN_COMPLETE</a>) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a975d83452a110dab5c981723226e200d">peerChunkList</a>.push_back(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck</a>(initchunk);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// check, whether a new address has been added</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordtype">bool</span> addressPresent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; initchunk-&gt;getAddressesArraySize(); j++) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordflow">if</span> (initchunk-&gt;getAddresses(j).getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <span class="keywordflow">if</span> ((elem) == (initchunk-&gt;getAddresses(j))) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                    addressPresent = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordflow">if</span> (!addressPresent) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck</a>(initchunk);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        trans = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">printSctpPathMap</a>();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="afd8daa4de352b3ccfd7b39a947e2c297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8daa4de352b3ccfd7b39a947e2c297">&#9670;&nbsp;</a></span>processOutAndResponseArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processOutAndResponseArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>outRequestParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_stream_reset_response_parameter.html">SctpStreamResetResponseParameter</a> *&#160;</td>
          <td class="paramname"><em>responseParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;{</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;processOutAndResponseArrived\n&quot;</span>;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> == 0) {</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;            SctpResetTimer *tm = check_and_cast&lt;SctpResetTimer *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;decapsulate());</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;            <span class="keywordflow">if</span> (tm-&gt;getOutSN() == responseParam-&gt;getSrResSn()) {</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;            }</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;            <span class="keyword">delete</span> tm;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        }</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    }</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[outRequestParam-&gt;getSrResSn()].result != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        <span class="keywordflow">if</span> (outRequestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; outRequestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn</a>(outRequestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;            }</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        }</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        }</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[outRequestParam-&gt;getSrResSn()].result = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    }</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keywordflow">if</span> (responseParam-&gt;getResult() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].result != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;            std::list&lt;uint16_t&gt;::iterator iter;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].streams.size() &gt; 0) {</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                <span class="keywordflow">for</span> (iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].streams.begin(); iter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].streams.end(); iter++) {</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a>((*iter));</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                }</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;            }</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns</a>();</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;            }</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="comment">//            resetExpectedSsns();</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1adeae8ea24c8f2bc62e028d16e4b1ad1a">SCTP_I_SEND_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;            <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;            it-&gt;second.numResetRequestsPerformed++;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        }</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Reset Request failed. Send indication to app.\n&quot;</span>;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a9bce762a81bf55cedb5d25a87479f250">SCTP_I_RESET_REQUEST_FAILED</a>);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    }</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].result = responseParam-&gt;getResult();</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="a3eca49723f8c582c77dc6b3f235c29ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eca49723f8c582c77dc6b3f235c29ee">&#9670;&nbsp;</a></span>processOutgoingResetRequestArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::processOutgoingResetRequestArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>requestParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;{</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    EV_TRACE &lt;&lt; <span class="stringliteral">&quot;processOutgoingResetRequestArrived\n&quot;</span>;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; (requestParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>))) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <span class="comment">// Retransmission</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160; </div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0562a0798eb7e67f35692e5d35b11656">findRequestNum</a>(requestParam-&gt;getSrResSn())) {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[requestParam-&gt;getSrResSn()].result = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>--;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    }</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> == 0) {</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;            SctpResetTimer *tm = check_and_cast&lt;SctpResetTimer *&gt;(<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;decapsulate());</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;            <span class="keywordflow">if</span> ((tm-&gt;getOutSN() == requestParam-&gt;getSrResSn() &amp;&amp; !tm-&gt;getOutAcked()) ||</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                (tm-&gt;getInSN() == requestParam-&gt;getSrResSn() &amp;&amp; !tm-&gt;getInAcked()))</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = 0;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab1421b50b8372772a4feef53b3dcf431">stopReceiving</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;            }</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;            <span class="keyword">delete</span> tm;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    }</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">if</span> (requestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        uint16_t <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> = 0;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a383403d684dfe30011ec4e6b8df4db1d">receiveStreamPresent</a>(requestParam-&gt;getStreamNumbers(i))) {</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;            }</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9719fafd71a156b596c3d89f3e7cba55">getExpectedSsnOfStream</a>(requestParam-&gt;getStreamNumbers(i)) != 0) {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>++;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;            }</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        }</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> == 0 &amp;&amp; !(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(requestParam-&gt;getLastTsn(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>()))) {</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    }</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">streamReset</a> &amp;&amp; !(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(requestParam-&gt;getLastTsn(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>()))) {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;        <span class="keywordflow">if</span> (requestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn</a>(requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        }</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        }</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;processOutgoingResetRequestArrived: resetExpectedSsns\n&quot;</span>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = 0;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;        }</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">responseSn</a> = requestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        }</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(requestParam-&gt;getLastTsn(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>())) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1d3596a56e6f10abf61a916eb5378963">lastTsnBeforeReset</a> = requestParam-&gt;getLastTsn();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = requestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = requestParam-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">dup</a>();</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4b30b8b8b9928ac338052bd41310d1f6">resetDeferred</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">//        state-&gt;firstPeerRequest = false;</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    }</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="aa502a1c149ae9bad6c4bc61fdaf2e565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa502a1c149ae9bad6c4bc61fdaf2e565">&#9670;&nbsp;</a></span>processPacketDropArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processPacketDropArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_packet_drop_chunk.html">SctpPacketDropChunk</a> *&#160;</td>
          <td class="paramname"><em>pktdrop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;{</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keywordtype">bool</span> dataReceived = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160; </div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="keywordflow">if</span> (packetDropChunk-&gt;getMFlag() == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;        EV_TRACE &lt;&lt; <span class="stringliteral">&quot;processPacketDropArrived&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        <span class="keywordflow">if</span> (packetDropChunk-&gt;getEncapsulatedPacket() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;            SctpHeader *sctpmsg = (SctpHeader *)(packetDropChunk-&gt;decapsulate());</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;            <span class="keyword">const</span> uint32_t numberOfChunks = sctpmsg-&gt;getChunksArraySize();</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;numberOfChunks=&quot;</span> &lt;&lt; numberOfChunks &lt;&lt; endl;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;            <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; numberOfChunks; i++) {</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;                SctpChunk *chunk = (SctpChunk *)(sctpmsg-&gt;removeChunk());</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;                <span class="keyword">const</span> uint8_t <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = chunk-&gt;getSctpChunkType();</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>) {</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>: {</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;                        SctpDataChunk *dataChunk = check_and_cast&lt;SctpDataChunk *&gt;(chunk);</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;                        <span class="keyword">const</span> uint32_t tsn = dataChunk-&gt;getTsn();</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                        <span class="keyword">auto</span> pq = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.find(tsn);</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;                        <span class="keywordflow">if</span> ((pq != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end()) &amp;&amp;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                            (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(pq-&gt;second)))</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                        {</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: Packet Drop for TSN &quot;</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                                      &lt;&lt; pq-&gt;second-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;                                      &lt;&lt; pq-&gt;second-&gt;getLastDestination()</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                                      &lt;&lt; <span class="stringliteral">&quot; -&gt; transmitting it again&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ef650f8ed8fd7da37a0a29a01e0ec9d">putInTransmissionQ</a>(pq-&gt;first, pq-&gt;second);</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;                        }</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                        <span class="keyword">delete</span> dataChunk-&gt;decapsulate();</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                        dataReceived = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                    }</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160; </div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>:</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160; </div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a>:</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>);</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">retransmitInit</a>();</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160; </div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">HEARTBEAT</a>:</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>));</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">HEARTBEAT_ACK</a>:</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160; </div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f">SHUTDOWN</a>:</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown</a>();</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160; </div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa2d9dde04457cd20eaa66b7da11a5c909">SHUTDOWN_ACK</a>:</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck</a>();</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160; </div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">COOKIE_ECHO</a>:</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>);</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho</a>();</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160; </div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b">COOKIE_ACK</a>:</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160; </div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>:</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;AsconfTimer);</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf</a>();</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;AsconfTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160; </div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>:</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)) != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;                            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;                            sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;                            SctpForwardTsnChunk *forwardChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>)) {</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;                                SctpAuthenticationChunk *authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;                                sctpmsg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;                            }</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                            sctpmsg-&gt;appendSctpChunks(forwardChunk);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;                        }</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;unknown chunk type&quot;</span>);</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160; </div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;                }</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;                <span class="keyword">delete</span> chunk;</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;            }</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac04574b7f00810703e57f3091f182f5a">disposeOf</a>(sctpmsg);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        }</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;no chunk encapsulated&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;        }</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = packetDropChunk-&gt;getMaxRwnd()</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;            - packetDropChunk-&gt;getQueuedData()</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;            - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>();</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>);</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        <span class="keywordflow">return</span> dataReceived;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    }</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a46c91449b399efe7c36b0f7025e52eee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46c91449b399efe7c36b0f7025e52eee">&#9670;&nbsp;</a></span>processResetResponseArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::processResetResponseArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_stream_reset_response_parameter.html">SctpStreamResetResponseParameter</a> *&#160;</td>
          <td class="paramname"><em>responseParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;{</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;processResetResponseArrived \n&quot;</span>;</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;hasEncapsulatedPacket() &amp;&amp;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> == 0 || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af793d2b24e030f93df4c6c7928ba7ad6">getNumRequestsNotPerformed</a>() == 1 &amp;&amp; responseParam-&gt;getResult() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>)))</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;            SctpResetTimer *tm = check_and_cast&lt;SctpResetTimer *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;decapsulate());</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;SrResSn=&quot;</span> &lt;&lt; responseParam-&gt;getSrResSn() &lt;&lt; <span class="stringliteral">&quot; tmOut=&quot;</span> &lt;&lt; tm-&gt;getOutSN() &lt;&lt; <span class="stringliteral">&quot; tmIn= &quot;</span> &lt;&lt; tm-&gt;getInSN() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;            <span class="keywordflow">if</span> (tm-&gt;getOutSN() == responseParam-&gt;getSrResSn() || tm-&gt;getInSN() == responseParam-&gt;getSrResSn() || responseParam-&gt;getResult() &gt; <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#afc7e9be480da7da4108f975f825a3694">pathErrorCount</a> = 0;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() == 0) {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;                    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a>;</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;                }</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            }</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;            <span class="keyword">delete</span> tm;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;            <span class="keywordflow">if</span> (responseParam-&gt;getResult() &gt; <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.clear();</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.clear();</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae58bbe95c4c95067997c7978e2601682">resetInStreams</a>.clear();</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;            }</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        }</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;hasEncapsulatedPacket())) {</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;            <span class="keyword">delete</span> (<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;decapsulate());</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        }</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    }</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].result != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        <span class="keywordflow">if</span> (responseParam-&gt;getResult() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a>) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.size() &gt; 0) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>) {</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a>((elem));</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;                    }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.clear();</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;                }</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> == 0) {</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns</a>();</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                }</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() == 0)</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;            }</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;            <span class="keywordflow">if</span> (responseParam-&gt;getReceiversNextTsn() != 0) {</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> = responseParam-&gt;getReceiversNextTsn();</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a> = responseParam-&gt;getReceiversNextTsn() - 1;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a1329661e652fe4fe97c301a7e0827b2b">forwardCumAckTsn</a>(responseParam-&gt;getSendersNextTsn() - 1);</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aecb688d526335dbec44d4c11051fc4d0">peerTsnAfterReset</a> = responseParam-&gt;getSendersNextTsn();</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab1421b50b8372772a4feef53b3dcf431">stopReceiving</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1392697b6c24b4ca0341b389734963c4">stopOldData</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae58bbe95c4c95067997c7978e2601682">resetInStreams</a>.size() &gt; 0) {</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae58bbe95c4c95067997c7978e2601682">resetInStreams</a>) {</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn</a>((elem));</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;                    }</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae58bbe95c4c95067997c7978e2601682">resetInStreams</a>.clear();</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                }</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;                }</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;<span class="comment">//                sendSack();</span></div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            }</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9995bc4ae95ebf5ea531d5a9b1ae7089">ADD_BOTH</a>) {</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> &gt; 0) {</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a>;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a>);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> = 0;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                }</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> &gt; 0) {</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a>;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;                    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a>);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> = 0;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                }</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;            }</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a>) {</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a>;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a>);</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> = 0;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            }</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>) {</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a>;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;                (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">ssAddOutStreams</a>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a>);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> = 0;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;            }</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1adeae8ea24c8f2bc62e028d16e4b1ad1a">SCTP_I_SEND_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;            it-&gt;second.numResetRequestsPerformed++;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;Reset Request failed. Send indication to app.\n&quot;</span>;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;            <span class="keywordflow">if</span> (responseParam-&gt;getResult() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;            }</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a9bce762a81bf55cedb5d25a87479f250">SCTP_I_RESET_REQUEST_FAILED</a>);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;            }</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        }</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[responseParam-&gt;getSrResSn()].result = responseParam-&gt;getResult();</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    }</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() == 0) {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    }</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="ad552ceea574093dc66cae3ac856e8e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad552ceea574093dc66cae3ac856e8e94">&#9670;&nbsp;</a></span>processSackArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processSackArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_sack_chunk.html">SctpSackChunk</a> *&#160;</td>
          <td class="paramname"><em>sackChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    simtime_t rttEstimation = SIMTIME_MAX;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keyword">const</span> uint64_t sendBufferBeforeUpdate = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>); <span class="comment">// Path for *this* SACK!</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keyword">const</span> uint64_t arwnd = sackChunk-&gt;getA_rwnd();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keyword">const</span> uint32_t tsna = sackChunk-&gt;getCumTsnAck();</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    uint32_t highestNewAck = tsna; <span class="comment">// Highest newly acked TSN</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keyword">const</span> uint16_t numDups = sackChunk-&gt;getNumDupTsns();</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    Sctp::AssocStat *assocStat = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a31d8497337df5b1fac236d614bf2a247">getAssocStat</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordtype">bool</span> dropFilledGap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keyword">const</span> uint32_t msgRwnd = sackChunk-&gt;getMsg_rwnd();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// ====== Put information from SACK into GapList =========================</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    SctpGapList sackGapList;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    sackGapList.setInitialCumAckTsn(sackChunk-&gt;getCumTsnAck());</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    uint32_t lastTsn = sackChunk-&gt;getCumTsnAck();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; sackChunk-&gt;getNumGaps(); i++) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        uint32_t tsn = sackChunk-&gt;getGapStart(i);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        assert(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(lastTsn + 1, tsn));</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        lastTsn = tsn;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2e858590a9f56076717e3022d26a519d">tsnLe</a>(tsn, sackChunk-&gt;getGapStop(i))) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordtype">bool</span> dummy;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            sackGapList.updateGapList(tsn, dummy, <span class="keyword">true</span>); <span class="comment">// revokable TSN</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            tsn++;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        lastTsn = sackChunk-&gt;getGapStop(i);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> (assocStat) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        assocStat-&gt;sumRGapRanges += ((sackChunk-&gt;getCumTsnAck() &lt;= lastTsn) ?</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                     (uint64_t)(lastTsn - sackChunk-&gt;getCumTsnAck()) :</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                     (uint64_t)(sackChunk-&gt;getCumTsnAck() - lastTsn));</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (sackChunk-&gt;getNrSubtractRGaps() == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        lastTsn = sackChunk-&gt;getCumTsnAck();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; sackChunk-&gt;getNumNrGaps(); i++) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            uint32_t tsn = sackChunk-&gt;getNrGapStart(i);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            assert(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(lastTsn + 1, tsn));</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            lastTsn = tsn;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2e858590a9f56076717e3022d26a519d">tsnLe</a>(tsn, sackChunk-&gt;getNrGapStop(i))) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                <span class="keywordtype">bool</span> dummy;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                sackGapList.updateGapList(tsn, dummy, <span class="keyword">false</span>); <span class="comment">// non-revokable TSN</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                tsn++;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            lastTsn = sackChunk-&gt;getNrGapStop(i);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        lastTsn = sackChunk-&gt;getCumTsnAck();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; sackChunk-&gt;getNumNrGaps(); i++) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            uint32_t tsn = sackChunk-&gt;getNrGapStart(i);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            assert(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(lastTsn + 1, tsn));</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            lastTsn = tsn;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2e858590a9f56076717e3022d26a519d">tsnLe</a>(tsn, sackChunk-&gt;getNrGapStop(i))) {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                <span class="keywordflow">if</span> (sackGapList.tsnIsRevokable(tsn) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                    <span class="keywordtype">bool</span> dummy;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                    sackGapList.updateGapList(tsn, dummy, <span class="keyword">false</span>); <span class="comment">// non-revokable TSN</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                tsn++;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            lastTsn = sackChunk-&gt;getNrGapStop(i);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (assocStat) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        assocStat-&gt;sumNRGapRanges += (sackChunk-&gt;getCumTsnAck() &lt;= lastTsn) ?</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            (uint64_t)(lastTsn - sackChunk-&gt;getCumTsnAck()) :</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            (uint64_t)(sackChunk-&gt;getCumTsnAck() - lastTsn);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">const</span> uint16_t numGaps = sackGapList.getNumGaps(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">// ====== Print some information =========================================</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;##### SACK Processing: TSNa=&quot;</span> &lt;&lt; tsna &lt;&lt; <span class="stringliteral">&quot; #####&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Path &quot;</span> &lt;&lt; myPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;outstanding=&quot;</span> &lt;&lt; path-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;T3scheduled=&quot;</span> &lt;&lt; path-&gt;T3_RtxTimer-&gt;getArrivalTime() &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                  &lt;&lt; (path-&gt;T3_RtxTimer-&gt;isScheduled() ? <span class="stringliteral">&quot;[ok]&quot;</span> : <span class="stringliteral">&quot;[NOT SCHEDULED]&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;findPseudoCumAck=&quot;</span> &lt;&lt; ((myPath-&gt;findPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;pseudoCumAck=&quot;</span> &lt;&lt; myPath-&gt;pseudoCumAck &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;newPseudoCumAck=&quot;</span> &lt;&lt; ((myPath-&gt;newPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;findRTXPseudoCumAck=&quot;</span> &lt;&lt; ((myPath-&gt;findRTXPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;rtxPseudoCumAck=&quot;</span> &lt;&lt; myPath-&gt;rtxPseudoCumAck &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;newRTXPseudoCumAck=&quot;</span> &lt;&lt; ((myPath-&gt;newRTXPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                  &lt;&lt; endl;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Before processSackArrived for path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; with tsna=&quot;</span> &lt;&lt; tsna &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="comment">// ====== SACK Sequence Number Check =====================================</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SACK Seq Number = &quot;</span> &lt;&lt; sackChunk-&gt;getSackSeqNum() &lt;&lt; endl;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a21ae85cee62fcc31ac16a5cdc8f16475">checkSackSeqNumber</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        (sackChunk-&gt;getSackSeqNum() &lt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b79211f1ed0b37a6839ca361b1086bf">incomingSackSeqNum</a>))</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Out-of-data SACK: &quot;</span> &lt;&lt; sackChunk-&gt;getSackSeqNum()</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; &lt; &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b79211f1ed0b37a6839ca361b1086bf">incomingSackSeqNum</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b79211f1ed0b37a6839ca361b1086bf">incomingSackSeqNum</a> = sackChunk-&gt;getSackSeqNum();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="comment">// ====== Record statistics ==============================================</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a665b8a119cc0922aae8f31bb1c6ad751">numGapBlocks</a>-&gt;record(numGaps);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af7c5d006bcc944d3e5e2690dc0d54f51">statisticsRevokableGapBlocksInLastSACK</a>-&gt;record(sackGapList.getNumGaps(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">SctpGapList::GT_Revokable</a>));</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8a3ad873109cd043a2619c6be00c8233">statisticsNonRevokableGapBlocksInLastSACK</a>-&gt;record(sackGapList.getNumGaps(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">SctpGapList::GT_NonRevokable</a>));</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    path-&gt;vectorPathAckedTsnCumAck-&gt;record(tsna);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (assocStat) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        assocStat-&gt;numDups += numDups;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// ====== Initialize some variables ======================================</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="comment">// T.D. 26.03.09: Remember outstanding bytes before this update</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="comment">// Values are necessary for updating the congestion window!</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        myPath-&gt;outstandingBytesBeforeUpdate = myPath-&gt;outstandingBytes; <span class="comment">// copy from myPath, not from path!</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        myPath-&gt;requiresRtx = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        myPath-&gt;lowestTsnRetransmitted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        myPath-&gt;findLowestTsn = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        myPath-&gt;gapAckedChunksInLastSACK = 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        myPath-&gt;gapNRAckedChunksInLastSACK = 0;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        myPath-&gt;gapUnackedChunksInLastSACK = 0;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        myPath-&gt;newlyAckedBytes = 0;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        myPath-&gt;newCumAck = <span class="keyword">false</span>; <span class="comment">// Check whether CumAck affects this path</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="comment">// for all destinations, set newPseudoCumAck to FALSE.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        myPath-&gt;newPseudoCumAck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        myPath-&gt;newRTXPseudoCumAck = <span class="keyword">false</span>; <span class="comment">// CUCv2</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        myPath-&gt;sawNewAck = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        myPath-&gt;lowestNewAckInSack = 0;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        myPath-&gt;highestNewAckInSack = 0;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        myPath-&gt;newOldestChunkSendTime = simTime() + 9999.99; <span class="comment">// initialize to more than simTime()</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">if</span> (myPath == path) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            myPath-&gt;lastAckTime = simTime();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// ====== Zero Window Probing ============================================</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) &amp;&amp; (msgRwnd &gt; 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a>)) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a>) &amp;&amp; (arwnd &gt; 0)) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="comment">// #### Processing of CumAck                                          ####</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(tsna, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>)) { <span class="comment">// Handle new CumAck</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;===== Handling new CumAck for TSN &quot;</span> &lt;&lt; tsna &lt;&lt; <span class="stringliteral">&quot; =====&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a> + 1);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">if</span> ((myChunk != <span class="keyword">nullptr</span>) &amp;&amp; (myChunk-&gt;wasPktDropped) &amp;&amp;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            (myChunk-&gt;getLastDestinationPath()-&gt;fastRecoveryActive))</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        {</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            dropFilledGap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; myChunk-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_data_variables.html#a95310b32522cb3f2b624a3ef4193f6c1">tsn</a> &lt;&lt; <span class="stringliteral">&quot; filled gap&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="comment">// We have got new chunks acked, and our cum ack point is advanced ...</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="comment">// Depending on the parameter osbWithHeader ackedBytes are with or without the header bytes.</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="comment">// T.D. 23.03.09: path-&gt;newlyAckedBytes is updated in dequeueAckedChunks()!</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks</a>(tsna, path, rttEstimation); <span class="comment">// chunks with tsn between lastTsnAck and tsna are removed from the transmissionQ and the retransmissionQ; outstandingBytes are decreased</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a> = tsna;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(tsna, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a>)) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a> = tsna;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32d10933c0677d4faed7d61fb7289365">ackPointAdvanced</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// ====== Slow Path RTT Calculation ===================================</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">cmtSlowPathRTTUpdate</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            (path-&gt;waitingForRTTCalculaton == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            ((path-&gt;tsnForRTTCalculation == tsna) ||</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(path-&gt;tsnForRTTCalculation, tsna))))</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="comment">// Got update from CumAck -&gt; no need for Slow Path RTT calculation</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            path-&gt;waitingForRTTCalculaton = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(tsna, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>)) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stale CumAck (&quot;</span> &lt;&lt; tsna &lt;&lt; <span class="stringliteral">&quot; &lt; &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                  &lt;&lt; endl;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="comment">// ====== Slow Path RTT Calculation ===================================</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">cmtSlowPathRTTUpdate</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            (path-&gt;waitingForRTTCalculaton == <span class="keyword">true</span>))</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="comment">// Slow Path Update</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <span class="comment">// Look for a CumAck or GapAck of the remembered chunk on this path.</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="comment">// If it has been found, we can compute the RTT of this path.</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="comment">// ====== Look for matching CumAck first ===========================</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordtype">bool</span> renewRTT = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(path-&gt;tsnForRTTCalculation, tsna)) ||</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                (path-&gt;tsnForRTTCalculation == tsna))</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                renewRTT = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <span class="comment">// ====== Look for matching GapAck =================================</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((numGaps &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                     ((path-&gt;tsnForRTTCalculation == sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1)) ||</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                      (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(path-&gt;tsnForRTTCalculation, sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1)))))</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                <span class="keywordflow">for</span> (int32_t key = 0; key &lt; numGaps; key++) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                    <span class="keyword">const</span> uint32_t lo = sackGapList.getGapStart(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    <span class="keyword">const</span> uint32_t hi = sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                    <span class="keywordflow">if</span> ((path-&gt;tsnForRTTCalculation == lo) ||</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                        (path-&gt;tsnForRTTCalculation == hi) ||</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(lo, path-&gt;tsnForRTTCalculation) &amp;&amp;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                         <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(path-&gt;tsnForRTTCalculation, hi)))</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                        renewRTT = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            <span class="keywordflow">if</span> (renewRTT) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                rttEstimation = simTime() - path-&gt;txTimeForRTTCalculation;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                path-&gt;waitingForRTTCalculaton = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">pmRttMeasurement</a>(path, rttEstimation);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: SlowPathRTTUpdate from stale SACK - rtt=&quot;</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                          &lt;&lt; rttEstimation &lt;&lt; <span class="stringliteral">&quot; from TSN &quot;</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                          &lt;&lt; path-&gt;tsnForRTTCalculation</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; =&gt; RTO=&quot;</span> &lt;&lt; path-&gt;pathRto &lt;&lt; endl;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// ====== Handle reneging ================================================</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> ((numGaps == 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(tsna, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a>))) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="comment">// Reneging, type 0:</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="comment">// In a previous SACK, chunks up to highestTsnAcked have been acked.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="comment">// This SACK contains a CumAck &lt; highestTsnAcked</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="comment">//      =&gt; rereg TSNs from CumAck+1 to highestTsnAcked</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="comment">//      =&gt; new highestTsnAcked = CumAck</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;numGaps=0 &amp;&amp; tsna &quot;</span> &lt;&lt; tsna</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; &lt; highestTsnAcked &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        uint32_t i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">while</span> (i &gt;= tsna + 1) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(i);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            <span class="keywordflow">if</span> (myChunk) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(myChunk)) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged</a>(myChunk, path, 0);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            i--;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> = tsna;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// #### Processing of GapAcks                                         ####</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> ((numGaps &gt; 0) &amp;&amp; (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.empty())) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;===== Handling GapAcks after CumTSNAck &quot;</span> &lt;&lt; tsna &lt;&lt; <span class="stringliteral">&quot; =====&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;We got &quot;</span> &lt;&lt; numGaps &lt;&lt; <span class="stringliteral">&quot; gap reports&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="comment">// We got fragment reports... check for newly acked chunks.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="keyword">const</span> uint32_t queuedChunks = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.size();</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Number of chunks in retransmissionQ: &quot;</span> &lt;&lt; queuedChunks</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; highestGapStop: &quot;</span> &lt;&lt; sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; highestTsnAcked: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <span class="comment">// ====== Handle reneging =============================================</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="comment">// highest gapStop smaller than highestTsnAcked: there might have been reneging</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">tsnLt</a>(sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a>)) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            <span class="comment">// Reneging, type 2:</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="comment">// In a previous SACK, chunks up to highestTsnAcked have been acked.</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="comment">// This SACK contains a last gap ack &lt; highestTsnAcked</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <span class="comment">//      =&gt; rereg TSNs from last gap ack to highestTsnAcked</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            <span class="comment">//      =&gt; new highestTsnAcked = last gap ack</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            uint32_t i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="keywordflow">while</span> (i &gt;= sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1) + 1) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                <span class="comment">// ====== Looking up TSN in retransmission queue ================</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(i);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                <span class="keywordflow">if</span> (myChunk) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(myChunk)) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; was found. It has been un-acked.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged</a>(myChunk, path, 2);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;highestTsnAcked now &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                    }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; not found in retransmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                i--;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> = sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="comment">// ====== Looking for changes in the gap reports ======================</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Looking for changes in gap reports&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="comment">// Get Pseudo CumAck for paths</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        uint32_t lo1 = tsna;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        uint32_t tsnCheck = tsna + 1; <span class="comment">// Just to make sure that no TSN is misssed</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">for</span> (int32_t key = 0; key &lt; numGaps; key++) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <span class="keyword">const</span> uint32_t lo = sackGapList.getGapStart(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            <span class="keyword">const</span> uint32_t hi = sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <span class="comment">// ====== Iterate over TSNs *not* listed in gap reports ============</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <span class="keywordflow">for</span> (uint32_t pos = lo1 + 1; pos &lt;= lo - 1; pos++) {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                assert(tsnCheck == pos);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                tsnCheck++;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(pos);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                <span class="keywordflow">if</span> (myChunk) {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkLastPath = myChunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    assert(myChunkLastPath != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    <span class="comment">// T.D. 22.11.09: CUCv2 - chunk is *not* acked</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f51ecb152ced3414123f380ff78f8f2">cucProcessGapReports</a>(myChunk, myChunkLastPath, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            lo1 = sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <span class="comment">// ====== Iterate over TSNs in gap reports =========================</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;Examine TSNs between &quot;</span> &lt;&lt; lo &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; hi &lt;&lt; endl;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <span class="keywordflow">for</span> (uint32_t pos = lo; pos &lt;= hi; pos++) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                <span class="keywordtype">bool</span> chunkFirstTime = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                assert(tsnCheck == pos);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                tsnCheck++;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ac341cc931a601436459672aaa2c27436">getChunkFast</a>(pos, chunkFirstTime);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                <span class="keywordflow">if</span> (myChunk) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(myChunk) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkLastPath = myChunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                        assert(myChunkLastPath != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                        <span class="comment">// CUCv2 - chunk is acked</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f51ecb152ced3414123f380ff78f8f2">cucProcessGapReports</a>(myChunk, myChunkLastPath, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                        <span class="comment">// This chunk has been acked newly.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                        <span class="comment">// Let&#39;s process this new acknowledgement!</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked</a>(highestNewAck, rttEstimation, myChunk,</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                                path <span class="comment">/* i.e. the SACK path for RTT measurement! */</span>,</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                                sackGapList.tsnIsNonRevokable(myChunk-&gt;tsn));</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                        <span class="comment">// Slow Path RTT Calculation</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                        <span class="keywordflow">if</span> ((path-&gt;tsnForRTTCalculation == myChunk-&gt;tsn) &amp;&amp;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                            (path-&gt;waitingForRTTCalculaton == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">cmtSlowPathRTTUpdate</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                            (myChunk-&gt;getLastDestinationPath() == path))</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                        {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                            <span class="keyword">const</span> simtime_t rttEstimation = simTime() - path-&gt;txTimeForRTTCalculation;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                            path-&gt;waitingForRTTCalculaton = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">pmRttMeasurement</a>(path, rttEstimation);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                            EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: SlowPathRTTUpdate from gap report - rtt=&quot;</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                               &lt;&lt; rttEstimation &lt;&lt; <span class="stringliteral">&quot; from TSN &quot;</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                               &lt;&lt; path-&gt;tsnForRTTCalculation</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot; =&gt; RTO=&quot;</span> &lt;&lt; path-&gt;pathRto &lt;&lt; endl;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                        }</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                    }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                <span class="comment">// ====== R-acked chunk became NR-acked =========================</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sackGapList.tsnIsNonRevokable(pos)) {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                    <span class="keywordtype">bool</span> chunkFirstTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                    SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ac341cc931a601436459672aaa2c27436">getChunkFast</a>(pos, chunkFirstTime);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                    <span class="keywordflow">if</span> (myChunk) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                        <span class="comment">// myChunk != nullptr -&gt; R-acked before, but not NR-acked</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked</a>(highestNewAck, rttEstimation, myChunk,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                path <span class="comment">/* i.e. the SACK path for RTT measurement! */</span>,</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                sackGapList.tsnIsNonRevokable(myChunk-&gt;tsn));</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                        <span class="comment">// All NR-acked chunks have chunkMap-&gt;getChunk(pos) == nullptr!</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a> = sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, numGaps - 1);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="comment">// ====== Examine chunks between the gap reports ======================</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="comment">// They might have to be retransmitted or they could have been removed</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        uint32_t lo = tsna;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="keywordflow">for</span> (int32_t key = 0; key &lt; numGaps; key++) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <span class="keyword">const</span> uint32_t hi = sackGapList.getGapStart(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">for</span> (uint32_t pos = lo + 1; pos &lt;= hi - 1; pos++) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <span class="keywordtype">bool</span> chunkFirstTime = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                SctpDataVariables *myChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ac341cc931a601436459672aaa2c27436">getChunkFast</a>(pos, chunkFirstTime);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                <span class="keywordflow">if</span> (myChunk) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing</a>(sackChunk, highestNewAck, myChunk,</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                            path <span class="comment">/* i.e. the SACK path for RTT measurement! */</span>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; pos &lt;&lt; <span class="stringliteral">&quot; not found in retransmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            lo = sackGapList.getGapStop(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>, key);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <span class="comment">// ====== Validity checks =============================================</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        path-&gt;vectorPathAckedTsnGapAck-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">highestTsnAcked</a>);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">// ====== Buffer space may have been gained =&gt; tell application ==========</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">if</span> (sendBufferBeforeUpdate != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a>) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication</a>(sendBufferBeforeUpdate - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">sendBuffer</a>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    }</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="comment">// ====== Update Fast Recovery status, according to SACK =================</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2209b3cd6c994a4561609adacc459314">updateFastRecoveryStatus</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="comment">// ====== Update RTT measurement for newly acked data chunks =============</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">if</span> (rttEstimation &lt; SIMTIME_MAX) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: SACK: rtt=&quot;</span> &lt;&lt; rttEstimation</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;, path=&quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">pmRttMeasurement</a>(path, rttEstimation);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="comment">// ====== Record statistics ==============================================</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        myPath-&gt;statisticsPathGapAckedChunksInLastSACK-&gt;record(myPath-&gt;gapAckedChunksInLastSACK);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        myPath-&gt;statisticsPathGapNRAckedChunksInLastSACK-&gt;record(myPath-&gt;gapNRAckedChunksInLastSACK);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        myPath-&gt;statisticsPathGapUnackedChunksInLastSACK-&gt;record(myPath-&gt;gapUnackedChunksInLastSACK);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">// #### Receiver Window Management                                    ####</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keyword">const</span> uint32_t osb = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>();</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6428ad61e8f55afecf09d1019f3e3f1a">bytesToAddPerPeerChunk</a> &gt; 0) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = arwnd - osb - (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2d22a4ca3db8d254e2cf52bd25c7c6a9">outstandingMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6428ad61e8f55afecf09d1019f3e3f1a">bytesToAddPerPeerChunk</a>);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> = msgRwnd - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2d22a4ca3db8d254e2cf52bd25c7c6a9">outstandingMessages</a>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = arwnd - osb;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span> ((int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a>) &lt; 0) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> = 0;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a>) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">initialPeerMsgRwnd</a>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = arwnd - osb;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> ((int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>) &lt; 0) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = 0;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// position of statement changed 20.07.05 I.R.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> ((int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>) &lt; 0) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = 0;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a>) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">initialPeerRwnd</a>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> &amp;&amp; msgRwnd == 0) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">if</span> (arwnd == 1 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a> || arwnd == 0) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;processSackArrived: arwnd=&quot;</span> &lt;&lt; arwnd</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; state-&gt;peerRwnd=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; set peerWindowFull&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> &amp;&amp; msgRwnd &gt; 0) || !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">peerWindowFull</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afc83b96266e49ce77859ae958ec08898">advancePeerTsn</a>();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad57c66ee81d1210374193ffec8f5969">statisticsArwndInLastSACK</a>-&gt;record(arwnd);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">statisticsPeerRwnd</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="comment">// ====== Need for zero-window probing? ==================================</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (osb == 0) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a> &amp;&amp; msgRwnd == 0) || arwnd == 0)</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">zeroWindowProbing</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="comment">// #### Congestion Window Management                                  ####</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="comment">// ======= Update congestion window of each path =========================</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Before ccUpdateBytesAcked: &quot;</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keyword">const</span> L3Address&amp; myPathId = myPath-&gt;remoteAddress;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">if</span> (myPath-&gt;newPseudoCumAck) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            myPath-&gt;vectorPathPseudoCumAck-&gt;record(myPath-&gt;pseudoCumAck);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">if</span> (myPath-&gt;newRTXPseudoCumAck) {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            myPath-&gt;vectorPathRTXPseudoCumAck-&gt;record(myPath-&gt;rtxPseudoCumAck);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="keywordflow">if</span> (myPath-&gt;newlyAckedBytes &gt; 0) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            <span class="comment">// Only call ccUpdateBytesAcked() when there are</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <span class="comment">// acked bytes on this path!</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            <span class="keywordtype">bool</span> advanceWindow = myPath-&gt;newPseudoCumAck || myPath-&gt;newRTXPseudoCumAck;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07a3418849d513b7d8b4c6879cf89d83eb7">SctpStateVariables::CUCV_PseudoCumAckV2</a>) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                    advanceWindow = myPath-&gt;newPseudoCumAck || myPath-&gt;newRTXPseudoCumAck;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07aad0b1eedd882ee330560e88df6849798">SctpStateVariables::CUCV_PseudoCumAck</a>) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                    advanceWindow = myPath-&gt;newPseudoCumAck;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07a05748460ece8cd7e7d24f3e12b48c36e">SctpStateVariables::CUCV_Normal</a>) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                    advanceWindow = myPath-&gt;newCumAck;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            }</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC &quot;</span> &lt;&lt; myPath-&gt;newlyAckedBytes</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; newly acked on path &quot;</span> &lt;&lt; myPathId &lt;&lt; <span class="stringliteral">&quot;;&quot;</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\tpath-&gt;newPseudoCumAck=&quot;</span> &lt;&lt; ((myPath-&gt;newPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\tpath-&gt;newRTXPseudoCumAck=&quot;</span> &lt;&lt; ((myPath-&gt;newRTXPseudoCumAck == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>)</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\tdropFilledGap=&quot;</span> &lt;&lt; ((dropFilledGap == <span class="keyword">true</span>) ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\t-&gt;\tadvanceWindow=&quot;</span> &lt;&lt; advanceWindow &lt;&lt; endl;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a18ac22edfbdcfb6fde6863fc329c5e2e">ccUpdateBytesAcked</a>)(myPath, myPath-&gt;newlyAckedBytes,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                    (advanceWindow &amp;&amp; dropFilledGap) ? false :</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                    advanceWindow);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a837cf14a7cd29aea6dea62e0b9e969ea">SctpStateVariables::MBV_MaxBurst</a>) {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                myPath-&gt;packetsInBurst = 0;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="comment">// ====== Update congestion windows on paths (handling decreases) ========</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;Before ccUpdateAfterSack with tsna=&quot;</span> &lt;&lt; tsna &lt;&lt; endl;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="comment">// ccUpdateAfterSack() will iterate over all paths.</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a07c790e4c342817469f8af8fa4176de3">ccUpdateAfterSack</a>)();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// #### Path Management                                               ####</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="comment">// #######################################################################</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a57e6b5eada23a24f7e1ef9a7c451d034">cmtSmartT3Reset</a> == <span class="keyword">true</span>))</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="comment">// ====== Find oldest unacked chunk on each path ======================</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">for</span> (SctpQueue::PayloadQueue::const_iterator iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.begin();</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;             iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.end(); ++iterator)</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <span class="keyword">const</span> SctpDataVariables *myChunk = iterator-&gt;second;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myChunkLastPath = myChunk-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(myChunk)) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                <span class="keywordflow">if</span> (myChunkLastPath-&gt;newOldestChunkSendTime &gt; myChunk-&gt;sendTime) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; myChunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; is new oldest on path &quot;</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                              &lt;&lt; myChunkLastPath-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;, rel send time is &quot;</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                              &lt;&lt; simTime() - myChunk-&gt;sendTime &lt;&lt; <span class="stringliteral">&quot; ago&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                    myChunkLastPath-&gt;newOldestChunkSendTime = myChunk-&gt;sendTime;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                    myChunkLastPath-&gt;oldestChunkTsn = myChunk-&gt;tsn;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                }</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="comment">// ====== Need to stop or restart T3 timer? ==============================</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = elem.second;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keyword">const</span> L3Address&amp; myPathId = myPath-&gt;remoteAddress;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="comment">// ====== Smart T3 Reset ===============================================</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordtype">bool</span> updatedOldestChunkSendTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a57e6b5eada23a24f7e1ef9a7c451d034">cmtSmartT3Reset</a> == <span class="keyword">true</span>))</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            <span class="comment">// ====== Has oldest chunk send time been updated? =================</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <span class="keywordflow">if</span> (myPath-&gt;newOldestChunkSendTime &gt; simTime()) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                myPath-&gt;newOldestChunkSendTime = myPath-&gt;oldestChunkSendTime;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                <span class="comment">// newOldestChunkSendTime &gt; simTime =&gt; no old chunk found:</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                <span class="comment">// Set newOldestChunkSendTime to oldestChunkSendTime</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myPath-&gt;newOldestChunkSendTime != myPath-&gt;oldestChunkSendTime) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                <span class="comment">// Update oldestChunkSendTime.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                myPath-&gt;oldestChunkSendTime = myPath-&gt;newOldestChunkSendTime;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                updatedOldestChunkSendTime = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            assert(myPath-&gt;oldestChunkSendTime &lt;= simTime());</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">if</span> (myPath-&gt;outstandingBytes == 0) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="comment">// T.D. 07.01.2010: Only stop T3 timer when there is nothing more to send on this path!</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(myPath-&gt;remoteAddress)-&gt;second == 0) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                <span class="comment">// Stop T3 timer, if there are no more outstanding bytes.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(myPath-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                myPath-&gt;oldestChunkSendTime = SIMTIME_ZERO;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (myPath-&gt;newCumAck) { <span class="comment">// Only care for CumAcks here!</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <span class="comment">// NOTE: Due to the existence of retransmissions *before* PseudoCumAck for CUCv2,</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <span class="comment">//       it is *not* possible to check PseudoCumAck here!</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="comment">//       This would miss retransmissions -&gt; chunks would never be retransmitted!</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(myPath-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(myPath-&gt;T3_RtxTimer, myPath-&gt;pathRto);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        }</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (updatedOldestChunkSendTime) { <span class="comment">// Smart T3 Reset</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(myPath-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(myPath-&gt;T3_RtxTimer, myPath-&gt;pathRto);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <span class="comment">/* Also restart T3 timer, when lowest TSN is rtx&#39;ed */</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="keywordflow">if</span> (myPath-&gt;lowestTsnRetransmitted == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;Lowest TSN retransmitted =&gt; restart of T3 timer for path &quot;</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                        &lt;&lt; myPathId &lt;&lt; endl;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(myPath-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(myPath-&gt;T3_RtxTimer, myPath-&gt;pathRto);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160; </div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="comment">// ====== Clear error counter if TSNs on path have been acked =========</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">if</span> (myPath-&gt;newlyAckedBytes &gt; 0) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0df44d3ac952adb270964d77ac465624">pmClearPathCounter</a>(myPath);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a94e9a5246c3750df281c7dd4cbd072a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e9a5246c3750df281c7dd4cbd072a4">&#9670;&nbsp;</a></span>processSctpMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processSctpMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *&#160;</td>
          <td class="paramname"><em>sctpmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>srcAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>destAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process incoming SCTP segment. </p>
<p>Normally returns true. A return value of false means that the connection structure must be deleted by the caller (SCTP). </p>
<div class="fragment"><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;{</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief</a>();</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> = msgDestAddr;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> = sctpmsg-&gt;getDestPort();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> = msgSrcAddr;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> = sctpmsg-&gt;getSrcPort();</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="keywordflow">if</span> ((elem) == msgDestAddr) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">if</span> (!found) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;destAddr &quot;</span> &lt;&lt; msgDestAddr &lt;&lt; <span class="stringliteral">&quot; is not bound to host\n&quot;</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message</a>(sctpmsg, msgSrcAddr, msgDestAddr);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#ad772f7cf94124dbb2b77333b74294184">inet::sctp::Sctp::handleMessage()</a>.</p>

</div>
</div>
<a id="aeb41dad3db96d468718481d5399c547e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb41dad3db96d468718481d5399c547e">&#9670;&nbsp;</a></span>processSsnTsnResetRequestArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::processSsnTsnResetRequestArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_ssn_tsn_reset_request_parameter.html">SctpSsnTsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>requestParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;{</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    EV_TRACE &lt;&lt; <span class="stringliteral">&quot;processSSNTsnResetRequestArrived\n&quot;</span>;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; (requestParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>))) {</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="comment">// Retransmission</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    }</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">fragInProgress</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> == 0) {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">advancedPeerAckPoint</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1392697b6c24b4ca0341b389734963c4">stopOldData</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="comment">//        resetExpectedSsns();</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam, <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = 0;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabab99d4f2829ffb45516472323358a54">PERFORMED_WITH_OPTION</a>;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">responseSn</a> = requestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = requestParam-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">dup</a>();</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        }</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    }</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(requestParam, <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = requestParam-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">dup</a>();</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;<span class="comment">//        state-&gt;incomingRequest-&gt;setName(&quot;SSNDeferred&quot;);</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = requestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;<span class="comment">//        state-&gt;firstPeerRequest = false;</span></div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4b30b8b8b9928ac338052bd41310d1f6">resetDeferred</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="adc85a41e3123508d30746432c86f475f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc85a41e3123508d30746432c86f475f">&#9670;&nbsp;</a></span>processStreamResetArrived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> inet::sctp::SctpAssociation::processStreamResetArrived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_stream_reset_chunk.html">SctpStreamResetChunk</a> *&#160;</td>
          <td class="paramname"><em>strResChunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;{</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;processStreamResetArrived\n&quot;</span>;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    SctpParameter *parameter, *nextParam;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    std::map&lt;uint32_t, SctpStateVariables::RequestData&gt;::reverse_iterator rit;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    uint32_t numberOfParameters = resetChunk-&gt;getParametersArraySize();</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordflow">if</span> (numberOfParameters == 0)</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; numberOfParameters; i++) {</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        parameter = (SctpParameter *)(resetChunk-&gt;getParameters(i));</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;        <span class="keywordflow">switch</span> (parameter-&gt;getParameterType()) {</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>: {</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;                SctpOutgoingSsnResetRequestParameter *outRequestParam;</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;                outRequestParam = check_and_cast&lt;SctpOutgoingSsnResetRequestParameter *&gt;(parameter);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">findPeerRequestNum</a>(outRequestParam-&gt;getSrReqSn())) {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;                    <span class="comment">// retransmission</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].type != outRequestParam-&gt;getParameterType()) {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;                    }</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].result != 100) {</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                        std::map&lt;uint32_t, SctpStateVariables::RequestData&gt;::reverse_iterator rit;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                        rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.rbegin();</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].sn == rit-&gt;first) {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                            <span class="comment">// send response with same result</span></div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].result);</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                        }</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                        }</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                    }</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                }</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; outRequestParam-&gt;getSrReqSn() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a>) {</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.size() &gt; 0) {</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9d94e51ef18eba548474b2fbb6b79a15">REQUEST_IN_PROGRESS</a>);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                    }</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                    }</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                }</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].sn = outRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].type = outRequestParam-&gt;getParameterType();</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                <span class="keywordflow">if</span> (numberOfParameters &gt; i + 1u) {</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                    nextParam = (SctpParameter *)(resetChunk-&gt;getParameters(i + 1)); <span class="comment">// FIXME const_cast</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                    <span class="keywordflow">if</span> (nextParam-&gt;getParameterType() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">INCOMING_RESET_REQUEST_PARAMETER</a> &amp;&amp;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                        nextParam-&gt;getParameterType() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>)</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                    {</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived</a>(outRequestParam);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                        <span class="keyword">delete</span> nextParam;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                    }</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                        <span class="keywordflow">switch</span> (nextParam-&gt;getParameterType()) {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">INCOMING_RESET_REQUEST_PARAMETER</a>:</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                                SctpIncomingSsnResetRequestParameter *inRequestParam;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                                inRequestParam = check_and_cast&lt;SctpIncomingSsnResetRequestParameter *&gt;(nextParam);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].sn = inRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].type = inRequestParam-&gt;getParameterType();</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived</a>(inRequestParam, outRequestParam);</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                                i++;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160; </div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;                            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>:</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                                SctpStreamResetResponseParameter *responseParam;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;                                responseParam = check_and_cast&lt;SctpStreamResetResponseParameter *&gt;(nextParam);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> -= 2;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived</a>(outRequestParam, responseParam);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                                i++;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                        }</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;                    }</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                }</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived</a>(outRequestParam);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;            }</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160; </div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">INCOMING_RESET_REQUEST_PARAMETER</a>: {</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                SctpIncomingSsnResetRequestParameter *inRequestParam;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;                inRequestParam = check_and_cast&lt;SctpIncomingSsnResetRequestParameter *&gt;(parameter);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;                rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.rbegin();</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; (inRequestParam-&gt;getSrReqSn() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a>)) {</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(inRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;                }</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                    (((inRequestParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>)) &amp;&amp;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                      (inRequestParam-&gt;getSrReqSn() != rit-&gt;first + 1)) ||</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;                     (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">findPeerRequestNum</a>(inRequestParam-&gt;getSrReqSn()) &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].type != inRequestParam-&gt;getParameterType())))</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;                {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(inRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;                }</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;                rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>.rbegin();</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                <span class="keywordflow">if</span> (rit-&gt;second.type == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a> &amp;&amp; (rit-&gt;second.result == 100 || rit-&gt;second.result == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>)) {</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a68f9fb895f08751065ae1c973f901ab3">requestsOverlap</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[rit-&gt;first].lastTsn == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1) {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;                        <span class="keywordflow">if</span> (inRequestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;                            uint16_t match = 0;</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;                            <span class="keywordflow">for</span> (<a class="code" href="namespaceinet.html#a9ad30be62e792f35add531d609e18d1f">uint</a> i = 0; i &lt; inRequestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                                std::list&lt;uint16_t&gt;::iterator it;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;                                <span class="keywordflow">for</span> (it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[rit-&gt;first].streams.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[rit-&gt;first].streams.end(); it++) {</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;                                    <span class="keywordflow">if</span> ((*it) == inRequestParam-&gt;getStreamNumbers(i))</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;                                        match++;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;                                }</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                            }</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;                            <span class="keywordflow">if</span> (match == inRequestParam-&gt;getStreamNumbersArraySize()) {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(inRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;                            }</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                        }</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(inRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>);</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;                        }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                    }</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;                }</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].sn = inRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[inRequestParam-&gt;getSrReqSn()].type = inRequestParam-&gt;getParameterType();</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                <span class="keywordflow">if</span> (numberOfParameters &gt; i + 1u) {</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                    nextParam = (SctpParameter *)(resetChunk-&gt;getParameters(i + 1));</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                    <span class="keywordflow">if</span> (nextParam-&gt;getParameterType() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>) {</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived</a>(inRequestParam);</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                    }</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                        <span class="keywordflow">if</span> (nextParam-&gt;getParameterType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>) {</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                            i++;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;                            SctpOutgoingSsnResetRequestParameter *outRequestParam;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                            outRequestParam = check_and_cast&lt;SctpOutgoingSsnResetRequestParameter *&gt;(nextParam-&gt;dup());</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].sn = outRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].type = outRequestParam-&gt;getParameterType();</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived</a>(inRequestParam, outRequestParam);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;                            <span class="keyword">delete</span> outRequestParam;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                        }</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                    }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                }</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived</a>(inRequestParam);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;            }</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160; </div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da49d2481bd61baef54d20e24f18b1035b">SSN_TSN_RESET_REQUEST_PARAMETER</a>:</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                SctpSsnTsnResetRequestParameter *ssnRequestParam;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                ssnRequestParam = check_and_cast&lt;SctpSsnTsnResetRequestParameter *&gt;(parameter);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;                rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.rbegin();</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; ssnRequestParam-&gt;getSrReqSn() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a>) {</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.size() &gt; 0) {</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(ssnRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9d94e51ef18eba548474b2fbb6b79a15">REQUEST_IN_PROGRESS</a>);</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;                    }</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(ssnRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                    }</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                }</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                    ((((ssnRequestParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>)) &amp;&amp; (ssnRequestParam-&gt;getSrReqSn() != rit-&gt;first + 1))) ||</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                     ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">findPeerRequestNum</a>(ssnRequestParam-&gt;getSrReqSn())) &amp;&amp;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                      <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[ssnRequestParam-&gt;getSrReqSn()].type != ssnRequestParam-&gt;getParameterType())))</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                {</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(ssnRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                }</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>() &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a>) {</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(ssnRequestParam, <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                }</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[ssnRequestParam-&gt;getSrReqSn()].sn = ssnRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[ssnRequestParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[ssnRequestParam-&gt;getSrReqSn()].type = ssnRequestParam-&gt;getParameterType();</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aeb41dad3db96d468718481d5399c547e">processSsnTsnResetRequestArrived</a>(ssnRequestParam);</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160; </div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a>: {</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                SctpAddStreamsRequestParameter *addStreamsParam =</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                    check_and_cast&lt;SctpAddStreamsRequestParameter *&gt;(parameter);</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                <span class="keywordflow">if</span> (addStreamsParam-&gt;getNumberOfStreams() == 0) {</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>);</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;                rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.rbegin();</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; addStreamsParam-&gt;getSrReqSn() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a>) ||</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                    (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; ((addStreamsParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>)) &amp;&amp;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                                                  (addStreamsParam-&gt;getSrReqSn() != rit-&gt;first + 1))) ||</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                    (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">findPeerRequestNum</a>(addStreamsParam-&gt;getSrReqSn()) &amp;&amp;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;                     <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addStreamsParam-&gt;getSrReqSn()].type != addStreamsParam-&gt;getParameterType()))</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;                {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;                }</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                <span class="keywordflow">if</span> (!(addStreamsParam-&gt;getNumberOfStreams() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> &lt;= 65535)) {</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>);</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                }</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addStreamsParam-&gt;getSrReqSn()].sn = addStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addStreamsParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addStreamsParam-&gt;getSrReqSn()].type = addStreamsParam-&gt;getParameterType();</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                <span class="keywordflow">if</span> (numberOfParameters &gt; i + 1u) {</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                    nextParam = (SctpParameter *)(resetChunk-&gt;getParameters(i + 1));</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                    <span class="keywordflow">if</span> (nextParam-&gt;getParameterType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>) {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;                        SctpAddStreamsRequestParameter *addOutStreamsParam;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                        addOutStreamsParam = check_and_cast&lt;SctpAddStreamsRequestParameter *&gt;(nextParam);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].sn = addOutStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].type = addOutStreamsParam-&gt;getParameterType();</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived</a>(addStreamsParam, addOutStreamsParam);</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                        i++;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                    }</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = addStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = ((SctpParameter *)addStreamsParam)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">dup</a>(); <span class="comment">// FIXME is the c-style conversion need here?, this is not a correct dup, duplicate only the SctpParameter part of addStreamsParam</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="comment">//                    state-&gt;incomingRequest-&gt;setName(&quot;stateIncoming&quot;);</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da0d865b62cbb3f9f4e8f826adc76b9a5c">PERFORMED_WITH_ADDOUT</a>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                }</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;            }</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160; </div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>: {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                SctpAddStreamsRequestParameter *addOutStreamsParam =</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                    check_and_cast&lt;SctpAddStreamsRequestParameter *&gt;(parameter);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;                <span class="keywordflow">if</span> (addOutStreamsParam-&gt;getNumberOfStreams() == 0) {</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addOutStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">NOTHING_TO_DO</a>);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;                }</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                rit = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>.rbegin();</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;                <span class="keywordflow">if</span> ((!(addOutStreamsParam-&gt;getNumberOfStreams() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> &lt;= 65535)) ||</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;                    (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1256a4a71c0dc47eb276f672646d2f1c">appLimited</a> &amp;&amp; (addOutStreamsParam-&gt;getNumberOfStreams() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a954e3b53fb5a8a1b228d1c489416ce97">initInboundStreams</a>)))</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;                {</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addOutStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;                }</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">findPeerRequestNum</a>(addOutStreamsParam-&gt;getSrReqSn())) {</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;                    <span class="comment">// retransmission</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].type != addOutStreamsParam-&gt;getParameterType()) {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addOutStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                    }</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].result != 100) {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].sn == rit-&gt;first) {</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;                            <span class="comment">// send response with same result</span></div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addOutStreamsParam-&gt;getSrReqSn(), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].result);</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;                        }</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addOutStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;                        }</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;                    }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                }</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; addOutStreamsParam-&gt;getSrReqSn() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a>) ||</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;                    (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; ((addOutStreamsParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>)) &amp;&amp;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                                                  (addOutStreamsParam-&gt;getSrReqSn() != rit-&gt;first + 1))))</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                {</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;                    <span class="comment">// Retransmission</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(addOutStreamsParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;                }</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].sn = addOutStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addOutStreamsParam-&gt;getSrReqSn()].type = addOutStreamsParam-&gt;getParameterType();</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == 0 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9995bc4ae95ebf5ea531d5a9b1ae7089">ADD_BOTH</a>) {</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> += addOutStreamsParam-&gt;getNumberOfStreams();</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> &gt; 0)</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> = 0;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;                    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">ssAddInStreams</a>)(addOutStreamsParam-&gt;getNumberOfStreams());</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;                }</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;                <span class="keywordflow">if</span> (numberOfParameters &gt; i + 1u) {</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;                    nextParam = (SctpParameter *)(resetChunk-&gt;getParameters(i + 1));</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;                    <span class="keywordflow">if</span> (nextParam-&gt;getParameterType() == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a>) {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;                        SctpAddStreamsRequestParameter *addInStreamsParam;</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;                        addInStreamsParam = check_and_cast&lt;SctpAddStreamsRequestParameter *&gt;(nextParam);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addInStreamsParam-&gt;getSrReqSn()].sn = addInStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addInStreamsParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[addInStreamsParam-&gt;getSrReqSn()].type = addInStreamsParam-&gt;getParameterType();</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived</a>(addInStreamsParam, addOutStreamsParam);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;                        i++;</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;                    }</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = addOutStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">responseSn</a> = addOutStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;<span class="comment">//                        state-&gt;numAddedInStreams = addOutStreamsParam-&gt;getNumberOfStreams();</span></div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                    }</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;                }</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a> = addOutStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">peerRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">sendResponse</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">responseSn</a> = addOutStreamsParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;<span class="comment">//                    state-&gt;numAddedInStreams = addOutStreamsParam-&gt;getNumberOfStreams();</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;                }</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;            }</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>: {</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;                SctpStreamResetResponseParameter *responseParam;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;                responseParam = check_and_cast&lt;SctpStreamResetResponseParameter *&gt;(parameter);</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0562a0798eb7e67f35692e5d35b11656">findRequestNum</a>(responseParam-&gt;getSrResSn())) {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;                    <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;                }</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;                <span class="keywordflow">if</span> (numberOfParameters &gt; i + 1u) {</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                    nextParam = (SctpParameter *)(resetChunk-&gt;getParameters(i + 1));</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                    <span class="keywordflow">if</span> (nextParam-&gt;getParameterType() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>) {</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                        <span class="keywordflow">if</span> (responseParam-&gt;getResult() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>)</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>--;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived</a>(responseParam);</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                    }</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                        <span class="keywordflow">switch</span> (nextParam-&gt;getParameterType()) {</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                            <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>: {</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;                                SctpOutgoingSsnResetRequestParameter *outRequestParam;</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                                outRequestParam = check_and_cast&lt;SctpOutgoingSsnResetRequestParameter *&gt;(nextParam);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;                                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; outRequestParam-&gt;getSrReqSn() != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">expectedStreamResetSequenceNumber</a>) ||</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                                    (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> &amp;&amp; (outRequestParam-&gt;getSrReqSn() &lt; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">peerRequestSn</a>))))</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                                {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                                    <span class="comment">// Retransmission</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse</a>(outRequestParam-&gt;getSrReqSn(), <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">NO_RESET</a>);</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                                    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                                }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].sn = outRequestParam-&gt;getSrReqSn();</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].result = 100;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outRequestParam-&gt;getSrReqSn()].type = outRequestParam-&gt;getParameterType();</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> -= 2;</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived</a>(outRequestParam, responseParam);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                                i++;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                            }</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                        }</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                    }</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                }</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                    <span class="keywordflow">if</span> (responseParam-&gt;getResult() != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>)</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>--;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived</a>(responseParam);</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            }</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        }</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    }</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="ab4199b0d60e01859d5ac41650e5f81dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4199b0d60e01859d5ac41650e5f81dc">&#9670;&nbsp;</a></span>processTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::processTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;{</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    EV_INFO &lt;&lt; msg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; timer expired at &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    SctpPathInfo *pinfo = check_and_cast&lt;SctpPathInfo *&gt;(msg-&gt;getControlInfo());</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    L3Address addr = pinfo-&gt;getRemoteAddress();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">if</span> (!addr.isUnspecified())</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(addr);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="comment">// first do actions</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">SctpEventCode</a> event;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keyword">event</span> = <a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">SCTP_E_IGNORE</a>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT</a>(event);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; delayed Sack: cTsnAck=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>() &lt;&lt; <span class="stringliteral">&quot; highestTsnReceived=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>() &lt;&lt; <span class="stringliteral">&quot; lastTsnReceived=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aece48727b9d9e191872e5dd84215f850">lastTsnReceived</a> &lt;&lt; <span class="stringliteral">&quot; ackState=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> &lt;&lt; <span class="stringliteral">&quot; numGaps=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">getNumGaps</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN</a>(event);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a>) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> &amp;&amp; msg == path-&gt;HeartbeatIntervalTimer) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL</a>(path, path-&gt;forceHb);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> &amp;&amp; msg == path-&gt;HeartbeatTimer) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT</a>(path);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> &amp;&amp; msg == path-&gt;T3_RtxTimer) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX</a>(path);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> &amp;&amp; msg == path-&gt;CwndTimer) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#afef5482e5d8d099ccecc43d45660b77c">ccUpdateAfterCwndTimeout</a>)(path);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(msg-&gt;getName(), <span class="stringliteral">&quot;StartTesting&quot;</span>) == 0) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">//        if (sctpMain-&gt;testing == false)</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">//        {</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">//            sctpMain-&gt;testing = true;</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;set testing to true\n&quot;</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">//        }</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="comment">// todo: testing was removed.</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> &amp;&amp; msg == path-&gt;ResetTimer) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET</a>(path);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> &amp;&amp; msg == path-&gt;AsconfTimer) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">process_TIMEOUT_ASCONF</a>(path);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">corrIdNum</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">asconfSn</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIpType&quot;</span>).stringValue();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf</a>(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a>) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">if</span> (it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.end()) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            it-&gt;second.fairStart = simTime();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">fairTimer</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a>) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">if</span> (it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.end()) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            it-&gt;second.fairStop = simTime();</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            it-&gt;second.fairLifeTime = it-&gt;second.fairStop - it-&gt;second.fairStart;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            it-&gt;second.fairThroughput = it-&gt;second.fairAckedBytes / it-&gt;second.fairLifeTime.dbl();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">fairTimer</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a0322da9f3c34033ea15cadfcbca6e978">processTimer</a>(msg, event);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="comment">// then state transitions</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(event);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#ad772f7cf94124dbb2b77333b74294184">inet::sctp::Sctp::handleMessage()</a>.</p>

</div>
</div>
<a id="a267185aa24a41da2593f26beadf099e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267185aa24a41da2593f26beadf099e7">&#9670;&nbsp;</a></span>pushUlp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::pushUlp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;{</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    int32_t <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> = 0;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>; i++) { <span class="comment">// 12.06.08</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">putInDeliveryQ</a>(i);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    }</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a> &lt;= 0) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32261db46fc12453ad0cc633a3b22480">messagesToPush</a>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordtype">bool</span> restrict = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a> &gt; 0) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        restrict = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">statisticsQueuedReceivedBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; Calling pushUlp(&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; bytes queued) ...&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;messagesToPush=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32261db46fc12453ad0cc633a3b22480">messagesToPush</a></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; pushMessagesLeft=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; restrict=&quot;</span> &lt;&lt; restrict</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; buffered Messages=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    uint32_t i = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae03f7a9a036dfbc090375609cae4e745">nextRSid</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    uint64_t tempQueuedBytes = 0;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.find(i);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        SctpReceiveStream *rStream = iter-&gt;second;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Size of stream &quot;</span> &lt;&lt; iter-&gt;first &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                  &lt;&lt; rStream-&gt;getDeliveryQ()-&gt;getQueueSize() &lt;&lt; endl;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160; </div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keywordflow">while</span> ((!rStream-&gt;getDeliveryQ()-&gt;payloadQueue.empty()) &amp;&amp;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;               (!restrict || (restrict &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a> &gt; 0)))</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            SctpDataVariables *chunk = rStream-&gt;getDeliveryQ()-&gt;extractMessage();</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a119a47470e36e23fab4b2f97eb40a3db">roomSumRcvStreams</a> -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a> &gt; 0)</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">pushMessagesLeft</a>--;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            <span class="comment">// ====== Non-revokably acknowledge chunks of the message ==========</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;          <span class="comment">/*  bool dummy;</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment">            for (uint32_t j = chunk-&gt;tsn; j &lt; chunk-&gt;tsn + chunk-&gt;fragments; j++)</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment">                state-&gt;gapList.updateGapList(j, dummy, false);*/</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            tempQueuedBytes = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> -= chunk-&gt;len / 8;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>--;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;buffered Messages now &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> &lt;&lt; endl;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">swsAvoidanceInvoked</a>) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">statisticsQueuedReceivedBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                <span class="comment">/* now check, if user has read enough so that window opens up more than one MTU */</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                     (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> &gt;= 3 &amp;&amp;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                     (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">localMsgRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> &lt;= 8)</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                    ||</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                    (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                     (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a>) &gt;= (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a>) &amp;&amp;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                     (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> * <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a>) &lt;= (int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a> + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">assocPmtu</a>)))</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a804a4dca88ee4c4db458bf5213da8639">swsMsgInvoked</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                    <span class="comment">/* only if the window has opened up more than one MTU we will send a SACK */</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">swsAvoidanceInvoked</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;pushUlp: Window opens up to &quot;</span> &lt;&lt; (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; <span class="stringliteral">&quot; bytes: sending a SACK. SWS Avoidance INACTIVE\n&quot;</span>;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160; </div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((int32_t)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a>) == 0) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((tempQueuedBytes &gt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> * 3 / 4) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> * 3 / 4)) {</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Push TSN &quot;</span> &lt;&lt; chunk-&gt;tsn</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;: sid=&quot;</span> &lt;&lt; chunk-&gt;sid &lt;&lt; <span class="stringliteral">&quot; ssn=&quot;</span> &lt;&lt; chunk-&gt;ssn &lt;&lt; endl;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160; </div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            SctpSimpleMessage *smsg = check_and_cast&lt;SctpSimpleMessage *&gt;(chunk-&gt;userData);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;            <span class="keyword">auto</span> applicationPacket = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;ApplicationPacket&quot;</span>, <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac86bda582e97cea3531d33de119bfe32">SCTP_I_DATA</a>);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            std::vector&lt;uint8_t&gt; vec;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;            <span class="keywordtype">int</span> sendBytes = smsg-&gt;getDataLen();</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            vec.resize(sendBytes);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; sendBytes; i++)</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                vec[i] = smsg-&gt;getData(i);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <span class="keyword">auto</span> applicationData = makeShared&lt;BytesChunk&gt;();</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            applicationData-&gt;setBytes(vec);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            applicationData-&gt;addTag&lt;CreationTimeTag&gt;()-&gt;setCreationTime(smsg-&gt;getCreationTime());</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            <span class="keyword">auto</span>&amp; cmd = applicationPacket-&gt;addTag&lt;SctpRcvReq&gt;();</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;            cmd-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            cmd-&gt;setGate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">appGateIndex</a>);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            cmd-&gt;setSid(chunk-&gt;sid);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            cmd-&gt;setSsn(chunk-&gt;ssn);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            cmd-&gt;setSendUnordered(!chunk-&gt;ordered);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            cmd-&gt;setLocalAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;            cmd-&gt;setRemoteAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;            cmd-&gt;setPpid(chunk-&gt;ppid);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;            cmd-&gt;setTsn(chunk-&gt;tsn);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            cmd-&gt;setCumTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">lastTsnAck</a>);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;            applicationPacket-&gt;insertAtBack(applicationData);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4754b772f1b1f9936dd3112e0c8cb1ea">numMsgsReq</a>[<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>]--;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8458bae94d9b82f388bf659b8f57b7ac">EndToEndDelay</a>-&gt;record(simTime() - chunk-&gt;firstSendTime);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            <span class="keyword">auto</span> iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;            <span class="keywordflow">if</span> (iter-&gt;second.numEndToEndMessages &gt;= iter-&gt;second.startEndToEndDelay &amp;&amp;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                (iter-&gt;second.numEndToEndMessages &lt; iter-&gt;second.stopEndToEndDelay || !iter-&gt;second.stopEndToEndDelay))</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                iter-&gt;second.cumEndToEndDelay += (simTime() - chunk-&gt;firstSendTime);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;            iter-&gt;second.numEndToEndMessages++;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160; </div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            <span class="comment">// set timestamp to sending time</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            chunk-&gt;userData-&gt;setTimestamp(chunk-&gt;firstSendTime);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;            <span class="keyword">delete</span> smsg;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            <span class="keyword">delete</span> chunk;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp</a>(applicationPacket);</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        }</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        i = (i + 1) % <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>++;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    } <span class="keywordflow">while</span> (i != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae03f7a9a036dfbc090375609cae4e745">nextRSid</a>);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160; </div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae03f7a9a036dfbc090375609cae4e745">nextRSid</a> = (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae03f7a9a036dfbc090375609cae4e745">nextRSid</a> + 1) % <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordflow">if</span> (restrict &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a> &gt; 0) {</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <span class="keywordflow">if</span> (!(elem.second-&gt;getDeliveryQ()-&gt;payloadQueue.empty())) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">sendDataArrivedNotification</a>(elem.second-&gt;getStreamId());</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        }</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> == 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>)) {</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;SCTP_E_CLOSE&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">SCTP_E_CLOSE</a>);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aba32927e5da0e4e20281389a2b07ddce">process_RECEIVE_REQUEST()</a>.</p>

</div>
</div>
<a id="a3833b2f5171b26f7c78f515806549548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3833b2f5171b26f7c78f515806549548">&#9670;&nbsp;</a></span>putInDeliveryQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::putInDeliveryQ </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;{</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    SctpReceiveStream *rStream = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.find(sid)-&gt;second;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;putInDeliveryQ: SSN=&quot;</span> &lt;&lt; rStream-&gt;getExpectedStreamSeqNum()</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; SID=&quot;</span> &lt;&lt; sid</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; QueueSize=&quot;</span> &lt;&lt; rStream-&gt;getOrderedQ()-&gt;getQueueSize() &lt;&lt; endl;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">while</span> (rStream-&gt;getOrderedQ()-&gt;getQueueSize() &gt; 0) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="comment">/* dequeue first from reassembly Q */</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        SctpDataVariables *chunk =</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            rStream-&gt;getOrderedQ()-&gt;dequeueChunkBySSN(rStream-&gt;getExpectedStreamSeqNum());</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <span class="keywordflow">if</span> (chunk) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;putInDeliveryQ::chunk &quot;</span> &lt;&lt; chunk-&gt;tsn</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;, sid &quot;</span> &lt;&lt; chunk-&gt;sid &lt;&lt; <span class="stringliteral">&quot; and ssn &quot;</span> &lt;&lt; chunk-&gt;ssn</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; dequeued from ordered queue. queuedReceivedBytes=&quot;</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                      &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; <span class="stringliteral">&quot; will be reduced by &quot;</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                      &lt;&lt; chunk-&gt;len / 8 &lt;&lt; endl;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>--;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> -= chunk-&gt;len / 8;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a119a47470e36e23fab4b2f97eb40a3db">roomSumRcvStreams</a> -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            <span class="keywordflow">if</span> (rStream-&gt;getDeliveryQ()-&gt;checkAndInsertChunk(chunk-&gt;tsn, chunk)) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">bufferedMessages</a>++;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> += chunk-&gt;len / 8;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; </div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;data put in deliveryQ; queuedBytes now &quot;</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                          &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a119a47470e36e23fab4b2f97eb40a3db">roomSumRcvStreams</a> += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                int32_t seqnum = rStream-&gt;getExpectedStreamSeqNum();</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                rStream-&gt;setExpectedStreamSeqNum(++seqnum);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                <span class="keywordflow">if</span> (rStream-&gt;getExpectedStreamSeqNum() &gt; 65535) {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                    rStream-&gt;setExpectedStreamSeqNum(0);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;            }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;        }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>.</p>

</div>
</div>
<a id="a6ef650f8ed8fd7da37a0a29a01e0ec9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef650f8ed8fd7da37a0a29a01e0ec9d">&#9670;&nbsp;</a></span>putInTransmissionQ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::putInTransmissionQ </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;{</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;countsAsOutstanding) {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    }</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>, tsn)) {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;putInTransmissionQ: insert tsn=&quot;</span> &lt;&lt; tsn &lt;&lt; endl;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        chunk-&gt;wasDropped = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;        chunk-&gt;wasPktDropped = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        chunk-&gt;hasBeenFastRetransmitted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;        chunk-&gt;setNextDestination(chunk-&gt;getLastDestinationPath());</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab17d7618f344517419348720e5d617b0">checkAndInsertChunk</a>(chunk-&gt;tsn, chunk)) {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;putInTransmissionQ: cannot add message/chunk (TSN=&quot;</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                      &lt;&lt; tsn &lt;&lt; <span class="stringliteral">&quot;) to the transmissionQ&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;        }</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;            chunk-&gt;enqueuedInTransmissionQ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;            <span class="keyword">auto</span> q = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;            q-&gt;second += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;            <span class="keyword">auto</span> qb = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;            qb-&gt;second += chunk-&gt;booksize;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;putInTransmissionQ: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">getQueueSize</a>() &lt;&lt; <span class="stringliteral">&quot; chunks=&quot;</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                      &lt;&lt; q-&gt;second &lt;&lt; <span class="stringliteral">&quot; bytes&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;        }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    }</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="a4c2422fd17d4a8a31d429d52ecfbf621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c2422fd17d4a8a31d429d52ecfbf621">&#9670;&nbsp;</a></span>recalculateOLIABasis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::recalculateOLIABasis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                           {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// it is necessary to calculate all flow information</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">double</span> assoc_best_paths_l_rXl_r__rtt_r = 0.0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// max_w_paths: The set of paths in all_paths with largest congestion windows.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// https://tools.ietf.org/html/draft-khalili-mptcp-congestion-control-05</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    uint32_t max_w_paths = 0;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    uint32_t max_w_paths_cnt = 0;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    (void)max_w_paths_cnt; <span class="comment">// FIXME this variable is unused</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    uint32_t best_paths_cnt = 0;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// Create the sets</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a>.clear();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a>.clear();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.clear();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (SctpPathMap::iterator iter = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         iter != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end(); iter++, cnt++)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = iter-&gt;second;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordtype">bool</span> next = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordtype">double</span> r_sRTT = GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordtype">double</span> r_l_rXl_r__rtt_r = ((path-&gt;oliaSentBytes</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                    * path-&gt;oliaSentBytes) / r_sRTT);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a>.empty()) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            assoc_best_paths_l_rXl_r__rtt_r = r_l_rXl_r__rtt_r;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a>.insert(std::make_pair(cnt, path));</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            next = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.empty()) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            max_w_paths = path-&gt;cwnd;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.insert(std::make_pair(cnt, path));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            next = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span> (next)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="comment">// set up the sets</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (r_l_rXl_r__rtt_r &gt; assoc_best_paths_l_rXl_r__rtt_r) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            assoc_best_paths_l_rXl_r__rtt_r = r_l_rXl_r__rtt_r;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a>.insert(std::make_pair(cnt, path));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">assocBestPaths</a>.erase(best_paths_cnt);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            best_paths_cnt = cnt;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            next = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (path-&gt;cwnd &gt; max_w_paths) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            max_w_paths = path-&gt;cwnd;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.insert(std::make_pair(cnt, path));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.erase(best_paths_cnt);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            max_w_paths_cnt = cnt;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            next = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (next)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a>.insert(std::make_pair(cnt, path));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA()</a>.</p>

</div>
</div>
<a id="a383403d684dfe30011ec4e6b8df4db1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383403d684dfe30011ec4e6b8df4db1d">&#9670;&nbsp;</a></span>receiveStreamPresent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::receiveStreamPresent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;{</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="aa7b5ed15f14dc77be9ff82d36441b6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7b5ed15f14dc77be9ff82d36441b6e4">&#9670;&nbsp;</a></span>recordCwndUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::recordCwndUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (path == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        uint32_t totalSsthresh = 0.0;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        uint32_t totalCwnd = 0.0;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordtype">double</span> totalBandwidth = 0.0;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            totalSsthresh += path-&gt;ssthresh;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            totalCwnd += path-&gt;cwnd;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            totalBandwidth += path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1624d250b3f22c47c0d09b04ccd674d0">statisticsTotalSSthresh</a>-&gt;record(totalSsthresh);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af340f9effadb60fea0c6ab2f4500b708">statisticsTotalCwnd</a>-&gt;record(totalCwnd);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16072b0899c7e175dbe261538668acf4">statisticsTotalBandwidth</a>-&gt;record(totalBandwidth);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        path-&gt;statisticsPathSSthresh-&gt;record(path-&gt;ssthresh);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        path-&gt;statisticsPathCwnd-&gt;record(path-&gt;cwnd);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        path-&gt;statisticsPathBandwidth-&gt;record(path-&gt;cwnd / GET_SRTT(path-&gt;srtt.dbl()));</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab0527d219fcbe96f8d128726bdf95502">cwndUpdateAfterCwndTimeout()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a47737a6ee0a6aaf9eb2239d25aa95de7">cwndUpdateAfterRtxTimeout()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">cwndUpdateBytesAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f10b326e3abde82edf74c4ac320fbf0">cwndUpdateMaxBurst()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae8eb9205dbac787d70be30c5d251c3c7">removePath()</a>.</p>

</div>
</div>
<a id="a945a5a97349ec5511cedf7e3c8bb0270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a945a5a97349ec5511cedf7e3c8bb0270">&#9670;&nbsp;</a></span>removeFirstChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::removeFirstChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> *&#160;</td>
          <td class="paramname"><em>sctpmsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;{</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    SctpChunk *chunk = sctpmsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <span class="keyword">delete</span> chunk;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c42b73f2cb213158ed95d798a49532d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c42b73f2cb213158ed95d798a49532d">&#9670;&nbsp;</a></span>removePath() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::removePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;{</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.empty()) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        <span class="keyword">auto</span> pathIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin();</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = pathIterator-&gt;second;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> j = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.begin(); j != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.end(); j++) {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            <span class="keywordflow">if</span> ((*j) == path-&gt;remoteAddress) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.erase(j);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        }</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        EV_INFO &lt;&lt; getFullPath() &lt;&lt; <span class="stringliteral">&quot; remove path &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keyword">delete</span> path-&gt;HeartbeatTimer;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatIntervalTimer);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <span class="keyword">delete</span> path-&gt;HeartbeatIntervalTimer;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keyword">delete</span> path-&gt;T3_RtxTimer;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;CwndTimer);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keyword">delete</span> path-&gt;CwndTimer;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;ResetTimer);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keyword">delete</span> path-&gt;ResetTimer;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;AsconfTimer);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        <span class="keyword">delete</span> path-&gt;AsconfTimer;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;BlockingTimer);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <span class="keyword">delete</span> path-&gt;BlockingTimer;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="keyword">delete</span> path;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.erase(pathIterator);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>.</p>

</div>
</div>
<a id="ae8eb9205dbac787d70be30c5d251c3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8eb9205dbac787d70be30c5d251c3c7">&#9670;&nbsp;</a></span>removePath() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::removePath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;{</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="keyword">auto</span> pathIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.find(addr);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">if</span> (pathIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end()) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = pathIterator-&gt;second;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        path-&gt;cwnd = 0;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        path-&gt;ssthresh = 0;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate</a>(path);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="keyword">delete</span> path-&gt;HeartbeatTimer;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;HeartbeatIntervalTimer);</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keyword">delete</span> path-&gt;HeartbeatIntervalTimer;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;T3_RtxTimer);</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <span class="keyword">delete</span> path-&gt;T3_RtxTimer;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;CwndTimer);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        <span class="keyword">delete</span> path-&gt;CwndTimer;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.erase(pathIterator);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;ResetTimer);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <span class="keyword">delete</span> path-&gt;ResetTimer;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(path-&gt;AsconfTimer);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <span class="keyword">delete</span> path-&gt;AsconfTimer;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        <span class="keyword">delete</span> path;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0147c72a22719d686e80a07a84f8a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0147c72a22719d686e80a07a84f8a27">&#9670;&nbsp;</a></span>renegablyAckChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::renegablyAckChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;{</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="comment">// ====== Bookkeeping ====================================================</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;countsAsOutstanding) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> ((chunk-&gt;hasBeenCountedAsNewlyAcked == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        (chunk-&gt;hasBeenAcked == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa11a63baa3a74d62110fc295b63c295b">cmtMovedChunksReduceCwnd</a> == <span class="keyword">false</span>) ||</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;            (chunk-&gt;hasBeenMoved == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        {</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            chunk-&gt;hasBeenCountedAsNewlyAcked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            <span class="comment">// The chunk has not been acked before.</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            <span class="comment">// Therefore, its size may *once* be counted as newly acked.</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            chunk-&gt;getLastDestinationPath()-&gt;newlyAckedBytes += chunk-&gt;booksize;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        }</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    }</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; </div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="comment">// ====== Acknowledge chunk =============================================</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7701b0a949f20e920b70f84f67597a5">ackChunk</a>(chunk, sackPath);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    chunk-&gt;gapReports = 0;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="comment">// ====== Remove chunk from transmission queue ===========================</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">getChunk</a>(chunk-&gt;tsn)) { <span class="comment">// I.R. 02.01.2007</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Found TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; in transmissionQ -&gt; remote it&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#abec69d2ae66e927c510a5e027513c9ab">removeMsg</a>(chunk-&gt;tsn);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        chunk-&gt;enqueuedInTransmissionQ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <span class="keyword">auto</span> q = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        q-&gt;second -= <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(chunk-&gt;len / 8 + <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keyword">auto</span> qb = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>.find(chunk-&gt;getNextDestination());</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        qb-&gt;second -= chunk-&gt;booksize;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    }</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked()</a>.</p>

</div>
</div>
<a id="aaef1efe73b4cc7f655b922bb25f459c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef1efe73b4cc7f655b922bb25f459c8">&#9670;&nbsp;</a></span>resetExpectedSsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::resetExpectedSsn </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;{</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    iterator-&gt;second-&gt;setExpectedStreamSeqNum(0);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Expected Ssn &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot; has been resetted on &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a72786a4a5888f99ca8844766dd186c7e">SCTP_I_RCV_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>.</p>

</div>
</div>
<a id="aaa5106db3c93b3475c32a2e82a533de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5106db3c93b3475c32a2e82a533de5">&#9670;&nbsp;</a></span>resetExpectedSsns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::resetExpectedSsns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;{</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">receiveStreams</a>)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        elem.second-&gt;setExpectedStreamSeqNum(0);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Expected Ssns have been resetted on &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a72786a4a5888f99ca8844766dd186c7e">SCTP_I_RCV_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="a1fb51aa17cdb2887294e78f4b3065463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb51aa17cdb2887294e78f4b3065463">&#9670;&nbsp;</a></span>resetGapLists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::resetGapLists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    uint32_t newCumAck = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>() + (1 &lt;&lt; 31);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a2bdefab637a75a6d4735f095f8faae57">resetGaps</a>(newCumAck);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="afabfd8aa8a0e718208eb6301d023b7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afabfd8aa8a0e718208eb6301d023b7d8">&#9670;&nbsp;</a></span>resetSsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::resetSsn </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    iterator-&gt;second-&gt;setNextStreamSeqNum(0);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SSn &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot; resetted on &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>.</p>

</div>
</div>
<a id="a936abd346f681d532b796c1672be6dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936abd346f681d532b796c1672be6dc5">&#9670;&nbsp;</a></span>resetSsns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::resetSsns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Methods for Stream Reset. </p>
<div class="fragment"><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        elem.second-&gt;setNextStreamSeqNum(0);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;all SSns resetted on &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1adeae8ea24c8f2bc62e028d16e4b1ad1a">SCTP_I_SEND_STREAMS_RESETTED</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="a1f12f7d2ca30cc30e15bae5fec41822a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f12f7d2ca30cc30e15bae5fec41822a">&#9670;&nbsp;</a></span>retransmitAsconf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::retransmitAsconf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    SctpAsconfChunk *sctpasconf = <span class="keyword">new</span> SctpAsconfChunk();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    sctpasconf = check_and_cast&lt;SctpAsconfChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_asconf_chunk.html#aa8b8a45419cc82422f292720af9a457c">dup</a>());</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    sctpasconf-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    sctpasconf-&gt;setByteLength(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a>-&gt;getByteLength());</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a>) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        SctpAuthenticationChunk *authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        sctpmsg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    sctpmsg-&gt;appendSctpChunks(sctpasconf);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;ASCONF&quot;</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpmsg);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">process_TIMEOUT_ASCONF()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="a8e74ea97ebcbee94332a77a945c29f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e74ea97ebcbee94332a77a945c29f60">&#9670;&nbsp;</a></span>retransmitCookieEcho()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::retransmitCookieEcho </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;{</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    SctpCookieEchoChunk *cookieEchoChunk = check_and_cast&lt;SctpCookieEchoChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a190918d5c419d8351a16edae24bfc2f4">dup</a>());</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">if</span> (cookieEchoChunk-&gt;getCookieArraySize() == 0) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        cookieEchoChunk-&gt;setStateCookie(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a60b2d59179a37b03c433b85f0eef74fb">getStateCookie</a>()-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_cookie.html#aee89cd45be9f6fcefe77a0fa24d2d881">dup</a>());</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">COOKIE_ECHO</a>)) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        sctpmsg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    sctpmsg-&gt;appendSctpChunks(cookieEchoChunk);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;retransmitCookieEcho localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;     remoteAddr&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;COOKIE-ECHO RTX&quot;</span>);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpmsg);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="a506475262b5e897e580f5091363506a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506475262b5e897e580f5091363506a3">&#9670;&nbsp;</a></span>retransmitInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::retransmitInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retransmitting chunks. </p>
<div class="fragment"><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;{</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    SctpInitChunk *sctpinit; <span class="comment">// = new SctpInitChunk(&quot;INIT&quot;);</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Retransmit InitChunk=&quot;</span> &lt;&lt; &amp;sctpinit &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    sctpinit = check_and_cast&lt;SctpInitChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4c28992bbd2ba626a40fe029bc782afb">initChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_init_chunk.html#ac3ca6295a81372c2ec57b6c32ab66311">dup</a>());</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    sctpinit-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    sctpmsg-&gt;appendSctpChunks(sctpinit);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;INIT RTX&quot;</span>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpmsg);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="a0d64e3c1d75bf004819335f1cae728eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d64e3c1d75bf004819335f1cae728eb">&#9670;&nbsp;</a></span>retransmitReset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::retransmitReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>) {</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        SctpStreamResetChunk *sctpreset = check_and_cast&lt;SctpStreamResetChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_stream_reset_chunk.html#a56fde4292cc3f0f23eafc9cd30cce173">dup</a>());</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> = sctpreset-&gt;getParametersArraySize();</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        sctpreset-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        sctpmsg-&gt;appendSctpChunks(sctpreset);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;retransmitStreamReset localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;  remoteAddr&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpmsg);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    }</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET()</a>.</p>

</div>
</div>
<a id="abf68ee076b69c50a91fc6fc51ccaabf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf68ee076b69c50a91fc6fc51ccaabf2">&#9670;&nbsp;</a></span>retransmitShutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::retransmitShutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;{</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    SctpShutdownChunk *shutdownChunk;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    shutdownChunk = check_and_cast&lt;SctpShutdownChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_shutdown_chunk.html#a9f5240f3060fd00798bb487fe8e3ac6f">dup</a>());</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    sctpmsg-&gt;appendSctpChunks(shutdownChunk);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;retransmitShutdown localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;  remoteAddr&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;SHUTDOWN RTX&quot;</span>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpmsg);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="add7676ddf09e9b1d9b0ab88d95f868ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7676ddf09e9b1d9b0ab88d95f868ea">&#9670;&nbsp;</a></span>retransmitShutdownAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::retransmitShutdownAck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;{</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    SctpShutdownAckChunk *shutdownAckChunk;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    shutdownAckChunk = check_and_cast&lt;SctpShutdownAckChunk *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47a57a0799efef0ecdb1542bffd7d613">shutdownAckChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_shutdown_ack_chunk.html#a6668554b758d8aa26710010d1cefd17a">dup</a>());</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    sctpmsg-&gt;appendSctpChunks(shutdownAckChunk);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;retransmitShutdownAck localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;  remoteAddr&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;SHUTDOWN-ACK RTX&quot;</span>);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpmsg);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="af56f988b0970d1227523ebeded0190e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af56f988b0970d1227523ebeded0190e7">&#9670;&nbsp;</a></span>rpPathBlockingControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::rpPathBlockingControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>reduction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// ====== Compute new cwnd ===============================================</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keyword">const</span> int32_t newCwnd = (int32_t)ceil(path-&gt;cwnd - reduction);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// NOTE: newCwnd may be negative!</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// ====== Block path if newCwnd &lt; 1 MTU ==================================</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a33073b078bcbd03b6bb4974e3c8683ab">rpPathBlocking</a> == <span class="keyword">true</span>) &amp;&amp; (newCwnd &lt; (int32_t)path-&gt;pmtu)) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span> ((path-&gt;blockingTimeout &lt; 0.0) || (path-&gt;blockingTimeout &lt; simTime())) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">//            printf(&quot;a=%1.9f b=%1.9f   a=%d b=%d\n&quot;, path-&gt;blockingTimeout.dbl(), simTime().dbl(), (path-&gt;blockingTimeout &lt; 0.0), (path-&gt;blockingTimeout &lt; simTime()) );</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keyword">const</span> simtime_t timeout = (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a95baf21442b94f1cb338c943a9a54f18">rpScaleBlockingTimeout</a> == <span class="keyword">true</span>) ?</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                path-&gt;cmtGroupPaths * path-&gt;pathRto :</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                path-&gt;pathRto;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            EV &lt;&lt; <span class="stringliteral">&quot;Blocking &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; for &quot;</span> &lt;&lt; timeout &lt;&lt; endl;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            path-&gt;blockingTimeout = simTime() + timeout;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            assert(!path-&gt;BlockingTimer-&gt;isScheduled());</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;BlockingTimer, timeout);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> newCwnd;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>.</p>

</div>
</div>
<a id="ac28a5fcc0328621d1c9c40026e61041b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28a5fcc0328621d1c9c40026e61041b">&#9670;&nbsp;</a></span>scheduleSack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::scheduleSack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;{</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="comment">/* increase SACK counter, we received another data PACKET */</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5027ee52ecb58e9cf3ae2066a4b7048b">firstChunkReceived</a>)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a>++;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5027ee52ecb58e9cf3ae2066a4b7048b">firstChunkReceived</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;scheduleSack() : ackState is now: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> &lt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a> - 1) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="comment">/* start a SACK timer if none is running, to expire 200 ms (or parameter) from now */</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac927e9ea951fffed8a06e6009e4803f5">sackPeriod</a>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <span class="comment">/* else: leave timer running, and do nothing... */</span> <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="comment">/* is this possible at all ? Check this... */</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;SACK timer running, but scheduleSack() called\n&quot;</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a114000f03440234fd4816c4399605967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a114000f03440234fd4816c4399605967">&#9670;&nbsp;</a></span>scheduleTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const simtime_t &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: start a timer. </p>
<div class="fragment"><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;scheduleAfter(timeout, msg);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a0f40cb4e97b4d8bbbabb7ff9a08e5663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f40cb4e97b4d8bbbabb7ff9a08e5663">&#9670;&nbsp;</a></span>SCTP_UINT16_GE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::SCTP_UINT16_GE </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{ <span class="keywordflow">return</span> (a == <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aed02b058f6da8f4ea649dbc9ad1f8e95">SCTP_UINT16_GT</a>(a, <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aed02b058f6da8f4ea649dbc9ad1f8e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed02b058f6da8f4ea649dbc9ad1f8e95">&#9670;&nbsp;</a></span>SCTP_UINT16_GT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::SCTP_UINT16_GT </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare TSNs. </p>
<div class="fragment"><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                                       {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">return</span> ((a &lt; <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) &amp;&amp; ((uint16_t)(<a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> - a) &gt; (1U &lt;&lt; 15))) || \</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;               ((a &gt; <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) &amp;&amp; ((uint16_t)(a - <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) &lt; (1U &lt;&lt; 15)));</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a38fe3fa3b80b42cf568dd8f652140e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38fe3fa3b80b42cf568dd8f652140e50">&#9670;&nbsp;</a></span>SCTP_UINT32_GE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::SCTP_UINT32_GE </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acad3bd23552c404a65a2547531614879">SCTP_UINT32_GT</a>(a, <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) || (a == <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acad3bd23552c404a65a2547531614879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad3bd23552c404a65a2547531614879">&#9670;&nbsp;</a></span>SCTP_UINT32_GT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::SCTP_UINT32_GT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                                       {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordflow">return</span> ((a &lt; <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) &amp;&amp; ((uint32_t)(<a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a> - a) &gt; (1UL &lt;&lt; 31))) ||</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;               ((a &gt; <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) &amp;&amp; ((uint32_t)(a - <a class="code" href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">b</a>) &lt; (1UL &lt;&lt; 31)));</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad252b794638b8e7116ced2c85f061d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad252b794638b8e7116ced2c85f061d59">&#9670;&nbsp;</a></span>sendAbort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendAbort </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tBit</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:sendABORT localPort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot;    remotePort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    SctpAbortChunk *abortChunk = <span class="keyword">new</span> SctpAbortChunk();</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    abortChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">ABORT</a>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    abortChunk-&gt;setT_Bit(tBit);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    abortChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a2383950ff71160db077c713351a3baff">SCTP_ABORT_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">ABORT</a>)) {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        msg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    msg-&gt;appendSctpChunks(abortChunk);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;ABORT&quot;</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>.</p>

</div>
</div>
<a id="ad8a6c9be16faf0c5806ea30a92216dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a6c9be16faf0c5806ea30a92216dd3">&#9670;&nbsp;</a></span>sendAddInAndOutStreamsRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendAddInAndOutStreamsRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;StreamReset:sendAddInandStreamsRequest\n&quot;</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    uint32_t srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    SctpAddStreamsRequestParameter *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a> = <span class="keyword">new</span> SctpAddStreamsRequestParameter();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a>-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a>-&gt;setNumberOfStreams(info-&gt;getOutstreams());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> = info-&gt;getOutstreams();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a>-&gt;setSrReqSn(srsn++);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a>-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#ae43ec40df0b4b94ce78e31785f7e0079">SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    SctpAddStreamsRequestParameter *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a> = <span class="keyword">new</span> SctpAddStreamsRequestParameter();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a>-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a>-&gt;setNumberOfStreams(info-&gt;getInstreams());</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">numAddedInStreams</a> = info-&gt;getInstreams();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a>-&gt;setSrReqSn(srsn++);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a>-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#ae43ec40df0b4b94ce78e31785f7e0079">SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    resetChunk-&gt;addParameter(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams</a>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    resetChunk-&gt;addParameter(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">addInStreams</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9995bc4ae95ebf5ea531d5a9b1ae7089">ADD_BOTH</a>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = srsn;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resetChunk-&gt;dup());</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">//    state-&gt;resetChunk-&gt;setName(&quot;stateAddInOutResetChunk&quot;);</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>.</p>

</div>
</div>
<a id="ac765d1b46bcd0d9be48831a061835955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac765d1b46bcd0d9be48831a061835955">&#9670;&nbsp;</a></span>sendAddOutgoingStreamsRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendAddOutgoingStreamsRequest </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>numStreams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;StreamReset:sendAddOutgoingStreamsRequest\n&quot;</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    uint32_t srsn = 0;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    SctpStateVariables::RequestData *resDat = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc4c8d00da563828a6b03b196f2e14f5">findTypeInRequests</a>(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (resDat != <span class="keyword">nullptr</span> &amp;&amp; resDat-&gt;sn == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> - 1) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> - 1;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].sn = srsn;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    SctpAddStreamsRequestParameter *addStreams = <span class="keyword">new</span> SctpAddStreamsRequestParameter();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    addStreams-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    addStreams-&gt;setNumberOfStreams(numStreams);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">numAddedOutStreams</a> = addStreams-&gt;getNumberOfStreams();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    addStreams-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    addStreams-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#ae43ec40df0b4b94ce78e31785f7e0079">SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    resetChunk-&gt;addParameter(addStreams);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resetChunk-&gt;dup());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">//    state-&gt;resetChunk-&gt;setName(&quot;stateAddResetChunk&quot;);</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled())) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(0);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = ++srsn;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a1a7ec283674f20293cd859a528775108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7ec283674f20293cd859a528775108">&#9670;&nbsp;</a></span>sendAsconf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendAsconf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remote</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Methods for Add-IP and AUTH. </p>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    SctpAuthenticationChunk *authChunk = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordtype">bool</span> nat = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    L3Address targetAddr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    uint16_t chunkLength = 0;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab25b76a00912c97e3e28333d424f3a6a">asconfOutstanding</a> == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot;sendAsconf\n&quot;</span>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpAsconf = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        sctpAsconf-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        sctpAsconf-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        sctpAsconf-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        SctpAsconfChunk *asconfChunk = <span class="keyword">new</span> SctpAsconfChunk();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        asconfChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        asconfChunk-&gt;setSerialNumber(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">asconfSn</a>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        chunkLength = <a class="code" href="_sctp_association_8h.html#a84e4cdc3d3cb5afb8e8d7ff23b41870a">SCTP_ADD_IP_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;localAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;, remoteAddr=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>) == 3 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>) == 4 &amp;&amp; (<span class="keywordtype">bool</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;natFriendly&quot;</span>)) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            asconfChunk-&gt;setAddressParam(L3Address(<span class="stringliteral">&quot;0.0.0.0&quot;</span>));</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            asconfChunk-&gt;setPeerVTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            nat = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            asconfChunk-&gt;setAddressParam(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            chunkLength += 20;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            chunkLength += 8;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        asconfChunk-&gt;setByteLength(chunkLength);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        cStringTokenizer tokenizer(<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">while</span> (tokenizer.hasMoreTokens()) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *token = tokenizer.nextToken();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">switch</span> (atoi(token)) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa2b446c9d6257106ca738c491d8be195a">ADD_IP_ADDRESS</a>: {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                    SctpAddIPParameter *ipParam;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                    ipParam = <span class="keyword">new</span> SctpAddIPParameter();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    chunkLength += <a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    ipParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa2b446c9d6257106ca738c491d8be195a">ADD_IP_ADDRESS</a>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    ipParam-&gt;setRequestCorrelationId(++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">corrIdNum</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    <span class="keywordflow">if</span> (nat) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                        ipParam-&gt;setAddressParam(L3Address(<span class="stringliteral">&quot;0.0.0.0&quot;</span>));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a2c663e078f689c02c0d2e88f87bf3c70">addLocalAddressToAllRemoteAddresses</a>(<span class="keyword">this</span>, L3AddressResolver().resolve(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addAddress&quot;</span>), 1), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back(L3AddressResolver().resolve(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addAddress&quot;</span>), 1));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        <span class="keywordflow">if</span> (remote)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                            targetAddr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                            targetAddr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aeaeb74282eb3e681606fb6fe5a5064cf">getNextAddress</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                        ipParam-&gt;setAddressParam(L3AddressResolver().resolve(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addAddress&quot;</span>), 1));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    <span class="keywordflow">if</span> (ipParam-&gt;getAddressParam().getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                        chunkLength += 20;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        ipParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 20);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipParam-&gt;getAddressParam().getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                        chunkLength += 8;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                        ipParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 8);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type&quot;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    asconfChunk-&gt;addAsconfParam(ipParam);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa7f31c822022e812cfe79f74208bd52d2">DELETE_IP_ADDRESS</a>: {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    SctpDeleteIPParameter *delParam;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                    delParam = <span class="keyword">new</span> SctpDeleteIPParameter();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    chunkLength += <a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    delParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa7f31c822022e812cfe79f74208bd52d2">DELETE_IP_ADDRESS</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    delParam-&gt;setRequestCorrelationId(++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">corrIdNum</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    delParam-&gt;setAddressParam(L3AddressResolver().resolve(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addAddress&quot;</span>), 1));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    <span class="keywordflow">if</span> (delParam-&gt;getAddressParam().getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        chunkLength += 20;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                        delParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 20);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (delParam-&gt;getAddressParam().getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                        chunkLength += 8;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                        delParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 8);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    asconfChunk-&gt;addAsconfParam(delParam);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa56b489d7c0b1220ec5562475ee1a40d">SET_PRIMARY_ADDRESS</a>: {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    SctpSetPrimaryIPParameter *priParam;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    priParam = <span class="keyword">new</span> SctpSetPrimaryIPParameter();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    chunkLength += <a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    priParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa56b489d7c0b1220ec5562475ee1a40d">SET_PRIMARY_ADDRESS</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    priParam-&gt;setRequestCorrelationId(++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">corrIdNum</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    priParam-&gt;setAddressParam(L3AddressResolver().resolve(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addAddress&quot;</span>), 1));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keywordflow">if</span> (nat) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                        priParam-&gt;setAddressParam(L3Address(<span class="stringliteral">&quot;0.0.0.0&quot;</span>));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <span class="keywordflow">if</span> (priParam-&gt;getAddressParam().getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                        chunkLength += 20;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                        priParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 20);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (priParam-&gt;getAddressParam().getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        chunkLength += 8;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                        priParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a> + 8);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type&quot;</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    asconfChunk-&gt;addAsconfParam(priParam);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    EV_INFO &lt;&lt; <span class="stringliteral">&quot;type &quot;</span> &lt;&lt; atoi(token) &lt;&lt; <span class="stringliteral">&quot;not known\n&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        asconfChunk-&gt;setByteLength(chunkLength);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a>) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            sctpAsconf-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        sctpAsconf-&gt;appendSctpChunks(asconfChunk);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">asconfChunk</a> = check_and_cast&lt;SctpAsconfChunk *&gt;(asconfChunk-&gt;dup());</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">//        state-&gt;asconfChunk-&gt;setName(&quot;STATE-ASCONF&quot;);</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;ASCONF&quot;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpAsconf, targetAddr);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab25b76a00912c97e3e28333d424f3a6a">asconfOutstanding</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>.</p>

</div>
</div>
<a id="af41c1f021cf3395a49004de8b9c5dcc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41c1f021cf3395a49004de8b9c5dcc9">&#9670;&nbsp;</a></span>sendAsconfAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendAsconfAck </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>serialNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpAsconfAck = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    sctpAsconfAck-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    sctpAsconfAck-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    sctpAsconfAck-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    SctpAsconfAckChunk *asconfAckChunk = <span class="keyword">new</span> SctpAsconfAckChunk();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    asconfAckChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    asconfAckChunk-&gt;setSerialNumber(serialNumber);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    asconfAckChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a84e4cdc3d3cb5afb8e8d7ff23b41870a">SCTP_ADD_IP_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a>) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        SctpAuthenticationChunk *authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        sctpAsconfAck-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    sctpAsconfAck-&gt;appendSctpChunks(asconfAckChunk);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;ASCONF&quot;</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpAsconfAck, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a175427b9e2787f8d70aecc580a10d7a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a175427b9e2787f8d70aecc580a10d7a6">&#9670;&nbsp;</a></span>sendAvailableIndicationToApp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendAvailableIndicationToApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendAvailableIndicationToApp: localPort=&quot;</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot; remotePort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    Indication *msg = <span class="keyword">new</span> Indication(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">indicationName</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a70f41bbd71811f67358edaf004db7df2">SCTP_I_AVAILABLE</a>), <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a70f41bbd71811f67358edaf004db7df2">SCTP_I_AVAILABLE</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">auto</span> availableIndication = msg-&gt;addTag&lt;SctpAvailableReq&gt;();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">//    SctpAvailableInfo *availableIndication = new SctpAvailableInfo(&quot;SctpAvailableInfo&quot;);</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    availableIndication-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4c6d0ff4e56e33461e6b42d7e83d09b3">listeningAssocId</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    availableIndication-&gt;setLocalAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    availableIndication-&gt;setRemoteAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    availableIndication-&gt;setLocalPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    availableIndication-&gt;setRemotePort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    availableIndication-&gt;setNewSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    msg-&gt;addTag&lt;SocketInd&gt;()-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4c6d0ff4e56e33461e6b42d7e83d09b3">listeningAssocId</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">//    msg-&gt;setControlInfo(availableIndication);</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a979520079d574e1f8dacc2064e9672e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979520079d574e1f8dacc2064e9672e1">&#9670;&nbsp;</a></span>sendBundledOutgoingResetAndResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendBundledOutgoingResetAndResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>requestParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendBundledOutgoingResetAndResponse to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    uint16_t len = 0;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled())) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        uint32_t srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        SctpOutgoingSsnResetRequestParameter *outResetParam;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        outResetParam = <span class="keyword">new</span> SctpOutgoingSsnResetRequestParameter();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        outResetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        outResetParam-&gt;setSrReqSn(srsn++);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        outResetParam-&gt;setSrResSn(requestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        outResetParam-&gt;setLastTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            outResetParam-&gt;setStreamNumbersArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size());</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            uint16_t i = 0;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">for</span> (std::list&lt;uint16_t&gt;::iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.end(); ++it) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                outResetParam-&gt;setStreamNumbers(i, *it);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a>(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                i++;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            len = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() * 2;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.clear();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (requestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            outResetParam-&gt;setStreamNumbersArraySize(requestParam-&gt;getStreamNumbersArraySize());</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                outResetParam-&gt;setStreamNumbers(i, requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            len = requestParam-&gt;getStreamNumbersArraySize() * 2;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        outResetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af2bfa081c6dcf4411e925e156155fff1">SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</a> + len);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        resetChunk-&gt;addParameter(outResetParam);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = srsn;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        SctpStreamResetChunk *resetResponseChunk;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendbundledStreamResetResponse to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        resetResponseChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        resetResponseChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        resetResponseChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        SctpStreamResetResponseParameter *responseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        responseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        responseParam-&gt;setSrResSn(requestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        responseParam-&gt;setResult(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        responseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        resetResponseChunk-&gt;addParameter(responseParam);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(0);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn - 1);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        msg-&gt;appendSctpChunks(resetResponseChunk);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resetChunk-&gt;dup());</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">//        state-&gt;resetChunk-&gt;setName(&quot;State_Resetchunk&quot;);</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> != 0) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), msg, 1, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;hasEncapsulatedPacket()) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;decapsulate();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aebc76f53db82e20817ddeadb5f90de0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc76f53db82e20817ddeadb5f90de0f">&#9670;&nbsp;</a></span>sendCookieAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendCookieAck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;{</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpcookieack = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    sctpcookieack-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:sendCookieACK\n&quot;</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    sctpcookieack-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    sctpcookieack-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    SctpCookieAckChunk *cookieAckChunk = <span class="keyword">new</span> SctpCookieAckChunk();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    cookieAckChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b">COOKIE_ACK</a>);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    cookieAckChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#aee9e5129c64e3a5dfbda76dd06c62a23">SCTP_COOKIE_ACK_LENGTH</a>);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b">COOKIE_ACK</a>)) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        sctpcookieack-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    sctpcookieack-&gt;appendSctpChunks(cookieAckChunk);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;COOKIE-ACK&quot;</span>);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpcookieack, dest);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="ae866902d586ffe74c8a5507bd854646a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae866902d586ffe74c8a5507bd854646a">&#9670;&nbsp;</a></span>sendCookieEcho()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendCookieEcho </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_init_ack_chunk.html">SctpInitAckChunk</a> *&#160;</td>
          <td class="paramname"><em>initackchunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;{</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpcookieecho = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    sctpcookieecho-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:sendCookieEcho\n&quot;</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    sctpcookieecho-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    sctpcookieecho-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    SctpCookieEchoChunk *cookieEchoChunk = <span class="keyword">new</span> SctpCookieEchoChunk();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    cookieEchoChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">COOKIE_ECHO</a>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    int32_t len = initAckChunk-&gt;getCookieArraySize();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    cookieEchoChunk-&gt;setCookieArraySize(len);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; len; i++)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            cookieEchoChunk-&gt;setCookie(i, initAckChunk-&gt;getCookie(i));</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        cookieEchoChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#aee9e5129c64e3a5dfbda76dd06c62a23">SCTP_COOKIE_ACK_LENGTH</a> + len);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        SctpCookie *cookie = (SctpCookie *)(initAckChunk-&gt;getStateCookie());</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        cookieEchoChunk-&gt;setStateCookie(cookie);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        cookieEchoChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#aee9e5129c64e3a5dfbda76dd06c62a23">SCTP_COOKIE_ACK_LENGTH</a> + cookie-&gt;getLength());</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    uint32_t unknownLen = initAckChunk-&gt;getUnrecognizedParametersArraySize();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> (unknownLen &gt; 0) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Found unrecognized Parameters in INIT-ACK chunk with a length of &quot;</span> &lt;&lt; unknownLen &lt;&lt; <span class="stringliteral">&quot; bytes.\n&quot;</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        cookieEchoChunk-&gt;setUnrecognizedParametersArraySize(unknownLen);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; unknownLen; i++)</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            cookieEchoChunk-&gt;setUnrecognizedParameters(i, initAckChunk-&gt;getUnrecognizedParameters(i));</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        cookieEchoChunk-&gt;setUnrecognizedParametersArraySize(0);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a> = check_and_cast&lt;SctpCookieEchoChunk *&gt;(cookieEchoChunk-&gt;dup());</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (len == 0) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">cookieChunk</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a0c4c8594bca6d8a03de7eacea350a2a9">setStateCookie</a>(initAckChunk-&gt;getStateCookie()-&gt;dup());</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">COOKIE_ECHO</a>)) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        sctpcookieecho-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    sctpcookieecho-&gt;appendSctpChunks(cookieEchoChunk);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;COOKIE-ECHO&quot;</span>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpcookieecho);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>.</p>

</div>
</div>
<a id="ad7407ba10853daa85798dff6fb1c1772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7407ba10853daa85798dff6fb1c1772">&#9670;&nbsp;</a></span>sendDataArrivedNotification()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendDataArrivedNotification </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;{</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SendDataArrivedNotification\n&quot;</span>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    Indication *cmsg = <span class="keyword">new</span> Indication(<span class="stringliteral">&quot;SCTP_I_DATA_NOTIFICATION&quot;</span>, <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac517ec43854d6a1906516c90cac01672">SCTP_I_DATA_NOTIFICATION</a>);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keyword">auto</span> cmd = cmsg-&gt;addTag&lt;SctpCommandReq&gt;();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    cmd-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    cmd-&gt;setSid(sid);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    cmd-&gt;setNumMsgs(1);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">//    cmsg-&gt;setControlInfo(cmd);</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp</a>(cmsg);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">processForwardTsnArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>.</p>

</div>
</div>
<a id="a1a19f9cabb3b28a8f91db2f9f8e6f452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a19f9cabb3b28a8f91db2f9f8e6f452">&#9670;&nbsp;</a></span>sendDoubleStreamResetResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendDoubleStreamResetResponse </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>insrrsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>inresult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>outsrrsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>outresult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    SctpStreamResetChunk *resetChunk;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendDoubleStreamResetResponse to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    SctpStreamResetResponseParameter *outResponseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    outResponseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    outResponseParam-&gt;setSrResSn(outsrrsn);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    outResponseParam-&gt;setResult(outresult);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    outResponseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    resetChunk-&gt;addParameter(outResponseParam);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    SctpStreamResetResponseParameter *inResponseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    inResponseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    inResponseParam-&gt;setSrResSn(insrrsn);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    inResponseParam-&gt;setResult(inresult);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[insrrsn].result = inresult;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[outsrrsn].result = outresult;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    inResponseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    resetChunk-&gt;addParameter(inResponseParam);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> != 0) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), msg, 1, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (outresult == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a> || outresult == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">DENIED</a>) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>.</p>

</div>
</div>
<a id="a036a501e7d631014af2a7f0b20ac5561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a036a501e7d631014af2a7f0b20ac5561">&#9670;&nbsp;</a></span>sendEstabIndicationToApp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendEstabIndicationToApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: sends SCTP_I_ESTABLISHED indication with SctpConnectInfo to application. </p>
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendEstabIndicationToApp: localPort=&quot;</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot; remotePort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> &lt;&lt; <span class="stringliteral">&quot; assocId=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    Indication *msg = <span class="keyword">new</span> Indication(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">indicationName</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac09e2e069a9d5f8ba91f6bd37617b104">SCTP_I_ESTABLISHED</a>), <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac09e2e069a9d5f8ba91f6bd37617b104">SCTP_I_ESTABLISHED</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">auto</span> establishIndication = msg-&gt;addTag&lt;SctpConnectReq&gt;();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">//    SctpConnectInfo *establishIndication = new SctpConnectInfo(&quot;ConnectInfo&quot;);</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    establishIndication-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    establishIndication-&gt;setLocalAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    establishIndication-&gt;setRemoteAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    establishIndication-&gt;setLocalPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    establishIndication-&gt;setRemotePort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    establishIndication-&gt;setRemoteAddresses(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    establishIndication-&gt;setInboundStreams(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    establishIndication-&gt;setOutboundStreams(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    establishIndication-&gt;setNumMsgs(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    msg-&gt;addTag&lt;SocketInd&gt;()-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">//    msg-&gt;setControlInfo(establishIndication);</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordtype">char</span> vectorName[128];</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>; i++) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        snprintf(vectorName, <span class="keyword">sizeof</span>(vectorName), <span class="stringliteral">&quot;Stream %d Throughput&quot;</span>, i);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">streamThroughputVectors</a>[i] = <span class="keyword">new</span> cOutVector(vectorName);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a14dfe1a1b764a4b75223005a9ae91e6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dfe1a1b764a4b75223005a9ae91e6a">&#9670;&nbsp;</a></span>sendHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendHeartbeat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpHeartbeatbeat = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    sctpHeartbeatbeat-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    sctpHeartbeatbeat-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    sctpHeartbeatbeat-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    SctpHeartbeatChunk *heartbeatChunk = <span class="keyword">new</span> SctpHeartbeatChunk();</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    heartbeatChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">HEARTBEAT</a>);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    heartbeatChunk-&gt;setRemoteAddr(path-&gt;remoteAddress);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    heartbeatChunk-&gt;setTimeField(simTime());</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    heartbeatChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#adf7452edbaf15112920d12e92d14dfd9">SCTP_HEARTBEAT_CHUNK_LENGTH</a> + 12);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">HEARTBEAT</a>)) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        sctpHeartbeatbeat-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    sctpHeartbeatbeat-&gt;appendSctpChunks(heartbeatChunk);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendHeartbeat: sendToIP to &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;HEARTBEAT&quot;</span>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpHeartbeatbeat, path-&gt;remoteAddress);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>.</p>

</div>
</div>
<a id="a0e669c5f9274bef9dfafd4407751cb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e669c5f9274bef9dfafd4407751cb9a">&#9670;&nbsp;</a></span>sendHeartbeatAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendHeartbeatAck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_heartbeat_chunk.html">SctpHeartbeatChunk</a> *&#160;</td>
          <td class="paramname"><em>heartbeatChunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;{</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpHeartbeatAck = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    sctpHeartbeatAck-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    sctpHeartbeatAck-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    sctpHeartbeatAck-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    SctpHeartbeatAckChunk *heartbeatAckChunk = <span class="keyword">new</span> SctpHeartbeatAckChunk();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    heartbeatAckChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">HEARTBEAT_ACK</a>);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    heartbeatAckChunk-&gt;setRemoteAddr(heartbeatChunk-&gt;getRemoteAddr());</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    heartbeatAckChunk-&gt;setTimeField(heartbeatChunk-&gt;getTimeField());</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keyword">const</span> int32_t len = heartbeatChunk-&gt;getInfoArraySize();</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        heartbeatAckChunk-&gt;setInfoArraySize(len);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; len; i++)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            heartbeatAckChunk-&gt;setInfo(i, heartbeatChunk-&gt;getInfo(i));</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    heartbeatAckChunk-&gt;setByteLength(heartbeatChunk-&gt;getByteLength());</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">HEARTBEAT_ACK</a>)) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        sctpHeartbeatAck-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    sctpHeartbeatAck-&gt;appendSctpChunks(heartbeatAckChunk);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendHeartbeatAck: sendToIP from &quot;</span> &lt;&lt; src &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; dest &lt;&lt; endl;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;HEARTBEAT-ACK&quot;</span>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpHeartbeatAck, dest);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="aa5b2e2571b843377fea7551411879be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5b2e2571b843377fea7551411879be7">&#9670;&nbsp;</a></span>sendHMacError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendHMacError </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;{</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    SctpErrorChunk *errorChunk = <span class="keyword">new</span> SctpErrorChunk();</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    errorChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764">ERRORTYPE</a>);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    SctpSimpleErrorCauseParameter *cause = <span class="keyword">new</span> SctpSimpleErrorCauseParameter();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    cause-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a1b2a469bc942e91a34bf08f5b333233c">UNSUPPORTED_HMAC</a>);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    cause-&gt;setByteLength(6);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    cause-&gt;setValue(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    errorChunk-&gt;setByteLength(4);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    errorChunk-&gt;addParameters(cause);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    sctpmsg-&gt;appendSctpChunks(errorChunk);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="adedaaeffcd113b2249ba92676eb58220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adedaaeffcd113b2249ba92676eb58220">&#9670;&nbsp;</a></span>sendIndicationToApp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendIndicationToApp </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: sends status indication (SCTP_I_xxx) to application. </p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendIndicationToApp: &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">indicationName</a>(code) &lt;&lt; endl;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    assert(code != <a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4451d4a7e620fdd17b5f9f2b5a68aae4">SCTP_I_SENDQUEUE_ABATED</a>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    Indication *msg = <span class="keyword">new</span> Indication(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">indicationName</a>(code), code);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">auto</span>&amp; indication = msg-&gt;addTag&lt;SctpCommandReq&gt;();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    indication-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    indication-&gt;setLocalAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    indication-&gt;setLocalPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    indication-&gt;setRemoteAddr(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    indication-&gt;setRemotePort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    msg-&gt;addTag&lt;SocketInd&gt;()-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a35810f2e01a572bdcb22683982c82f07">chunkMustBeAbandoned()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5e3cf61aaca3714edfd72de4baf812b2">signalConnectionTimeout()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>.</p>

</div>
</div>
<a id="a83567bad02a1f257dc2288f7ffc1d838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83567bad02a1f257dc2288f7ffc1d838">&#9670;&nbsp;</a></span>sendInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Methods for creating and sending chunks. </p>
<div class="fragment"><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">AddressVector</a> adv;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    uint32_t length = <a class="code" href="_sctp_association_8h.html#a685f1682f68294dbb12e7953e02748a0">SCTP_INIT_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ad9066a0c0be577b31aacb7d72b058795">isUnspecified</a>() || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> == 0)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error processing command ASSOCIATE: foreign socket unspecified&quot;</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> == 0)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error processing command ASSOCIATE: local port unspecified&quot;</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>));</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// create message consisting of INIT chunk</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    SctpInitChunk *initChunk = <span class="keyword">new</span> SctpInitChunk();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    initChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">INIT</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    initChunk-&gt;setInitTag((uint32_t)(fmod(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(INT32_MAX), 1.0 + (<span class="keywordtype">double</span>)(<span class="keywordtype">unsigned</span>)0xffffffffUL)) &amp; 0xffffffffUL);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> = initChunk-&gt;getInitTag();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;INIT from &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;:InitTag=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    initChunk-&gt;setA_rwnd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    initChunk-&gt;setNoOutStreams(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a954e3b53fb5a8a1b228d1c489416ce97">initInboundStreams</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    initChunk-&gt;setNoInStreams(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    initChunk-&gt;setInitTsn(1000);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    initChunk-&gt;setMsg_rwnd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;messageAcceptLimit&quot;</span>));</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> = initChunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92e36a97d90067ad9934694eff0358fe">lastTsn</a> = initChunk-&gt;getInitTsn() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a29e541b64dbb33df29d39fa29cbe610e">numRequests</a> - 1;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">asconfSn</a> = 1000;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae0aebf38ffdb9fab61ea7e434e3017ff">initTsn</a> = initChunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv4</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    initChunk-&gt;setIpv4Supported(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    initChunk-&gt;setIpv4Supported(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv6</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    initChunk-&gt;setIpv6Supported(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    initChunk-&gt;setIpv6Supported(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>.front().isUnspecified()) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>-&gt;<a class="code" href="classinet_1_1_i_interface_table.html#a39b2f2f3355257ccce4b5d929bd504e6">getNumInterfaces</a>(); ++i) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv4</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> ipv4Data = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>-&gt;<a class="code" href="classinet_1_1_i_interface_table.html#a405c8eb436b41dd83ad2b72c380e853d">getInterface</a>(i)-&gt;<a class="code" href="classinet_1_1_network_interface.html#af37d527247bf3ee8eacedb9dc25ebdbf">findProtocolData</a>&lt;Ipv4InterfaceData&gt;()) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                adv.push_back(ipv4Data-&gt;getIPAddress());</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="preprocessor">#endif // ifdef INET_WITH_IPv4</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv6</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> ipv6Data = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">ift</a>-&gt;<a class="code" href="classinet_1_1_i_interface_table.html#a405c8eb436b41dd83ad2b72c380e853d">getInterface</a>(i)-&gt;<a class="code" href="classinet_1_1_network_interface.html#af37d527247bf3ee8eacedb9dc25ebdbf">findProtocolData</a>&lt;Ipv6InterfaceData&gt;()) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="keywordflow">for</span> (int32_t j = 0; j &lt; ipv6Data-&gt;getNumAddresses(); j++) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;add address &quot;</span> &lt;&lt; ipv6Data-&gt;getAddress(j) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    adv.push_back(ipv6Data-&gt;getAddress(j));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="preprocessor">#endif // ifdef INET_WITH_IPv6</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            ;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        adv = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">localAddressList</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;gebundene Adresse &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot; wird hinzugefuegt\n&quot;</span>; <span class="comment">// todo</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (initChunk-&gt;getIpv4Supported() || initChunk-&gt;getIpv6Supported()) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        length += 8;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    uint32_t addrNum = 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordtype">bool</span> friendly = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;hasPar(<span class="stringliteral">&quot;natFriendly&quot;</span>)) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        friendly = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;natFriendly&quot;</span>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : adv) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">if</span> (!friendly) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                initChunk-&gt;setAddressesArraySize(addrNum + 1);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                initChunk-&gt;setAddresses(addrNum++, (elem));</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                length += 20;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">addLocalAddress</a>(<span class="keyword">this</span>, (elem));</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back((elem));</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ad9066a0c0be577b31aacb7d72b058795">isUnspecified</a>())</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> = (elem);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordtype">int</span> rlevel = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;level of remote address=&quot;</span> &lt;&lt; rlevel &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : adv) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keywordtype">int</span> addressLevel = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">getAddressLevel</a>(elem);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;level of address &quot;</span> &lt;&lt; (elem) &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; addressLevel &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordflow">if</span> (addressLevel &gt;= rlevel) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                initChunk-&gt;setAddressesArraySize(addrNum + 1);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                initChunk-&gt;setAddresses(addrNum++, (elem));</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                length += 8;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">addLocalAddress</a>(<span class="keyword">this</span>, (elem));</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back((elem));</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#aa2465c1940dc58da2f91a7d1f053115c">toIpv4</a>().<a class="code" href="classinet_1_1_ipv4_address.html#ab8fa3b730038d6ea21ec95f97d9e0aab">getInt</a>() == 0)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> = (elem);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rlevel == 4 &amp;&amp; addressLevel == 3 &amp;&amp; friendly) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">addLocalAddress</a>(<span class="keyword">this</span>, (elem));</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>.push_back((elem));</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#aa2465c1940dc58da2f91a7d1f053115c">toIpv4</a>().<a class="code" href="classinet_1_1_ipv4_address.html#ab8fa3b730038d6ea21ec95f97d9e0aab">getInt</a>() == 0)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> = (elem);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown address type: %d&quot;</span>, (<span class="keywordtype">int</span>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>.<a class="code" href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">getType</a>()));</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    uint16_t <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> = 0;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a54791556912daeb9e144d61e9ff6c7e6">auth</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        initChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        initChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[0] = (uint8_t)<a class="code" href="namespaceinet_1_1sctp.html#a48a7351ee8009c150be94f8197d635bbafe468b34ad7c447c95ea385a89b4be6d">RANDOM</a>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[2] = 36;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">for</span> (int32_t <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> = 0; <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> &lt; 32; <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>++) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            initChunk-&gt;setRandomArraySize(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> + 1);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            initChunk-&gt;setRandom(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>, (uint8_t)(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(256)));</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> + 2] = initChunk-&gt;getRandom(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a> = 36;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = (uint8_t)<a class="code" href="namespaceinet_1_1sctp.html#a48a7351ee8009c150be94f8197d635bba92957050cfb42336ebda6fc42bbec25e">CHUNKS</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a> += 2;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.size() + 4;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a> += 2;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        initChunk-&gt;setSctpChunkTypesArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.size());</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        int32_t <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            initChunk-&gt;setSctpChunkTypes(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>, (elem));</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = (elem);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>++;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>++;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = (uint8_t)<a class="code" href="namespaceinet_1_1sctp.html#a48a7351ee8009c150be94f8197d635bbafd2ab23c48540ba3cf57b8f0f7d8caab">HMAC_ALGO</a>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a> += 2;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = 1 + 4;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a> += 2;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">keyVector</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>] = 1;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">sizeKeyVector</a>++;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        initChunk-&gt;setHmacTypesArraySize(1);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        initChunk-&gt;setHmacTypes(0, 1);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        length += initChunk-&gt;getSctpChunkTypesArraySize() + 50;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a1dee97405fa022b09cb20207f45f8285">pktdrop</a>) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        initChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        initChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">streamReset</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        initChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        initChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIP&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        initChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        initChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        initChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        initChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> &gt; 0) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        length += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(<a class="code" href="_sctp_association_8h.html#a8c5909b8985ca30b11ad2bfda0927b5d">SCTP_SUPPORTED_EXTENSIONS_PARAMETER_LENGTH</a> + <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4333912695504ed7796c6c892f9306ad">prMethod</a> != 0) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        initChunk-&gt;setForwardTsn(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        length += 4;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a72a1b9225ed8203a655fe8cfbb389a97">printInfoAssocMap</a>();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    initChunk-&gt;setByteLength(length);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    sctpmsg-&gt;appendSctpChunks(initChunk);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// set path variables</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">remoteAddressList</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            EV_DEBUG &lt;&lt; <span class="stringliteral">&quot; get new path for &quot;</span> &lt;&lt; (elem) &lt;&lt; <span class="stringliteral">&quot; at line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>((elem), <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[(elem)] = path;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[(elem)] = 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[(elem)] = 0;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[(elem)] = 0;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        EV_DEBUG &lt;&lt; <span class="stringliteral">&quot; get new path for &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot; at line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">new</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>, <span class="keyword">this</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = path;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">bookedTransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">roomRetransQ</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>] = 0;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// send it</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4c28992bbd2ba626a40fe029bc782afb">initChunk</a> = check_and_cast&lt;SctpInitChunk *&gt;(initChunk-&gt;dup());</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">printSctpPathMap</a>();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    EV_INFO &lt;&lt; getFullPath() &lt;&lt; <span class="stringliteral">&quot; sendInit: localVTag=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> &lt;&lt; <span class="stringliteral">&quot; peerVTag=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;INIT&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Length sctpmsg &quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpmsg-&gt;getChunkLength()).get() &lt;&lt; endl;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpmsg);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#acafefd1e384d0251f18c2eb434255f39">assocList</a>.push_back(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>.</p>

</div>
</div>
<a id="a8366ea5ede4bdb6b86a68e179e437821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8366ea5ede4bdb6b86a68e179e437821">&#9670;&nbsp;</a></span>sendInitAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendInitAck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_init_chunk.html">SctpInitChunk</a> *&#160;</td>
          <td class="paramname"><em>initchunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;{</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    uint32_t length = <a class="code" href="_sctp_association_8h.html#a685f1682f68294dbb12e7953e02748a0">SCTP_INIT_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>));</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">// create segment</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpinitack = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    sctpinitack-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    sctpinitack-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    sctpinitack-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendInitAck at &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">localAddr</a> &lt;&lt; <span class="stringliteral">&quot;. Provided InitTag=&quot;</span> &lt;&lt; initChunk-&gt;getInitTag() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    SctpInitAckChunk *initAckChunk = <span class="keyword">new</span> SctpInitAckChunk();</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    initAckChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">INIT_ACK</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    SctpCookie *cookie = <span class="keyword">new</span> SctpCookie();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    cookie-&gt;setCreationTime(simTime());</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    cookie-&gt;setLocalTieTagArraySize(32);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    cookie-&gt;setPeerTieTagArraySize(32);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> == 0) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> = (uint32_t)<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(INT32_MAX);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        initAckChunk-&gt;setInitTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        initAckChunk-&gt;setInitTsn(2000);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> = initAckChunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92e36a97d90067ad9934694eff0358fe">lastTsn</a> = initAckChunk-&gt;getInitTsn() + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a29e541b64dbb33df29d39fa29cbe610e">numRequests</a> - 1;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">asconfSn</a> = 2000;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        cookie-&gt;setLocalTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        cookie-&gt;setPeerTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; 32; i++) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            cookie-&gt;setLocalTieTag(i, 0);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            cookie-&gt;setPeerTieTag(i, 0);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        sctpinitack-&gt;setVTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;state=closed: localVTag=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a> &lt;&lt; <span class="stringliteral">&quot; peerVTag=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        initAckChunk-&gt;setInitTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;different state:set InitTag in InitAck: &quot;</span> &lt;&lt; initAckChunk-&gt;getInitTag() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        initAckChunk-&gt;setInitTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> = initChunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a1329661e652fe4fe97c301a7e0827b2b">forwardCumAckTsn</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">initPeerTsn</a> - 1);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        cookie-&gt;setLocalTag(initChunk-&gt;getInitTag());</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        cookie-&gt;setPeerTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; 32; i++) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            cookie-&gt;setPeerTieTag(i, (uint8_t)(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(256)));</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b0f4c73581b4bf47d1855b361a2debf">peerTieTag</a>[i] = cookie-&gt;getPeerTieTag(i);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                cookie-&gt;setLocalTieTag(i, (uint8_t)(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(256)));</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac8e352a9a6ced4f8c1b4417973337aa6">localTieTag</a>[i] = cookie-&gt;getLocalTieTag(i);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                cookie-&gt;setLocalTieTag(i, 0);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        sctpinitack-&gt;setVTag(initChunk-&gt;getInitTag());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;VTag in InitAck: &quot;</span> &lt;&lt; sctpinitack-&gt;getVTag() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;other state\n&quot;</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        uint32_t tag = 0;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">while</span> (tag == 0) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            tag = (uint32_t)(fmod(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(INT32_MAX), 1.0 + (double)(<span class="keywordtype">unsigned</span>)0xffffffffUL)) &amp; 0xffffffffUL;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        initAckChunk-&gt;setInitTag(tag);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        initAckChunk-&gt;setInitTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        cookie-&gt;setLocalTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        cookie-&gt;setPeerTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; 32; i++) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            cookie-&gt;setPeerTieTag(i, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b0f4c73581b4bf47d1855b361a2debf">peerTieTag</a>[i]);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            cookie-&gt;setLocalTieTag(i, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac8e352a9a6ced4f8c1b4417973337aa6">localTieTag</a>[i]);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        sctpinitack-&gt;setVTag(initChunk-&gt;getInitTag());</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    cookie-&gt;setLength(<a class="code" href="_sctp_association_8h.html#a3aeb03eaba88c9681ecb920f24c689d2">SCTP_COOKIE_LENGTH</a> + 4);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    initAckChunk-&gt;setStateCookie(cookie);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    initAckChunk-&gt;setCookieArraySize(0);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    initAckChunk-&gt;setA_rwnd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>));</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">localRwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    initAckChunk-&gt;setMsg_rwnd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;messageAcceptLimit&quot;</span>));</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    initAckChunk-&gt;setNoOutStreams((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>, initChunk-&gt;getNoInStreams()));</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    initAckChunk-&gt;setNoInStreams((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>, initChunk-&gt;getNoOutStreams()));</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae0aebf38ffdb9fab61ea7e434e3017ff">initTsn</a> = initAckChunk-&gt;getInitTsn();</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv4</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    initAckChunk-&gt;setIpv4Supported(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    initAckChunk-&gt;setIpv4Supported(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="preprocessor">#ifdef INET_WITH_IPv6</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    initAckChunk-&gt;setIpv6Supported(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    initAckChunk-&gt;setIpv6Supported(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">if</span> (initAckChunk-&gt;getIpv4Supported() || initAckChunk-&gt;getIpv6Supported()) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        length += 8;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    uint32_t addrNum = 0;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordtype">bool</span> friendly = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;hasPar(<span class="stringliteral">&quot;natFriendly&quot;</span>)) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        friendly = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;natFriendly&quot;</span>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">if</span> (!friendly)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">localAddresses</a>) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            initAckChunk-&gt;setAddressesArraySize(addrNum + 1);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            initAckChunk-&gt;setAddresses(addrNum++, (elem));</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="keywordflow">if</span> ((elem).getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">L3Address::IPv4</a>) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                length += 8;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((elem).getType() == <a class="code" href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">L3Address::IPv6</a>) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                length += 20;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    uint16_t <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> = 0;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a54791556912daeb9e144d61e9ff6c7e6">auth</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        initAckChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        initAckChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">AUTH</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">for</span> (int32_t <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> = 0; <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> &lt; 32; <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>++) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            initAckChunk-&gt;setRandomArraySize(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> + 1);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            initAckChunk-&gt;setRandom(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>, (uint8_t)(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> intrand(256)));</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        initAckChunk-&gt;setSctpChunkTypesArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>.size());</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        int32_t <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a> = 0;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            initAckChunk-&gt;setSctpChunkTypes(<a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>, (elem));</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">k</a>++;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        initAckChunk-&gt;setHmacTypesArraySize(1);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        initAckChunk-&gt;setHmacTypes(0, 1);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        length += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(initAckChunk-&gt;getSctpChunkTypesArraySize() + 48);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    uint32_t unknownLen = initChunk-&gt;getUnrecognizedParametersArraySize();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span> (unknownLen &gt; 0) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Found unrecognized Parameters in INIT chunk with a length of &quot;</span> &lt;&lt; unknownLen &lt;&lt; <span class="stringliteral">&quot; bytes.\n&quot;</span>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        initAckChunk-&gt;setUnrecognizedParametersArraySize(unknownLen);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; unknownLen; i++)</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            initAckChunk-&gt;setUnrecognizedParameters(i, initChunk-&gt;getUnrecognizedParameters(i));</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        length += unknownLen;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        initAckChunk-&gt;setUnrecognizedParametersArraySize(0);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a1dee97405fa022b09cb20207f45f8285">pktdrop</a>) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        initAckChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        initAckChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">streamReset</a> == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        initAckChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        initAckChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIP&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        initAckChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        initAckChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">ASCONF</a>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        initAckChunk-&gt;setSepChunksArraySize(++<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        initAckChunk-&gt;setSepChunks(<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> - 1, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">ASCONF_ACK</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> &gt; 0) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        length += <a class="code" href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a>(<a class="code" href="_sctp_association_8h.html#a8c5909b8985ca30b11ad2bfda0927b5d">SCTP_SUPPORTED_EXTENSIONS_PARAMETER_LENGTH</a> + <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4333912695504ed7796c6c892f9306ad">prMethod</a> != 0) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        initAckChunk-&gt;setForwardTsn(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        length += 4;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    initAckChunk-&gt;setByteLength(length + initAckChunk-&gt;getCookieArraySize() + cookie-&gt;getLength());</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a> = ((initChunk-&gt;getNoOutStreams() &lt; initAckChunk-&gt;getNoInStreams()) ? initChunk-&gt;getNoOutStreams() : initAckChunk-&gt;getNoInStreams());</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> = ((initChunk-&gt;getNoInStreams() &lt; initAckChunk-&gt;getNoOutStreams()) ? initChunk-&gt;getNoInStreams() : initAckChunk-&gt;getNoOutStreams());</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    (this-&gt;*<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">ssFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">ssInitStreams</a>)(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inboundStreams</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    sctpinitack-&gt;appendSctpChunks(initAckChunk);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;INIT-ACK&quot;</span>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">fsm</a>-&gt;getState() == <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpinitack, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">initialPrimaryPath</a>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpinitack);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#acafefd1e384d0251f18c2eb434255f39">assocList</a>.push_back(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">printSctpPathMap</a>();</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>.</p>

</div>
</div>
<a id="a9607ea475a8eec7b78c3a33b59796ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9607ea475a8eec7b78c3a33b59796ae8">&#9670;&nbsp;</a></span>sendInvalidStreamError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendInvalidStreamError </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;{</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    SctpErrorChunk *errorChunk = <span class="keyword">new</span> SctpErrorChunk();</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    errorChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764">ERRORTYPE</a>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    SctpSimpleErrorCauseParameter *cause = <span class="keyword">new</span> SctpSimpleErrorCauseParameter();</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    cause-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a8c68e5692275f6033ad1d8ba63ebaaad">INVALID_STREAM_IDENTIFIER</a>);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    cause-&gt;setByteLength(8);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    cause-&gt;setValue(sid);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    errorChunk-&gt;setByteLength(4);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    errorChunk-&gt;addParameters(cause);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    sctpmsg-&gt;appendSctpChunks(errorChunk);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160; </div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    SctpSackChunk *sackChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack</a>();</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>)) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        SctpAuthenticationChunk *authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        sctpmsg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    }</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    sctpmsg-&gt;appendSctpChunks(sackChunk);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath</a>(sctpmsg);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>.</p>

</div>
</div>
<a id="a93963ce93bbe330057484baf2fad59bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93963ce93bbe330057484baf2fad59bf">&#9670;&nbsp;</a></span>sendOnAllPaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendOnAllPaths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>firstPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// ------ Send on provided path first ... -----------------------------</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (firstPath != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(firstPath);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">// ------ ... then, try sending on all other paths --------------------</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        std::vector&lt;SctpPathVariables *&gt; sortedPaths = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab965a1aacd6125cbc03c56aea8394eed">getSortedPathMap</a>();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : sortedPaths) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            EV &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; path-&gt;lastTransmission &lt;&lt; <span class="stringliteral">&quot;]\t&quot;</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        EV &lt;&lt; endl;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : sortedPaths) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">if</span> (path != firstPath) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(path);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                path-&gt;sendAllRandomizer = <a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> uniform(0, (1 &lt;&lt; 31));</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a>) &amp;&amp;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size() &gt; 1)) <span class="comment">// T.D. 08.02.2010: strict behaviour only for more than 1 paths!</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        { <span class="comment">// T.D. 14.01.2010: Second pass for &quot;Strict Cwnd Booking&quot; option.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : sortedPaths) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="comment">// ------ Send on provided path first ... -----------------------------</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">if</span> (firstPath != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(firstPath);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">// ------ ... then, try sending on all other paths --------------------</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span> (path != firstPath) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(path);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a>) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="comment">// T.D. 14.01.2010: Second pass for &quot;Strict Cwnd Booking&quot; option.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(firstPath, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="comment">// ------ Then, try sending on all other paths ---------------------------</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">if</span> (path != firstPath) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a> &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a> == 0) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">resetInfo</a>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad809cace564cf8377aebf88ec9aabf04">process_TIMEOUT_BLOCKING()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_alg.html#aa4374da780baa9be8909b3ff30747b51">inet::sctp::SctpAlg::sendCommandInvoked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="ab08df2d221b88342403d06207996cdd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08df2d221b88342403d06207996cdd7">&#9670;&nbsp;</a></span>sendOnPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendOnPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>pathId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>firstPass</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility: Send data from sendQueue. </p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">// ====== Variables ======================================================</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <span class="keyword">nullptr</span>; <span class="comment">// Path to send next message to</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    Ptr&lt;SctpHeader&gt; sctpMsg;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    SctpSackChunk *sackChunk = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    SctpDataChunk *dataChunkPtr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    SctpForwardTsnChunk *forwardChunk = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    uint16_t chunksAdded = 0;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    uint16_t dataChunksAdded = 0;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    uint32_t totalChunksSent = 0;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    uint32_t totalPacketsSent = 0;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    uint32_t outstandingBytes = 0;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    uint32_t tcount = 0; <span class="comment">// Bytes in transmission queue on the selected path</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    uint32_t Tcount = 0; <span class="comment">// Bytes in transmission queue on all paths</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    uint32_t scount = 0; <span class="comment">// Bytes in send streams</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    int32_t bytesToSend = 0;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordtype">bool</span> headerCreated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordtype">bool</span> sendOneMorePacket = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordtype">bool</span> sendingAllowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordtype">bool</span> authAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordtype">bool</span> sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordtype">bool</span> forwardPresent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">// ====== Perform Chunk Rescheduling =====================================</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) &amp;&amp;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> != <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca46e115ee4b3b2bebcad8d559cb3bbd95">SctpStateVariables::CCRV_None</a>))</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl</a>((pathId == <span class="keyword">nullptr</span>) ? <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>() : pathId);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// ====== Obtain path ====================================================</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    EV_INFO &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;##### sendAll(&quot;</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">if</span> (pathId) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        EV_INFO &lt;&lt; pathId-&gt;remoteAddress;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;) at t=&quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; #####&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> safetyCounter = 0;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">while</span> (sendingAllowed &amp;&amp; (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a>)) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">if</span> (safetyCounter++ &gt;= 1000) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Endless loop in SctpAssociation::sendOnPath()?! This should not happen ...&quot;</span>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        headerCreated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1be5b9ed70775e1335802dddcb21d35a">bytesToRetransmit</a> &gt; 0) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="comment">// There are bytes in the transmissionQ. They have to be sent first.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ace89dca4ebfabfa3160ce2c2c9e18e88">choosePathForRetransmission</a>();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            assert(path != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">if</span> (pathId == <span class="keyword">nullptr</span>) { <span class="comment">// No path given =&gt; use primary path.</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                path = pathId;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a837cf14a7cd29aea6dea62e0b9e969ea">SctpStateVariables::MBV_MaxBurst</a>) ||</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a2943808e0e877389c98f73b8543ecb16">SctpStateVariables::MBV_AggressiveMaxBurst</a>))</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af49baa7c4d8aefa3d97f5e9e3e376baf">lastTransmission</a> &lt; simTime()) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a> = 0;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">if</span> (path-&gt;lastTransmission &lt; simTime()) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                <span class="comment">// T.D. 18.07.2011: Only reset packetsInBurst once per time-stamp!</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                path-&gt;packetsInBurst = 0;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// packetsInBurst must be checked here!</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// sendOnPath() may be called multiple times at the same simTime!</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a837cf14a7cd29aea6dea62e0b9e969ea">SctpStateVariables::MBV_MaxBurst</a>) ||</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a2943808e0e877389c98f73b8543ecb16">SctpStateVariables::MBV_AggressiveMaxBurst</a>) ||</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a55f5f85f6a88dbf453ad180e34750471">SctpStateVariables::MBV_TotalMaxBurst</a>)) &amp;&amp;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            (path-&gt;packetsInBurst &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a>))</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="comment">// TotalMaxBurst variant: limit bursts on all paths.</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a55f5f85f6a88dbf453ad180e34750471">SctpStateVariables::MBV_TotalMaxBurst</a>) &amp;&amp;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a>))</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        outstandingBytes = path-&gt;outstandingBytes;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        assert((int32_t)outstandingBytes &gt;= 0);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keyword">auto</span> tq = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        tcount = tq-&gt;second;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        Tcount = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f3a0079e12c18b14f6fec63a582a4e1">getAllTransQ</a>();</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        scount = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a>; <span class="comment">// includes header and padding</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;\nsendAll: on &quot;</span> &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; tcount=&quot;</span> &lt;&lt; tcount</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; Tcount=&quot;</span> &lt;&lt; Tcount</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; scount=&quot;</span> &lt;&lt; scount</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; nextTsn=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordtype">bool</span> sackOnly;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordtype">bool</span> sackWithData;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad478b5cc5a0084beed3779a4a92299cf">timeForSack</a>(sackOnly, sackWithData);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span> ((tcount == 0 &amp;&amp; scount == 0) || (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> &amp;&amp; tcount == 0 &amp;&amp; Tcount &gt; 0)) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="comment">// ====== No DATA chunks to send ===================================</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;No DATA chunk available!&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">if</span> (!sackOnly) { <span class="comment">// SACK?, no data to send</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;No SACK to send either&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                <span class="comment">/* if (state-&gt;sctpMsg) {</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">                     EV_DETAIL &lt;&lt; &quot;packet was stored -&gt; load packet&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">                     loadPacket(path, &amp;sctpMsg, &amp;chunksAdded, &amp;dataChunksAdded, &amp;authAdded);</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">                     Packet *pkt = new Packet(&quot;DATA&quot;);</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">                     sendToIP(pkt, sctpMsg, path-&gt;remoteAddress);</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">                 }*/</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a> = 0;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">bytesAllowedToSend</a>(path, firstPass);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        bytesToSend = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">bytesToSend</a>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="comment">// As there is at least a SACK to be sent, a header can be created</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">sctpMsg</a>) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;packet was stored -&gt; load packet&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">loadPacket</a>(path, &amp;sctpMsg, &amp;chunksAdded, &amp;dataChunksAdded, &amp;authAdded);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            headerCreated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bytesToSend &gt; 0 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> || sackWithData || sackOnly || forwardPresent) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            sctpMsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            sctpMsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            headerCreated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            chunksAdded = 0;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">if</span> (!sackAdded &amp;&amp; (sackWithData || sackOnly)) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <span class="comment">// SACK can be sent</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            assert(headerCreated == <span class="keyword">true</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            sackChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack</a>();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="comment">// CMT DAC</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f74bc3426c565c3515c12bb4110dadb">cmtUseDAC</a> == <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                EV &lt;&lt; <span class="stringliteral">&quot;Adding dacPacketsRcvd=&quot;</span> &lt;&lt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">dacPacketsRcvd</a> &lt;&lt; <span class="stringliteral">&quot; to SACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                sackChunk-&gt;setDacPacketsRcvd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">dacPacketsRcvd</a>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">dacPacketsRcvd</a> = 0;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            chunksAdded++;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            totalChunksSent++;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="comment">// ------ Create AUTH chunk, if necessary --------------------------</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            authAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3d3bee8a96a297f04702966666d8d80c">addAuthChunkIfNecessary</a>(sctpMsg, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>, authAdded);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="comment">// ------ Add SACK chunk -------------------------------------------</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            sctpMsg-&gt;appendSctpChunks(sackChunk);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            sackAdded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: SACK added, chunksAdded now &quot;</span> &lt;&lt; chunksAdded &lt;&lt; <span class="stringliteral">&quot; sackOnly=&quot;</span> &lt;&lt; sackOnly &lt;&lt; <span class="stringliteral">&quot; sackWithData=&quot;</span> &lt;&lt; sackWithData &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordflow">if</span> (sackOnly &amp;&amp; !(bytesToSend &gt; 0 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>)) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <span class="comment">// There is no data to be sent, just the SACK</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                path-&gt;lastTransmission = simTime();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                path-&gt;packetsInBurst++;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af49baa7c4d8aefa3d97f5e9e3e376baf">lastTransmission</a> = simTime();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a>++;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <span class="comment">// Stop SACK timer if it is running...</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a44cd2f88ab6be1c1ea19da7a8cd77a85">sackSent</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath</a>(sctpMsg);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="comment">// ====== FORWARD_TSN =================================================</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">if</span> (!forwardPresent &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abd7b1dad02570bd8bebe2a87175f94d8">stopSending</a>) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk</a>(path) != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                forwardChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk</a>(path-&gt;remoteAddress);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                chunksAdded++;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                totalChunksSent++;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32d10933c0677d4faed7d61fb7289365">ackPointAdvanced</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                <span class="keywordflow">if</span> (!headerCreated) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    sctpMsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    sctpMsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                    headerCreated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    chunksAdded = 0;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="comment">// ------ Create AUTH chunk, if necessary -----------------------</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                authAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3d3bee8a96a297f04702966666d8d80c">addAuthChunkIfNecessary</a>(sctpMsg, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>, authAdded);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                sctpMsg-&gt;appendSctpChunks(forwardChunk);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                forwardPresent = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <span class="keywordflow">if</span> (!path-&gt;T3_RtxTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                    <span class="comment">// Start retransmission timer, if not scheduled before</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;T3_RtxTimer, path-&gt;pathRto);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                <span class="keywordflow">if</span> (bytesToSend == 0) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;DATA&quot;</span>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpMsg, path-&gt;remoteAddress);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                    sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    forwardPresent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    headerCreated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                    chunksAdded = 0;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="comment">// ####################################################################</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="comment">// #### Data Transmission                                          ####</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="comment">// ####################################################################</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordtype">bool</span> packetFull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">while</span> (!packetFull &amp;&amp; headerCreated) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            assert(headerCreated == <span class="keyword">true</span>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: bytesToSend=&quot;</span> &lt;&lt; bytesToSend</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; bytes.chunk=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; bytes.packet=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="comment">// ====== How many bytes may be transmitted in next packet? ========</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            int32_t allowance = path-&gt;pmtu; <span class="comment">// Default behaviour: send 1 path MTU</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <span class="comment">// Restrict amount of data to send to cwnd size.</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a>) &amp;&amp;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size() &gt; 1)) <span class="comment">// strict behaviour only for more than 1 paths!</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            { <span class="comment">// T.D. 19.01.2010: bytesToSend may be less than 1 MTU on this path.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;              <span class="comment">// Allow overbooking in second pass, if *total* cwnd allows it.</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="keywordflow">if</span> (!firstPass) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <span class="comment">// No &quot;one packet&quot;/&quot;one chunk&quot; in second pass!</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a>) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                    <span class="comment">// Send 1 chunk: allow one path MTU.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    <span class="comment">// Send 1 chunk: allow one path MTU.</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((path-&gt;outstandingBytes == 0) &amp;&amp; (firstPass)) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    <span class="comment">// No outstanding data and first pass: allow one path MTU.</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <span class="keywordflow">else</span> { <span class="comment">// There *may* be something more to send ...</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                    <span class="keywordflow">if</span> ((int32_t)path-&gt;cwnd - (int32_t)path-&gt;outstandingBytes &gt;= (int32_t)path-&gt;pmtu) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        <span class="comment">// Enough space -&gt; allow one path MTU</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                        <span class="keywordflow">if</span> (firstPass) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                            <span class="comment">// In first pass, disallow overbooking.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                            allowance = 0;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                            bytesToSend = 0;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                            <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                <span class="comment">// For non-CMT in second pass, allow 1 more MTU.</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                            }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                <span class="comment">// Not CMT in second pass, check total space ...</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                int32_t totalOutstanding = 0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                                int32_t totalCwnd = 0;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                                <span class="keywordflow">for</span> (SctpPathMap::const_iterator pathMapIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                     pathMapIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end(); pathMapIterator++)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                                {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *myPath = pathMapIterator-&gt;second;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                    totalOutstanding += myPath-&gt;outstandingBytes;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                                    totalCwnd += myPath-&gt;cwnd;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                <span class="keywordflow">if</span> ((int32_t)(totalCwnd - totalOutstanding) &lt; (int32_t)(path-&gt;pmtu)) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                    <span class="comment">// ... and disallow overbooking if there is no more space for 1 MTU</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                    allowance = 0;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                    bytesToSend = 0;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                                }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                    <span class="comment">// ... and allow 1 MTU if there is still space</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                                }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                            }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                        }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <span class="keywordflow">if</span> ((bytesToSend &gt; 0) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a>) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>)) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                    <span class="comment">// Allow 1 more MTU</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    <span class="comment">// No more sending allowed.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                    allowance = 0;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    bytesToSend = 0;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="keywordflow">if</span> ((allowance &gt; 0) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a>) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>)) {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                <span class="keywordtype">bool</span> firstTime = <span class="keyword">false</span>; <span class="comment">// Is DATA chunk send for the first time?</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                SctpDataVariables *datVar = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <span class="comment">// ------ Create AUTH chunk, if necessary -----------------------</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                authAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3d3bee8a96a297f04702966666d8d80c">addAuthChunkIfNecessary</a>(sctpMsg, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>, authAdded);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="keywordflow">if</span> (tcount &gt; 0) {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    <span class="comment">// ====== Retransmission ========================================</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                    <span class="comment">// If bytes.packet is true, one packet is allowed to be retransmitted!</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    datVar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">getOutboundDataChunk</a>(path,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> == <span class="keyword">true</span>) ? path-&gt;pmtu : allowance);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                    <span class="keywordflow">if</span> (datVar == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                        <span class="keywordflow">if</span> (chunksAdded == 1 &amp;&amp; sackAdded) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                            datVar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">getOutboundDataChunk</a>(path,</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                        path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() + sackChunk-&gt;getByteLength() - 20,</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                                        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> == <span class="keyword">true</span>) ? path-&gt;pmtu : allowance);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                            <span class="keywordflow">if</span> (!sackOnly) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                                <span class="keyword">auto</span> x = sctpMsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                                ASSERT(x == sackChunk);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;RTX: Remove SACK chunk\n&quot;</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                                <span class="keyword">delete</span> sackChunk;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                                chunksAdded--;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                                sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                            }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                path-&gt;lastTransmission = simTime();</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                                path-&gt;packetsInBurst++;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af49baa7c4d8aefa3d97f5e9e3e376baf">lastTransmission</a> = simTime();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a>++;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                                <span class="keywordflow">if</span> (dataChunksAdded &gt; 0) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                <span class="comment">// Stop SACK timer if it is running...</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a44cd2f88ab6be1c1ea19da7a8cd77a85">sackSent</a>();</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;RTX: send only SACK\n&quot;</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath</a>(sctpMsg);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                <span class="comment">// TD 17.02.2015: There is data to send (on current path) -&gt; create new message structure!</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                sctpMsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">//                                sctpMsg = makeShared&lt;SctpHeader&gt;();</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                sctpMsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                headerCreated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                chunksAdded = 0;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                            }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                        }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                    }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    <span class="comment">// Check for FORWARD-TSN again, might just have been triggered...</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                    <span class="keywordflow">if</span> (datVar == <span class="keyword">nullptr</span> &amp;&amp; !forwardPresent &amp;&amp; !<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abd7b1dad02570bd8bebe2a87175f94d8">stopSending</a>) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk</a>(path) != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                            forwardChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk</a>(path-&gt;remoteAddress);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                            chunksAdded++;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                            totalChunksSent++;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32d10933c0677d4faed7d61fb7289365">ackPointAdvanced</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                            <span class="comment">// ------ Create AUTH chunk, if necessary -----------------------</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                            authAdded = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3d3bee8a96a297f04702966666d8d80c">addAuthChunkIfNecessary</a>(sctpMsg, <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">FORWARD_TSN</a>, authAdded);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                            sctpMsg-&gt;appendSctpChunks(forwardChunk);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                            forwardPresent = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                            <span class="keywordflow">if</span> (!path-&gt;T3_RtxTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                <span class="comment">// Start retransmission timer, if not scheduled before</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;T3_RtxTimer, path-&gt;pathRto);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                            }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                        }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                    <span class="keywordflow">if</span> (datVar != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                        assert(datVar-&gt;getNextDestinationPath() == path);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                        datVar-&gt;numberOfRetransmissions++;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">chunkHasBeenAcked</a>(datVar) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                            EV_DETAIL &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;: Retransmission #&quot;</span> &lt;&lt; datVar-&gt;numberOfRetransmissions</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                                      &lt;&lt; <span class="stringliteral">&quot; of TSN &quot;</span> &lt;&lt; datVar-&gt;tsn</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                                      &lt;&lt; <span class="stringliteral">&quot; on path &quot;</span> &lt;&lt; datVar-&gt;getNextDestination()</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                      &lt;&lt; <span class="stringliteral">&quot; (last was &quot;</span> &lt;&lt; datVar-&gt;getLastDestination() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                            <span class="comment">// The chunk is going to be retransmitted on another path.</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                            <span class="comment">// On the original path, it is necessary to find another</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                            <span class="comment">// PseudoCumAck!</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                            <span class="keywordflow">if</span> (datVar-&gt;getLastDestinationPath() != datVar-&gt;getNextDestinationPath()) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *oldPath = datVar-&gt;getLastDestinationPath();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                                oldPath-&gt;findPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                                oldPath-&gt;findRTXPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *newPath = datVar-&gt;getNextDestinationPath();</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                                newPath-&gt;findPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                newPath-&gt;findRTXPseudoCumAck = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                            }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                            datVar-&gt;wasDropped = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                            datVar-&gt;countsAsOutstanding = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                            datVar-&gt;hasBeenReneged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes</a>(datVar, path); <span class="comment">// NOTE: path == datVar-&gt;getNextDestinationPath()</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                        }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <span class="comment">// ====== First Transmission ====================================</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((scount &gt; 0) &amp;&amp; (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40d9d80eb55520e8576cfb8ddc8e0df4">nagleEnabled</a>)) || <span class="comment">// Data to send and Nagle off</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                         ((uint32_t)scount &gt;= path-&gt;pmtu - 32 - 20) || <span class="comment">// Data to fill at least one path MTU</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                         ((scount &gt; 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40d9d80eb55520e8576cfb8ddc8e0df4">nagleEnabled</a>) &amp;&amp; ((outstandingBytes == 0) || (sackOnly &amp;&amp; sackAdded))) || <span class="comment">// Data to send, Nagle on and no outstanding bytes</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                         <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a>)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                { <span class="comment">// ====== Buffer Splitting ===================================</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    <span class="keywordtype">bool</span> rejected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                    <span class="keyword">const</span> uint32_t bytesOnPath = (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb2989f08da7c4bf3a1a9e623df6b962">cmtBufferSplittingUsesOSB</a> == <span class="keyword">true</span>) ?</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                        path-&gt;outstandingBytes : path-&gt;queuedBytes;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                    <a class="code" href="_changes-20051129_8txt.html#a974896d9568f55fd56da7b21422ba4df">if</a> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                        <span class="comment">// ------ Sender Side -------------------------------------</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                        <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a01d96d99802e13c09ec03af90234ec98">SctpStateVariables::CBSV_SenderOnly</a>) ||</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                            (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1">SctpStateVariables::CBSV_BothSides</a>))</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                        {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                            <span class="comment">// Limit is 1/n of current sender-side buffer allocation</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                            <span class="keyword">const</span> uint32_t limit = ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> != 0) ? <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> : 0xffffffff) / <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                            <span class="keywordflow">if</span> (bytesOnPath + path-&gt;pmtu &gt; limit) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                rejected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                                EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tSenderBufferSplitting: Rejecting transmission on &quot;</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                   &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;, since &quot;</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                                   &lt;&lt; bytesOnPath &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; path-&gt;pmtu &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                   &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> / <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size() &lt;&lt; endl;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                            }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                        }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                        <span class="comment">// ------ Receiver Side -----------------------------------</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                        <span class="keywordflow">if</span> ((rejected == <span class="keyword">false</span>) &amp;&amp;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                            ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a176761a05ff1492fb7e629c1968969d1">SctpStateVariables::CBSV_ReceiverOnly</a>) ||</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                             (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1">SctpStateVariables::CBSV_BothSides</a>)))</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                            <span class="comment">// Limit is 1/n of current receiver-side buffer allocation</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                            <span class="keyword">const</span> uint32_t limit = (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">outstandingBytes</a>)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                                / <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size();</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                            <span class="keywordflow">if</span> (bytesOnPath + path-&gt;pmtu &gt; limit + path-&gt;pmtu) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                <span class="comment">// T.D. 09.07.2011: Allow overbooking by up to 1 MTU ...</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                                EV &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tReceiverBufferSplitting: Rejecting transmission on &quot;</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                                   &lt;&lt; path-&gt;remoteAddress &lt;&lt; <span class="stringliteral">&quot;, since &quot;</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                   &lt;&lt; bytesOnPath + path-&gt;pmtu &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; limit &lt;&lt; endl;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                                rejected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                            }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                        }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    <span class="comment">// ====== Buffer Splitting ===================================</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <span class="keywordflow">if</span> (((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) || (path == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>())) &amp;&amp;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                        (!rejected))</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                    {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                        <span class="comment">// ------ Dequeue data message ----------------------------</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                        EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;sendAll:     sctpMsg-&gt;length=&quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get()</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                                  &lt;&lt; <span class="stringliteral">&quot; length datMsg=&quot;</span> &lt;&lt; path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20 &lt;&lt; endl;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                        SctpDataMsg *datMsg = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg</a>(path, path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20,</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                                    allowance);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                        <span class="keywordflow">if</span> (datMsg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                            <span class="keywordflow">if</span> (chunksAdded == 1 &amp;&amp; sackAdded) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                                datMsg = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg</a>(path, path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() + sackChunk-&gt;getByteLength() - 20,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                                            allowance);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                                <span class="keywordflow">if</span> (!sackOnly) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                                    sctpMsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                                    EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: delete SACK chunk to make room for datMsg (&quot;</span> &lt;&lt; &amp;datMsg &lt;&lt; <span class="stringliteral">&quot;). scount=&quot;</span> &lt;&lt; scount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                                    <span class="keyword">delete</span> sackChunk;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                                    chunksAdded--;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                                    sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                    path-&gt;lastTransmission = simTime();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                    path-&gt;packetsInBurst++;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af49baa7c4d8aefa3d97f5e9e3e376baf">lastTransmission</a> = simTime();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a>++;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                    <span class="keywordflow">if</span> (dataChunksAdded &gt; 0) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                    <span class="comment">// Stop SACK timer if it is running...</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">sctpAlgorithm</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_algorithm.html#a44cd2f88ab6be1c1ea19da7a8cd77a85">sackSent</a>();</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                    EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: send SACK and make new header for datMsg (&quot;</span> &lt;&lt; &amp;datMsg &lt;&lt; <span class="stringliteral">&quot;). scount=&quot;</span> &lt;&lt; scount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath</a>(sctpMsg);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                    sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                    <span class="keywordflow">if</span> (datMsg != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                                        sctpMsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">//                                        sctpMsg = makeShared&lt;SctpHeader&gt;();</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                                        sctpMsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                                        headerCreated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                                        sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                                        chunksAdded = 0;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                                    }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                                }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                            }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                        }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                        <span class="comment">// ------ Handle data message -----------------------------</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                        <span class="keywordflow">if</span> (datMsg) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                            firstTime = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                            <span class="keywordflow">if</span> (datMsg-&gt;getFragment()) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                <span class="keywordflow">if</span> (datMsg-&gt;getBBit() &amp;&amp; !datMsg-&gt;getEBit()) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">fragInProgress</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a60ceac8641cc0555e6e1f55d16e5ee6f">setFragInProgressOfStream</a>(datMsg-&gt;getSid(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                                }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                <span class="keywordflow">if</span> (datMsg-&gt;getEBit()) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">fragInProgress</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a60ceac8641cc0555e6e1f55d16e5ee6f">setFragInProgressOfStream</a>(datMsg-&gt;getSid(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                                }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                            }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">queuedMessages</a>--;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">queueLimit</a> &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">queuedMessages</a> &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">queueLimit</a>) &amp;&amp;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                                (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a992e5ae74dd0e474c175c5e8532548b0">queueUpdate</a> == <span class="keyword">false</span>))</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                            {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                <span class="comment">// Tell upper layer readiness to accept more data</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a1d9c913a95b558c7af403e318dd49867">SCTP_I_SEND_MSG</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a992e5ae74dd0e474c175c5e8532548b0">queueUpdate</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                            }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                            datVar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab81b69b202506efefcc6649dcebfc677">makeDataVarFromDataMsg</a>(datMsg, path);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                            <span class="keyword">delete</span> datMsg;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                            EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;:: sendAll: chunk &quot;</span> &lt;&lt; datVar &lt;&lt; <span class="stringliteral">&quot; dequeued from StreamQ &quot;</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                                      &lt;&lt; datVar-&gt;sid &lt;&lt; <span class="stringliteral">&quot;: tsn=&quot;</span> &lt;&lt; datVar-&gt;tsn</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                                      &lt;&lt; <span class="stringliteral">&quot;, bytes now &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                        }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                        <span class="comment">// ------ No data message has been dequeued ---------------</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                            EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: No data message has been dequeued&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                            <span class="comment">// ------ Are there any chunks to send? ----------------</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                            <span class="keywordflow">if</span> (chunksAdded == 0) {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                <span class="comment">// No -&gt; nothing more to do.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">sctpMsg</a> == sctpMsg) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">sctpMsg</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a> = 0;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                                }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                                packetFull = <span class="keyword">true</span>; <span class="comment">// chunksAdded==0, packetFull==true =&gt; leave inner while loop</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                            }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                                <span class="comment">// Yes.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40d9d80eb55520e8576cfb8ddc8e0df4">nagleEnabled</a> &amp;&amp; ((outstandingBytes &gt; 0) &amp;&amp; !(sackOnly &amp;&amp; sackAdded)) &amp;&amp;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket</a>(path, path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20) &amp;&amp;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                                    (<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() &lt; path-&gt;pmtu - 32 - 20) &amp;&amp; (tcount == 0))</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                                {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Nagle: Packet has to be stored\n&quot;</span>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(path, sctpMsg, chunksAdded, dataChunksAdded, authAdded);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                                    sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                                    chunksAdded = 0;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                                }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                packetFull = <span class="keyword">true</span>; <span class="comment">// chunksAdded==0, packetFull==true =&gt; leave inner while loop</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: packetFull: msg length = &quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() + 20 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                            }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                        }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                    }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunksAdded == 1 &amp;&amp; sackAdded &amp;&amp; !sackOnly) {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                        sctpMsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Nagle or no data: Remove SACK chunk, delete sctpmsg&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        <span class="keyword">delete</span> sackChunk;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                        packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                        chunksAdded--;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((chunksAdded == 1 &amp;&amp; sackAdded &amp;&amp; sackOnly) || headerCreated) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                        packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        <span class="comment">/* TD 19.02.2015:</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">                           If we are not on the primary path, and</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">                           there is a small chunk to send (bytesToSend &gt; 0),</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">                           and Nagle turned on:</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment">                           leave inner loop. Otherwise, there will be an infinite loop! */</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                        bytesToSend = 0;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunksAdded == 1 &amp;&amp; sackAdded &amp;&amp; !sackOnly) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                    sctpMsg-&gt;removeFirstChunk();</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Nagle or no data: Remove SACK chunk, delete sctpmsg\n&quot;</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    <span class="keyword">delete</span> sackChunk;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                    packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                    sackAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                    chunksAdded--;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunksAdded == 1 &amp;&amp; sackAdded &amp;&amp; sackOnly) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                    packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (datVar == <span class="keyword">nullptr</span> || chunksAdded == 0) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;HeaderCreated=&quot;</span> &lt;&lt; headerCreated &lt;&lt; <span class="stringliteral">&quot;, chunksAdded=&quot;</span> &lt;&lt; chunksAdded &lt;&lt; <span class="stringliteral">&quot; datVar=&quot;</span> &lt;&lt; datVar &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    <span class="keywordflow">if</span> (headerCreated) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                        packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160; </div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                <span class="comment">// ------ Handle DATA chunk -------------------------------------</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                <span class="keywordflow">if</span> (datVar != <span class="keyword">nullptr</span> &amp;&amp; !packetFull) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                    <span class="comment">// ------ Assign TSN -----------------------------------------</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                    <span class="keywordflow">if</span> (firstTime) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                        assert(datVar-&gt;tsn == 0);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                        datVar-&gt;tsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: set TSN=&quot;</span> &lt;&lt; datVar-&gt;tsn</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                                  &lt;&lt; <span class="stringliteral">&quot; sid=&quot;</span> &lt;&lt; datVar-&gt;sid &lt;&lt; <span class="stringliteral">&quot;, ssn=&quot;</span> &lt;&lt; datVar-&gt;ssn &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>++;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                        path-&gt;vectorPathSentTsn-&gt;record(datVar-&gt;tsn);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                    }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                        <span class="keywordflow">if</span> (datVar-&gt;hasBeenFastRetransmitted) {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                            path-&gt;vectorPathTsnFastRTX-&gt;record(datVar-&gt;tsn);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                        }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                            path-&gt;vectorPathTsnTimerBased-&gt;record(datVar-&gt;tsn);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                    }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                    <span class="keyword">auto</span> iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                    iterator-&gt;second.transmittedBytes += datVar-&gt;len / 8;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                    datVar-&gt;setLastDestination(path);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                    datVar-&gt;countsAsOutstanding = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                    datVar-&gt;hasBeenReneged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                    datVar-&gt;sendTime = simTime(); <span class="comment">// I.R. to send Fast RTX just once a RTT</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                    <span class="keywordflow">if</span> (datVar-&gt;firstSendTime == 0) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                        datVar-&gt;firstSendTime = simTime();</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                    }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                    <span class="comment">// ------ First transmission of datVar -----------------------</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                    <span class="keywordflow">if</span> (datVar-&gt;numberOfTransmissions == 0) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; firstTime, TSN &quot;</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                  &lt;&lt; datVar-&gt;tsn &lt;&lt; <span class="stringliteral">&quot;: lastDestination set to &quot;</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                                  &lt;&lt; datVar-&gt;getLastDestination() &lt;&lt; endl;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a71cb1f0fcd451c79eac561d88c83fe16">firstDataSent</a>) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a71cb1f0fcd451c79eac561d88c83fe16">firstDataSent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                        }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: insert in retransmissionQ tsn=&quot;</span> &lt;&lt; datVar-&gt;tsn &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab17d7618f344517419348720e5d617b0">checkAndInsertChunk</a>(datVar-&gt;tsn, datVar)) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Cannot add datVar to retransmissionQ!&quot;</span>);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                            <span class="comment">// Falls es hier aufschlaegt, muss ueberlegt werden, ob es OK ist, dass datVars nicht eingefuegt werden koennen.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                        }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: size of retransmissionQ=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">getQueueSize</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a48232ae51c90adad9da8d3fb28a65b56">unackChunk</a>(datVar);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes</a>(datVar, path);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                            datVar-&gt;queuedOnPath = path;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                            datVar-&gt;queuedOnPath-&gt;queuedBytes += datVar-&gt;booksize;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                            datVar-&gt;queuedOnPath-&gt;statisticsPathQueuedSentBytes-&gt;record(path-&gt;queuedBytes);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">queuedSentBytes</a> += datVar-&gt;booksize;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5a4600f537d78d186cb74ffa96516233">statisticsQueuedSentBytes</a>-&gt;record(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">queuedSentBytes</a>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                        }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                    <span class="comment">/* datVar is already in the retransmissionQ */</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                    datVar-&gt;numberOfTransmissions++;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    datVar-&gt;gapReports = 0;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                    datVar-&gt;hasBeenFastRetransmitted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll(): adding new outbound data datVar to packet (tsn=&quot;</span> &lt;&lt; datVar-&gt;tsn &lt;&lt; <span class="stringliteral">&quot;)...!!!\n&quot;</span>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                    <span class="comment">/* update counters */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                    totalChunksSent++;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                    chunksAdded++;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                    dataChunksAdded++;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160; </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                    dataChunkPtr = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a73464c221e77fbf1b1636ff959957a76">transformDataChunk</a>(datVar);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                    sctpMsg-&gt;appendSctpChunks(dataChunkPtr);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                    EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: DataChunk added -  TSN:&quot;</span> &lt;&lt; dataChunkPtr-&gt;getTsn() &lt;&lt; <span class="stringliteral">&quot; - length:&quot;</span> &lt;&lt; dataChunkPtr-&gt;getByteLength() &lt;&lt; <span class="stringliteral">&quot; - ssn:&quot;</span> &lt;&lt; dataChunkPtr-&gt;getSsn() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                    <span class="keywordflow">if</span> (datVar-&gt;numberOfTransmissions &gt; 1) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                        <span class="keyword">auto</span> tq = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">roomTransQ</a>.find(path-&gt;remoteAddress);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                        <span class="keywordflow">if</span> (tq-&gt;second &gt; 0) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#a33f512fff08e79fda7557d1af4cd67c2">getSizeOfFirstChunk</a>(path-&gt;remoteAddress) &gt; path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                                packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;                        }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket</a>(path, path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                            packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                        }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                    }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket</a>(path, path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20) == <span class="keyword">false</span>) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                            packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                        }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                    }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">peerRwnd</a> -= (datVar-&gt;booksize + <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6428ad61e8f55afecf09d1019f3e3f1a">bytesToAddPerPeerChunk</a>);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">peerAllowsChunks</a>) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">peerMsgRwnd</a>--;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> == <span class="keyword">false</span>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> == <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                        bytesToSend -= datVar-&gt;booksize;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                    }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a>) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                    }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>) &amp;&amp; (packetFull)) {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                    }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                    <span class="keywordflow">if</span> (bytesToSend &lt;= 0) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                        <span class="keywordflow">if</span> ((!packetFull) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> &gt; path-&gt;pmtu - 32 - 20 || tcount &gt; 0)) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                            sendOneMorePacket = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                            EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: sendAll: one more packet allowed\n&quot;</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                        }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40d9d80eb55520e8576cfb8ddc8e0df4">nagleEnabled</a> &amp;&amp; (outstandingBytes &gt; 0) &amp;&amp;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket</a>(path, path-&gt;pmtu - <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() - 20) &amp;&amp;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                (<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() &lt; path-&gt;pmtu - 32 - 20) &amp;&amp; (tcount == 0))</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                            {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(path, sctpMsg, chunksAdded, dataChunksAdded, authAdded);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                                sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                                chunksAdded = 0;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                packetFull = <span class="keyword">true</span>; <span class="comment">// chunksAdded==0, packetFull==true =&gt; leave inner while loop</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                            }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                                packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                            }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                        }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                        bytesToSend = 0;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                    }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> == 0) &amp;&amp; (tq-&gt;second == 0)) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                        packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: no data in send and transQ: packet full\n&quot;</span>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: bytesToSend after reduction: &quot;</span> &lt;&lt; bytesToSend &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                } <span class="comment">// end if (datVar != nullptr &amp;&amp; !packetFull)</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                  <span class="comment">// ------ There is no DATA chunk, only control chunks possible --</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                    <span class="keywordflow">if</span> (chunksAdded == 0) { <span class="comment">// Nothing to do -&gt; return</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                        packetFull = <span class="keyword">true</span>; <span class="comment">// chunksAdded==0, packetFull==true =&gt; leave inner while loop</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                    }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                        packetFull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                        EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: sendAll: packetFull: msg length = &quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() + 20 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                        datVar = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                    }</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                    <span class="keyword">delete</span> datVar;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                <span class="comment">// ====== Send packet ===========================================</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                <span class="keywordflow">if</span> (packetFull) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                    <span class="keywordflow">if</span> (chunksAdded == 0) { <span class="comment">// Nothing to send</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                        sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                        sendingAllowed = <span class="keyword">false</span>; <span class="comment">// sendingAllowed==false =&gt; leave outer while loop</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                    }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                        EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;:: sendAll: &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;    packet full:&quot;</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                                  &lt;&lt; <span class="stringliteral">&quot;    totalLength=&quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() + 20</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                                  &lt;&lt; <span class="stringliteral">&quot;,    path=&quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                                  &lt;&lt; <span class="stringliteral">&quot;     &quot;</span> &lt;&lt; dataChunksAdded &lt;&lt; <span class="stringliteral">&quot; chunks added, outstandingBytes now &quot;</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                  &lt;&lt; path-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                        <span class="comment">/* new chunks would exceed MTU, so we send old packet and build a new one */</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                        <span class="comment">/* this implies that at least one data chunk is send here */</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                        <span class="keywordflow">if</span> (dataChunksAdded &gt; 0) {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                            <span class="keywordflow">if</span> (!path-&gt;T3_RtxTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                <span class="comment">// Start retransmission timer, if not scheduled before</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(path-&gt;T3_RtxTimer, path-&gt;pathRto);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                            }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;sendAll: RTX Timer already scheduled -&gt; no need to schedule it\n&quot;</span>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                            }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                        }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">false</span>; <span class="comment">// TD 23.02.2015: no DATA chunks =&gt; done.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                        }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                        <span class="keywordflow">if</span> (sendOneMorePacket) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                            sendOneMorePacket = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                            bytesToSend = 0;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                            <span class="keywordtype">size_t</span> len = sctpMsg-&gt;getSctpChunksArraySize() - 1;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                            SctpChunk *chunk = (SctpChunk *)sctpMsg-&gt;getSctpChunks(len);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                            SctpDataChunk *pkt = check_and_cast&lt;SctpDataChunk *&gt;(chunk);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">//                            SctpDataChunk *pkt = check_and_cast&lt;SctpDataChunk *&gt;(sctpMsg-&gt;getSctpChunks(sctpMsg-&gt;getSctpChunksArraySize() - 1));</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                            pkt-&gt;setIBit(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a5ad88d3ba6b0fcfa0e174ccb785332c9">sackNow</a>);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                            sctpMsg-&gt;setSctpChunks(sctpMsg-&gt;getSctpChunksArraySize() - 1, pkt);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                        }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                        <span class="comment">// Set I-bit when this is the final packet for this path!</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                        <span class="keyword">const</span> int32_t a = (int32_t)path-&gt;cwnd - (int32_t)path-&gt;outstandingBytes;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                        <span class="keywordflow">if</span> ((((a &gt; 0) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket</a>(path, a) == <span class="keyword">false</span>)) || (!firstPass)) &amp;&amp; !forwardPresent) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                            SctpDataChunk *pkt = check_and_cast&lt;SctpDataChunk *&gt;(sctpMsg-&gt;peekLastChunk());</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                            pkt-&gt;setIBit(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a5ad88d3ba6b0fcfa0e174ccb785332c9">sackNow</a>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                        }</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                        <span class="keywordflow">if</span> (dataChunksAdded &gt; 0) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                        }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                        EV_DETAIL &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;:sendToIP: packet size=&quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpMsg-&gt;getChunkLength()).get() &lt;&lt; <span class="stringliteral">&quot; numChunks=&quot;</span> &lt;&lt; sctpMsg-&gt;getSctpChunksArraySize() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;DATA&quot;</span>);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpMsg, path-&gt;remoteAddress);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                        sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">pmDataIsSentOn</a>(path);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                        totalPacketsSent++;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                        path-&gt;lastTransmission = simTime();</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                        path-&gt;packetsInBurst++;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af49baa7c4d8aefa3d97f5e9e3e376baf">lastTransmission</a> = simTime();</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a>++;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                        <span class="comment">// ------ Reset status ------------------------------------</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                        firstTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                        headerCreated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                        chunksAdded = 0;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                        dataChunksAdded = 0;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                        authAdded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                        EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendAll: sending Packet to path &quot;</span> &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;  scount=&quot;</span> &lt;&lt; scount</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;  tcount=&quot;</span> &lt;&lt; tcount</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                                &lt;&lt; <span class="stringliteral">&quot;  bytesToSend=&quot;</span> &lt;&lt; bytesToSend &lt;&lt; endl;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendAll: still &quot;</span> &lt;&lt; bytesToSend</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; bytes to send, headerCreated=&quot;</span> &lt;&lt; headerCreated &lt;&lt; endl;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            } <span class="comment">// if (bytesToSend &gt; 0 || bytes.chunk || bytes.packet)</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (headerCreated &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a>) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;DATA&quot;</span>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpMsg, path-&gt;remoteAddress);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                packetFull = <span class="keyword">true</span>; <span class="comment">// Leave inner while loop</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                sctpMsg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;packetFull=&quot;</span> &lt;&lt; packetFull &lt;&lt; endl;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        } <span class="comment">// while(!packetFull)</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;bytesToSend=&quot;</span> &lt;&lt; bytesToSend</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; bytes.chunk=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; bytes.packet=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">if</span> (!(bytesToSend &gt; 0 || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">chunk</a> || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">bytes</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">packet</a>)) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            sendingAllowed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    } <span class="comment">// while(sendingAllowed)</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>)</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack</a>();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendAll: nothing more to send... BYE!\n&quot;</span>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_alg.html#aa4374da780baa9be8909b3ff30747b51">inet::sctp::SctpAlg::sendCommandInvoked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="a1688808c6fdf9f3798430d794d0a3d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1688808c6fdf9f3798430d794d0a3d29">&#9670;&nbsp;</a></span>sendOutgoingRequestAndResponse() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendOutgoingRequestAndResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>inRequestParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_outgoing_ssn_reset_request_parameter.html">SctpOutgoingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>outRequestParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    uint16_t len = 0;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendOutgoingRequestAndResponse to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    SctpStreamResetChunk *resChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    resChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    resChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    uint32_t srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    SctpOutgoingSsnResetRequestParameter *outResetParam;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    outResetParam = <span class="keyword">new</span> SctpOutgoingSsnResetRequestParameter();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    outResetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    outResetParam-&gt;setSrReqSn(srsn);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    outResetParam-&gt;setSrResSn(inRequestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    outResetParam-&gt;setLastTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span> (inRequestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        outResetParam-&gt;setStreamNumbersArraySize(inRequestParam-&gt;getStreamNumbersArraySize());</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="namespaceinet.html#a9ad30be62e792f35add531d609e18d1f">uint</a> i = 0; i &lt; inRequestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            outResetParam-&gt;setStreamNumbers(i, (uint16_t)inRequestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].streams.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            len++;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    outResetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af2bfa081c6dcf4411e925e156155fff1">SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</a> + len * 2);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    resChunk-&gt;addParameter(outResetParam);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = srsn++;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    SctpStreamResetResponseParameter *responseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    responseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    responseParam-&gt;setSrResSn(outRequestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    responseParam-&gt;setResult(1);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    responseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    resChunk-&gt;addParameter(responseParam);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn - 1);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(outRequestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resChunk-&gt;dup());</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">//    state-&gt;resetChunk-&gt;setName(&quot;stateRstChunk&quot;);</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    msg-&gt;appendSctpChunks(resChunk);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;hasEncapsulatedPacket()) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;decapsulate();</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab581c0be4cbd6610c69712d2b7c10f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab581c0be4cbd6610c69712d2b7c10f2f">&#9670;&nbsp;</a></span>sendOutgoingRequestAndResponse() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendOutgoingRequestAndResponse </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inRequestSn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>outRequestSn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendOutgoingResetRequest to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    SctpStreamResetChunk *resChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    resChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    resChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    uint32_t srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    SctpOutgoingSsnResetRequestParameter *outResetParam;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    outResetParam = <span class="keyword">new</span> SctpOutgoingSsnResetRequestParameter();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    outResetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    outResetParam-&gt;setSrReqSn(srsn++);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    outResetParam-&gt;setSrResSn(inRequestSn);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    outResetParam-&gt;setLastTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    outResetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af2bfa081c6dcf4411e925e156155fff1">SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    resChunk-&gt;addParameter(outResetParam);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = srsn;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    SctpStreamResetResponseParameter *responseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    responseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    responseParam-&gt;setSrResSn(outRequestSn);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    responseParam-&gt;setResult(1);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    responseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    resChunk-&gt;addParameter(responseParam);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn - 1);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(outRequestSn);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = resChunk-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_stream_reset_chunk.html#a56fde4292cc3f0f23eafc9cd30cce173">dup</a>();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    msg-&gt;appendSctpChunks(resChunk);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>.</p>

</div>
</div>
<a id="a0d87578f8d2521830059af456a19d960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d87578f8d2521830059af456a19d960">&#9670;&nbsp;</a></span>sendOutgoingResetRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendOutgoingResetRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_incoming_ssn_reset_request_parameter.html">SctpIncomingSsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>requestParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendOutgoingResetRequest to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    uint16_t len = 0;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    uint32_t srsn = 0;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> ((!(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled())) || <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a68f9fb895f08751065ae1c973f901ab3">requestsOverlap</a>) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a68f9fb895f08751065ae1c973f901ab3">requestsOverlap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        SctpOutgoingSsnResetRequestParameter *outResetParam;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        outResetParam = <span class="keyword">new</span> SctpOutgoingSsnResetRequestParameter();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        outResetParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        SctpStateVariables::RequestData *resDat = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc4c8d00da563828a6b03b196f2e14f5">findTypeInRequests</a>(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (resDat != <span class="keyword">nullptr</span> &amp;&amp; resDat-&gt;sn == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> - 1) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> - 1;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].sn = srsn;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        outResetParam-&gt;setSrReqSn(srsn++);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        outResetParam-&gt;setSrResSn(requestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">findPeerRequestNum</a>(requestParam-&gt;getSrReqSn())) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[requestParam-&gt;getSrReqSn()].result = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        outResetParam-&gt;setLastTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a> - 1);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            outResetParam-&gt;setStreamNumbersArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.size());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            uint16_t i = 0;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">for</span> (std::list&lt;uint16_t&gt;::iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.end(); ++it) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                outResetParam-&gt;setStreamNumbers(i, *it);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn - 1].streams.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                i++;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            len = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.size() * 2;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">peerStreamsToReset</a>.clear();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            outResetParam-&gt;setStreamNumbersArraySize(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size());</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            uint16_t i = 0;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">for</span> (std::list&lt;uint16_t&gt;::iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.end(); ++it) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                outResetParam-&gt;setStreamNumbers(i, *it);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn - 1].streams.push_back(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn</a>(outResetParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                i++;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            len = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.size() * 2;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">streamsToReset</a>.clear();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (requestParam-&gt;getStreamNumbersArraySize() &gt; 0) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            outResetParam-&gt;setStreamNumbersArraySize(requestParam-&gt;getStreamNumbersArraySize());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; requestParam-&gt;getStreamNumbersArraySize(); i++) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                outResetParam-&gt;setStreamNumbers(i, requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn - 1].streams.push_back(requestParam-&gt;getStreamNumbers(i));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            len = requestParam-&gt;getStreamNumbersArraySize() * 2;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        outResetParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af2bfa081c6dcf4411e925e156155fff1">SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</a> + len);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        resetChunk-&gt;addParameter(outResetParam);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = srsn;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(0);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn - 1);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a> = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resetChunk-&gt;dup());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> != 0) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), msg, 1, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;hasEncapsulatedPacket()) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keyword">delete</span> <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;decapsulate();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="ab39593aedb35db4899de57772116e96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39593aedb35db4899de57772116e96a">&#9670;&nbsp;</a></span>sendPacketDrop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendPacketDrop </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;{</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendPacketDrop:\t&quot;</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    SctpHeader *drop = (SctpHeader *)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;sctpmsg-&gt;dup(); <span class="comment">// FIXME is the c-style conversion need here?</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (drop-&gt;getSctpChunksArraySize() == 1) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        SctpChunk *header = (SctpChunk *)(drop-&gt;getSctpChunks(0));</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="keywordflow">if</span> (header-&gt;getSctpChunkType() == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">//            disposeOf(state-&gt;sctpmsg);</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <span class="keyword">delete</span> drop;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    SctpPacketDropChunk *pktdrop = <span class="keyword">new</span> SctpPacketDropChunk();</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    pktdrop-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">PKTDROP</a>);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    pktdrop-&gt;setCFlag(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    pktdrop-&gt;setTFlag(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    pktdrop-&gt;setBFlag(flag);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    pktdrop-&gt;setMFlag(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    pktdrop-&gt;setMaxRwnd(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;arwnd&quot;</span>));</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    pktdrop-&gt;setQueuedData(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">queuedReceivedBytes</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    pktdrop-&gt;setTruncLength(0);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    pktdrop-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#adb68f34f312f494d7fbbc8437224d791">SCTP_PKTDROP_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    uint16_t mss = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_path_variables.html#ac2819b57f4b5d94629a64b440734a546">pmtu</a> - <a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a> - <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a> - <a class="code" href="_sctp_association_8h.html#a294612afcb62d33531f390a08f0c3209">IP_HEADER_LENGTH</a>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(drop-&gt;getChunkLength()).get() &gt; mss) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        uint16_t diff = <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(drop-&gt;getChunkLength()).get() - mss;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        pktdrop-&gt;setTruncLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(drop-&gt;getChunkLength()).get());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        SctpChunk *sctpchunk = (SctpChunk *)(drop-&gt;removeLastChunk());</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="keywordflow">if</span> (sctpchunk-&gt;getSctpChunkType() == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            SctpDataChunk *dataChunk = check_and_cast&lt;SctpDataChunk *&gt;(sctpchunk);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <span class="comment">/*  auto&amp; smsg = sctpchunk-&gt;Chunk::peek&lt;SctpSimpleMessage&gt;(Chunk::BackwardIterator(B(0)));*/</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            SctpSimpleMessage *smsg = check_and_cast&lt;SctpSimpleMessage *&gt;(dataChunk-&gt;decapsulate());</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            <span class="keywordflow">if</span> (smsg-&gt;getDataLen() &gt; diff) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                uint16_t newLength = smsg-&gt;getDataLen() - diff;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                smsg-&gt;setDataArraySize(newLength);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; newLength; i++)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                    smsg-&gt;setData(i, <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                smsg-&gt;setDataLen(newLength);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                smsg-&gt;setEncaps(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                smsg-&gt;setByteLength(newLength);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                dataChunk-&gt;encapsulate((cPacket *)smsg);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">//                dataChunk-&gt;insertAtBack(smsg);</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                drop-&gt;appendSctpChunks(dataChunk);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (drop-&gt;getSctpChunksArraySize() == 1) {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                <span class="keyword">delete</span> sctpchunk;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                <span class="keyword">delete</span> pktdrop;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">//                disposeOf(state-&gt;sctpmsg);</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;laenge=&quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(drop-&gt;getChunkLength()).get() &lt;&lt; <span class="stringliteral">&quot; numberOfChunks=1\n&quot;</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac04574b7f00810703e57f3091f182f5a">disposeOf</a>(drop);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <span class="keyword">delete</span> pktdrop;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">//            disposeOf(state-&gt;sctpmsg);</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;laenge=&quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(drop-&gt;getChunkLength()).get() &lt;&lt; <span class="stringliteral">&quot; numberOfChunks=1\n&quot;</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac04574b7f00810703e57f3091f182f5a">disposeOf</a>(drop);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        pktdrop-&gt;setTFlag(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">/**** ToDo Irene */</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">// pktdrop-&gt;insertAtBack(drop);</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">// pktdrop-&gt;encapsulate(drop);</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;length of PKTDROP chunk=&quot;</span> &lt;&lt; pktdrop-&gt;getByteLength() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    sctpmsg-&gt;appendSctpChunks(pktdrop);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;total length now &quot;</span> &lt;&lt; <a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(sctpmsg-&gt;getChunkLength()).get() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">//    disposeOf(state-&gt;sctpmsg);</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a69408b8a0086c9f6b05b93a363e8166f">pktDropSent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a09596c51e505ab3929c481572d248f0d">numPktDropReports</a>++;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;PKTDROP&quot;</span>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpmsg);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>.</p>

</div>
</div>
<a id="a2c24bf3630790a90861c2487fdc246ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c24bf3630790a90861c2487fdc246ad">&#9670;&nbsp;</a></span>sendSack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendSack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;{</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    SctpSackChunk *sackChunk;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sending SACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="comment">/* sack timer has expired, reset flag, and send SACK */</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    sackChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack</a>();</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpmsg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    sctpmsg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">SACK</a>)) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        sctpmsg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    sctpmsg-&gt;appendSctpChunks(sackChunk);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160; </div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath</a>(sctpmsg);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a52aaab9c64b3ea45ac5d0e9452bd40e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52aaab9c64b3ea45ac5d0e9452bd40e8">&#9670;&nbsp;</a></span>sendSACKviaSelectedPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendSACKviaSelectedPath </td>
          <td>(</td>
          <td class="paramtype">const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sctpMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *sackPath =</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>.size() &gt; 0) ? <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>.front() :</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4cf077a6e243219375473c2540a5150a">lastDataSourcePath</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    assert(sackPath != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1aabb4379aa688f18f996524985ecaf51b">SctpStateVariables::CSP_RoundRobin</a>) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="comment">/* Observation:</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">               For same bandwidths but different delays, chunks on both paths arrive</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">               with same interleave time =&gt;</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">               Chunk on A / Chunk on B =&gt; SACK on B</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">               Chunk on A / Chunk on B =&gt; SACK on B</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">               Chunk on A / Chunk on B =&gt; SACK on B</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">               Chunk on A / Chunk on B =&gt; SACK on B</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">               Chunk on A / Chunk on B =&gt; SACK on B</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">               ...</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">               RESULT: Losts of SACKs on B, no SACK on A  =&gt;  Bad performance! */</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="comment">// Solution is now to make a round-robin selection among paths,</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="comment">// taking the path with the longest time passed since last SACK.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">if</span> (path-&gt;lastSACKSent &lt; sackPath-&gt;lastSACKSent) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    sackPath = path;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1ab8d242335cdd8bba08585af0566fea70">SctpStateVariables::CSP_SmallestSRTT</a>) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="comment">/* Instead of RR among last DATA paths, send SACK on</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">               the DATA path having the smallest SRTT. */</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">if</span> (path-&gt;srtt &lt; sackPath-&gt;srtt) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    sackPath = path;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> == <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1a3118a4dd17fa10a72a5c917f5fb6a0d1">SctpStateVariables::CSP_Primary</a>) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            sackPath = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    EV_INFO &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; <span class="stringliteral">&quot;: sending SACK to &quot;</span> &lt;&lt; sackPath-&gt;remoteAddress &lt;&lt; endl;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;SACK&quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpMsg, sackPath-&gt;remoteAddress);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    sackPath-&gt;lastSACKSent = simTime();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">lastDataSourceList</a>.clear(); <span class="comment">// Clear the address list!</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>.</p>

</div>
</div>
<a id="af4aa5766d652096e69b8fe388f0bc0e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4aa5766d652096e69b8fe388f0bc0e0">&#9670;&nbsp;</a></span>sendShutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendShutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;{</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    SctpAuthenticationChunk *authChunk;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:sendShutdown localPort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot;     remotePort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    SctpShutdownChunk *shutdownChunk = <span class="keyword">new</span> SctpShutdownChunk();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    shutdownChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f">SHUTDOWN</a>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">//    shutdownChunk-&gt;setCumTsnAck(state-&gt;lastTsnAck);</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    shutdownChunk-&gt;setCumTsnAck(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">getCumAckTsn</a>());</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    shutdownChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#a096ad48a9dc5dcbd73658c5cadbf3636">SCTP_SHUTDOWN_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">peerAuth</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList</a>(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f">SHUTDOWN</a>)) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        authChunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">createAuthChunk</a>();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        msg-&gt;appendSctpChunks(authChunk);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        it-&gt;second.numAuthChunksSent++;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> = <a class="code" href="_sctp_association_8h.html#ad0253f70ce80e86b5da3240da37f4334">SCTP_TIMEOUT_INIT_REXMIT</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5d430e1b30135bd72296b6fa9be2b882">initRetransCounter</a> = 0;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>, <a class="code" href="_sctp_association_8h.html#a45e10ab1204a49d216a4c2f4a8826848">SHUTDOWN_GUARD_TIMEOUT</a>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">shutdownChunk</a> = check_and_cast&lt;SctpShutdownChunk *&gt;(shutdownChunk-&gt;dup());</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    msg-&gt;appendSctpChunks(shutdownChunk);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;SHUTDOWN&quot;</span>);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">SCTP_E_NO_MORE_OUTSTANDING</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a251f25750d719b8232738dbf541291bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a251f25750d719b8232738dbf541291bb">&#9670;&nbsp;</a></span>sendShutdownAck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendShutdownAck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinet_1_1_l3_address.html">L3Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(dest));</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>() == 0) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition</a>(<a class="code" href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">SCTP_E_NO_MORE_OUTSTANDING</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpshutdownack = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        sctpshutdownack-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:sendShutdownACK&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        sctpshutdownack-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        sctpshutdownack-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        SctpShutdownAckChunk *shutdownAckChunk = <span class="keyword">new</span> SctpShutdownAckChunk();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        shutdownAckChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa2d9dde04457cd20eaa66b7da11a5c909">SHUTDOWN_ACK</a>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        shutdownAckChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#aee9e5129c64e3a5dfbda76dd06c62a23">SCTP_COOKIE_ACK_LENGTH</a>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        sctpshutdownack-&gt;appendSctpChunks(shutdownAckChunk);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a> = <a class="code" href="_sctp_association_8h.html#ad0253f70ce80e86b5da3240da37f4334">SCTP_TIMEOUT_INIT_REXMIT</a>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5d430e1b30135bd72296b6fa9be2b882">initRetransCounter</a> = 0;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">T2_ShutdownTimer</a>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">initRexmitTimeout</a>);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">T5_ShutdownGuardTimer</a>, <a class="code" href="_sctp_association_8h.html#a45e10ab1204a49d216a4c2f4a8826848">SHUTDOWN_GUARD_TIMEOUT</a>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47a57a0799efef0ecdb1542bffd7d613">shutdownAckChunk</a> = check_and_cast&lt;SctpShutdownAckChunk *&gt;(shutdownAckChunk-&gt;dup());</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;SHUTDOWN-ACK&quot;</span>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpshutdownack, dest);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="abe98501af00cb108c954aef24941903a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe98501af00cb108c954aef24941903a">&#9670;&nbsp;</a></span>sendShutdownComplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendShutdownComplete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sctpshutdowncomplete = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    sctpshutdowncomplete-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SctpAssociationUtil:sendShutdownComplete\n&quot;</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    sctpshutdowncomplete-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    sctpshutdowncomplete-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    SctpShutdownCompleteChunk *shutdownCompleteChunk = <span class="keyword">new</span> SctpShutdownCompleteChunk();</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    shutdownCompleteChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">SHUTDOWN_COMPLETE</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    shutdownCompleteChunk-&gt;setTBit(0);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    shutdownCompleteChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#ad1963dfab19884e93c14d1527c1e0535">SCTP_SHUTDOWN_ACK_LENGTH</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    sctpshutdowncomplete-&gt;appendSctpChunks(shutdownCompleteChunk);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    Packet *fp = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;SHUTDOWN-COMPLETE&quot;</span>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(fp, sctpshutdowncomplete);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="ac322b5814c746b8f0a719570d87046ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac322b5814c746b8f0a719570d87046ae">&#9670;&nbsp;</a></span>sendStreamPresent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::sendStreamPresent </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;{</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">containsKey</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>.</p>

</div>
</div>
<a id="a79ee1ed58791cd6e1129b7fc8ebbac6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ee1ed58791cd6e1129b7fc8ebbac6e">&#9670;&nbsp;</a></span>sendStreamResetRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendStreamResetRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_sctp_reset_req.html">SctpResetReq</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;{</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;StreamReset:sendStreamResetRequest\n&quot;</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    SctpParameter *param;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    uint16_t <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    uint32_t srsn = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    SctpResetTimer *<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a> = <span class="keyword">new</span> SctpResetTimer();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (rinfo)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = rinfo-&gt;getRequestType();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">localRequestType</a>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">RESET_OUTGOING</a>:</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;RESET_OUTGOING\n&quot;</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].sn = srsn;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            param = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae044aa8f7fed216881b9ad6f28234c4b">makeOutgoingStreamResetParameter</a>(srsn, rinfo);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            resetChunk-&gt;addParameter(param);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(0);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">RESET_INCOMING</a>:</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;RESET_INCOMING\n&quot;</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">INCOMING_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].sn = srsn;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            param = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acff6b9c425ca6497e4ab669164d1c0d9">makeIncomingStreamResetParameter</a>(srsn, rinfo);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            resetChunk-&gt;addParameter(param);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(0);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af">RESET_BOTH</a>:</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;RESET_BOTH\n&quot;</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            SctpParameter *outParam;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">OUTGOING_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].sn = srsn;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            outParam = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae044aa8f7fed216881b9ad6f28234c4b">makeOutgoingStreamResetParameter</a>(srsn, rinfo);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn++);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            resetChunk-&gt;addParameter(outParam);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">INCOMING_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].sn = srsn;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            SctpParameter *inParam;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            inParam = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acff6b9c425ca6497e4ab669164d1c0d9">makeIncomingStreamResetParameter</a>(srsn, rinfo);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            resetChunk-&gt;addParameter(inParam);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            it-&gt;second.numResetRequestsSent += 2;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a> += 2;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">waitForResponse</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">SSN_TSN</a>:</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            param = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac25473db514f81df4ff09e11ee1220f0">makeSsnTsnResetParameter</a>(srsn);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            resetChunk-&gt;addParameter(param);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(srsn);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].type = <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da49d2481bd61baef54d20e24f18b1035b">SSN_TSN_RESET_REQUEST_PARAMETER</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">ADD_INCOMING</a>:</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">ADD_OUTGOING</a>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;ADD_INCOMING or ADD_OUTGOING\n&quot;</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">requests</a>[srsn].result = 100;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            param = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63e3925a09bb31ca572aeafacf853e85">makeAddStreamsRequestParameter</a>(srsn, rinfo);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            resetChunk-&gt;addParameter(param);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInSN(srsn);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setInAcked(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutSN(0);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>-&gt;setOutAcked(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            it-&gt;second.numResetRequestsSent++;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">numResetRequests</a>++;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">default</span>: EV_INFO &lt;&lt; <span class="stringliteral">&quot;Request type %d not known\n&quot;</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">streamResetSequenceNumber</a> = ++srsn;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">resetChunk</a> = check_and_cast&lt;SctpStreamResetChunk *&gt;(resetChunk-&gt;dup());</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> != 0) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), msg, 1, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;hasEncapsulatedPacket()) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;decapsulate();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer)-&gt;encapsulate(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">rt</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;ResetTimer, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>)-&gt;pathRto);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths()</a>.</p>

</div>
</div>
<a id="a5426fb1018a04260d1f7aeeddccfb42a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5426fb1018a04260d1f7aeeddccfb42a">&#9670;&nbsp;</a></span>sendStreamResetResponse() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendStreamResetResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_ssn_tsn_reset_request_parameter.html">SctpSsnTsnResetRequestParameter</a> *&#160;</td>
          <td class="paramname"><em>requestParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;{</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    uint32_t len = 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendStreamResetResponse to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot; with options\n&quot;</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    SctpStreamResetChunk *resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    SctpStreamResetResponseParameter *responseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    responseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    responseParam-&gt;setSrResSn(requestParam-&gt;getSrReqSn());</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    responseParam-&gt;setResult(result);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[requestParam-&gt;getSrReqSn()].result = result;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    len = <a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (options &amp;&amp; result == <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">PERFORMED</a>) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        responseParam-&gt;setSendersNextTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">nextTsn</a>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        responseParam-&gt;setReceiversNextTsn(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>() + (1 &lt;&lt; 31) + 1);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns</a>();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns</a>();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1392697b6c24b4ca0341b389734963c4">stopOldData</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        len += 8;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1fb51aa17cdb2887294e78f4b3065463">resetGapLists</a>();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aecb688d526335dbec44d4c11051fc4d0">peerTsnAfterReset</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">getHighestTsnReceived</a>() + (1 &lt;&lt; 31);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    responseParam-&gt;setByteLength(len);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    resetChunk-&gt;addParameter(responseParam);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    msg-&gt;appendSctpChunks(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack</a>());</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a230f256d8477a28c11b80d23fa372412">sackAlreadySent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adc6190bc0622a005565639bb33e0485e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6190bc0622a005565639bb33e0485e">&#9670;&nbsp;</a></span>sendStreamResetResponse() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendStreamResetResponse </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srrsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    SctpStreamResetChunk *resetChunk;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;sendStreamResetResponse to &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; msg = makeShared&lt;SctpHeader&gt;();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    msg-&gt;setChunkLength(<a class="code" href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">B</a>(<a class="code" href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a>));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    msg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    msg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    resetChunk = <span class="keyword">new</span> SctpStreamResetChunk();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    resetChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">RE_CONFIG</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    resetChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    SctpStreamResetResponseParameter *responseParam = <span class="keyword">new</span> SctpStreamResetResponseParameter();</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    responseParam-&gt;setParameterType(<a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">STREAM_RESET_RESPONSE_PARAMETER</a>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    responseParam-&gt;setSrResSn(srrsn);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    responseParam-&gt;setResult(result);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">peerRequests</a>[srrsn].result = result;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    responseParam-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    resetChunk-&gt;addParameter(responseParam);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    msg-&gt;appendSctpChunks(resetChunk);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> != 0) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), msg, 1, 0, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">bundleReset</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        msg-&gt;appendSctpChunks(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack</a>());</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = 0;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a230f256d8477a28c11b80d23fa372412">sackAlreadySent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">incomingRequest</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">incomingRequestSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        Packet *pkt = <span class="keyword">new</span> Packet(<span class="stringliteral">&quot;RE_CONFIG&quot;</span>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, msg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (result != <a class="code" href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">DEFERRED</a>) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">resetRequested</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">firstPeerRequest</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aeb41dad3db96d468718481d5399c547e">processSsnTsnResetRequestArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>.</p>

</div>
</div>
<a id="a83298b0154764da12c49c90fea2ea11a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83298b0154764da12c49c90fea2ea11a">&#9670;&nbsp;</a></span>sendToApp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendToApp </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: sends packet to application. </p>
<div class="fragment"><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;{</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a> = check_and_cast&lt;ITaggedObject *&gt;(msg)-&gt;getTags();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a>.addTagIfAbsent&lt;SocketInd&gt;()-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f291bb37a3e03c4e483b9202abd21b5">process_STATUS()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">sendDataArrivedNotification()</a>.</p>

</div>
</div>
<a id="ae6ccb164a08163465dac35f7a9cd6426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ccb164a08163465dac35f7a9cd6426">&#9670;&nbsp;</a></span>sendToIP() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendToIP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sctpmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP</a>(pkt, sctpmsg, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a30b7c32ee0e22d85f5985d01ff58237c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b7c32ee0e22d85f5985d01ff58237c">&#9670;&nbsp;</a></span>sendToIP() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::sendToIP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sctpmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_l3_address.html">L3Address</a>&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: adds control info to message and sends it to IP. </p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Final touches on the segment before sending</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    sctpmsg-&gt;setSrcPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    sctpmsg-&gt;setDestPort(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    sctpmsg-&gt;setCrc(0);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    sctpmsg-&gt;setCrcMode(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a3a1a9fc1680d3becacc29a22dc81fc62">crcMode</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    sctpmsg-&gt;setChecksumOk(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;SendToIP: localPort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a> &lt;&lt; <span class="stringliteral">&quot; remotePort=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a> &lt;&lt; <span class="stringliteral">&quot; dest=&quot;</span> &lt;&lt; dest &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">const</span> SctpChunk *chunk = sctpmsg-&gt;peekFirstChunk();</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    uint8_t chunkType = chunk-&gt;getSctpChunkType();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (chunkType == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">ABORT</a>) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keyword">const</span> SctpAbortChunk *abortChunk = check_and_cast&lt;const SctpAbortChunk *&gt;(chunk);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">if</span> (abortChunk-&gt;getT_Bit() == 1) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            sctpmsg-&gt;setVTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            sctpmsg-&gt;setVTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sctpmsg-&gt;getVTag() == 0) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        sctpmsg-&gt;setVTag(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;insertTransportProtocolHeader sctpmsg\n&quot;</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="namespaceinet.html#a76bc5c89148708a4d99dba04bd76f6ca">insertTransportProtocolHeader</a>(pkt, <a class="code" href="classinet_1_1_protocol.html#abcd1641c2f65bad95090b53ab6824df7">Protocol::sctp</a>, sctpmsg);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;udpEncapsEnabled&quot;</span>).boolValue()) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keyword">auto</span> udpHeader = makeShared&lt;UdpHeader&gt;();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        udpHeader-&gt;setSourcePort(<a class="code" href="_sctp_8h.html#acfec864ec21a35e2576fd58b23169805">SCTP_UDP_PORT</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        udpHeader-&gt;setDestinationPort(<a class="code" href="_sctp_8h.html#acfec864ec21a35e2576fd58b23169805">SCTP_UDP_PORT</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        udpHeader-&gt;setTotalLengthField(udpHeader-&gt;getChunkLength() + pkt-&gt;getTotalLength());</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;Packet: &quot;</span> &lt;&lt; pkt &lt;&lt; endl;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        udpHeader-&gt;setCrcMode(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a3a1a9fc1680d3becacc29a22dc81fc62">crcMode</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="namespaceinet.html#a76bc5c89148708a4d99dba04bd76f6ca">insertTransportProtocolHeader</a>(pkt, <a class="code" href="classinet_1_1_protocol.html#afa299d576eaf56838cd8462ae362a771">Protocol::udp</a>, udpHeader);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        EV_INFO &lt;&lt; <span class="stringliteral">&quot;After udp header added &quot;</span> &lt;&lt; pkt &lt;&lt; endl;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        pkt-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#afa299d576eaf56838cd8462ae362a771">Protocol::udp</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        pkt-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a>&gt;()-&gt;setProtocol(&amp;<a class="code" href="classinet_1_1_protocol.html#abcd1641c2f65bad95090b53ab6824df7">Protocol::sctp</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    IL3AddressType *addressType = dest.getAddressType();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    pkt-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#a0323ac93ca7b779d82d9fb23cd4c8681">DispatchProtocolReq</a>&gt;()-&gt;setProtocol(addressType-&gt;getNetworkProtocol());</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a6e8bbf5b52cdf31a408b4dd38045950d">getInterfaceId</a>() != -1) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        pkt-&gt;addTagIfAbsent&lt;<a class="code" href="_i_udp-gates_8txt.html#a8d28e59a0d202e69c382d34ad7080937">InterfaceReq</a>&gt;()-&gt;setInterfaceId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a6e8bbf5b52cdf31a408b4dd38045950d">getInterfaceId</a>());</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keyword">auto</span> addresses = pkt-&gt;addTagIfAbsent&lt;L3AddressReq&gt;();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//    addresses-&gt;setSrcAddress(localAddr);</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    addresses-&gt;setDestAddress(dest);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    pkt-&gt;addTagIfAbsent&lt;SocketReq&gt;()-&gt;setSocketId(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;send packet &quot;</span> &lt;&lt; pkt &lt;&lt; <span class="stringliteral">&quot; to ipOut\n&quot;</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    check_and_cast&lt;Sctp *&gt;(getSimulation()-&gt;getContextModule())-&gt;send(pkt, <span class="stringliteral">&quot;ipOut&quot;</span>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> (chunkType == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">HEARTBEAT</a>) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(dest);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        path-&gt;numberOfHeartbeatsSent++;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        path-&gt;vectorPathHb-&gt;record(path-&gt;numberOfHeartbeatsSent);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunkType == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">HEARTBEAT_ACK</a>) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">getPath</a>(dest);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        path-&gt;numberOfHeartbeatAcksSent++;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        path-&gt;vectorPathHbAck-&gt;record(path-&gt;numberOfHeartbeatAcksSent);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Sent to &quot;</span> &lt;&lt; dest &lt;&lt; endl;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">retransmitInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abe98501af00cb108c954aef24941903a">sendShutdownComplete()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="a60ceac8641cc0555e6e1f55d16e5ee6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ceac8641cc0555e6e1f55d16e5ee6f">&#9670;&nbsp;</a></span>setFragInProgressOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::setFragInProgressOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>frag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">auto</span> streamIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(sid);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    assert(streamIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end());</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> streamIterator-&gt;second-&gt;setFragInProgress(frag);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a5e3cf61aaca3714edfd72de4baf812b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e3cf61aaca3714edfd72de4baf812b2">&#9670;&nbsp;</a></span>signalConnectionTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::signalConnectionTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: signal to user that connection timed out. </p>
<div class="fragment"><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;{</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa2e3e0e0f4503da528a9c8ee98e410fc">SCTP_I_TIMED_OUT</a>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dd0e82e1e8d91e0ef372b2e4ff95073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd0e82e1e8d91e0ef372b2e4ff95073">&#9670;&nbsp;</a></span>ssnGt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::ssnGt </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>ssn1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>ssn2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#aa70b98db8e47c30f27fd4ee90f3bf873">SCTP_SSN_GT</a>(ssn1, ssn2); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>.</p>

</div>
</div>
<a id="a1b094d786c743c274b38f4d5a7b40fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b094d786c743c274b38f4d5a7b40fa3">&#9670;&nbsp;</a></span>startTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::startTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const simtime_t &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;{</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;startTimer &quot;</span> &lt;&lt; timer-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; with timeout &quot;</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;              &lt;&lt; timeout &lt;&lt; <span class="stringliteral">&quot; to expire at &quot;</span> &lt;&lt; simTime() + timeout &lt;&lt; endl;</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a114000f03440234fd4816c4399605967">scheduleTimeout</a>(timer, timeout);</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">pmDataIsSentOn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">process_TIMEOUT_ASCONF()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged()</a>.</p>

</div>
</div>
<a id="a830404b89bb756c049232df67d74758b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830404b89bb756c049232df67d74758b">&#9670;&nbsp;</a></span>stateEntered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::stateEntered </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;{</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">status</a>) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>:</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>: {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;State ESTABLISHED entered&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">T1_InitTimer</a>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4c28992bbd2ba626a40fe029bc782afb">initChunk</a>) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                <span class="keyword">delete</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4c28992bbd2ba626a40fe029bc782afb">initChunk</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4c28992bbd2ba626a40fe029bc782afb">initChunk</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40d9d80eb55520e8576cfb8ddc8e0df4">nagleEnabled</a> = (bool)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0218b85f6c331356ae501d0b901307b7">getNagle</a>();</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6544ac7a5d38379984e96a2d26c5aec5">enableHeartbeats</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">getEnableHeartbeats</a>();</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6d50ef5dd10f9a335470bb3ea0cd7fe4">sendHeartbeatsOnActivePaths</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;sendHeartbeatsOnActivePaths&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a51b29effaca42ae02a7a9c8060db0f0b">numGapReports</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;numGapReports&quot;</span>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">maxBurst</a> = (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aee106701df8812314b9f92b54a22b75b">getMaxBurst</a>();</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a868cb96b2900bf174709bd0c187ea15b">rtxMethod</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;RTXMethod&quot;</span>);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">nrSack</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;nrSack&quot;</span>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a15f4e2ba243fc1a3bd33bb2095e11c55">disableReneging</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;disableReneging&quot;</span>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a21ae85cee62fcc31ac16a5cdc8f16475">checkSackSeqNumber</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;checkSackSeqNumber&quot;</span>);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab412792a78fcfad8c859d66dbb0ae11e">outgoingSackSeqNum</a> = 0;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b79211f1ed0b37a6839ca361b1086bf">incomingSackSeqNum</a> = 0;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">fragPoint</a> = (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a7f914cbcf912fa17e93f0c8c75773de4">getFragPoint</a>();</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aba698b93dfd336e1911e8a478fa9ebb0">highSpeedCC</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;highSpeedCC&quot;</span>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">initialWindow</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;initialWindow&quot;</span>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *maxBurstVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;maxBurstVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;useItOrLoseIt&quot;</span>) == 0) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1caa79446558db077338e93f92c09658">SctpStateVariables::MBV_UseItOrLoseIt</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;congestionWindowLimiting&quot;</span>) == 0) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a97d73147bbda9a30a2c3fa46b8aca019">SctpStateVariables::MBV_CongestionWindowLimiting</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;maxBurst&quot;</span>) == 0) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a837cf14a7cd29aea6dea62e0b9e969ea">SctpStateVariables::MBV_MaxBurst</a>;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;aggressiveMaxBurst&quot;</span>) == 0) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a2943808e0e877389c98f73b8543ecb16">SctpStateVariables::MBV_AggressiveMaxBurst</a>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;totalMaxBurst&quot;</span>) == 0) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a55f5f85f6a88dbf453ad180e34750471">SctpStateVariables::MBV_TotalMaxBurst</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;useItOrLoseItTempCwnd&quot;</span>) == 0) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1bb004d64bb574b03e1d0a9a6b98178a">SctpStateVariables::MBV_UseItOrLoseItTempCwnd</a>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            }</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(maxBurstVariantPar, <span class="stringliteral">&quot;congestionWindowLimitingTempCwnd&quot;</span>) == 0) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">maxBurstVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc">SctpStateVariables::MBV_CongestionWindowLimitingTempCwnd</a>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Invalid setting of maxBurstVariant: %s.&quot;</span>,</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                        maxBurstVariantPar);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cmtSendAllVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtSendAllVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="keywordflow">if</span> (strcmp(cmtSendAllVariantPar, <span class="stringliteral">&quot;normal&quot;</span>) == 0) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSendAllVariantPar, <span class="stringliteral">&quot;smallestLastTransmission&quot;</span>) == 0) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0c09cc4a87fde8083748d7f353a39154">pathMapSmallestLastTransmission</a>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSendAllVariantPar, <span class="stringliteral">&quot;randomized&quot;</span>) == 0) {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#acf9475dc172f47d336c2b9f44175e966">pathMapRandomized</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSendAllVariantPar, <span class="stringliteral">&quot;largestSSThreshold&quot;</span>) == 0) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#affba0d21451102b22a4100074337530b">pathMapLargestSSThreshold</a>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSendAllVariantPar, <span class="stringliteral">&quot;largestSpace&quot;</span>) == 0) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a26dc7033ffc0543aecd5bc65cb64b394">pathMapLargestSpace</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            }</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSendAllVariantPar, <span class="stringliteral">&quot;largestSpaceAndSSThreshold&quot;</span>) == 0) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">cmtSendAllComparisonFunction</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac4c3ab9087db09897f5fc429bdf74248">pathMapLargestSpaceAndSSThreshold</a>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Invalid setting of cmtSendAllVariant: %s.&quot;</span>,</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                        cmtSendAllVariantPar);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af0303ce5c31a7740e2b04d2fcca008bd">cmtRetransmissionVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtRetransmissionVariant&quot;</span>);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cmtCUCVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtCUCVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            <span class="keywordflow">if</span> (strcmp(cmtCUCVariantPar, <span class="stringliteral">&quot;normal&quot;</span>) == 0) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07a05748460ece8cd7e7d24f3e12b48c36e">SctpStateVariables::CUCV_Normal</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtCUCVariantPar, <span class="stringliteral">&quot;pseudoCumAck&quot;</span>) == 0) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07aad0b1eedd882ee330560e88df6849798">SctpStateVariables::CUCV_PseudoCumAck</a>;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtCUCVariantPar, <span class="stringliteral">&quot;pseudoCumAckV2&quot;</span>) == 0) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">cmtCUCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07a3418849d513b7d8b4c6879cf89d83eb7">SctpStateVariables::CUCV_PseudoCumAckV2</a>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Bad setting for cmtCUCVariant: %s\n&quot;</span>,</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                        cmtCUCVariantPar);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;            }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa54a8d4c5dfa691153e9d497d3a3d4a4">smartOverfullSACKHandling</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;smartOverfullSACKHandling&quot;</span>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cmtChunkReschedulingVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtChunkReschedulingVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <span class="keywordflow">if</span> (strcmp(cmtChunkReschedulingVariantPar, <span class="stringliteral">&quot;none&quot;</span>) == 0) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca46e115ee4b3b2bebcad8d559cb3bbd95">SctpStateVariables::CCRV_None</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtChunkReschedulingVariantPar, <span class="stringliteral">&quot;senderOnly&quot;</span>) == 0) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca2a6d484a06d45dabbde3235c877684f2">SctpStateVariables::CCRV_SenderOnly</a>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtChunkReschedulingVariantPar, <span class="stringliteral">&quot;receiverOnly&quot;</span>) == 0) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca7575abf956e1f023fb5c35bda960d90e">SctpStateVariables::CCRV_ReceiverOnly</a>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtChunkReschedulingVariantPar, <span class="stringliteral">&quot;bothSides&quot;</span>) == 0) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca00fb9010be9a7cc8da4a01d761f043d8">SctpStateVariables::CCRV_BothSides</a>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtChunkReschedulingVariantPar, <span class="stringliteral">&quot;test&quot;</span>) == 0) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">cmtChunkReschedulingVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca35ef0d7cfff5ec07fe58316f541598c3">SctpStateVariables::CCRV_Test</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Bad setting for cmtChunkReschedulingVariant: %s\n&quot;</span>,</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                        cmtChunkReschedulingVariantPar);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cmtBufferSplitVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtBufferSplitVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <span class="keywordflow">if</span> (strcmp(cmtBufferSplitVariantPar, <span class="stringliteral">&quot;none&quot;</span>) == 0) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313adadee70e72b1c8898213cc754eca0dcb">SctpStateVariables::CBSV_None</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtBufferSplitVariantPar, <span class="stringliteral">&quot;senderOnly&quot;</span>) == 0) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a01d96d99802e13c09ec03af90234ec98">SctpStateVariables::CBSV_SenderOnly</a>;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtBufferSplitVariantPar, <span class="stringliteral">&quot;receiverOnly&quot;</span>) == 0) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a176761a05ff1492fb7e629c1968969d1">SctpStateVariables::CBSV_ReceiverOnly</a>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtBufferSplitVariantPar, <span class="stringliteral">&quot;bothSides&quot;</span>) == 0) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">cmtBufferSplitVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1">SctpStateVariables::CBSV_BothSides</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Bad setting for cmtBufferSplitVariant: %s\n&quot;</span>,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                        cmtBufferSplitVariantPar);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb2989f08da7c4bf3a1a9e623df6b962">cmtBufferSplittingUsesOSB</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtBufferSplittingUsesOSB&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *gapListOptimizationVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;gapListOptimizationVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <span class="keywordflow">if</span> (strcmp(gapListOptimizationVariantPar, <span class="stringliteral">&quot;none&quot;</span>) == 0) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459a781f2f08d6d3e3ca5a6e71ec9c170057">SctpStateVariables::GLOV_None</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(gapListOptimizationVariantPar, <span class="stringliteral">&quot;optimized1&quot;</span>) == 0) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459acd265f988c8e234d1e5c35027893771c">SctpStateVariables::GLOV_Optimized1</a>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            }</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(gapListOptimizationVariantPar, <span class="stringliteral">&quot;optimized2&quot;</span>) == 0) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459ae9dd70002689c25274c7469f8988ebb5">SctpStateVariables::GLOV_Optimized2</a>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(gapListOptimizationVariantPar, <span class="stringliteral">&quot;shrunken&quot;</span>) == 0) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">gapListOptimizationVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459a57c861b58ae0953bd536e402cda4ef80">SctpStateVariables::GLOV_Shrunken</a>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Bad setting for gapListOptimizationVariant: %s\n&quot;</span>,</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                        gapListOptimizationVariantPar);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7ce523a3d4cee654d29ad3b2b343fa29">cmtUseSFR</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtUseSFR&quot;</span>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f74bc3426c565c3515c12bb4110dadb">cmtUseDAC</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtUseDAC&quot;</span>);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3db1c2b9015c808a8d543ce14f74f47">cmtUseFRC</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtUseFRC&quot;</span>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9ffb16100e369db5ec33892778050345">gapReportLimit</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;gapReportLimit&quot;</span>);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a57e6b5eada23a24f7e1ef9a7c451d034">cmtSmartT3Reset</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtSmartT3Reset&quot;</span>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5219bd06f24b927174cbed3148aa6058">cmtSmartReneging</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtSmartReneging&quot;</span>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91bf14261e7d93cfdb4f2276ba1f55a8">cmtSmartFastRTX</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtSmartFastRTX&quot;</span>);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">cmtSlowPathRTTUpdate</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtSlowPathRTTUpdate&quot;</span>);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa11a63baa3a74d62110fc295b63c295b">cmtMovedChunksReduceCwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtMovedChunksReduceCwnd&quot;</span>);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#af43635c67e05cef61299c057676a27d4">cmtChunkReschedulingThreshold</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtChunkReschedulingThreshold&quot;</span>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adef04544ead5c64d9bcef89a6240deee">movedChunkFastRTXFactor</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;movedChunkFastRTXFactor&quot;</span>);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">strictCwndBooking</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;strictCwndBooking&quot;</span>);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cmtSackPathPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtSackPath&quot;</span>).stringValue();</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <span class="keywordflow">if</span> (strcmp(cmtSackPathPar, <span class="stringliteral">&quot;standard&quot;</span>) == 0) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1ab256f9ad5db5814a2f1289205ae5b25a">SctpStateVariables::CSP_Standard</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSackPathPar, <span class="stringliteral">&quot;primary&quot;</span>) == 0) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1a3118a4dd17fa10a72a5c917f5fb6a0d1">SctpStateVariables::CSP_Primary</a>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSackPathPar, <span class="stringliteral">&quot;roundRobin&quot;</span>) == 0) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1aabb4379aa688f18f996524985ecaf51b">SctpStateVariables::CSP_RoundRobin</a>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtSackPathPar, <span class="stringliteral">&quot;smallestSRTT&quot;</span>) == 0) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">cmtSackPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1ab8d242335cdd8bba08585af0566fea70">SctpStateVariables::CSP_SmallestSRTT</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Bad setting for cmtSackPath: %s\n&quot;</span>,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                        cmtSackPathPar);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *cmtCCVariantPar = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtCCVariant&quot;</span>).stringValue();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">if</span> (strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;off&quot;</span>) == 0) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a36f7fdd08a2b84255933f7dd4f61c5fc">SctpStateVariables::CCCV_Off</a>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            }</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;cmt&quot;</span>) == 0) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">SctpStateVariables::CCCV_CMT</a>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtCCVariant&quot;</span>).stringValue(), <span class="stringliteral">&quot;lia&quot;</span>) == 0) {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d">SctpStateVariables::CCCV_CMT_LIA</a>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtCCVariant&quot;</span>).stringValue(), <span class="stringliteral">&quot;olia&quot;</span>) == 0) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01">SctpStateVariables::CCCV_CMT_OLIA</a>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;cmtrp&quot;</span>) == 0) ||</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                     (strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;cmtrpv1&quot;</span>) == 0))</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa">SctpStateVariables::CCCV_CMTRPv1</a>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;cmtrpv2&quot;</span>) == 0) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20">SctpStateVariables::CCCV_CMTRPv2</a>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;cmtrp-t1&quot;</span>) == 0) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349">SctpStateVariables::CCCV_CMTRP_Test1</a>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cmtCCVariantPar, <span class="stringliteral">&quot;cmtrp-t2&quot;</span>) == 0) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">cmtCCVariant</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec">SctpStateVariables::CCCV_CMTRP_Test2</a>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Bad setting for cmtCCVariant: %s\n&quot;</span>,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                        cmtCCVariantPar);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a33073b078bcbd03b6bb4974e3c8683ab">rpPathBlocking</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rpPathBlocking&quot;</span>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a95baf21442b94f1cb338c943a9a54f18">rpScaleBlockingTimeout</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rpScaleBlockingTimeout&quot;</span>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">rpMinCwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rpMinCwnd&quot;</span>);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            cStringTokenizer pathGroupsTokenizer(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;cmtCCPathGroups&quot;</span>).stringValue());</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <span class="keywordflow">if</span> (pathGroupsTokenizer.hasMoreTokens()) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                <span class="keyword">auto</span> pathIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.begin();</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                <span class="keywordflow">while</span> (pathIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.end()) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> *token = pathGroupsTokenizer.nextToken();</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                    <span class="keywordflow">if</span> (token == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Too few cmtCCGroup values to cover all paths!&quot;</span>);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = pathIterator-&gt;second;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                    path-&gt;cmtCCGroup = atol(token);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                    pathIterator++;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">osbWithHeader</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;osbWithHeader&quot;</span>);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a61247836483b3253faed1a703b51d37b">padding</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;padding&quot;</span>);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">osbWithHeader</a>)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">header</a> = <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">header</a> = 0;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">swsLimit</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;swsLimit&quot;</span>);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4ef1420f7192d31efb748b761642e943">fastRecoverySupported</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;fastRecoverySupported&quot;</span>);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47ff5d38deaba8dffba7320824fa8dc8">reactivatePrimaryPath</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;reactivatePrimaryPath&quot;</span>);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">packetsInTotalBurst</a> = 0;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">auth</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a54791556912daeb9e144d61e9ff6c7e6">auth</a>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">messageAcceptLimit</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;messageAcceptLimit&quot;</span>);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">bytesToAddPerRcvdChunk</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;bytesToAddPerRcvdChunk&quot;</span>);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6428ad61e8f55afecf09d1019f3e3f1a">bytesToAddPerPeerChunk</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;bytesToAddPerPeerChunk&quot;</span>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc31b50a7ed3b9eabdd54beeff27cf7f">tellArwnd</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;tellArwnd&quot;</span>);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7407ddfc7a56a3b33d19f70b6b1ad5dc">throughputInterval</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;throughputInterval&quot;</span>);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac927e9ea951fffed8a06e6009e4803f5">sackPeriod</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a73b76f0593d265fc5fce26dd54a9a4df">getSackPeriod</a>();</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a008a32e777ea3990bfdf3aa794a1d962">getSackFrequency</a>();</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            Sctp::AssocStat stat;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            stat.assocId = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            stat.start = simTime();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            stat.stop = 0;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            stat.rcvdBytes = 0;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            stat.ackedBytes = 0;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            stat.sentBytes = 0;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            stat.transmittedBytes = 0;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            stat.numFastRtx = 0;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            stat.numT3Rtx = 0;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            stat.numDups = 0;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            stat.numPathFailures = 0;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            stat.numForwardTsn = 0;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            stat.sumRGapRanges = 0;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            stat.sumNRGapRanges = 0;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            stat.numOverfullSACKs = 0;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            stat.lifeTime = 0;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            stat.throughput = 0;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            stat.numDropsBecauseNewTsnGreaterThanHighestTsn = 0;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            stat.numDropsBecauseNoRoomInBuffer = 0;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            stat.numChunksReneged = 0;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            stat.numAuthChunksSent = 0;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            stat.numAuthChunksAccepted = 0;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            stat.numAuthChunksRejected = 0;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            stat.numResetRequestsSent = 0;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            stat.numResetRequestsPerformed = 0;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">fairTimer</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            stat.fairStart = 0;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            stat.fairStop = 0;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            stat.fairLifeTime = 0;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            stat.fairThroughput = 0;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            stat.fairAckedBytes = 0;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            stat.numEndToEndMessages = 0;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            stat.cumEndToEndDelay = 0;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            stat.startEndToEndDelay = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;startEndToEndDelay&quot;</span>);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            stat.stopEndToEndDelay = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;stopEndToEndDelay&quot;</span>);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">assocStatMap</a>[stat.assocId] = stat;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1cf3ed7915df5a1259f45dc935819f19">ccModule</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;ccModule&quot;</span>);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1cf3ed7915df5a1259f45dc935819f19">ccModule</a>) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a9c11fe74997665241e487dfb1c44c37cafac00649f05c1b7c3963d629cbcfc178">RFC4960</a>: {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a0fadb15803d788f1340b466ba0e9feed">ccInitParams</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">SctpAssociation::initCcParameters</a>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#acc8004232bfe2cd64a6a0994a44dd2c7">ccUpdateBeforeSack</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aef2d425c447204175284c4837e803f73">SctpAssociation::cwndUpdateBeforeSack</a>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a07c790e4c342817469f8af8fa4176de3">ccUpdateAfterSack</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">SctpAssociation::cwndUpdateAfterSack</a>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#afef5482e5d8d099ccecc43d45660b77c">ccUpdateAfterCwndTimeout</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ab0527d219fcbe96f8d128726bdf95502">SctpAssociation::cwndUpdateAfterCwndTimeout</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a22c55464c988094dd9156f7a80e12934">ccUpdateAfterRtxTimeout</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a47737a6ee0a6aaf9eb2239d25aa95de7">SctpAssociation::cwndUpdateAfterRtxTimeout</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#aad67a8054e2a5d1783b8c7b312c47b39">ccUpdateMaxBurst</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9f10b326e3abde82edf74c4ac320fbf0">SctpAssociation::cwndUpdateMaxBurst</a>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">ccFunctions</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a18ac22edfbdcfb6fde6863fc329c5e2e">ccUpdateBytesAcked</a> = &amp;<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">SctpAssociation::cwndUpdateBytesAcked</a>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement</a>();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;sendQueueLimit&quot;</span>);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;stateEntered: Established socketId= &quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ac0661ec442f2253970c1889d9debf3bd">isToBeAccepted</a>()) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                EV_INFO &lt;&lt; <span class="stringliteral">&quot;Listening socket can accept now\n&quot;</span>;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp</a>();</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            }</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp</a>();</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;hasPar(<span class="stringliteral">&quot;addIP&quot;</span>)) {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> addIP = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addIP&quot;</span>);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                simtime_t addTime = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;addTime&quot;</span>);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                EV_DETAIL &lt;&lt; getFullPath() &lt;&lt; <span class="stringliteral">&quot;: addIP = &quot;</span> &lt;&lt; addIP &lt;&lt; <span class="stringliteral">&quot; time = &quot;</span> &lt;&lt; addTime &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                <span class="keywordflow">if</span> (addIP == <span class="keyword">true</span> &amp;&amp; addTime &gt; SIMTIME_ZERO) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;startTimer addTime to expire at &quot;</span> &lt;&lt; simTime() + addTime &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a114000f03440234fd4816c4399605967">scheduleTimeout</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">StartAddIP</a>, addTime);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            }</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">double</span>)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;fairStart&quot;</span>) &gt; 0) {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;scheduleAt(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;fairStart&quot;</span>), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">FairStartTimer</a>);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;scheduleAt(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;fairStop&quot;</span>), <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">FairStopTimer</a>);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;recordScalar(<span class="stringliteral">&quot;rtoMin&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;rtoMin&quot;</span>).doubleValue());</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            <span class="keywordtype">char</span> str[128];</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            snprintf(str, <span class="keyword">sizeof</span>(str), <span class="stringliteral">&quot;Cumulated TSN Ack of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af28d79f5f20c4c8f2476455045740004">cumTsnAck</a> = <span class="keyword">new</span> cOutVector(str);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            snprintf(str, <span class="keyword">sizeof</span>(str), <span class="stringliteral">&quot;Number of Gap Blocks in Last SACK of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a665b8a119cc0922aae8f31bb1c6ad751">numGapBlocks</a> = <span class="keyword">new</span> cOutVector(str);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            snprintf(str, <span class="keyword">sizeof</span>(str), <span class="stringliteral">&quot;SendQueue of Association %d&quot;</span>, <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">sendQueue</a> = <span class="keyword">new</span> cOutVector(str);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">sendQueueLimit</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;par(<span class="stringliteral">&quot;sendQueueLimit&quot;</span>);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;            Sctp::VTagPair vtagPair;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            vtagPair.peerVTag = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">peerVTag</a>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            vtagPair.localVTag = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">localVTag</a>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            vtagPair.localPort = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">localPort</a>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            vtagPair.remotePort = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">remotePort</a>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a0b5df3678b7a5b47e792d6a7c1572bfe">sctpVTagMap</a>[<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">assocId</a>] = vtagPair;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>: {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56">SCTP_I_CLOSED</a>);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>: {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">getQueueSize</a>() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> == 0)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown</a>();</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>: {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            EV_INFO &lt;&lt; <span class="stringliteral">&quot;Entered state SHUTDOWN_RECEIVED, osb=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>()</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, transQ=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">getQueueSize</a>()</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, scount=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> &lt;&lt; endl;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes</a>() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">transmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">getQueueSize</a>() == 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> == 0) {</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">remoteAddr</a>);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>());</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            }</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        }</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>.</p>

</div>
</div>
<a id="a43fbefcbc251615ea84b5cae69a71cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fbefcbc251615ea84b5cae69a71cc8">&#9670;&nbsp;</a></span>stateName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * inet::sctp::SctpAssociation::stateName </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: returns name of SCTP_S_xxx constants. </p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#define CASE(x)    case x: \</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">        s = (char *)#x + 7; break</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a> = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">SCTP_S_CLOSED</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">SCTP_S_COOKIE_WAIT</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">SCTP_S_COOKIE_ECHOED</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">SCTP_S_ESTABLISHED</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">SCTP_S_SHUTDOWN_PENDING</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">SCTP_S_SHUTDOWN_SENT</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">SCTP_S_SHUTDOWN_RECEIVED</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">SCTP_S_SHUTDOWN_ACK_SENT</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#undef CASE</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f291bb37a3e03c4e483b9202abd21b5">process_STATUS()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>.</p>

</div>
</div>
<a id="abd022f11a996e8ef5e87ff2e75bec902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd022f11a996e8ef5e87ff2e75bec902">&#9670;&nbsp;</a></span>stopTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::stopTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;{</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;stopTimer &quot;</span> &lt;&lt; timer-&gt;getName() &lt;&lt; endl;</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    <span class="keywordflow">if</span> (timer-&gt;isScheduled()) {</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14301dd160c371c105f43dde83325235">cancelEvent</a>(timer);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    }</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">pmDataIsSentOn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c42b73f2cb213158ed95d798a49532d">removePath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c60d1b8136a43b085fa1dca0262cf1e">stopTimers()</a>.</p>

</div>
</div>
<a id="a5c60d1b8136a43b085fa1dca0262cf1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c60d1b8136a43b085fa1dca0262cf1e">&#9670;&nbsp;</a></span>stopTimers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::stopTimers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;{</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(elem.second-&gt;HeartbeatTimer);</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">stopTimer</a>(elem.second-&gt;HeartbeatIntervalTimer);</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    }</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>.</p>

</div>
</div>
<a id="a08b787c705fa8a4192a5d63a83922be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08b787c705fa8a4192a5d63a83922be7">&#9670;&nbsp;</a></span>storePacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::storePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>pathVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Ptr&lt; <a class="el" href="classinet_1_1sctp_1_1_sctp_header.html">SctpHeader</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sctpMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>chunksAdded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dataChunksAdded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>authAdded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    uint32_t packetBytes = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; sctpMsg-&gt;getSctpChunksArraySize(); i++) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keyword">const</span> SctpChunk *chunkPtr = sctpMsg-&gt;getSctpChunks(i);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (chunkPtr-&gt;getSctpChunkType() == <a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keyword">const</span> SctpDataChunk *dataChunk = check_and_cast&lt;const SctpDataChunk *&gt;(chunkPtr);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">if</span> (dataChunk != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keyword">const</span> uint32_t tsn = dataChunk-&gt;getTsn();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                SctpDataVariables *chunk = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">retransmissionQ</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">payloadQueue</a>.find(tsn)-&gt;second;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                assert(chunk != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                chunk-&gt;queuedOnPath-&gt;queuedBytes -= chunk-&gt;booksize;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                chunk-&gt;queuedOnPath = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                packetBytes += chunk-&gt;booksize;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">sctpMsg</a> = dynamicPtrCast&lt;SctpHeader&gt;(sctpMsg-&gt;dupShared());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b1872bbfb9a69f59f398774a99c79de">chunksAdded</a> = chunksAdded;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2a0ae018474859b54f4ef2c4edd9831d">dataChunksAdded</a> = dataChunksAdded;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a> = packetBytes;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aca5d5a3117ad813aca250aac00116dd8">authAdded</a> = authAdded;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;storePacket: path=&quot;</span> &lt;&lt; pathVar-&gt;remoteAddress</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; state-&gt;packetBytes=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; osb=&quot;</span> &lt;&lt; pathVar-&gt;outstandingBytes &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            &lt;&lt; pathVar-&gt;outstandingBytes - <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a> &lt;&lt; endl;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">osbWithHeader</a>)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">roomSumSendStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a> + (dataChunksAdded * <a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">qCounter</a>.<a class="code" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">bookedSumSendStreams</a> += <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">packetBytes</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse()</a>.</p>

</div>
</div>
<a id="adfb9d42dbbe581d2be1759ad0aae5ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb9d42dbbe581d2be1759ad0aae5ed5">&#9670;&nbsp;</a></span>streamIsPending()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::streamIsPending </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() &gt; 0 || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.size() &gt; 0 &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">resetPending</a>)) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        std::list&lt;uint16_t&gt;::iterator it;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <span class="keywordflow">for</span> (it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">streamsPending</a>.end(); it++) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                <span class="keywordflow">if</span> (sid == (*it)) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.size() &gt; 0) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="keywordflow">for</span> (it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.begin(); it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">resetOutStreams</a>.end(); it++) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">if</span> (sid == (*it)) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a19f8fbdbbe120b9c5cf7311946796db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f8fbdbbe120b9c5cf7311946796db5">&#9670;&nbsp;</a></span>streamScheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamScheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dealing with streams. </p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                sid = testsid;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: chose sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">if</span> (!peek) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a> = sid;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        } <span class="keywordflow">while</span> (sid == -1 &amp;&amp; testsid != (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;streamScheduler sid=&quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot; lastStream=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a> &lt;&lt; <span class="stringliteral">&quot; outboundStreams=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> &lt;&lt; <span class="stringliteral">&quot; next=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (sid &gt;= 0 &amp;&amp; !peek)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">ssLastDataChunkSizeSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">SctpAssociation::numUsableStreams</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    int32_t <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a> = 0;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (elem.second-&gt;getStreamQ()-&gt;getLength() &gt; 0 || elem.second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>++;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">count</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af643cdea7ad22400600ec0628b47b709">SctpAssociation::streamSchedulerRoundRobinPacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    int32_t sid, testsid, lastsid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: RoundRobinPacket (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    sid = -1;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a>) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        testsid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">do</span> {</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a7554bab1415649f0631d48598a2d5971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7554bab1415649f0631d48598a2d5971">&#9670;&nbsp;</a></span>streamSchedulerFairBandwidth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerFairBandwidth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab73a0f8ed466159fa012a172bd3ffd7f">ssFairBandwidthMap</a>) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            peekMap[elem.first] = elem.second;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        mapPointer = &amp;peekMap;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a31af650b11ff51ff6fae64de66751455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31af650b11ff51ff6fae64de66751455">&#9670;&nbsp;</a></span>streamSchedulerFairBandwidthPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerFairBandwidthPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">/* There is data in this stream */</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">if</span> (elem.second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 || elem.second-&gt;getStreamQ()-&gt;getLength() &gt; 0) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="comment">/* Get size of the first packet in stream */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">if</span> (elem.second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                packetsize = check_and_cast&lt;SctpSimpleMessage *&gt;(check_and_cast&lt;SctpDataMsg *&gt;(elem.second-&gt;getUnorderedStreamQ()-&gt;front())-&gt;getEncapsulatedPacket())-&gt;getByteLength();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem.second-&gt;getStreamQ()-&gt;getLength() &gt; 0) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                packetsize = check_and_cast&lt;SctpSimpleMessage *&gt;(check_and_cast&lt;SctpDataMsg *&gt;(elem.second-&gt;getStreamQ()-&gt;front())-&gt;getEncapsulatedPacket())-&gt;getByteLength();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="comment">/* This stream is new to the map, so add it */</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">if</span> ((*mapPointer)[elem.first] &lt; 0) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="keywordflow">if</span> (packetsize &gt; 0) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    (*mapPointer)[elem.first] = packetsize;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: add sid &quot;</span> &lt;&lt; elem.first &lt;&lt; <span class="stringliteral">&quot; with size &quot;</span> &lt;&lt; packetsize &lt;&lt; <span class="stringliteral">&quot; to fair bandwidth map.\n&quot;</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="comment">/* This stream is already in the map, so update it if necessary */</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">ssLastDataChunkSizeSet</a>) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="comment">/* Subtract the size of the last scheduled chunk from all streams */</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                (*mapPointer)[elem.first] -= lastDataChunkSize;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span> ((*mapPointer)[elem.first] &lt; 0)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    (*mapPointer)[elem.first] = 0;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="comment">/* We sent from this stream the last time, so add a new message to it */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">if</span> (elem.first == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    (*mapPointer)[elem.first] += packetsize;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: updated sid &quot;</span> &lt;&lt; elem.first &lt;&lt; <span class="stringliteral">&quot; with new packet of size &quot;</span> &lt;&lt; packetsize &lt;&lt; endl;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: updated sid &quot;</span> &lt;&lt; elem.first &lt;&lt; <span class="stringliteral">&quot; entry to size &quot;</span> &lt;&lt; (*mapPointer)[elem.first] &lt;&lt; endl;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">/* There is no data in this stream, so delete it from map */</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            (*mapPointer)[elem.first] = -1;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: sid &quot;</span> &lt;&lt; elem.first &lt;&lt; <span class="stringliteral">&quot; removed from fb map&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (!peek) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">ssLastDataChunkSizeSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a>) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : *mapPointer) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span> ((sid &lt; 0 || (uint32_t)elem.second &lt; bandwidth) &amp;&amp; elem.second &gt;= 0) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                sid = elem.first;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                bandwidth = elem.second;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: chose sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            sid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: again sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (sid &gt;= 0 &amp;&amp; !peek) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a> = sid;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a32e1086f7dc43a20174dfc9e6903625e">SctpAssociation::streamSchedulerFCFS</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    int32_t sid, testsid;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    simtime_t oldestEnqueuing, testTime;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: First-come, first-serve (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    sid = -1;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a>) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        testsid = -1;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        testsid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        testsid = (testsid + 1) % <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(testsid)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            testTime = check_and_cast&lt;SctpDataMsg *&gt;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(testsid)-&gt;second-&gt;getUnorderedStreamQ()-&gt;front())-&gt;getEnqueuingTime();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">if</span> (sid &lt; 0 || oldestEnqueuing &gt; testTime) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                oldestEnqueuing = testTime;</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a32e1086f7dc43a20174dfc9e6903625e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e1086f7dc43a20174dfc9e6903625e">&#9670;&nbsp;</a></span>streamSchedulerFCFS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerFCFS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                              : chose sid <span class="stringliteral">&quot; &lt;&lt; sid &lt;&lt; &quot;</span>.\n<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="stringliteral">        }</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">        if (sendStreams.find(testsid)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0) {</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="stringliteral">            testTime = check_and_cast&lt;SctpDataMsg *&gt;(sendStreams.find(testsid)-&gt;second-&gt;getStreamQ()-&gt;front())-&gt;getEnqueuingTime();</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="stringliteral">            if (sid &lt; 0 || oldestEnqueuing &gt; testTime) {</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="stringliteral">                oldestEnqueuing = testTime;</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="stringliteral">                sid = testsid;</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="stringliteral">                EV_DETAIL &lt;&lt; &quot;</span>Stream Scheduler: chose sid <span class="stringliteral">&quot; &lt;&lt; sid &lt;&lt; &quot;</span>.\n<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="stringliteral">        }</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="stringliteral">    } while (testsid != (int32_t)state-&gt;lastStreamScheduled);</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="stringliteral">    if (!peek &amp;&amp; sid &gt;= 0)</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="stringliteral">        state-&gt;lastStreamScheduled = sid;</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="stringliteral">    return sid;</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="stringliteral">}</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="stringliteral">int32_t SctpAssociation::pathStreamSchedulerManual(SctpPathVariables *path, bool peek)</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="stringliteral">{</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="stringliteral">    uint32_t pathNo = 0;</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="stringliteral">    int32_t testsid, sid = -1;</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="stringliteral">    uint32_t lastsid = state-&gt;lastStreamScheduled;</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="stringliteral">    EV_INFO &lt;&lt; &quot;</span>Stream Scheduler: path-aware Manual (peek: <span class="stringliteral">&quot; &lt;&lt; peek &lt;&lt; &quot;</span>)<span class="stringliteral">&quot; &lt;&lt; endl;</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="stringliteral">    if (state-&gt;ssStreamToPathMap.empty()) {</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="stringliteral">        for (uint16_t str = 0; str &lt; outboundStreams; str++) {</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="stringliteral">            state-&gt;ssStreamToPathMap[str] = 0;</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="stringliteral">        }</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="stringliteral">        // Fill Stream to Path map</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="stringliteral">        uint16_t streamNum = 0;</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="stringliteral">        cStringTokenizer prioTokenizer(sctpMain-&gt;par(&quot;</span>streamsToPaths<span class="stringliteral">&quot;));</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="stringliteral">        while (prioTokenizer.hasMoreTokens()) {</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="stringliteral">            const char *token = prioTokenizer.nextToken();</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="stringliteral">            state-&gt;ssStreamToPathMap[streamNum] = (uint32_t)atoi(token);</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="stringliteral">            streamNum++;</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="stringliteral">        }</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="stringliteral">        if (state-&gt;ssStreamToPathMap.empty())</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="stringliteral">            throw cRuntimeError(&quot;</span>streamsToPaths not defined<span class="stringliteral">&quot;);</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="abbd455afdffa682cbad657e0e283ad2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd455afdffa682cbad657e0e283ad2f">&#9670;&nbsp;</a></span>streamSchedulerPriority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerPriority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;       {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        testsid = (testsid + 1) % <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(testsid)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(testsid)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">if</span> (sid &lt; 0 || state-&gt;ssPriorityMap[testsid] &lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2397deb375d3da825a02c3962772b3de">ssPriorityMap</a>[sid]) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                sid = testsid;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: chose sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    } <span class="keywordflow">while</span> (testsid != (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (!peek &amp;&amp; sid &gt;= 0) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a> = sid;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">ssLastDataChunkSizeSet</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7554bab1415649f0631d48598a2d5971">SctpAssociation::streamSchedulerFairBandwidth</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: FairBandwidth (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a31af650b11ff51ff6fae64de66751455">streamSchedulerFairBandwidthPacket</a>(path, peek);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a31af650b11ff51ff6fae64de66751455">SctpAssociation::streamSchedulerFairBandwidthPacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    uint32_t bandwidth = 0, packetsize = 0, lastDataChunkSize;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    int32_t sid = -1;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    std::map&lt;uint16_t, int32_t&gt; peekMap;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    std::map&lt;uint16_t, int32_t&gt; *mapPointer = &amp;(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab73a0f8ed466159fa012a172bd3ffd7f">ssFairBandwidthMap</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: FairBandwidthPacket (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab73a0f8ed466159fa012a172bd3ffd7f">ssFairBandwidthMap</a>.empty()) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab73a0f8ed466159fa012a172bd3ffd7f">ssFairBandwidthMap</a>[elem.first] = -1;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;initialize sid &quot;</span> &lt;&lt; elem.first &lt;&lt; <span class="stringliteral">&quot; in fb map.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="aa9ca9fd24dce3e6859e2aecb58ff9ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ca9fd24dce3e6859e2aecb58ff9ded">&#9670;&nbsp;</a></span>streamSchedulerRandom()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerRandom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                   {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            rnd = (int)(ceil(<a class="code" href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a> uniform(1, SctpWaitingSendStreamsList.size()) - 0.5));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: go to &quot;</span> &lt;&lt; rnd &lt;&lt; <span class="stringliteral">&quot;. element of waiting stream list.\n&quot;</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            sid = SctpWaitingSendStreamsList[rnd - 1];</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">if</span> (!peek)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a> = sid;</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a9cf770d981474af93a352ff13b27e68a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf770d981474af93a352ff13b27e68a">&#9670;&nbsp;</a></span>streamSchedulerRandomPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerRandomPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;         {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            sid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: again sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;streamScheduler sid=&quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot; lastStream=&quot;</span> &lt;&lt; lastsid &lt;&lt; <span class="stringliteral">&quot; outboundStreams=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> &lt;&lt; <span class="stringliteral">&quot; next=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (sid &gt;= 0 &amp;&amp; !peek)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">SctpAssociation::streamSchedulerPriority</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    int32_t sid = 0, testsid;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    std::list&lt;uint32_t&gt; PriorityList;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    std::list&lt;uint32_t&gt; StreamList;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: Priority (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    sid = -1;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">ssLastDataChunkSizeSet</a> == <span class="keyword">false</span> &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0))</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        sid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: again sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        testsid = -1;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="af643cdea7ad22400600ec0628b47b709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af643cdea7ad22400600ec0628b47b709">&#9670;&nbsp;</a></span>streamSchedulerRoundRobinPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::streamSchedulerRoundRobinPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>peek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;         {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>)-&gt;second-&gt;getStreamQ()-&gt;getLength() &gt; 0)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            sid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: again sid &quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;streamScheduler sid=&quot;</span> &lt;&lt; sid &lt;&lt; <span class="stringliteral">&quot; lastStream=&quot;</span> &lt;&lt; lastsid &lt;&lt; <span class="stringliteral">&quot; outboundStreams=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">outboundStreams</a> &lt;&lt; <span class="stringliteral">&quot; next=&quot;</span> &lt;&lt; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (sid &gt;= 0 &amp;&amp; !peek)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> sid;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa9ca9fd24dce3e6859e2aecb58ff9ded">SctpAssociation::streamSchedulerRandom</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: Random (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9cf770d981474af93a352ff13b27e68a">streamSchedulerRandomPacket</a>(path, peek);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;int32_t <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a9cf770d981474af93a352ff13b27e68a">SctpAssociation::streamSchedulerRandomPacket</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path, <span class="keywordtype">bool</span> peek) <span class="comment">// peek indicates that no data is sent, but we just want to peek</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    int32_t sid = -1, rnd;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    uint32_t lastsid = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">lastStreamScheduled</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    std::vector&lt;uint32_t&gt; SctpWaitingSendStreamsList;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: RandomPacket (peek: &quot;</span> &lt;&lt; peek &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">ssNextStream</a>) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">if</span> (elem.second-&gt;getUnorderedStreamQ()-&gt;getLength() &gt; 0 ||</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                elem.second-&gt;getStreamQ()-&gt;getLength() &gt; 0)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                SctpWaitingSendStreamsList.push_back(elem.first);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Stream Scheduler: add sid &quot;</span> &lt;&lt; elem.first &lt;&lt; <span class="stringliteral">&quot; to list of waiting streams.\n&quot;</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="ad478b5cc5a0084beed3779a4a92299cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad478b5cc5a0084beed3779a4a92299cf">&#9670;&nbsp;</a></span>timeForSack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::timeForSack </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>sackOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>sackWithData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    sackOnly = sackWithData = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// CMT DAC implementation at the receiver side</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// If CMT DAC is used, a SACK is *not* immediately transferred upon reordering</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">getNumGaps</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">SctpGapList::GT_Any</a>) &gt; 0) || (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.size() &gt; 0)) &amp;&amp;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">sackAllowed</a>) &amp;&amp;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        (!((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a> == <span class="keyword">true</span>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f74bc3426c565c3515c12bb4110dadb">cmtUseDAC</a> == <span class="keyword">true</span>))))</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="comment">// Schedule sending of SACKs at once, when we have fragments to report</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        sackOnly = sackWithData = <span class="keyword">true</span>; <span class="comment">// SACK necessary, regardless of data available</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">ackState</a> &gt;= <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">sackFrequency</a>) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        sackOnly = sackWithData = <span class="keyword">true</span>; <span class="comment">// SACK necessary, regardless of data available</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">SackTimer</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        sackOnly = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        sackWithData = <span class="keyword">true</span>; <span class="comment">// Only send SACK when data is present.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a73464c221e77fbf1b1636ff959957a76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73464c221e77fbf1b1636ff959957a76">&#9670;&nbsp;</a></span>transformDataChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_chunk.html">SctpDataChunk</a> * inet::sctp::SctpAssociation::transformDataChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manipulating chunks. </p>
<div class="fragment"><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;{</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    SctpDataChunk *dataChunk = <span class="keyword">new</span> SctpDataChunk();</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    SctpSimpleMessage *msg = check_and_cast&lt;SctpSimpleMessage *&gt;(chunk-&gt;userData-&gt;dup());</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    dataChunk-&gt;setSctpChunkType(<a class="code" href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">DATA</a>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    dataChunk-&gt;setBBit(chunk-&gt;bbit);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    dataChunk-&gt;setEBit(chunk-&gt;ebit);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;ordered) {</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        dataChunk-&gt;setUBit(0);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    }</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        dataChunk-&gt;setUBit(1);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    }</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    dataChunk-&gt;setTsn(chunk-&gt;tsn);</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    dataChunk-&gt;setSid(chunk-&gt;sid);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    dataChunk-&gt;setSsn(chunk-&gt;ssn);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    dataChunk-&gt;setPpid(chunk-&gt;ppid);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    dataChunk-&gt;setIBit(chunk-&gt;ibit);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    dataChunk-&gt;setEnqueuingTime(chunk-&gt;enqueuingTime);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    dataChunk-&gt;setFirstSendTime(chunk-&gt;firstSendTime);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    dataChunk-&gt;setByteLength(<a class="code" href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a>);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    msg-&gt;setByteLength(chunk-&gt;len / 8);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    dataChunk-&gt;encapsulate(msg);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    dataChunk-&gt;setLength(dataChunk-&gt;getByteLength());</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordflow">return</span> dataChunk;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a37dfb1beb0dc88a014f33894e4f6cd0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37dfb1beb0dc88a014f33894e4f6cd0f">&#9670;&nbsp;</a></span>tsnBetween()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::tsnBetween </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>midtsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#a88bd7e4840bd44578dcecac4d4268b12">SCTP_TSN_GE</a>(midtsn, tsn1) &amp;&amp; <a class="code" href="_sctp_association_8h.html#a88bd7e4840bd44578dcecac4d4268b12">SCTP_TSN_GE</a>(tsn2, midtsn); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a49bf92d384fa839b1f3db420a6ce9fa3">inet::sctp::SctpSimpleGapList::removeFromGapList()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a2c45702f7efdbe544582067283a1af75">inet::sctp::SctpSimpleGapList::tsnInGapList()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a0c5c9f2966516c3d04936f10b75248d9">inet::sctp::SctpSimpleGapList::updateGapList()</a>.</p>

</div>
</div>
<a id="ae0afcaab320fc691c1a249f6cdc590e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0afcaab320fc691c1a249f6cdc590e9">&#9670;&nbsp;</a></span>tsnGe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::tsnGe </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#a88bd7e4840bd44578dcecac4d4268b12">SCTP_TSN_GE</a>(tsn1, tsn2); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#ace23c3113c87ce2115b901930a297d90">inet::sctp::SctpSimpleGapList::forwardCumAckTsn()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>.</p>

</div>
</div>
<a id="aecb13b797d8b15ce4e63caf872df54fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb13b797d8b15ce4e63caf872df54fe">&#9670;&nbsp;</a></span>tsnGt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::tsnGt </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#a24fbb320a654205e2ac75840a8936af4">SCTP_TSN_GT</a>(tsn1, tsn2); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a240aba5a250b369a462bfc20055174ef">inet::sctp::SctpSimpleGapList::check()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aef8812e52c22fbee17a26caae618a6a4">checkPseudoCumAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2209b3cd6c994a4561609adacc459314">updateFastRecoveryStatus()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a0c5c9f2966516c3d04936f10b75248d9">inet::sctp::SctpSimpleGapList::updateGapList()</a>.</p>

</div>
</div>
<a id="a629095d26023c82ba649f49119ed6520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629095d26023c82ba649f49119ed6520">&#9670;&nbsp;</a></span>tsnIsDuplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::tsnIsDuplicate </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Methods dealing with the handling of TSNs <br  />
 </p>
<div class="fragment"><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;{</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">for</span> (std::list&lt;uint32_t&gt;::const_iterator iterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.begin();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;         iterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">dupList</a>.end(); iterator++)</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    {</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keywordflow">if</span> ((*iterator) == tsn)</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">gapList</a>.<a class="code" href="classinet_1_1sctp_1_1_sctp_gap_list.html#af25727334af162eb6311ccde898edf54">tsnInGapList</a>(tsn);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>.</p>

</div>
</div>
<a id="a2e858590a9f56076717e3022d26a519d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e858590a9f56076717e3022d26a519d">&#9670;&nbsp;</a></span>tsnLe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::tsnLe </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#a88bd7e4840bd44578dcecac4d4268b12">SCTP_TSN_GE</a>(tsn2, tsn1); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a240aba5a250b369a462bfc20055174ef">inet::sctp::SctpSimpleGapList::check()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_simple_gap_list.html#a0c5c9f2966516c3d04936f10b75248d9">inet::sctp::SctpSimpleGapList::updateGapList()</a>.</p>

</div>
</div>
<a id="a6f14c356e8ffcd4040418218063f1856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f14c356e8ffcd4040418218063f1856">&#9670;&nbsp;</a></span>tsnLt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool inet::sctp::SctpAssociation::tsnLt </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>tsn2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="_sctp_association_8h.html#a24fbb320a654205e2ac75840a8936af4">SCTP_TSN_GT</a>(tsn2, tsn1); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="ac48641d700b304aaa014d3f8df79c60d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48641d700b304aaa014d3f8df79c60d">&#9670;&nbsp;</a></span>tsnWasReneged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::tsnWasReneged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>sackPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;{</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5219bd06f24b927174cbed3148aa6058">cmtSmartReneging</a>) &amp;&amp;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        (sackPath != chunk-&gt;ackedOnPath))</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    EV_INFO &lt;&lt; <span class="stringliteral">&quot;TSN &quot;</span> &lt;&lt; chunk-&gt;tsn &lt;&lt; <span class="stringliteral">&quot; has been reneged (type &quot;</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            &lt;&lt; <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a48232ae51c90adad9da8d3fb28a65b56">unackChunk</a>(chunk);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;countsAsOutstanding) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes</a>(chunk);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    chunk-&gt;hasBeenReneged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    chunk-&gt;gapReports = 1;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;getLastDestinationPath()-&gt;T3_RtxTimer-&gt;isScheduled()) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">startTimer</a>(chunk-&gt;getLastDestinationPath()-&gt;T3_RtxTimer,</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                chunk-&gt;getLastDestinationPath()-&gt;pathRto);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="ae7cb4e1207e6f6fc4765a77ca177ce65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7cb4e1207e6f6fc4765a77ca177ce65">&#9670;&nbsp;</a></span>typeInChunkList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::typeInChunkList </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;{</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a975d83452a110dab5c981723226e200d">peerChunkList</a>) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> ((elem) == <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>.</p>

</div>
</div>
<a id="af93dfe0405bd90fefb8e385fcb6471b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af93dfe0405bd90fefb8e385fcb6471b5">&#9670;&nbsp;</a></span>typeInOwnChunkList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::typeInOwnChunkList </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">chunkList</a>) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> ((elem) == <a class="code" href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a>) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>.</p>

</div>
</div>
<a id="a48232ae51c90adad9da8d3fb28a65b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48232ae51c90adad9da8d3fb28a65b56">&#9670;&nbsp;</a></span>unackChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::unackChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_data_variables.html">SctpDataVariables</a> *&#160;</td>
          <td class="paramname"><em>chunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        chunk-&gt;hasBeenAcked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged()</a>.</p>

</div>
</div>
<a id="aadd435f60ca7f9bc380f6667afd6dcb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd435f60ca7f9bc380f6667afd6dcb3">&#9670;&nbsp;</a></span>unorderedQueueEmptyOfStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::unorderedQueueEmptyOfStream </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">auto</span> streamIterator = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.find(sid);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    assert(streamIterator != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">sendStreams</a>.end());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> streamIterator-&gt;second-&gt;getUnorderedStreamQ()-&gt;isEmpty();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>.</p>

</div>
</div>
<a id="a21b03eb88dc2d16feb420085909f66b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b03eb88dc2d16feb420085909f66b1">&#9670;&nbsp;</a></span>updateCounters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::updateCounters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;{</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <span class="keywordtype">bool</span> notifyUlp = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <span class="keywordflow">if</span> (++<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">errorCount</a> &gt; (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a50c5bede27c9440db7f7b538d357d811">getAssocMaxRtx</a>()) {</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;Retransmission count during connection setup exceeds &quot;</span> &lt;&lt; (int32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#a50c5bede27c9440db7f7b538d357d811">getAssocMaxRtx</a>() &lt;&lt; <span class="stringliteral">&quot;, giving up\n&quot;</span>;</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56">SCTP_I_CLOSED</a>);</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    }</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (++path-&gt;pathErrorCount &gt; (uint32_t)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#ad198759e2dfed3076e801e778c31a154">getPathMaxRetrans</a>()) {</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;        <span class="keywordflow">if</span> (path-&gt;activePath) {</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;            <span class="comment">/* tell the source */</span></div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;            notifyUlp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        }</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160; </div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;        path-&gt;activePath = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;        <span class="keywordflow">if</span> (path == <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">getPrimaryPath</a>()) {</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">setPrimaryPath</a>(<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath</a>(path));</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        }</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RESET(&quot;</span> &lt;&lt; (path-&gt;remoteAddress) &lt;&lt; <span class="stringliteral">&quot;) : PATH ERROR COUNTER EXCEEDED, path status is INACTIVE\n&quot;</span>;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a7d73628d82970ec75e1f01ed4932185e">allPathsInactive</a>()) {</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RESET : ALL PATHS INACTIVE --&gt; closing ASSOC\n&quot;</span>;</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp</a>(<a class="code" href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">SCTP_I_CONN_LOST</a>);</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort</a>();</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">sctpMain</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">removeAssociation</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;        }</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (notifyUlp) {</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;            <span class="comment">/* notify the application */</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication</a>(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;        }</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        EV_DETAIL &lt;&lt; <span class="stringliteral">&quot;process_TIMEOUT_RESET(&quot;</span> &lt;&lt; (path-&gt;remoteAddress) &lt;&lt; <span class="stringliteral">&quot;) : PATH ERROR COUNTER now &quot;</span> &lt;&lt; path-&gt;pathErrorCount &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    }</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">process_TIMEOUT_ASCONF()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET()</a>.</p>

</div>
</div>
<a id="a2209b3cd6c994a4561609adacc459314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2209b3cd6c994a4561609adacc459314">&#9670;&nbsp;</a></span>updateFastRecoveryStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::updateFastRecoveryStatus </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lastTsnAck</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;{</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *path = elem.second;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">if</span> (path-&gt;fastRecoveryActive) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(lastTsnAck, path-&gt;fastRecoveryExitPoint)) ||</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                (lastTsnAck == path-&gt;fastRecoveryExitPoint) || ((<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">allowCMT</a>) &amp;&amp; (<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">state</a>-&gt;<a class="code" href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3db1c2b9015c808a8d543ce14f74f47">cmtUseFRC</a>) &amp;&amp;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                                                                ((path-&gt;newPseudoCumAck &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(path-&gt;pseudoCumAck, path-&gt;fastRecoveryExitPoint)) ||</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                                                 (path-&gt;newRTXPseudoCumAck &amp;&amp; <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">tsnGt</a>(path-&gt;rtxPseudoCumAck, path-&gt;fastRecoveryExitPoint)))))</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                path-&gt;fastRecoveryActive = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                path-&gt;fastRecoveryExitPoint = 0;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                EV_INFO &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot;:\tCC [cwndUpdateAfterSack] Leaving Fast Recovery on path &quot;</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                        &lt;&lt; path-&gt;remoteAddress</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;, lastTsnAck=&quot;</span> &lt;&lt; lastTsnAck</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;, pseudoCumAck=&quot;</span> &lt;&lt; path-&gt;pseudoCumAck</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;, rtxPseudoCumAck=&quot;</span> &lt;&lt; path-&gt;rtxPseudoCumAck</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;, newPseudoCumAck=&quot;</span> &lt;&lt; path-&gt;newPseudoCumAck</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;, newRTXPseudoCumAck=&quot;</span> &lt;&lt; path-&gt;newRTXPseudoCumAck</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                        &lt;&lt; endl;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>.</p>

</div>
</div>
<a id="a0b8ea419a00850aa746035070522a1e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b8ea419a00850aa746035070522a1e5">&#9670;&nbsp;</a></span>updateHighSpeedCCThresholdIdx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::sctp::SctpAssociation::updateHighSpeedCCThresholdIdx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    ASSERT(path-&gt;highSpeedCCThresholdIdx &lt; <a class="code" href="_sctp_cc_functions_8cc.html#ae0a4822db093d04908d19a67f94c5f6d">HIGHSPEED_ENTRIES</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (path-&gt;cwnd &gt; HighSpeedCwndAdjustmentTable[path-&gt;highSpeedCCThresholdIdx].cwndThreshold * path-&gt;pmtu) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">while</span> ((path-&gt;highSpeedCCThresholdIdx &lt; <a class="code" href="_sctp_cc_functions_8cc.html#ae0a4822db093d04908d19a67f94c5f6d">HIGHSPEED_ENTRIES</a>)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;               &amp;&amp; (path-&gt;cwnd &gt; HighSpeedCwndAdjustmentTable[path-&gt;highSpeedCCThresholdIdx].cwndThreshold * path-&gt;pmtu))</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            path-&gt;highSpeedCCThresholdIdx++;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">while</span> ((path-&gt;highSpeedCCThresholdIdx &gt; 0) <span class="comment">// FIXME check the condition: &#39;&gt;&#39; or &#39;&gt;=&#39;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;               &amp;&amp; (path-&gt;cwnd &lt;= HighSpeedCwndAdjustmentTable[path-&gt;highSpeedCCThresholdIdx].cwndThreshold * path-&gt;pmtu))</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            path-&gt;highSpeedCCThresholdIdx--;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">cwndUpdateBytesAcked()</a>.</p>

</div>
</div>
<a id="a5cad975e963c7832864dee6cc9758e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cad975e963c7832864dee6cc9758e7a">&#9670;&nbsp;</a></span>updateOLIA()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::updateOLIA </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>totalW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mtu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ackedBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>w: cwnd of the path s: ssthresh of the path totalW: Sum of all cwnds of the association a: factor alpha of olia calculation - see <a href="https://tools.ietf.org/html/draft-khalili-mptcp-congestion-control-05">https://tools.ietf.org/html/draft-khalili-mptcp-congestion-control-05</a> mtu: mtu of the path ackedBytes: ackednowlged bytes path: path variable (for further investigation, debug, etc) </p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                                            {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    int32_t increase = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">bool</span> isInCollectedPath = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">bool</span> isMaxWndPaths = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> ((!(w &lt; <a class="code" href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">s</a>)) &amp;&amp; (!path-&gt;fastRecoveryActive)) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">// in CA</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">recalculateOLIABasis</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">for</span> (SctpPathCollection::iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a>.begin();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;             it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a>.end(); it++, cnt++)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">if</span> (it-&gt;second == path) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                isInCollectedPath = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        cnt = 0;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">for</span> (SctpPathCollection::iterator it = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.begin();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;             it != <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.end(); it++, cnt++)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">if</span> (it-&gt;second == path) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                isMaxWndPaths = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordtype">double</span> r_sRTT = GET_SRTT(path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordtype">double</span> numerator1 = path-&gt;cwnd / (r_sRTT * r_sRTT);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordtype">double</span> denominator1 = 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; elem : <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">SctpPathVariables</a> *p_path = elem.second;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordtype">double</span> p_sRTT = GET_SRTT(p_path-&gt;srtt.dbl());</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            denominator1 += (p_path-&gt;cwnd / p_sRTT);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        denominator1 = denominator1 * denominator1;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordtype">double</span> term1 = numerator1 / denominator1;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (isInCollectedPath) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">             For each ACK on the path r:</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">             - If r is in collected_paths, increase w_r by</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">             w_r/rtt_r^2                          1</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">             -------------------    +     -----------------------       (2)</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">             (SUM (w_p/rtt_p))^2    w_r * number_of_paths * |collected_paths|</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">             multiplied by MSS_r * bytes_acked.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordtype">double</span> numerator2 = 1 / <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordtype">double</span> denominator2 = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a>.size();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordtype">double</span> term2 = 0.0;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">if</span> (denominator2 &gt; 0.0) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                term2 = numerator2 / denominator2;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            increase = (uint32_t)ceil(</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    (term1 * path-&gt;cwnd * path-&gt;pmtu) + (term2 * path-&gt;pmtu));</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((isMaxWndPaths) &amp;&amp; (!<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">assocCollectedPaths</a>.empty())) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">             - If r is in max_w_paths and if collected_paths is not empty,</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">             increase w_r by</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">             w_r/rtt_r^2                         1</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">             --------------------    -     ------------------------     (3)</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">             (SUM (w_p/rtt_p))^2     w_r * number_of_paths * |max_w_paths|</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">             multiplied by MSS_r * bytes_acked.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordtype">double</span> numerator2 = 1.0 / (double)<a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">sctpPathMap</a>.size();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordtype">double</span> denominator2 = <a class="code" href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">assocMaxWndPaths</a>.size();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordtype">double</span> term2 = 0.0;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">if</span> (denominator2 &gt; 0.0) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                term2 = numerator2 / denominator2;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            increase = (int32_t)ceil(</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    (term1 * path-&gt;cwnd * path-&gt;pmtu) - (term2 * path-&gt;pmtu)); <span class="comment">// TODO</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">             - Otherwise, increase w_r by</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">             (w_r/rtt_r^2)</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">             ----------------------------------           (4)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">             (SUM (w_p/rtt_p))^2</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">             multiplied by MSS_r * bytes_acked.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            increase = (int32_t)ceil(term1 * path-&gt;cwnd * path-&gt;pmtu); <span class="comment">// TODO std::min(acked,</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        increase = (int32_t)<a class="code" href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">min</a>(path-&gt;pmtu, ackedBytes); <span class="comment">// slow start</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> w + increase;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">cwndUpdateBytesAcked()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aea6d649e327e07bcadb0ae4cc3138479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6d649e327e07bcadb0ae4cc3138479">&#9670;&nbsp;</a></span>Sctp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f2373779306343efcef24027fc2ad43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2373779306343efcef24027fc2ad43">&#9670;&nbsp;</a></span>SctpPathVariables</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html">SctpPathVariables</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afed920dae03831eb537fac4218a4a87f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed920dae03831eb537fac4218a4a87f">&#9670;&nbsp;</a></span>advMsgRwnd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::advMsgRwnd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a9a01fb2d81e0d9b3fe15ddb1f7164ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a01fb2d81e0d9b3fe15ddb1f7164ba2">&#9670;&nbsp;</a></span>advRwnd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::advRwnd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a728afe0425b677465c996826a29b86ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a728afe0425b677465c996826a29b86ab">&#9670;&nbsp;</a></span>appGateIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::appGateIndex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a4c168e63cf66b601306b7537de63f226">inet::sctp::Sctp::addForkedAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="ab66fa8ead131f80178540999123493bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66fa8ead131f80178540999123493bb">&#9670;&nbsp;</a></span>assocBestPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a> inet::sctp::SctpAssociation::assocBestPaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">recalculateOLIABasis()</a>.</p>

</div>
</div>
<a id="a5c2d80b4e5e9d423675aa4401197fd72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c2d80b4e5e9d423675aa4401197fd72">&#9670;&nbsp;</a></span>assocCollectedPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a> inet::sctp::SctpAssociation::assocCollectedPaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">recalculateOLIABasis()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA()</a>.</p>

</div>
</div>
<a id="a1b8eadf4c45ca2af27c7658e3f7943a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8eadf4c45ca2af27c7658e3f7943a9">&#9670;&nbsp;</a></span>assocId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::assocId</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a4c168e63cf66b601306b7537de63f226">inet::sctp::Sctp::addForkedAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab0527d219fcbe96f8d128726bdf95502">cwndUpdateAfterCwndTimeout()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a47737a6ee0a6aaf9eb2239d25aa95de7">cwndUpdateAfterRtxTimeout()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">cwndUpdateBytesAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f10b326e3abde82edf74c4ac320fbf0">cwndUpdateMaxBurst()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#ae44bfbe5f20fcadd512c8abc5548d22e">inet::sctp::Sctp::findAssocForFd()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#ad772f7cf94124dbb2b77333b74294184">inet::sctp::Sctp::handleMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a72a1b9225ed8203a655fe8cfbb389a97">inet::sctp::Sctp::printInfoAssocMap()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_path_variables.html#a0c2a3ff5acfd3ffba440fe95a55566e9">inet::sctp::SctpPathVariables::SctpPathVariables()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">sendDataArrivedNotification()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1688808c6fdf9f3798430d794d0a3d29">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">inet::sctp::Sctp::updateSockPair()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="adacf7b13d2678bea8b938da65103eab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adacf7b13d2678bea8b938da65103eab4">&#9670;&nbsp;</a></span>assocMaxWndPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acd40605e8c782f6dfa46671d7d5ed1c3">SctpPathCollection</a> inet::sctp::SctpAssociation::assocMaxWndPaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">recalculateOLIABasis()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA()</a>.</p>

</div>
</div>
<a id="a9dbf72461f89acee0f49e5f38ca39b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbf72461f89acee0f49e5f38ca39b79">&#9670;&nbsp;</a></span>assocThroughputVector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::assocThroughputVector</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="ae396b2ec388b4c116f327df91e981fa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae396b2ec388b4c116f327df91e981fa2">&#9670;&nbsp;</a></span>bytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html">BytesToBeSent</a> inet::sctp::SctpAssociation::bytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">bytesAllowedToSend()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a9e3191e6fae3f979f4c79cd0f461d1cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3191e6fae3f979f4c79cd0f461d1cd">&#9670;&nbsp;</a></span>ccFunctions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html">CCFunctions</a> inet::sctp::SctpAssociation::ccFunctions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">bytesAllowedToSend()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a1cf3ed7915df5a1259f45dc935819f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf3ed7915df5a1259f45dc935819f19">&#9670;&nbsp;</a></span>ccModule</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t inet::sctp::SctpAssociation::ccModule</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="af28d79f5f20c4c8f2476455045740004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28d79f5f20c4c8f2476455045740004">&#9670;&nbsp;</a></span>cumTsnAck</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::cumTsnAck</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="ae60672b64c91c97a3db140c2adb3ee1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60672b64c91c97a3db140c2adb3ee1a">&#9670;&nbsp;</a></span>dacPacketsRcvd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t inet::sctp::SctpAssociation::dacPacketsRcvd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>.</p>

</div>
</div>
<a id="a8458bae94d9b82f388bf659b8f57b7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8458bae94d9b82f388bf659b8f57b7ac">&#9670;&nbsp;</a></span>EndToEndDelay</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::EndToEndDelay</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a8b98ae3af3a37516c980def51d7185fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b98ae3af3a37516c980def51d7185fb">&#9670;&nbsp;</a></span>FairStartTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::FairStartTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="ad27831e3305624d4d4ab806a4260d82a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad27831e3305624d4d4ab806a4260d82a">&#9670;&nbsp;</a></span>FairStopTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::FairStopTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a2ee9122668da0778c804ee1943728071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ee9122668da0778c804ee1943728071">&#9670;&nbsp;</a></span>fairTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::fairTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a3e048d4cdc6a8ac17d0b8f86f890722c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e048d4cdc6a8ac17d0b8f86f890722c">&#9670;&nbsp;</a></span>fd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::fd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#ae44bfbe5f20fcadd512c8abc5548d22e">inet::sctp::Sctp::findAssocForFd()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a72a1b9225ed8203a655fe8cfbb389a97">inet::sctp::Sctp::printInfoAssocMap()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a16c4e8cb1c0a81d76e880add678aed1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c4e8cb1c0a81d76e880add678aed1f">&#9670;&nbsp;</a></span>fsm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cFSM* inet::sctp::SctpAssociation::fsm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f291bb37a3e03c4e483b9202abd21b5">process_STATUS()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a6dca1bc3fd5a1010c101cfa468f58641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dca1bc3fd5a1010c101cfa468f58641">&#9670;&nbsp;</a></span>ift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_i_interface_table.html">IInterfaceTable</a>* inet::sctp::SctpAssociation::ift</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>.</p>

</div>
</div>
<a id="a06fb41ade00324770a55c712c676a972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06fb41ade00324770a55c712c676a972">&#9670;&nbsp;</a></span>inboundStreams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::inboundStreams</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aba32927e5da0e4e20281389a2b07ddce">process_RECEIVE_REQUEST()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>.</p>

</div>
</div>
<a id="a954e3b53fb5a8a1b228d1c489416ce97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a954e3b53fb5a8a1b228d1c489416ce97">&#9670;&nbsp;</a></span>initInboundStreams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::initInboundStreams</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>.</p>

</div>
</div>
<a id="ad7a727e9a42d2e6ac5d9bf512f868c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a727e9a42d2e6ac5d9bf512f868c99">&#9670;&nbsp;</a></span>initPeerTsn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::initPeerTsn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>.</p>

</div>
</div>
<a id="ae0aebf38ffdb9fab61ea7e434e3017ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0aebf38ffdb9fab61ea7e434e3017ff">&#9670;&nbsp;</a></span>initTsn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::initTsn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>.</p>

</div>
</div>
<a id="adb61c1febb0d9f4b1d539c716e31c893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb61c1febb0d9f4b1d539c716e31c893">&#9670;&nbsp;</a></span>listening</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::sctp::SctpAssociation::listening</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a4c6d0ff4e56e33461e6b42d7e83d09b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c6d0ff4e56e33461e6b42d7e83d09b3">&#9670;&nbsp;</a></span>listeningAssocId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::listeningAssocId</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a4c168e63cf66b601306b7537de63f226">inet::sctp::Sctp::addForkedAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>.</p>

</div>
</div>
<a id="a7c7837d52fa05d93bc699e3ae648757e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7837d52fa05d93bc699e3ae648757e">&#9670;&nbsp;</a></span>localAddr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_l3_address.html">L3Address</a> inet::sctp::SctpAssociation::localAddr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">inet::sctp::Sctp::addLocalAddress()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a2c663e078f689c02c0d2e88f87bf3c70">inet::sctp::Sctp::addLocalAddressToAllRemoteAddresses()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">inet::sctp::Sctp::updateSockPair()</a>.</p>

</div>
</div>
<a id="a536d27b13572880de90e411ef460e449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a536d27b13572880de90e411ef460e449">&#9670;&nbsp;</a></span>localAddressList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">AddressVector</a> inet::sctp::SctpAssociation::localAddressList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>.</p>

</div>
</div>
<a id="a689ab2b6b3d2001faec4dc5221595eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a689ab2b6b3d2001faec4dc5221595eb6">&#9670;&nbsp;</a></span>localPort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t inet::sctp::SctpAssociation::localPort</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">inet::sctp::Sctp::addLocalAddress()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a2c663e078f689c02c0d2e88f87bf3c70">inet::sctp::Sctp::addLocalAddressToAllRemoteAddresses()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a53df841ce837c67ca71e9a9e3a3533a6">inet::sctp::Sctp::addRemoteAddress()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0fa059a2fa4f153171f1d65573152740">inet::sctp::Sctp::removeLocalAddressFromAllRemoteAddresses()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a9da70ecf5e5a2632b264df02da2379f9">inet::sctp::Sctp::removeRemoteAddressFromAllAssociations()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abe98501af00cb108c954aef24941903a">sendShutdownComplete()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">inet::sctp::Sctp::updateSockPair()</a>.</p>

</div>
</div>
<a id="a5c625d9a557a687272a02a475c16fab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c625d9a557a687272a02a475c16fab0">&#9670;&nbsp;</a></span>localVTag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::localVTag</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a3ffc7538d312f71e5d62e669225b372e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ffc7538d312f71e5d62e669225b372e">&#9670;&nbsp;</a></span>numberOfRemoteAddresses</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::numberOfRemoteAddresses</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a665b8a119cc0922aae8f31bb1c6ad751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a665b8a119cc0922aae8f31bb1c6ad751">&#9670;&nbsp;</a></span>numGapBlocks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::numGapBlocks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="af146523cc6a220c634b8e29924e446dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af146523cc6a220c634b8e29924e446dd">&#9670;&nbsp;</a></span>outboundStreams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::outboundStreams</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">streamSchedulerPriority()</a>.</p>

</div>
</div>
<a id="a0be4b2527c97f264fd140c420dfa360d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be4b2527c97f264fd140c420dfa360d">&#9670;&nbsp;</a></span>peerVTag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::peerVTag</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="aced58e600ecf362bd1e1524438f2cd8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aced58e600ecf362bd1e1524438f2cd8d">&#9670;&nbsp;</a></span>qCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html">QueueCounter</a> inet::sctp::SctpAssociation::qCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">bytesAllowedToSend()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ace89dca4ebfabfa3160ce2c2c9e18e88">choosePathForRetransmission()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4f3a0079e12c18b14f6fec63a582a4e1">getAllTransQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">getOutboundDataChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">loadPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">putInDeliveryQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ef650f8ed8fd7da37a0a29a01e0ec9d">putInTransmissionQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket()</a>.</p>

</div>
</div>
<a id="a7ebf58de4176fcced85f9a6e427f6dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ebf58de4176fcced85f9a6e427f6dd9">&#9670;&nbsp;</a></span>receiveStreams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2909549b3ba34ceae9fa62eb86c729ef">SctpReceiveStreamMap</a> inet::sctp::SctpAssociation::receiveStreams</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9719fafd71a156b596c3d89f3e7cba55">getExpectedSsnOfStream()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">initStreams()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa6f8629cafcdd8fa197e251b77195bc3">listOrderedQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">processForwardTsnArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">putInDeliveryQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a383403d684dfe30011ec4e6b8df4db1d">receiveStreamPresent()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">resetExpectedSsn()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">resetExpectedSsns()</a>.</p>

</div>
</div>
<a id="a909a366683c2fd2295b4b50a71f1e63b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a909a366683c2fd2295b4b50a71f1e63b">&#9670;&nbsp;</a></span>remoteAddr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_l3_address.html">L3Address</a> inet::sctp::SctpAssociation::remoteAddr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">inet::sctp::Sctp::addLocalAddress()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f291bb37a3e03c4e483b9202abd21b5">process_STATUS()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">inet::sctp::Sctp::updateSockPair()</a>.</p>

</div>
</div>
<a id="a6ee907fe53fd5728decf7d58279026cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee907fe53fd5728decf7d58279026cc">&#9670;&nbsp;</a></span>remoteAddressList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">AddressVector</a> inet::sctp::SctpAssociation::remoteAddressList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c42b73f2cb213158ed95d798a49532d">removePath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>.</p>

</div>
</div>
<a id="a787384414534b12fdf3053011c3a267c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a787384414534b12fdf3053011c3a267c">&#9670;&nbsp;</a></span>remotePort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t inet::sctp::SctpAssociation::remotePort</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">inet::sctp::Sctp::addLocalAddress()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a2c663e078f689c02c0d2e88f87bf3c70">inet::sctp::Sctp::addLocalAddressToAllRemoteAddresses()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a53df841ce837c67ca71e9a9e3a3533a6">inet::sctp::Sctp::addRemoteAddress()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">printAssocBrief()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0fa059a2fa4f153171f1d65573152740">inet::sctp::Sctp::removeLocalAddressFromAllRemoteAddresses()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a9da70ecf5e5a2632b264df02da2379f9">inet::sctp::Sctp::removeRemoteAddressFromAllAssociations()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abe98501af00cb108c954aef24941903a">sendShutdownComplete()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">inet::sctp::Sctp::updateSockPair()</a>.</p>

</div>
</div>
<a id="a14ea0282200225bc44289185f5bdc91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ea0282200225bc44289185f5bdc91a">&#9670;&nbsp;</a></span>retransmissionQ</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a>* inet::sctp::SctpAssociation::retransmissionQ</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afc83b96266e49ce77859ae958ec08898">advancePeerTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aef8812e52c22fbee17a26caae618a6a4">checkPseudoCumAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">loadPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket()</a>.</p>

</div>
</div>
<a id="a86f722902b25fef157dd25bb990a44a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f722902b25fef157dd25bb990a44a4">&#9670;&nbsp;</a></span>rt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_i_routing_table.html">IRoutingTable</a>* inet::sctp::SctpAssociation::rt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>.</p>

</div>
</div>
<a id="a4ae612848e92da44ea7835e51ecc2b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae612848e92da44ea7835e51ecc2b29">&#9670;&nbsp;</a></span>sackFrequency</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t inet::sctp::SctpAssociation::sackFrequency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad478b5cc5a0084beed3779a4a92299cf">timeForSack()</a>.</p>

</div>
</div>
<a id="ac927e9ea951fffed8a06e6009e4803f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac927e9ea951fffed8a06e6009e4803f5">&#9670;&nbsp;</a></span>sackPeriod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double inet::sctp::SctpAssociation::sackPeriod</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="adb6a78de62e14b228666bfbb0e7fa0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb6a78de62e14b228666bfbb0e7fa0cf">&#9670;&nbsp;</a></span>SackTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::SackTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad478b5cc5a0084beed3779a4a92299cf">timeForSack()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a9aaeb7eb0852411ee287c201c2629505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aaeb7eb0852411ee287c201c2629505">&#9670;&nbsp;</a></span>sctpAlgorithm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_algorithm.html">SctpAlgorithm</a>* inet::sctp::SctpAssociation::sctpAlgorithm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a287a867b552eac34ce71a0994802f46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287a867b552eac34ce71a0994802f46f">&#9670;&nbsp;</a></span>sctpMain</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp.html">Sctp</a>* inet::sctp::SctpAssociation::sctpMain</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">dequeueAckedChunks()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">pmDataIsSentOn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">pmRttMeasurement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">process_TIMEOUT_ASCONF()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">sendAvailableIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">sendIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1688808c6fdf9f3798430d794d0a3d29">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">sendToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">sendToIP()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>.</p>

</div>
</div>
<a id="aa4ba01f7e9a57a99f018a59e7bf93185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ba01f7e9a57a99f018a59e7bf93185">&#9670;&nbsp;</a></span>sctpPathMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afa1dcf1e623f61153a4110ed7b9847f7">SctpPathMap</a> inet::sctp::SctpAssociation::sctpPathMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">addPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7d73628d82970ec75e1f01ed4932185e">allPathsInactive()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ace89dca4ebfabfa3160ce2c2c9e18e88">choosePathForRetransmission()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aef2d425c447204175284c4837e803f73">cwndUpdateBeforeSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad70260a9f264a733f0c9ec4539f2e2bd">getInitialCwnd()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">getOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab965a1aacd6125cbc03c56aea8394eed">getSortedPathMap()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">printSctpPathMap()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">recalculateOLIABasis()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c42b73f2cb213158ed95d798a49532d">removePath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c60d1b8136a43b085fa1dca0262cf1e">stopTimers()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2209b3cd6c994a4561609adacc459314">updateFastRecoveryStatus()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">updateOLIA()</a>.</p>

</div>
</div>
<a id="a8ebdd5167146d1603aad185a58a3c714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ebdd5167146d1603aad185a58a3c714">&#9670;&nbsp;</a></span>sendQueue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::sendQueue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a4f6a0d284775239f1399c88ae5745cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f6a0d284775239f1399c88ae5745cf0">&#9670;&nbsp;</a></span>sendStreams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3abff9002b5531fed280aeb98b77f387">SctpSendStreamMap</a> inet::sctp::SctpAssociation::sendStreams</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">getBytesInFlightOfStream()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae1d844370f18f3038dd5de4f235a4c55">getFragInProgressOfStream()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afc130170fc4618e11bdeb6c896bc0825">getSsnOfStream()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81b69b202506efefcc6649dcebfc677">makeDataVarFromDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0b7009628fae83ef262494a6e732db9">orderedQueueEmptyOfStream()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">resetSsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">resetSsns()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac322b5814c746b8f0a719570d87046ae">sendStreamPresent()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a60ceac8641cc0555e6e1f55d16e5ee6f">setFragInProgressOfStream()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">streamSchedulerPriority()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aadd435f60ca7f9bc380f6667afd6dcb3">unorderedQueueEmptyOfStream()</a>.</p>

</div>
</div>
<a id="a62dd10077d0e91db3d5bb8fff1eedffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62dd10077d0e91db3d5bb8fff1eedffa">&#9670;&nbsp;</a></span>ssFunctions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html">SSFunctions</a> inet::sctp::SctpAssociation::ssFunctions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>.</p>

</div>
</div>
<a id="a8aedbb1eceb04bbb44e5ccc2500670f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aedbb1eceb04bbb44e5ccc2500670f3">&#9670;&nbsp;</a></span>ssModule</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t inet::sctp::SctpAssociation::ssModule</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a9234fd278812cffd86d7cde1132f83c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9234fd278812cffd86d7cde1132f83c6">&#9670;&nbsp;</a></span>StartAddIP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::StartAddIP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="ab90bd52e82f6c7d01002b5310bf4a12b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90bd52e82f6c7d01002b5310bf4a12b">&#9670;&nbsp;</a></span>StartTesting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::StartTesting</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>.</p>

</div>
</div>
<a id="a2773237df3ef1f849f77d092f2c9af8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2773237df3ef1f849f77d092f2c9af8a">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_state_variables.html">SctpStateVariables</a>* inet::sctp::SctpAssociation::state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">addOutStreams()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afc83b96266e49ce77859ae958ec08898">advancePeerTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">bytesAllowedToSend()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab93d1f8f6b3845609968b0295cdebe44">calculateAssocSharedKey()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">calculateRcvBuffer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">checkStreamsToReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">chunkReschedulingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93bf48f842d1b6f71b71b7552aa49e4e">compareRandom()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4f51ecb152ced3414123f380ff78f8f2">cucProcessGapReports()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a47737a6ee0a6aaf9eb2239d25aa95de7">cwndUpdateAfterRtxTimeout()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">cwndUpdateAfterSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">cwndUpdateBytesAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9f10b326e3abde82edf74c4ac320fbf0">cwndUpdateMaxBurst()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">dequeueOutboundDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">fragmentOutboundDataMsgs()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">generateSendQueueAbatedIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad70260a9f264a733f0c9ec4539f2e2bd">getInitialCwnd()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1961f1c3cfb685372397f16fd512ba0b">getNextDestination()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">getNextPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab965a1aacd6125cbc03c56aea8394eed">getSortedPathMap()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">handleChunkReportedAsAcked()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">initCcParameters()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">initStreams()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">loadPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a63e3925a09bb31ca572aeafacf853e85">makeAddStreamsRequestParameter()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab81b69b202506efefcc6649dcebfc677">makeDataVarFromDataMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#acff6b9c425ca6497e4ab669164d1c0d9">makeIncomingStreamResetParameter()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae044aa8f7fed216881b9ad6f28234c4b">makeOutgoingStreamResetParameter()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">makeRoomForTsn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac25473db514f81df4ff09e11ee1220f0">makeSsnTsnResetParameter()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abeb4ef5900ac3d0f78ea3b40e177c55b">makeVarFromMsg()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">nextChunkFitsIntoPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">peekAbandonedChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">performStateTransition()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0df44d3ac952adb270964d77ac465624">pmClearPathCounter()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">pmDataIsSentOn()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">pmStartPathManagement()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">process_ABORT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac1e02c1e760ba709d9fd21cc7700a3a3">process_CLOSE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">process_OPEN_PASSIVE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3dc44ea09120834825153b8a262df804">process_PRIMARY()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afdb2753ac21e1104902a72585cf0cedc">process_QUEUE_BYTES_LIMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7e60e9d98ca72737507a38e360be8604">process_QUEUE_MSGS_LIMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aba32927e5da0e4e20281389a2b07ddce">process_RECEIVE_REQUEST()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">process_SEND()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">process_STREAM_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">process_TIMEOUT_HEARTBEAT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">process_TIMEOUT_HEARTBEAT_INTERVAL()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">process_TIMEOUT_RESET()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">process_TIMEOUT_RTX()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">processAddInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a16ef4b3cf3fb578c307dc65e9d78bc97">processAppCommand()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">processAsconfAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">processAsconfArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">processCookieEchoArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">processErrorArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">processForwardTsnArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">processHeartbeatAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">processInAndOutResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">processIncomingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">processOutAndResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">processOutgoingResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">processResetResponseArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a94e9a5246c3750df281c7dd4cbd072a4">processSctpMessage()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aeb41dad3db96d468718481d5399c547e">processSsnTsnResetRequestArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">processStreamResetArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">putInDeliveryQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1fb51aa17cdb2887294e78f4b3065463">resetGapLists()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">retransmitAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">retransmitCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">retransmitInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">retransmitReset()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">retransmitShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">retransmitShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">rpPathBlockingControl()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">scheduleSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">sendAbort()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">sendAddInAndOutStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">sendAddOutgoingStreamsRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">sendAsconf()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af41c1f021cf3395a49004de8b9c5dcc9">sendAsconfAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a979520079d574e1f8dacc2064e9672e1">sendBundledOutgoingResetAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">sendCookieAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">sendCookieEcho()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">sendDoubleStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">sendHeartbeat()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">sendHeartbeatAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">sendInit()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">sendInitAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">sendInvalidStreamError()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">sendOnAllPaths()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">sendOutgoingRequestAndResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">sendOutgoingResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">sendPacketDrop()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">sendSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">sendSACKviaSelectedPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">sendStreamResetRequest()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5426fb1018a04260d1f7aeeddccfb42a">sendStreamResetResponse()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">stateName()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">storePacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#adfb9d42dbbe581d2be1759ad0aae5ed5">streamIsPending()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a31af650b11ff51ff6fae64de66751455">streamSchedulerFairBandwidthPacket()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">streamSchedulerPriority()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa9ca9fd24dce3e6859e2aecb58ff9ded">streamSchedulerRandom()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad478b5cc5a0084beed3779a4a92299cf">timeForSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a629095d26023c82ba649f49119ed6520">tsnIsDuplicate()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">tsnWasReneged()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">typeInChunkList()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af93dfe0405bd90fefb8e385fcb6471b5">typeInOwnChunkList()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">updateCounters()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a2209b3cd6c994a4561609adacc459314">updateFastRecoveryStatus()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="aad57c66ee81d1210374193ffec8f5969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad57c66ee81d1210374193ffec8f5969">&#9670;&nbsp;</a></span>statisticsArwndInLastSACK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsArwndInLastSACK</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a8a3ad873109cd043a2619c6be00c8233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3ad873109cd043a2619c6be00c8233">&#9670;&nbsp;</a></span>statisticsNonRevokableGapBlocksInLastSACK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNonRevokableGapBlocksInLastSACK</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a4583a4c7e14e661158573ddab926bd90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4583a4c7e14e661158573ddab926bd90">&#9670;&nbsp;</a></span>statisticsNumDuplicatesSent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumDuplicatesSent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a5cd1ddd11ffdb397d447cd3bf78f8613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd1ddd11ffdb397d447cd3bf78f8613">&#9670;&nbsp;</a></span>statisticsNumDuplicatesStored</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumDuplicatesStored</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a5a08b3ce97e68554e774bee48dd48518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a08b3ce97e68554e774bee48dd48518">&#9670;&nbsp;</a></span>statisticsNumNonRevokableGapBlocksSent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumNonRevokableGapBlocksSent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="accf7b18030fea3ce33a811310a802377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf7b18030fea3ce33a811310a802377">&#9670;&nbsp;</a></span>statisticsNumNonRevokableGapBlocksStored</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumNonRevokableGapBlocksStored</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a7e8ab327969652d630f47fd37212666d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e8ab327969652d630f47fd37212666d">&#9670;&nbsp;</a></span>statisticsNumRevokableGapBlocksSent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumRevokableGapBlocksSent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="af92417386541efe77342e7974fa428d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af92417386541efe77342e7974fa428d2">&#9670;&nbsp;</a></span>statisticsNumRevokableGapBlocksStored</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumRevokableGapBlocksStored</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="abaab9ea4bc7fd514a1aaed901d69add4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaab9ea4bc7fd514a1aaed901d69add4">&#9670;&nbsp;</a></span>statisticsNumTotalGapBlocksStored</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsNumTotalGapBlocksStored</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a84b6d8663ac4be77c940d54d11506246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b6d8663ac4be77c940d54d11506246">&#9670;&nbsp;</a></span>statisticsOutstandingBytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsOutstandingBytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">decreaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">increaseOutstandingBytes()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a236f4e781733c6a58dcc311ea9b07be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236f4e781733c6a58dcc311ea9b07be9">&#9670;&nbsp;</a></span>statisticsPeerRwnd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsPeerRwnd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="aa308b9919d115d8e308dd82b6041b8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa308b9919d115d8e308dd82b6041b8de">&#9670;&nbsp;</a></span>statisticsQueuedReceivedBytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsQueuedReceivedBytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">pushUlp()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a5a4600f537d78d186cb74ffa96516233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a4600f537d78d186cb74ffa96516233">&#9670;&nbsp;</a></span>statisticsQueuedSentBytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsQueuedSentBytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="af7c5d006bcc944d3e5e2690dc0d54f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c5d006bcc944d3e5e2690dc0d54f51">&#9670;&nbsp;</a></span>statisticsRevokableGapBlocksInLastSACK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsRevokableGapBlocksInLastSACK</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">processSackArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a021066b7c0a3a50cdaa7e19ce34093b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021066b7c0a3a50cdaa7e19ce34093b6">&#9670;&nbsp;</a></span>statisticsSACKLengthSent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsSACKLengthSent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">createSack()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a16072b0899c7e175dbe261538668acf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16072b0899c7e175dbe261538668acf4">&#9670;&nbsp;</a></span>statisticsTotalBandwidth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsTotalBandwidth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="af340f9effadb60fea0c6ab2f4500b708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af340f9effadb60fea0c6ab2f4500b708">&#9670;&nbsp;</a></span>statisticsTotalCwnd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsTotalCwnd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a1624d250b3f22c47c0d09b04ccd674d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1624d250b3f22c47c0d09b04ccd674d0">&#9670;&nbsp;</a></span>statisticsTotalSSthresh</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* inet::sctp::SctpAssociation::statisticsTotalSSthresh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">recordCwndUpdate()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a9035fccfd5964567bad11699c2d65727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9035fccfd5964567bad11699c2d65727">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t inet::sctp::SctpAssociation::status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">pathStatusIndication()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<a id="a709228ff19f2cd04993340523b38dcbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709228ff19f2cd04993340523b38dcbf">&#9670;&nbsp;</a></span>streamThroughputVectors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint16_t, cOutVector *&gt; inet::sctp::SctpAssociation::streamThroughputVectors</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">initStreams()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">processDataArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">sendEstabIndicationToApp()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="aa70c4b8e13105602441b496cdc646d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70c4b8e13105602441b496cdc646d4e">&#9670;&nbsp;</a></span>T1_InitTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::T1_InitTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">process_ASSOCIATE()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">process_TIMEOUT_INIT_REXMIT()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">processCookieAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">processInitAckArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a2bb59804a3cc82c3e9621fb6eed5f579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb59804a3cc82c3e9621fb6eed5f579">&#9670;&nbsp;</a></span>T2_ShutdownTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::T2_ShutdownTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">process_TIMEOUT_SHUTDOWN()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">processPacketDropArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a0d6e069b19f8d9bd54621bb1f9df0a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6e069b19f8d9bd54621bb1f9df0a35">&#9670;&nbsp;</a></span>T5_ShutdownGuardTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* inet::sctp::SctpAssociation::T5_ShutdownGuardTimer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">processInitArrived()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab4199b0d60e01859d5ac41650e5f81dc">processTimer()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">sendShutdown()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">sendShutdownAck()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0010ef15d6886f0effc7c5e0470a48f8">~SctpAssociation()</a>.</p>

</div>
</div>
<a id="a819a5646d77f74d5478f498de24e35cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819a5646d77f74d5478f498de24e35cc">&#9670;&nbsp;</a></span>transmissionQ</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1sctp_1_1_sctp_queue.html">SctpQueue</a>* inet::sctp::SctpAssociation::transmissionQ</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">cloneAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">createForwardTsnChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">getOutboundDataChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">handleChunkReportedAsMissing()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">initAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">moveChunkToOtherPath()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">nonRenegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">process_RCV_Message()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a6ef650f8ed8fd7da37a0a29a01e0ec9d">putInTransmissionQ()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">renegablyAckChunk()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">SctpAssociation()</a>, <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">sendOnPath()</a>, and <a class="el" href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">stateEntered()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_sctp_association_8h.html">SctpAssociation.h</a></li>
<li><a class="el" href="_sctp_association_add_ip_8cc.html">SctpAssociationAddIp.cc</a></li>
<li><a class="el" href="_sctp_association_base_8cc.html">SctpAssociationBase.cc</a></li>
<li><a class="el" href="_sctp_association_event_proc_8cc.html">SctpAssociationEventProc.cc</a></li>
<li><a class="el" href="_sctp_association_rcv_message_8cc.html">SctpAssociationRcvMessage.cc</a></li>
<li><a class="el" href="_sctp_association_send_all_8cc.html">SctpAssociationSendAll.cc</a></li>
<li><a class="el" href="_sctp_association_stream_reset_8cc.html">SctpAssociationStreamReset.cc</a></li>
<li><a class="el" href="_sctp_association_util_8cc.html">SctpAssociationUtil.cc</a></li>
<li><a class="el" href="_sctp_cc_functions_8cc.html">SctpCcFunctions.cc</a></li>
<li><a class="el" href="_sctp_ss_functions_8cc.html">SctpSsFunctions.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a4951ad537b8b030e199c8301a43beb44"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4951ad537b8b030e199c8301a43beb44">inet::sctp::SCTP_E_RCV_INIT</a></div><div class="ttdeci">@ SCTP_E_RCV_INIT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:68</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5a3cf176b0d52e4b05f565be67c86e9c67"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a3cf176b0d52e4b05f565be67c86e9c67">inet::sctp::FAIR_BANDWITH</a></div><div class="ttdeci">@ FAIR_BANDWITH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:195</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac14b10f763ac87d9e494b09467a22aa9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac14b10f763ac87d9e494b09467a22aa9">inet::sctp::SctpStateVariables::requests</a></div><div class="ttdeci">std::map&lt; uint32_t, RequestData &gt; requests</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:795</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a72786a4a5888f99ca8844766dd186c7e"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a72786a4a5888f99ca8844766dd186c7e">inet::SCTP_I_RCV_STREAMS_RESETTED</a></div><div class="ttdeci">@ SCTP_I_RCV_STREAMS_RESETTED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:214</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda54b67c143034075242acf43abcc658eb"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda54b67c143034075242acf43abcc658eb">inet::SCTP_C_STREAM_RESET</a></div><div class="ttdeci">@ SCTP_C_STREAM_RESET</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:144</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adc85a41e3123508d30746432c86f475f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adc85a41e3123508d30746432c86f475f">inet::sctp::SctpAssociation::processStreamResetArrived</a></div><div class="ttdeci">SctpEventCode processStreamResetArrived(SctpStreamResetChunk *strResChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2811</div></div>
<div class="ttc" id="a_i_n_e_t_defs_8h_html_af3e4d5321e837cae974ef2a2871d9e0e"><div class="ttname"><a href="_i_n_e_t_defs_8h.html#af3e4d5321e837cae974ef2a2871d9e0e">CHK</a></div><div class="ttdeci">#define CHK(x)</div><div class="ttdef"><b>Definition:</b> INETDefs.h:87</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a84b6d8663ac4be77c940d54d11506246"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a84b6d8663ac4be77c940d54d11506246">inet::sctp::SctpAssociation::statisticsOutstandingBytes</a></div><div class="ttdeci">cOutVector * statisticsOutstandingBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:964</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a85f92af2ec3cc40b9fe15d94f7e43eb3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a85f92af2ec3cc40b9fe15d94f7e43eb3">inet::sctp::SctpStateVariables::streamReset</a></div><div class="ttdeci">bool streamReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:774</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aea6ed5e4dcd6b0d8b4b8aeffb6b828ca"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aea6ed5e4dcd6b0d8b4b8aeffb6b828ca">inet::sctp::SctpStateVariables::zeroWindowProbing</a></div><div class="ttdeci">bool zeroWindowProbing</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:572</div></div>
<div class="ttc" id="aclassinet_1_1_ipv6_address_html_aefe51e29a45bdb7502a5410e07c0c669ac1e3e3729897e0f8e40bba3031bdb62f"><div class="ttname"><a href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669ac1e3e3729897e0f8e40bba3031bdb62f">inet::Ipv6Address::UNSPECIFIED</a></div><div class="ttdeci">@ UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> Ipv6Address.h:43</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa241b950bf054258740590603c6f55907">inet::sctp::SCTP_S_SHUTDOWN_PENDING</a></div><div class="ttdeci">@ SCTP_S_SHUTDOWN_PENDING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:51</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa308b9919d115d8e308dd82b6041b8de"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa308b9919d115d8e308dd82b6041b8de">inet::sctp::SctpAssociation::statisticsQueuedReceivedBytes</a></div><div class="ttdeci">cOutVector * statisticsQueuedReceivedBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:965</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abaab9ea4bc7fd514a1aaed901d69add4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abaab9ea4bc7fd514a1aaed901d69add4">inet::sctp::SctpAssociation::statisticsNumTotalGapBlocksStored</a></div><div class="ttdeci">cOutVector * statisticsNumTotalGapBlocksStored</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:976</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab81b69b202506efefcc6649dcebfc677"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab81b69b202506efefcc6649dcebfc677">inet::sctp::SctpAssociation::makeDataVarFromDataMsg</a></div><div class="ttdeci">SctpDataVariables * makeDataVarFromDataMsg(SctpDataMsg *datMsg, SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:176</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8b98ae3af3a37516c980def51d7185fb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8b98ae3af3a37516c980def51d7185fb">inet::sctp::SctpAssociation::FairStartTimer</a></div><div class="ttdeci">cMessage * FairStartTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:921</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a74b6d3c440930004322d57cd34db1b66"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a74b6d3c440930004322d57cd34db1b66">inet::sctp::Sctp::setInterfaceId</a></div><div class="ttdeci">void setInterfaceId(int id)</div><div class="ttdef"><b>Definition:</b> Sctp.h:272</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a73464c221e77fbf1b1636ff959957a76"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a73464c221e77fbf1b1636ff959957a76">inet::sctp::SctpAssociation::transformDataChunk</a></div><div class="ttdeci">SctpDataChunk * transformDataChunk(SctpDataVariables *chunk)</div><div class="ttdoc">Manipulating chunks.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2086</div></div>
<div class="ttc" id="a_sctp_association_8h_html_aa70b98db8e47c30f27fd4ee90f3bf873"><div class="ttname"><a href="_sctp_association_8h.html#aa70b98db8e47c30f27fd4ee90f3bf873">SCTP_SSN_GT</a></div><div class="ttdeci">#define SCTP_SSN_GT(a, b)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1073</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_ad755fd16cc349ca05ba1df9700c72f4d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#ad755fd16cc349ca05ba1df9700c72f4d">inet::sctp::SctpGapList::tryToAdvanceCumAckTsn</a></div><div class="ttdeci">bool tryToAdvanceCumAckTsn()</div><div class="ttdef"><b>Definition:</b> SctpGapList.cc:337</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda7a6c60ed84414d930d2eddb352551ab9"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda7a6c60ed84414d930d2eddb352551ab9">inet::SCTP_C_SEND_UNORDERED</a></div><div class="ttdeci">@ SCTP_C_SEND_UNORDERED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:138</div></div>
<div class="ttc" id="a_sctp_cc_functions_8cc_html_ae0a4822db093d04908d19a67f94c5f6d"><div class="ttname"><a href="_sctp_cc_functions_8cc.html#ae0a4822db093d04908d19a67f94c5f6d">HIGHSPEED_ENTRIES</a></div><div class="ttdeci">#define HIGHSPEED_ENTRIES</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:22</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_algorithm_html_a0322da9f3c34033ea15cadfcbca6e978"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_algorithm.html#a0322da9f3c34033ea15cadfcbca6e978">inet::sctp::SctpAlgorithm::processTimer</a></div><div class="ttdeci">virtual void processTimer(cMessage *timer, SctpEventCode &amp;event)=0</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8e74ea97ebcbee94332a77a945c29f60"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8e74ea97ebcbee94332a77a945c29f60">inet::sctp::SctpAssociation::retransmitCookieEcho</a></div><div class="ttdeci">void retransmitCookieEcho()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1002</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aacf1fdb20d9bbea52fb1162a7715bcc7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aacf1fdb20d9bbea52fb1162a7715bcc7">inet::sctp::SctpAssociation::processAddInAndOutResetRequestArrived</a></div><div class="ttdeci">void processAddInAndOutResetRequestArrived(const SctpAddStreamsRequestParameter *addInRequestParam, SctpAddStreamsRequestParameter *addOutRequestParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2693</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3afa663adb7622f9432e89fa0aa1dc5dcb"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3afa663adb7622f9432e89fa0aa1dc5dcb">inet::sctp::SCTP_E_RCV_SHUTDOWN_COMPLETE</a></div><div class="ttdeci">@ SCTP_E_RCV_SHUTDOWN_COMPLETE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:75</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_acad3bd23552c404a65a2547531614879"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#acad3bd23552c404a65a2547531614879">inet::sctp::SctpAssociation::SCTP_UINT32_GT</a></div><div class="ttdeci">static bool SCTP_UINT32_GT(uint32_t a, uint32_t b)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1065</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3952645aa70ae4aa561d559184fc0051"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3952645aa70ae4aa561d559184fc0051">inet::sctp::SctpAssociation::processAsconfAckArrived</a></div><div class="ttdeci">SctpEventCode processAsconfAckArrived(SctpAsconfAckChunk *asconfAckChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3304</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa36d0e135b35b9fe9f3487526108ae74"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa36d0e135b35b9fe9f3487526108ae74">inet::sctp::SctpStateVariables::maxBurst</a></div><div class="ttdeci">uint32_t maxBurst</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:681</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aced58e600ecf362bd1e1524438f2cd8d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aced58e600ecf362bd1e1524438f2cd8d">inet::sctp::SctpAssociation::qCounter</a></div><div class="ttdeci">QueueCounter qCounter</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:956</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda3c664a962a05f30d4d9ddf9d54b351d5"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda3c664a962a05f30d4d9ddf9d54b351d5">inet::SCTP_C_SEND_ASCONF</a></div><div class="ttdeci">@ SCTP_C_SEND_ASCONF</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:148</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac2ad876f2d1276b8d91f6d9b2258e0d2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac2ad876f2d1276b8d91f6d9b2258e0d2">inet::sctp::SctpAssociation::processForwardTsnArrived</a></div><div class="ttdeci">SctpEventCode processForwardTsnArrived(SctpForwardTsnChunk *forChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2068</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1ac88a114fb7cbc497d41f0baa53388852"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac88a114fb7cbc497d41f0baa53388852">inet::SCTP_I_SENDSOCKETOPTIONS</a></div><div class="ttdeci">@ SCTP_I_SENDSOCKETOPTIONS</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:217</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1961f1c3cfb685372397f16fd512ba0b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1961f1c3cfb685372397f16fd512ba0b">inet::sctp::SctpAssociation::getNextDestination</a></div><div class="ttdeci">SctpPathVariables * getNextDestination(SctpDataVariables *chunk) const</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2696</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adfd914a7ca0de8389e001075bb916370"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adfd914a7ca0de8389e001075bb916370">inet::sctp::SctpAssociation::dequeueOutboundDataMsg</a></div><div class="ttdeci">SctpDataMsg * dequeueOutboundDataMsg(SctpPathVariables *path, int32_t availableSpace, int32_t availableCwnd)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2557</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ad25cab553e118244b925d7953520a74d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ad25cab553e118244b925d7953520a74d">inet::sctp::SCTP_E_TIMEOUT_HEARTBEAT_TIMER</a></div><div class="ttdeci">@ SCTP_E_TIMEOUT_HEARTBEAT_TIMER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:80</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_ab8fa3b730038d6ea21ec95f97d9e0aab"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#ab8fa3b730038d6ea21ec95f97d9e0aab">inet::Ipv4Address::getInt</a></div><div class="ttdeci">uint32_t getInt() const</div><div class="ttdoc">Returns the address as an uint32_t in host byte order (e.g.</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:186</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a3c9dc85de1408803d7cdbb7c6ac0db7ca35ef0d7cfff5ec07fe58316f541598c3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca35ef0d7cfff5ec07fe58316f541598c3">inet::sctp::SctpStateVariables::CCRV_Test</a></div><div class="ttdeci">@ CCRV_Test</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:719</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5d430e1b30135bd72296b6fa9be2b882"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5d430e1b30135bd72296b6fa9be2b882">inet::sctp::SctpStateVariables::initRetransCounter</a></div><div class="ttdeci">int16_t initRetransCounter</div><div class="ttdoc">Counter for init and cookie retransmissions.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:639</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a689ab2b6b3d2001faec4dc5221595eb6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a689ab2b6b3d2001faec4dc5221595eb6">inet::sctp::SctpAssociation::localPort</a></div><div class="ttdeci">uint16_t localPort</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:904</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a3c9dc85de1408803d7cdbb7c6ac0db7ca7575abf956e1f023fb5c35bda960d90e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca7575abf956e1f023fb5c35bda960d90e">inet::sctp::SctpStateVariables::CCRV_ReceiverOnly</a></div><div class="ttdeci">@ CCRV_ReceiverOnly</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:717</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_aae9adf88872652564ddc0d7108c9398c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#aae9adf88872652564ddc0d7108c9398c">inet::sctp::Sctp::getRtoInitial</a></div><div class="ttdeci">double getRtoInitial()</div><div class="ttdef"><b>Definition:</b> Sctp.h:257</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac6e346cd97bae3ce4beaba693e0cbb87"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6e346cd97bae3ce4beaba693e0cbb87">inet::sctp::SctpStateVariables::nextTsn</a></div><div class="ttdeci">uint32_t nextTsn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:603</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aecb13b797d8b15ce4e63caf872df54fe"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aecb13b797d8b15ce4e63caf872df54fe">inet::sctp::SctpAssociation::tsnGt</a></div><div class="ttdeci">static bool tsnGt(const uint32_t tsn1, const uint32_t tsn2)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1076</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a251c5cedb65d2e1f34b533fe9c9fc7e9"><div class="ttname"><a href="_sctp_association_8h.html#a251c5cedb65d2e1f34b533fe9c9fc7e9">SCTP_ADD_IP_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_ADD_IP_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:223</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a15f4e2ba243fc1a3bd33bb2095e11c55"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a15f4e2ba243fc1a3bd33bb2095e11c55">inet::sctp::SctpStateVariables::disableReneging</a></div><div class="ttdeci">bool disableReneging</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:676</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1constants_html_ab7123881f3235ef940214db8f26eb61a"><div class="ttname"><a href="namespaceinet_1_1units_1_1constants.html#ab7123881f3235ef940214db8f26eb61a">inet::units::constants::c</a></div><div class="ttdeci">const value&lt; double, compose&lt; units::m, pow&lt; units::s, -1 &gt; &gt; &gt; c(299792458)</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a09596c51e505ab3929c481572d248f0d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a09596c51e505ab3929c481572d248f0d">inet::sctp::Sctp::numPktDropReports</a></div><div class="ttdeci">uint64_t numPktDropReports</div><div class="ttdef"><b>Definition:</b> Sctp.h:204</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a1a582149c1b7607c37eb22fc0e22fd4c"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1a582149c1b7607c37eb22fc0e22fd4c">inet::sctp::SCTP_E_RECEIVE</a></div><div class="ttdeci">@ SCTP_E_RECEIVE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:82</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a55f5f85f6a88dbf453ad180e34750471"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a55f5f85f6a88dbf453ad180e34750471">inet::sctp::SctpStateVariables::MBV_TotalMaxBurst</a></div><div class="ttdeci">@ MBV_TotalMaxBurst</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:689</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3eca49723f8c582c77dc6b3f235c29ee"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3eca49723f8c582c77dc6b3f235c29ee">inet::sctp::SctpAssociation::processOutgoingResetRequestArrived</a></div><div class="ttdeci">void processOutgoingResetRequestArrived(SctpOutgoingSsnResetRequestParameter *requestParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2312</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a97d73147bbda9a30a2c3fa46b8aca019"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a97d73147bbda9a30a2c3fa46b8aca019">inet::sctp::SctpStateVariables::MBV_CongestionWindowLimiting</a></div><div class="ttdeci">@ MBV_CongestionWindowLimiting</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:684</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a728afe0425b677465c996826a29b86ab"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a728afe0425b677465c996826a29b86ab">inet::sctp::SctpAssociation::appGateIndex</a></div><div class="ttdeci">int32_t appGateIndex</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:897</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acf6c19c62d66dc7e08463fec1e6bf3a2">inet::sctp::SCTP_E_RCV_COOKIE_ACK</a></div><div class="ttdeci">@ SCTP_E_RCV_COOKIE_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:72</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ae03f7a9a036dfbc090375609cae4e745"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae03f7a9a036dfbc090375609cae4e745">inet::sctp::SctpStateVariables::nextRSid</a></div><div class="ttdeci">uint32_t nextRSid</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:652</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_afef5482e5d8d099ccecc43d45660b77c"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#afef5482e5d8d099ccecc43d45660b77c">inet::sctp::SctpAssociation::CCFunctions::ccUpdateAfterCwndTimeout</a></div><div class="ttdeci">void(SctpAssociation::* ccUpdateAfterCwndTimeout)(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:882</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4e06b0dbd861e4e60618ba01fa279dbf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4e06b0dbd861e4e60618ba01fa279dbf">inet::sctp::SctpAssociation::bytesAllowedToSend</a></div><div class="ttdeci">void bytesAllowedToSend(SctpPathVariables *path, bool firstPass)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:547</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7d73628d82970ec75e1f01ed4932185e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7d73628d82970ec75e1f01ed4932185e">inet::sctp::SctpAssociation::allPathsInactive</a></div><div class="ttdeci">bool allPathsInactive() const</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2864</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5cad975e963c7832864dee6cc9758e7a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5cad975e963c7832864dee6cc9758e7a">inet::sctp::SctpAssociation::updateOLIA</a></div><div class="ttdeci">uint32_t updateOLIA(uint32_t w, uint32_t s, uint32_t totalW, double a, uint32_t mtu, uint32_t ackedBytes, SctpPathVariables *path)</div><div class="ttdoc">w: cwnd of the path s: ssthresh of the path totalW: Sum of all cwnds of the association a: factor alp...</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:251</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa11a63baa3a74d62110fc295b63c295b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa11a63baa3a74d62110fc295b63c295b">inet::sctp::SctpStateVariables::cmtMovedChunksReduceCwnd</a></div><div class="ttdeci">bool cmtMovedChunksReduceCwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:731</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6ea79ccb3c0196e57909e54ea15bb459acd265f988c8e234d1e5c35027893771c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459acd265f988c8e234d1e5c35027893771c">inet::sctp::SctpStateVariables::GLOV_Optimized1</a></div><div class="ttdeci">@ GLOV_Optimized1</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:670</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a69408b8a0086c9f6b05b93a363e8166f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a69408b8a0086c9f6b05b93a363e8166f">inet::sctp::SctpStateVariables::pktDropSent</a></div><div class="ttdeci">bool pktDropSent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:823</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_a0fadb15803d788f1340b466ba0e9feed"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a0fadb15803d788f1340b466ba0e9feed">inet::sctp::SctpAssociation::CCFunctions::ccInitParams</a></div><div class="ttdeci">void(SctpAssociation::* ccInitParams)(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:879</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2c24bf3630790a90861c2487fdc246ad"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2c24bf3630790a90861c2487fdc246ad">inet::sctp::SctpAssociation::sendSack</a></div><div class="ttdeci">void sendSack()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1830</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aad41e3d2ca9d23e7e5a4b423ecdaef1ba">inet::sctp::SCTP_S_ESTABLISHED</a></div><div class="ttdeci">@ SCTP_S_ESTABLISHED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:50</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af643cdea7ad22400600ec0628b47b709"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af643cdea7ad22400600ec0628b47b709">inet::sctp::SctpAssociation::streamSchedulerRoundRobinPacket</a></div><div class="ttdeci">int32_t streamSchedulerRoundRobinPacket(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:174</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a531092ba35de6be636961fea32fcc6f8">inet::sctp::SCTP_E_RCV_SHUTDOWN</a></div><div class="ttdeci">@ SCTP_E_RCV_SHUTDOWN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:73</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_add7676ddf09e9b1d9b0ab88d95f868ea"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#add7676ddf09e9b1d9b0ab88d95f868ea">inet::sctp::SctpAssociation::retransmitShutdownAck</a></div><div class="ttdeci">void retransmitShutdownAck()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1229</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4c28992bbd2ba626a40fe029bc782afb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4c28992bbd2ba626a40fe029bc782afb">inet::sctp::SctpStateVariables::initChunk</a></div><div class="ttdeci">SctpInitChunk * initChunk</div><div class="ttdoc">pointer to the init chunk data structure (for retransmissions)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:642</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aea43ea40c863bb77b251cf7d760a1ccf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aea43ea40c863bb77b251cf7d760a1ccf">inet::sctp::SctpAssociation::generateSendQueueAbatedIndication</a></div><div class="ttdeci">void generateSendQueueAbatedIndication(uint64_t bytes)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:1990</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3fa9abca47d8287d2662658f316033d0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3fa9abca47d8287d2662658f316033d0">inet::sctp::SctpAssociation::indicationName</a></div><div class="ttdeci">static const char * indicationName(int32_t code)</div><div class="ttdoc">Utility: returns name of SCTP_I_xxx constants.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:205</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab581c0be4cbd6610c69712d2b7c10f2f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab581c0be4cbd6610c69712d2b7c10f2f">inet::sctp::SctpAssociation::sendOutgoingRequestAndResponse</a></div><div class="ttdeci">void sendOutgoingRequestAndResponse(uint32_t inRequestSn, uint32_t outRequestSn)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:409</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9719fafd71a156b596c3d89f3e7cba55"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9719fafd71a156b596c3d89f3e7cba55">inet::sctp::SctpAssociation::getExpectedSsnOfStream</a></div><div class="ttdeci">uint32_t getExpectedSsnOfStream(uint16_t id)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:900</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0be4b2527c97f264fd140c420dfa360d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0be4b2527c97f264fd140c420dfa360d">inet::sctp::SctpAssociation::peerVTag</a></div><div class="ttdeci">uint32_t peerVTag</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:907</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5faa56b489d7c0b1220ec5562475ee1a40d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa56b489d7c0b1220ec5562475ee1a40d">inet::sctp::SET_PRIMARY_ADDRESS</a></div><div class="ttdeci">@ SET_PRIMARY_ADDRESS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:159</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5af84b7cf8ee606783d6c823bd0aaaafdf"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5af84b7cf8ee606783d6c823bd0aaaafdf">inet::sctp::ROUND_ROBIN_PACKET</a></div><div class="ttdeci">@ ROUND_ROBIN_PACKET</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:192</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_acff6b9c425ca6497e4ab669164d1c0d9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#acff6b9c425ca6497e4ab669164d1c0d9">inet::sctp::SctpAssociation::makeIncomingStreamResetParameter</a></div><div class="ttdeci">SctpParameter * makeIncomingStreamResetParameter(uint32_t srsn, SctpResetReq *info)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:357</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1b8eadf4c45ca2af27c7658e3f7943a9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1b8eadf4c45ca2af27c7658e3f7943a9">inet::sctp::SctpAssociation::assocId</a></div><div class="ttdeci">int32_t assocId</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:898</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_path_variables_html_afc7e9be480da7da4108f975f825a3694"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_path_variables.html#afc7e9be480da7da4108f975f825a3694">inet::sctp::SctpPathVariables::pathErrorCount</a></div><div class="ttdeci">uint32_t pathErrorCount</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:290</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a3c9dc85de1408803d7cdbb7c6ac0db7ca00fb9010be9a7cc8da4a01d761f043d8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca00fb9010be9a7cc8da4a01d761f043d8">inet::sctp::SctpStateVariables::CCRV_BothSides</a></div><div class="ttdeci">@ CCRV_BothSides</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:718</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0d64e3c1d75bf004819335f1cae728eb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0d64e3c1d75bf004819335f1cae728eb">inet::sctp::SctpAssociation::retransmitReset</a></div><div class="ttdeci">void retransmitReset()</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:15</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aaef1efe73b4cc7f655b922bb25f459c8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aaef1efe73b4cc7f655b922bb25f459c8">inet::sctp::SctpAssociation::resetExpectedSsn</a></div><div class="ttdeci">void resetExpectedSsn(uint16_t id)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:892</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dac1f9202931d7e9988fed912bfff4b34f">inet::sctp::ADD_INCOMING</a></div><div class="ttdeci">@ ADD_INCOMING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:145</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8c99e71de484dbed04444cf7527a27f1">inet::sctp::SCTP_S_SHUTDOWN_RECEIVED</a></div><div class="ttdeci">@ SCTP_S_SHUTDOWN_RECEIVED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:53</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4ef1420f7192d31efb748b761642e943"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4ef1420f7192d31efb748b761642e943">inet::sctp::SctpStateVariables::fastRecoverySupported</a></div><div class="ttdeci">bool fastRecoverySupported</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:574</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aca5d5a3117ad813aca250aac00116dd8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aca5d5a3117ad813aca250aac00116dd8">inet::sctp::SctpStateVariables::authAdded</a></div><div class="ttdeci">bool authAdded</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:663</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a48a7351ee8009c150be94f8197d635bbafe468b34ad7c447c95ea385a89b4be6d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a48a7351ee8009c150be94f8197d635bbafe468b34ad7c447c95ea385a89b4be6d">inet::sctp::RANDOM</a></div><div class="ttdeci">@ RANDOM</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:174</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac4c3ab9087db09897f5fc429bdf74248"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac4c3ab9087db09897f5fc429bdf74248">inet::sctp::SctpAssociation::pathMapLargestSpaceAndSSThreshold</a></div><div class="ttdeci">static bool pathMapLargestSpaceAndSSThreshold(const SctpPathVariables *left, const SctpPathVariables *right)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:165</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6ca90778077c3bf395501a1d5f6e4407"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6ca90778077c3bf395501a1d5f6e4407">inet::sctp::SctpAssociation::processErrorArrived</a></div><div class="ttdeci">void processErrorArrived(SctpErrorChunk *error)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3518</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da9995bc4ae95ebf5ea531d5a9b1ae7089"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9995bc4ae95ebf5ea531d5a9b1ae7089">inet::sctp::ADD_BOTH</a></div><div class="ttdeci">@ ADD_BOTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:153</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_a284462a76cc32a975d5de29035d1a19a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#a284462a76cc32a975d5de29035d1a19a">inet::sctp::SctpQueue::getChunk</a></div><div class="ttdeci">SctpDataVariables * getChunk(const uint32_t key) const</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:111</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a03e0f252a93f17ca95cd440350384cfb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a03e0f252a93f17ca95cd440350384cfb">inet::sctp::SctpAssociation::process_ABORT</a></div><div class="ttdeci">void process_ABORT(SctpEventCode &amp;event)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:429</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a868cb96b2900bf174709bd0c187ea15b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a868cb96b2900bf174709bd0c187ea15b">inet::sctp::SctpStateVariables::rtxMethod</a></div><div class="ttdeci">uint32_t rtxMethod</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:679</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_queue_counter_html_a119a47470e36e23fab4b2f97eb40a3db"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a119a47470e36e23fab4b2f97eb40a3db">inet::sctp::SctpAssociation::QueueCounter::roomSumRcvStreams</a></div><div class="ttdeci">uint64_t roomSumRcvStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:866</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa30d55892878c6b90a53f57460274b56">inet::SCTP_I_CLOSED</a></div><div class="ttdeci">@ SCTP_I_CLOSED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:201</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a021066b7c0a3a50cdaa7e19ce34093b6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a021066b7c0a3a50cdaa7e19ce34093b6">inet::sctp::SctpAssociation::statisticsSACKLengthSent</a></div><div class="ttdeci">cOutVector * statisticsSACKLengthSent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:983</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a38522cbaf33adaa78d41ab707863a7ec"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a38522cbaf33adaa78d41ab707863a7ec">inet::sctp::SctpAssociation::pathStreamSchedulerManual</a></div><div class="ttdeci">int32_t pathStreamSchedulerManual(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:472</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda20fb42486ba2dced5d4666a9e70b288d"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda20fb42486ba2dced5d4666a9e70b288d">inet::SCTP_C_OPEN_PASSIVE</a></div><div class="ttdeci">@ SCTP_C_OPEN_PASSIVE</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:131</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a14301dd160c371c105f43dde83325235"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a14301dd160c371c105f43dde83325235">inet::sctp::SctpAssociation::cancelEvent</a></div><div class="ttdeci">cMessage * cancelEvent(cMessage *msg)</div><div class="ttdoc">Utility: cancel a timer.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1191</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a0b08c6a2c7525b591579e6e111e13fc5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0b08c6a2c7525b591579e6e111e13fc5">inet::sctp::SctpStateVariables::inRequestSn</a></div><div class="ttdeci">uint32_t inRequestSn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:785</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2b79211f1ed0b37a6839ca361b1086bf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b79211f1ed0b37a6839ca361b1086bf">inet::sctp::SctpStateVariables::incomingSackSeqNum</a></div><div class="ttdeci">uint32_t incomingSackSeqNum</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:764</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_ab2205c2e53c90a50649677ff4e1743c3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#ab2205c2e53c90a50649677ff4e1743c3">inet::sctp::SctpQueue::payloadQueue</a></div><div class="ttdeci">PayloadQueue payloadQueue</div><div class="ttdef"><b>Definition:</b> SctpQueue.h:88</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a53df841ce837c67ca71e9a9e3a3533a6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a53df841ce837c67ca71e9a9e3a3533a6">inet::sctp::Sctp::addRemoteAddress</a></div><div class="ttdeci">bool addRemoteAddress(SctpAssociation *assoc, L3Address localAddress, L3Address remoteAddress)</div><div class="ttdef"><b>Definition:</b> Sctp.cc:781</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a60ffd47a6389b6ee8191e6fbd9ef4159">inet::sctp::SCTP_E_SHUTDOWN</a></div><div class="ttdeci">@ SCTP_E_SHUTDOWN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:65</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7e60e9d98ca72737507a38e360be8604"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7e60e9d98ca72737507a38e360be8604">inet::sctp::SctpAssociation::process_QUEUE_MSGS_LIMIT</a></div><div class="ttdeci">void process_QUEUE_MSGS_LIMIT(const SctpCommandReq *sctpCommand)</div><div class="ttdoc">Queue Management.</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:400</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4684e44d04f673bff40043b3a1a522dc">inet::sctp::FORWARD_TSN</a></div><div class="ttdeci">@ FORWARD_TSN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:120</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a01761d50f4708bd6046f920f4760ce25"><div class="ttname"><a href="_sctp_association_8h.html#a01761d50f4708bd6046f920f4760ce25">SCTP_FORWARD_TSN_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_FORWARD_TSN_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:211</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_adf3b75833b1923ea35758152111781f2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#adf3b75833b1923ea35758152111781f2">inet::sctp::Sctp::getRtoMax</a></div><div class="ttdeci">double getRtoMax()</div><div class="ttdef"><b>Definition:</b> Sctp.h:259</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1ac03a332e802dee0dd7b63a648a64a2d8"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac03a332e802dee0dd7b63a648a64a2d8">inet::SCTP_I_SENDQUEUE_FULL</a></div><div class="ttdeci">@ SCTP_I_SENDQUEUE_FULL</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:210</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_cookie_echo_chunk_html_a1f08b07dada2838e38a94d622dac6882"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a1f08b07dada2838e38a94d622dac6882">inet::sctp::SctpCookieEchoChunk::getCookieArraySize</a></div><div class="ttdeci">virtual size_t getCookieArraySize() const</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a14dfe1a1b764a4b75223005a9ae91e6a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a14dfe1a1b764a4b75223005a9ae91e6a">inet::sctp::SctpAssociation::sendHeartbeat</a></div><div class="ttdeci">void sendHeartbeat(const SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1024</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4f5848422301f6fb2bbf94c32d802a03"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4f5848422301f6fb2bbf94c32d802a03">inet::sctp::SctpStateVariables::appSendAllowed</a></div><div class="ttdeci">bool appSendAllowed</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:650</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa755a6ed831c327da57dba1bccf229d6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa755a6ed831c327da57dba1bccf229d6">inet::sctp::SctpStateVariables::inOut</a></div><div class="ttdeci">bool inOut</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:589</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_acf9475dc172f47d336c2b9f44175e966"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#acf9475dc172f47d336c2b9f44175e966">inet::sctp::SctpAssociation::pathMapRandomized</a></div><div class="ttdeci">static bool pathMapRandomized(const SctpPathVariables *left, const SctpPathVariables *right)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:143</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a9ffb16100e369db5ec33892778050345"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9ffb16100e369db5ec33892778050345">inet::sctp::SctpStateVariables::gapReportLimit</a></div><div class="ttdeci">uint32_t gapReportLimit</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:667</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5ae4f49b639a5bedca2eb892da90ac3de7"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5ae4f49b639a5bedca2eb892da90ac3de7">inet::sctp::ROUND_ROBIN</a></div><div class="ttdeci">@ ROUND_ROBIN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:191</div></div>
<div class="ttc" id="aclassinet_1_1_ipv6_address_html_aefe51e29a45bdb7502a5410e07c0c669a396fd6105f7213b96de4e64c37a1c82a"><div class="ttname"><a href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669a396fd6105f7213b96de4e64c37a1c82a">inet::Ipv6Address::LINK</a></div><div class="ttdeci">@ LINK</div><div class="ttdef"><b>Definition:</b> Ipv6Address.h:46</div></div>
<div class="ttc" id="a_sctp_association_8h_html_af09cc91ff86473911040f475082ff0de"><div class="ttname"><a href="_sctp_association_8h.html#af09cc91ff86473911040f475082ff0de">SCTP_DEFAULT_OUTBOUND_STREAMS</a></div><div class="ttdeci">#define SCTP_DEFAULT_OUTBOUND_STREAMS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:230</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_ad198759e2dfed3076e801e778c31a154"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#ad198759e2dfed3076e801e778c31a154">inet::sctp::Sctp::getPathMaxRetrans</a></div><div class="ttdeci">int getPathMaxRetrans()</div><div class="ttdef"><b>Definition:</b> Sctp.h:266</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_queue_counter_html_a47e473c6d88ebc5134ccaac9eb2dd2b1"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a47e473c6d88ebc5134ccaac9eb2dd2b1">inet::sctp::SctpAssociation::QueueCounter::bookedSumSendStreams</a></div><div class="ttdeci">uint64_t bookedSumSendStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:865</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ab16fde9b626b7cb2b6b965de7e8edccd"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab16fde9b626b7cb2b6b965de7e8edccd">inet::sctp::SCTP_E_QUEUE_MSGS_LIMIT</a></div><div class="ttdeci">@ SCTP_E_QUEUE_MSGS_LIMIT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:86</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adb6a78de62e14b228666bfbb0e7fa0cf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adb6a78de62e14b228666bfbb0e7fa0cf">inet::sctp::SctpAssociation::SackTimer</a></div><div class="ttdeci">cMessage * SackTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:913</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdaf466b03877e0b9ba0bf42c78a8bb48ed"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdaf466b03877e0b9ba0bf42c78a8bb48ed">inet::SCTP_C_PRIMARY</a></div><div class="ttdeci">@ SCTP_C_PRIMARY</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:139</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab0527d219fcbe96f8d128726bdf95502"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab0527d219fcbe96f8d128726bdf95502">inet::sctp::SctpAssociation::cwndUpdateAfterCwndTimeout</a></div><div class="ttdeci">void cwndUpdateAfterCwndTimeout(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:978</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac9d2f2eaa0e405ffb8c67eb098646b6e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac9d2f2eaa0e405ffb8c67eb098646b6e">inet::sctp::SctpStateVariables::sizePeerKeyVector</a></div><div class="ttdeci">uint32_t sizePeerKeyVector</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:817</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac711d44079c2382e1e65ee66c4db3ec1ab8d242335cdd8bba08585af0566fea70"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1ab8d242335cdd8bba08585af0566fea70">inet::sctp::SctpStateVariables::CSP_SmallestSRTT</a></div><div class="ttdeci">@ CSP_SmallestSRTT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:739</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a71cb1f0fcd451c79eac561d88c83fe16"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a71cb1f0fcd451c79eac561d88c83fe16">inet::sctp::SctpStateVariables::firstDataSent</a></div><div class="ttdeci">bool firstDataSent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:584</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_adef04544ead5c64d9bcef89a6240deee"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#adef04544ead5c64d9bcef89a6240deee">inet::sctp::SctpStateVariables::movedChunkFastRTXFactor</a></div><div class="ttdeci">double movedChunkFastRTXFactor</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:732</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac6a46ac7a1d1b8676c1e7f1c066bb347"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac6a46ac7a1d1b8676c1e7f1c066bb347">inet::sctp::SctpStateVariables::ssNextStream</a></div><div class="ttdeci">bool ssNextStream</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:842</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a8ff55b82ce89539122707f6d7714523e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ff55b82ce89539122707f6d7714523e">inet::sctp::SctpStateVariables::peerPktDrop</a></div><div class="ttdeci">bool peerPktDrop</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:824</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad70260a9f264a733f0c9ec4539f2e2bd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad70260a9f264a733f0c9ec4539f2e2bd">inet::sctp::SctpAssociation::getInitialCwnd</a></div><div class="ttdeci">uint32_t getInitialCwnd(const SctpPathVariables *path) const</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:377</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_acb9a866d7277ea4d7033a029ed26322b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#acb9a866d7277ea4d7033a029ed26322b">inet::sctp::SctpAssociation::printSctpPathMap</a></div><div class="ttdeci">void printSctpPathMap() const</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:129</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6544ac7a5d38379984e96a2d26c5aec5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6544ac7a5d38379984e96a2d26c5aec5">inet::sctp::SctpStateVariables::enableHeartbeats</a></div><div class="ttdeci">bool enableHeartbeats</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:655</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a9bce762a81bf55cedb5d25a87479f250"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a9bce762a81bf55cedb5d25a87479f250">inet::SCTP_I_RESET_REQUEST_FAILED</a></div><div class="ttdeci">@ SCTP_I_RESET_REQUEST_FAILED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:215</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a8cfbf736534fd54a20e022f1b18b6992"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a8cfbf736534fd54a20e022f1b18b6992">inet::sctp::Sctp::testTimeout</a></div><div class="ttdeci">simtime_t testTimeout</div><div class="ttdef"><b>Definition:</b> Sctp.h:196</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_queue_counter_html_afccf607a67e560dba148d54b89a3c617"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#afccf607a67e560dba148d54b89a3c617">inet::sctp::SctpAssociation::QueueCounter::roomRetransQ</a></div><div class="ttdeci">CounterMap roomRetransQ</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:869</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a7f914cbcf912fa17e93f0c8c75773de4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a7f914cbcf912fa17e93f0c8c75773de4">inet::sctp::Sctp::getFragPoint</a></div><div class="ttdeci">int getFragPoint()</div><div class="ttdef"><b>Definition:</b> Sctp.h:263</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a0fd064155c57364f1af7e69b870bc9d6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a0fd064155c57364f1af7e69b870bc9d6">inet::sctp::Sctp::getRtoMin</a></div><div class="ttdeci">double getRtoMin()</div><div class="ttdef"><b>Definition:</b> Sctp.h:258</div></div>
<div class="ttc" id="aclassinet_1_1_ipv6_address_html_aefe51e29a45bdb7502a5410e07c0c669ad34cb1bec59d790395ee0229787950d3"><div class="ttname"><a href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669ad34cb1bec59d790395ee0229787950d3">inet::Ipv6Address::LOOPBACK</a></div><div class="ttdeci">@ LOOPBACK</div><div class="ttdef"><b>Definition:</b> Ipv6Address.h:44</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a8fd856e3c250ec75f2bc5503d8a1b4fa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fd856e3c250ec75f2bc5503d8a1b4fa">inet::sctp::SctpStateVariables::localRwnd</a></div><div class="ttdeci">uint64_t localRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:602</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a8eb0f04678c9b5f34c54eaa1e149da9d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8eb0f04678c9b5f34c54eaa1e149da9d">inet::sctp::SctpStateVariables::header</a></div><div class="ttdeci">uint16_t header</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:631</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9cf770d981474af93a352ff13b27e68a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9cf770d981474af93a352ff13b27e68a">inet::sctp::SctpAssociation::streamSchedulerRandomPacket</a></div><div class="ttdeci">int32_t streamSchedulerRandomPacket(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:227</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_shutdown_ack_chunk_html_a6668554b758d8aa26710010d1cefd17a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_shutdown_ack_chunk.html#a6668554b758d8aa26710010d1cefd17a">inet::sctp::SctpShutdownAckChunk::dup</a></div><div class="ttdeci">virtual SctpShutdownAckChunk * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader_m.h:1357</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3">inet::sctp::SctpEventCode</a></div><div class="ttdeci">SctpEventCode</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:61</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9607ea475a8eec7b78c3a33b59796ae8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9607ea475a8eec7b78c3a33b59796ae8">inet::sctp::SctpAssociation::sendInvalidStreamError</a></div><div class="ttdeci">void sendInvalidStreamError(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1869</div></div>
<div class="ttc" id="a_i_n_e_t_defs_8h_html_ac63e7a187ac530ca9ccc8b41b61272cd"><div class="ttname"><a href="_i_n_e_t_defs_8h.html#ac63e7a187ac530ca9ccc8b41b61272cd">RNGCONTEXT</a></div><div class="ttdeci">#define RNGCONTEXT</div><div class="ttdef"><b>Definition:</b> INETDefs.h:82</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_afdb2753ac21e1104902a72585cf0cedc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#afdb2753ac21e1104902a72585cf0cedc">inet::sctp::SctpAssociation::process_QUEUE_BYTES_LIMIT</a></div><div class="ttdeci">void process_QUEUE_BYTES_LIMIT(const SctpCommandReq *sctpCommand)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:406</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a73b76f0593d265fc5fce26dd54a9a4df"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a73b76f0593d265fc5fce26dd54a9a4df">inet::sctp::Sctp::getSackPeriod</a></div><div class="ttdeci">double getSackPeriod()</div><div class="ttdef"><b>Definition:</b> Sctp.h:261</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0df44d3ac952adb270964d77ac465624"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0df44d3ac952adb270964d77ac465624">inet::sctp::SctpAssociation::pmClearPathCounter</a></div><div class="ttdeci">void pmClearPathCounter(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2808</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a92e36a97d90067ad9934694eff0358fe"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92e36a97d90067ad9934694eff0358fe">inet::sctp::SctpStateVariables::lastTsn</a></div><div class="ttdeci">uint32_t lastTsn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:607</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1fb51aa17cdb2887294e78f4b3065463"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1fb51aa17cdb2887294e78f4b3065463">inet::sctp::SctpAssociation::resetGapLists</a></div><div class="ttdeci">void resetGapLists()</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:748</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87eabc697bfb804d4464ca118959dfce4a09"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eabc697bfb804d4464ca118959dfce4a09">inet::Ipv4Address::IETF</a></div><div class="ttdeci">@ IETF</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:79</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea1da078de954f1fab03e4d42012c9c61c"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea1da078de954f1fab03e4d42012c9c61c">inet::Ipv4Address::UNSPECIFIED</a></div><div class="ttdeci">@ UNSPECIFIED</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:74</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aad4bd0fb4a43228e50351cb1e7ba8233"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aad4bd0fb4a43228e50351cb1e7ba8233">inet::sctp::SctpStateVariables::ackState</a></div><div class="ttdeci">uint32_t ackState</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:608</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5fa2b446c9d6257106ca738c491d8be195a"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa2b446c9d6257106ca738c491d8be195a">inet::sctp::ADD_IP_ADDRESS</a></div><div class="ttdeci">@ ADD_IP_ADDRESS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:162</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a81d9796afe50280bd5d7b9305320cff1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a81d9796afe50280bd5d7b9305320cff1">inet::sctp::SctpStateVariables::lastAssocThroughputTime</a></div><div class="ttdeci">simtime_t lastAssocThroughputTime</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:839</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa8a5829f2c2909b33d2277391e8f3bc5d">inet::sctp::PKTDROP</a></div><div class="ttdeci">@ PKTDROP</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:118</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a72a1b9225ed8203a655fe8cfbb389a97"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a72a1b9225ed8203a655fe8cfbb389a97">inet::sctp::Sctp::printInfoAssocMap</a></div><div class="ttdeci">void printInfoAssocMap()</div><div class="ttdef"><b>Definition:</b> Sctp.cc:37</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_a37d6000c519fd0c1cf8755c0e43f44ce"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#a37d6000c519fd0c1cf8755c0e43f44ce">inet::sctp::SctpQueue::findEarliestOutstandingTsnsForPath</a></div><div class="ttdeci">void findEarliestOutstandingTsnsForPath(const L3Address &amp;remoteAddress, uint32_t &amp;earliestOutstandingTsn, uint32_t &amp;rtxEarliestOutstandingTsn) const</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:195</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adc6190bc0622a005565639bb33e0485e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adc6190bc0622a005565639bb33e0485e">inet::sctp::SctpAssociation::sendStreamResetResponse</a></div><div class="ttdeci">void sendStreamResetResponse(uint32_t srrsn, int result)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:798</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5fa1ac54b9e0c5c311ce822593a6c385c08"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa1ac54b9e0c5c311ce822593a6c385c08">inet::sctp::ERROR_CAUSE_INDICATION</a></div><div class="ttdeci">@ ERROR_CAUSE_INDICATION</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:164</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3acd609e7c59b9751f3d806d4b0057df00"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3acd609e7c59b9751f3d806d4b0057df00">inet::sctp::SCTP_E_STREAM_RESET</a></div><div class="ttdeci">@ SCTP_E_STREAM_RESET</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:91</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a008f1c88d97ed382b936799a314a36d5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a008f1c88d97ed382b936799a314a36d5">inet::sctp::SctpAssociation::process_TIMEOUT_INIT_REXMIT</a></div><div class="ttdeci">void process_TIMEOUT_INIT_REXMIT(SctpEventCode &amp;event)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3544</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_affba0d21451102b22a4100074337530b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#affba0d21451102b22a4100074337530b">inet::sctp::SctpAssociation::pathMapLargestSSThreshold</a></div><div class="ttdeci">static bool pathMapLargestSSThreshold(const SctpPathVariables *left, const SctpPathVariables *right)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:153</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dae71407ab86e6aadcb2bdd33b79dfc5a0">inet::sctp::RESET_INCOMING</a></div><div class="ttdeci">@ RESET_INCOMING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:142</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_a22c55464c988094dd9156f7a80e12934"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a22c55464c988094dd9156f7a80e12934">inet::sctp::SctpAssociation::CCFunctions::ccUpdateAfterRtxTimeout</a></div><div class="ttdeci">void(SctpAssociation::* ccUpdateAfterRtxTimeout)(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:883</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9582c8bb6f4973c45deaee7bedb976d3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9582c8bb6f4973c45deaee7bedb976d3">inet::sctp::SctpAssociation::preanalyseAppCommandEvent</a></div><div class="ttdeci">SctpEventCode preanalyseAppCommandEvent(int32_t commandCode)</div><div class="ttdoc">Maps app command codes (msg kind of app command msgs) to SCTP_E_xxx event codes.</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:996</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_queue_counter_html_a96b6e042793a3c5ecc76646d7d33c749"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a96b6e042793a3c5ecc76646d7d33c749">inet::sctp::SctpAssociation::QueueCounter::roomTransQ</a></div><div class="ttdeci">CounterMap roomTransQ</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:867</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a423a984da69ac3749eb4c2e54f9744fc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a423a984da69ac3749eb4c2e54f9744fc">inet::sctp::SctpStateVariables::numberAsconfReceived</a></div><div class="ttdeci">uint16_t numberAsconfReceived</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:768</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5027ee52ecb58e9cf3ae2066a4b7048b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5027ee52ecb58e9cf3ae2066a4b7048b">inet::sctp::SctpStateVariables::firstChunkReceived</a></div><div class="ttdeci">bool firstChunkReceived</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:569</div></div>
<div class="ttc" id="anamespaceinet_html_a70ce6faeede4358b255a48ec1ed36344"><div class="ttname"><a href="namespaceinet.html#a70ce6faeede4358b255a48ec1ed36344">inet::count</a></div><div class="ttdeci">int count(const std::vector&lt; T &gt; &amp;v, const Tk &amp;a)</div><div class="ttdef"><b>Definition:</b> stlutils.h:54</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a8627167b7a6bf683ca2fec625647cbd1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8627167b7a6bf683ca2fec625647cbd1">inet::sctp::SctpStateVariables::streamThroughput</a></div><div class="ttdeci">std::map&lt; uint16_t, uint32_t &gt; streamThroughput</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:838</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_stream_reset_chunk_html_a56fde4292cc3f0f23eafc9cd30cce173"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_stream_reset_chunk.html#a56fde4292cc3f0f23eafc9cd30cce173">inet::sctp::SctpStreamResetChunk::dup</a></div><div class="ttdeci">virtual SctpStreamResetChunk * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader.h:139</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a18dcce996954bda0e061c76c966187ca"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a18dcce996954bda0e061c76c966187ca">inet::sctp::SctpStateVariables::lastSendQueueAbated</a></div><div class="ttdeci">simtime_t lastSendQueueAbated</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:651</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad7407ba10853daa85798dff6fb1c1772"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad7407ba10853daa85798dff6fb1c1772">inet::sctp::SctpAssociation::sendDataArrivedNotification</a></div><div class="ttdeci">void sendDataArrivedNotification(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1855</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a737aa40835c6648f213941e2907f91cb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a737aa40835c6648f213941e2907f91cb">inet::sctp::SctpStateVariables::peerRwnd</a></div><div class="ttdeci">uint64_t peerRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:600</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_ac39ebd6639c60f3bf6b77e7d34b7be7d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#ac39ebd6639c60f3bf6b77e7d34b7be7d">inet::sctp::SctpQueue::getAndExtractChunk</a></div><div class="ttdeci">SctpDataVariables * getAndExtractChunk(const uint32_t tsn)</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:65</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da0d865b62cbb3f9f4e8f826adc76b9a5c"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da0d865b62cbb3f9f4e8f826adc76b9a5c">inet::sctp::PERFORMED_WITH_ADDOUT</a></div><div class="ttdeci">@ PERFORMED_WITH_ADDOUT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:155</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_a07c790e4c342817469f8af8fa4176de3"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a07c790e4c342817469f8af8fa4176de3">inet::sctp::SctpAssociation::CCFunctions::ccUpdateAfterSack</a></div><div class="ttdeci">void(SctpAssociation::* ccUpdateAfterSack)()</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:881</div></div>
<div class="ttc" id="aclassinet_1_1_ipv6_address_html_aefe51e29a45bdb7502a5410e07c0c669a3fa94dff232b1e624f4a3e96f0263d04"><div class="ttname"><a href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669a3fa94dff232b1e624f4a3e96f0263d04">inet::Ipv6Address::SITE</a></div><div class="ttdeci">@ SITE</div><div class="ttdef"><b>Definition:</b> Ipv6Address.h:47</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a4451d4a7e620fdd17b5f9f2b5a68aae4"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4451d4a7e620fdd17b5f9f2b5a68aae4">inet::SCTP_I_SENDQUEUE_ABATED</a></div><div class="ttdeci">@ SCTP_I_SENDQUEUE_ABATED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:211</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a830404b89bb756c049232df67d74758b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a830404b89bb756c049232df67d74758b">inet::sctp::SctpAssociation::stateEntered</a></div><div class="ttdeci">void stateEntered(int32_t state)</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:1418</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5a27e94200cd0bc20561acbffc6d92e09c"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a27e94200cd0bc20561acbffc6d92e09c">inet::sctp::PATH_MANUAL</a></div><div class="ttdeci">@ PATH_MANUAL</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:199</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a31af650b11ff51ff6fae64de66751455"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a31af650b11ff51ff6fae64de66751455">inet::sctp::SctpAssociation::streamSchedulerFairBandwidthPacket</a></div><div class="ttdeci">int32_t streamSchedulerFairBandwidthPacket(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:325</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a030c456daf728b814f1559331ae5e4fa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a030c456daf728b814f1559331ae5e4fa">inet::sctp::Sctp::getHbInterval</a></div><div class="ttdeci">double getHbInterval()</div><div class="ttdef"><b>Definition:</b> Sctp.h:268</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7dd0e82e1e8d91e0ef372b2e4ff95073"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7dd0e82e1e8d91e0ef372b2e4ff95073">inet::sctp::SctpAssociation::ssnGt</a></div><div class="ttdeci">static bool ssnGt(const uint16_t ssn1, const uint16_t ssn2)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1080</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adedaaeffcd113b2249ba92676eb58220"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adedaaeffcd113b2249ba92676eb58220">inet::sctp::SctpAssociation::sendIndicationToApp</a></div><div class="ttdeci">void sendIndicationToApp(int32_t code, int32_t value=0)</div><div class="ttdoc">Utility: sends status indication (SCTP_I_xxx) to application.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:435</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_cookie_echo_chunk_html_a0c4c8594bca6d8a03de7eacea350a2a9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a0c4c8594bca6d8a03de7eacea350a2a9">inet::sctp::SctpCookieEchoChunk::setStateCookie</a></div><div class="ttdeci">virtual void setStateCookie(SctpCookie *stateCookie)</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dad0a36ea2681c135506c36dcd42515b88">inet::sctp::ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</a></div><div class="ttdeci">@ ADD_OUTGOING_STREAMS_REQUEST_PARAMETER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:151</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8ebdd5167146d1603aad185a58a3c714"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8ebdd5167146d1603aad185a58a3c714">inet::sctp::SctpAssociation::sendQueue</a></div><div class="ttdeci">cOutVector * sendQueue</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:947</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a909a366683c2fd2295b4b50a71f1e63b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a909a366683c2fd2295b4b50a71f1e63b">inet::sctp::SctpAssociation::remoteAddr</a></div><div class="ttdeci">L3Address remoteAddr</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:902</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a4e19a42cf0a4e213646aa87843e65267"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a4e19a42cf0a4e213646aa87843e65267">inet::sctp::SCTP_E_QUEUE_BYTES_LIMIT</a></div><div class="ttdeci">@ SCTP_E_QUEUE_BYTES_LIMIT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:87</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a541bbf988fdb11070a6d0ef94e8deadd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a541bbf988fdb11070a6d0ef94e8deadd">inet::sctp::SctpStateVariables::lastStreamScheduled</a></div><div class="ttdeci">uint32_t lastStreamScheduled</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:616</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaabf000493f824e826ba49e25981668cbb"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabf000493f824e826ba49e25981668cbb">inet::sctp::NR_SACK</a></div><div class="ttdeci">@ NR_SACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:116</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1be5b9ed70775e1335802dddcb21d35a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1be5b9ed70775e1335802dddcb21d35a">inet::sctp::SctpStateVariables::bytesToRetransmit</a></div><div class="ttdeci">uint32_t bytesToRetransmit</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:622</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a92f7844f01962ebb2f2f92e29b6a06db"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92f7844f01962ebb2f2f92e29b6a06db">inet::sctp::SctpStateVariables::lastDataSourceList</a></div><div class="ttdeci">std::list&lt; SctpPathVariables * &gt; lastDataSourceList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:595</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a58955dacfac2b3f8a497c845473af3c2"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a58955dacfac2b3f8a497c845473af3c2">inet::sctp::min</a></div><div class="ttdeci">double min(const double a, const double b)</div><div class="ttdoc">Returns the minimum of a and b.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:261</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea493d8506036b6b2851c6f4961e442ad2"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea493d8506036b6b2851c6f4961e442ad2">inet::Ipv4Address::GLOBAL</a></div><div class="ttdeci">@ GLOBAL</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:86</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4c6d0ff4e56e33461e6b42d7e83d09b3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4c6d0ff4e56e33461e6b42d7e83d09b3">inet::sctp::SctpAssociation::listeningAssocId</a></div><div class="ttdeci">int32_t listeningAssocId</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:899</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9dbf72461f89acee0f49e5f38ca39b79"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9dbf72461f89acee0f49e5f38ca39b79">inet::sctp::SctpAssociation::assocThroughputVector</a></div><div class="ttdeci">cOutVector * assocThroughputVector</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:920</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5fa7f31c822022e812cfe79f74208bd52d2"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa7f31c822022e812cfe79f74208bd52d2">inet::sctp::DELETE_IP_ADDRESS</a></div><div class="ttdeci">@ DELETE_IP_ADDRESS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:163</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5c625d9a557a687272a02a475c16fab0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5c625d9a557a687272a02a475c16fab0">inet::sctp::SctpAssociation::localVTag</a></div><div class="ttdeci">uint32_t localVTag</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:906</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa1b4e3573170b2e412f2862e752b1f0a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa1b4e3573170b2e412f2862e752b1f0a">inet::sctp::SctpStateVariables::sharedKey</a></div><div class="ttdeci">uint8_t sharedKey[512]</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:818</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a23f8cd1826b8a660b549ba6a49a4145d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a23f8cd1826b8a660b549ba6a49a4145d">inet::sctp::SctpAssociation::process_STREAM_RESET</a></div><div class="ttdeci">void process_STREAM_RESET(SctpCommandReq *sctpCommand)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:331</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a19b88a60c0dcf4be316b2d8b04cbfe20">inet::sctp::SctpStateVariables::CCCV_CMTRPv2</a></div><div class="ttdeci">@ CCCV_CMTRPv2</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:750</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa4ba01f7e9a57a99f018a59e7bf93185"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa4ba01f7e9a57a99f018a59e7bf93185">inet::sctp::SctpAssociation::sctpPathMap</a></div><div class="ttdeci">SctpPathMap sctpPathMap</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:955</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a48a7351ee8009c150be94f8197d635bba92957050cfb42336ebda6fc42bbec25e"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a48a7351ee8009c150be94f8197d635bba92957050cfb42336ebda6fc42bbec25e">inet::sctp::CHUNKS</a></div><div class="ttdeci">@ CHUNKS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:175</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5ac0acba0b91c1702a19bc67d8a7bc734a"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5ac0acba0b91c1702a19bc67d8a7bc734a">inet::sctp::RANDOM_SCHEDULE</a></div><div class="ttdeci">@ RANDOM_SCHEDULE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:193</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1f67554c7367dd562d8bf849411020ff"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1f67554c7367dd562d8bf849411020ff">inet::sctp::SctpAssociation::nextChunkFitsIntoPacket</a></div><div class="ttdeci">bool nextChunkFitsIntoPacket(SctpPathVariables *path, int32_t bytes)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2624</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abbd455afdffa682cbad657e0e283ad2f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abbd455afdffa682cbad657e0e283ad2f">inet::sctp::SctpAssociation::streamSchedulerPriority</a></div><div class="ttdeci">int32_t streamSchedulerPriority(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:270</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea27047131bf9e30c830ed79d9169ff2d3"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea27047131bf9e30c830ed79d9169ff2d3">inet::Ipv4Address::BENCHMARK</a></div><div class="ttdeci">@ BENCHMARK</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:82</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acc2e4c0accc35db4ba15bb8a2a104353"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc2e4c0accc35db4ba15bb8a2a104353">inet::sctp::SctpStateVariables::resetChunk</a></div><div class="ttdeci">SctpStreamResetChunk * resetChunk</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:788</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a665b8a119cc0922aae8f31bb1c6ad751"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a665b8a119cc0922aae8f31bb1c6ad751">inet::sctp::SctpAssociation::numGapBlocks</a></div><div class="ttdeci">cOutVector * numGapBlocks</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:948</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a287a867b552eac34ce71a0994802f46f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a287a867b552eac34ce71a0994802f46f">inet::sctp::SctpAssociation::sctpMain</a></div><div class="ttdeci">Sctp * sctpMain</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:953</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a8d28e59a0d202e69c382d34ad7080937"><div class="ttname"><a href="_i_udp-gates_8txt.html#a8d28e59a0d202e69c382d34ad7080937">InterfaceReq</a></div><div class="ttdeci">removed InterfaceReq</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:11</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aba32927e5da0e4e20281389a2b07ddce"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aba32927e5da0e4e20281389a2b07ddce">inet::sctp::SctpAssociation::process_RECEIVE_REQUEST</a></div><div class="ttdeci">void process_RECEIVE_REQUEST(SctpEventCode &amp;event, SctpCommandReq *sctpCommand)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:314</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1cf3ed7915df5a1259f45dc935819f19"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1cf3ed7915df5a1259f45dc935819f19">inet::sctp::SctpAssociation::ccModule</a></div><div class="ttdeci">uint16_t ccModule</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:943</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae10523aa70419c32b8fc847ac92a3310">inet::sctp::AUTH</a></div><div class="ttdeci">@ AUTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:115</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a383403d684dfe30011ec4e6b8df4db1d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a383403d684dfe30011ec4e6b8df4db1d">inet::sctp::SctpAssociation::receiveStreamPresent</a></div><div class="ttdeci">bool receiveStreamPresent(uint32_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:934</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ae58bbe95c4c95067997c7978e2601682"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae58bbe95c4c95067997c7978e2601682">inet::sctp::SctpStateVariables::resetInStreams</a></div><div class="ttdeci">std::list&lt; uint16_t &gt; resetInStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:791</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_algorithm_html_a44cd2f88ab6be1c1ea19da7a8cd77a85"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_algorithm.html#a44cd2f88ab6be1c1ea19da7a8cd77a85">inet::sctp::SctpAlgorithm::sackSent</a></div><div class="ttdeci">virtual void sackSent()=0</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a0323ac93ca7b779d82d9fb23cd4c8681"><div class="ttname"><a href="_i_udp-gates_8txt.html#a0323ac93ca7b779d82d9fb23cd4c8681">DispatchProtocolReq</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd DispatchProtocolReq L4PortInd Ipv4ControlInfo Ipv6ControlInfo down DispatchProtocolReq</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:25</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5e6b940e850aef95dea41f32f7ded313a176761a05ff1492fb7e629c1968969d1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a176761a05ff1492fb7e629c1968969d1">inet::sctp::SctpStateVariables::CBSV_ReceiverOnly</a></div><div class="ttdeci">@ CBSV_ReceiverOnly</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:708</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af340f9effadb60fea0c6ab2f4500b708"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af340f9effadb60fea0c6ab2f4500b708">inet::sctp::SctpAssociation::statisticsTotalCwnd</a></div><div class="ttdeci">cOutVector * statisticsTotalCwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:968</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaadeaa01ad7ddf788c3ebb128f5fa063b7">inet::sctp::HEARTBEAT_ACK</a></div><div class="ttdeci">@ HEARTBEAT_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:107</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_data_variables_html_abb798401014b6d330e9e42b4551c1faa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_data_variables.html#abb798401014b6d330e9e42b4551c1faa">inet::sctp::SctpDataVariables::zeroAddress</a></div><div class="ttdeci">static const L3Address zeroAddress</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:519</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0e669c5f9274bef9dfafd4407751cb9a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0e669c5f9274bef9dfafd4407751cb9a">inet::sctp::SctpAssociation::sendHeartbeatAck</a></div><div class="ttdeci">void sendHeartbeatAck(const SctpHeartbeatChunk *heartbeatChunk, const L3Address &amp;src, const L3Address &amp;dest)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1049</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions_html_a55b3b4b68df5bc1a0dc3fc27d580cc5d"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a55b3b4b68df5bc1a0dc3fc27d580cc5d">inet::sctp::SctpAssociation::SSFunctions::ssGetNextSid</a></div><div class="ttdeci">int32_t(SctpAssociation::* ssGetNextSid)(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1292</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a35f13180e9bdefa046d64805e204c63c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a35f13180e9bdefa046d64805e204c63c">inet::sctp::SctpStateVariables::gapList</a></div><div class="ttdeci">SctpGapList gapList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:609</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda9946abcfe42f08ee931a61702da3dbb0"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda9946abcfe42f08ee931a61702da3dbb0">inet::SCTP_C_SEND</a></div><div class="ttdeci">@ SCTP_C_SEND</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:132</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a78077506caf0286be03f30eb37608627"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a78077506caf0286be03f30eb37608627">inet::sctp::SctpStateVariables::streamsPending</a></div><div class="ttdeci">std::list&lt; uint16_t &gt; streamsPending</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:792</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab73a0f8ed466159fa012a172bd3ffd7f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab73a0f8ed466159fa012a172bd3ffd7f">inet::sctp::SctpStateVariables::ssFairBandwidthMap</a></div><div class="ttdeci">std::map&lt; uint16_t, int32_t &gt; ssFairBandwidthMap</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:846</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5fa652c1e6ad142db570b18a403c483b">inet::sctp::COOKIE_ACK</a></div><div class="ttdeci">@ COOKIE_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:113</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae0aebf38ffdb9fab61ea7e434e3017ff"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae0aebf38ffdb9fab61ea7e434e3017ff">inet::sctp::SctpAssociation::initTsn</a></div><div class="ttdeci">uint32_t initTsn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:938</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a57aa47d243595ec75a92d21852b4f425">inet::sctp::SctpGapList::GT_Any</a></div><div class="ttdeci">@ GT_Any</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:95</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent_html_a12c7453dc0401ccbee61c5c9c68263f3"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a12c7453dc0401ccbee61c5c9c68263f3">inet::sctp::SctpAssociation::BytesToBeSent::chunk</a></div><div class="ttdeci">bool chunk</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:873</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aee801b1b6f4396d57f576b133a90c533"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aee801b1b6f4396d57f576b133a90c533">inet::sctp::SctpStateVariables::swsAvoidanceInvoked</a></div><div class="ttdeci">bool swsAvoidanceInvoked</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:570</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aef2d425c447204175284c4837e803f73"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aef2d425c447204175284c4837e803f73">inet::sctp::SctpAssociation::cwndUpdateBeforeSack</a></div><div class="ttdeci">void cwndUpdateBeforeSack()</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:133</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac3f10d53ac364d9207ea68bab2426910"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac3f10d53ac364d9207ea68bab2426910">inet::sctp::SctpStateVariables::peerMsgRwnd</a></div><div class="ttdeci">uint32_t peerMsgRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:830</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_adfbea5b35d4a6cb83e0fcfaeb2e24b78"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#adfbea5b35d4a6cb83e0fcfaeb2e24b78">inet::sctp::SctpStateVariables::messageAcceptLimit</a></div><div class="ttdeci">uint32_t messageAcceptLimit</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:629</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_path_variables_html_ac2819b57f4b5d94629a64b440734a546"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_path_variables.html#ac2819b57f4b5d94629a64b440734a546">inet::sctp::SctpPathVariables::pmtu</a></div><div class="ttdeci">uint32_t pmtu</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:292</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a6eda48e6fe89fc2b1db24f705b7789a5">inet::SCTP_I_CONN_LOST</a></div><div class="ttdeci">@ SCTP_I_CONN_LOST</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:207</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ade24acd6dacb8f7fb3b4b0fbfd32bef1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ade24acd6dacb8f7fb3b4b0fbfd32bef1">inet::sctp::SctpStateVariables::osbWithHeader</a></div><div class="ttdeci">bool osbWithHeader</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:821</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2400a7b84a548e95567f7e57492a98c5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2400a7b84a548e95567f7e57492a98c5">inet::sctp::SctpStateVariables::responseSn</a></div><div class="ttdeci">uint32_t responseSn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:633</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a709228ff19f2cd04993340523b38dcbf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a709228ff19f2cd04993340523b38dcbf">inet::sctp::SctpAssociation::streamThroughputVectors</a></div><div class="ttdeci">std::map&lt; uint16_t, cOutVector * &gt; streamThroughputVectors</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:919</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1256a4a71c0dc47eb276f672646d2f1c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1256a4a71c0dc47eb276f672646d2f1c">inet::sctp::SctpStateVariables::appLimited</a></div><div class="ttdeci">bool appLimited</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:780</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7e8ab327969652d630f47fd37212666d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7e8ab327969652d630f47fd37212666d">inet::sctp::SctpAssociation::statisticsNumRevokableGapBlocksSent</a></div><div class="ttdeci">cOutVector * statisticsNumRevokableGapBlocksSent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:980</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a02d39b58f7e27327cf135dd1b189361d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a02d39b58f7e27327cf135dd1b189361d">inet::sctp::SctpStateVariables::auth</a></div><div class="ttdeci">bool auth</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:811</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a937caf545d2965641cebd64d6e902532"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a937caf545d2965641cebd64d6e902532">inet::sctp::SctpAssociation::getBytesInFlightOfStream</a></div><div class="ttdeci">uint32_t getBytesInFlightOfStream(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:76</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a230f256d8477a28c11b80d23fa372412"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a230f256d8477a28c11b80d23fa372412">inet::sctp::SctpStateVariables::sackAlreadySent</a></div><div class="ttdeci">bool sackAlreadySent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:577</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda591096550310097ab8fbad2bc8e08ba0"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda591096550310097ab8fbad2bc8e08ba0">inet::SCTP_C_SHUTDOWN</a></div><div class="ttdeci">@ SCTP_C_SHUTDOWN</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:142</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1adeae8ea24c8f2bc62e028d16e4b1ad1a"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1adeae8ea24c8f2bc62e028d16e4b1ad1a">inet::SCTP_I_SEND_STREAMS_RESETTED</a></div><div class="ttdeci">@ SCTP_I_SEND_STREAMS_RESETTED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:213</div></div>
<div class="ttc" id="aclassinet_1_1_network_interface_html_a18512a9c641d908462ccdc46cc934dc2"><div class="ttname"><a href="classinet_1_1_network_interface.html#a18512a9c641d908462ccdc46cc934dc2">inet::NetworkInterface::getMtu</a></div><div class="ttdeci">int getMtu() const</div><div class="ttdef"><b>Definition:</b> NetworkInterface.h:236</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4a2df8dc85056f6a50e97d39c3e106e7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4a2df8dc85056f6a50e97d39c3e106e7">inet::sctp::SctpAssociation::addInStreams</a></div><div class="ttdeci">void addInStreams(uint32_t inStreams)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:79</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6ea79ccb3c0196e57909e54ea15bb459ae9dd70002689c25274c7469f8988ebb5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459ae9dd70002689c25274c7469f8988ebb5">inet::sctp::SctpStateVariables::GLOV_Optimized2</a></div><div class="ttdeci">@ GLOV_Optimized2</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:671</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a1caa79446558db077338e93f92c09658"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1caa79446558db077338e93f92c09658">inet::sctp::SctpStateVariables::MBV_UseItOrLoseIt</a></div><div class="ttdeci">@ MBV_UseItOrLoseIt</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:683</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_algorithm_html_a30cf75b48d96d75634722d733ba7b207"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_algorithm.html#a30cf75b48d96d75634722d733ba7b207">inet::sctp::SctpAlgorithm::setAssociation</a></div><div class="ttdeci">void setAssociation(SctpAssociation *_assoc)</div><div class="ttdef"><b>Definition:</b> SctpAlgorithm.h:41</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa502a1c149ae9bad6c4bc61fdaf2e565"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa502a1c149ae9bad6c4bc61fdaf2e565">inet::sctp::SctpAssociation::processPacketDropArrived</a></div><div class="ttdeci">bool processPacketDropArrived(SctpPacketDropChunk *pktdrop)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3406</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac59cb1e3b98032fdcf1d2ac12c268f29">inet::sctp::SCTP_E_NO_MORE_OUTSTANDING</a></div><div class="ttdeci">@ SCTP_E_NO_MORE_OUTSTANDING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:76</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1b094d786c743c274b38f4d5a7b40fa3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1b094d786c743c274b38f4d5a7b40fa3">inet::sctp::SctpAssociation::startTimer</a></div><div class="ttdeci">void startTimer(cMessage *timer, const simtime_t &amp;timeout)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3675</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1abb95c5625118af8e012c452eede32be5"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1abb95c5625118af8e012c452eede32be5">inet::SCTP_I_CONNECTION_REFUSED</a></div><div class="ttdeci">@ SCTP_I_CONNECTION_REFUSED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:202</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2a0ae018474859b54f4ef2c4edd9831d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2a0ae018474859b54f4ef2c4edd9831d">inet::sctp::SctpStateVariables::dataChunksAdded</a></div><div class="ttdeci">uint16_t dataChunksAdded</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:659</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a992e5ae74dd0e474c175c5e8532548b0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a992e5ae74dd0e474c175c5e8532548b0">inet::sctp::SctpStateVariables::queueUpdate</a></div><div class="ttdeci">bool queueUpdate</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:583</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a9767ce44ef6719fda5bf62ec3e7f1144a5b624fb01c9f863862edf6e93aa2067d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a5b624fb01c9f863862edf6e93aa2067d">inet::sctp::MISSING_NAT_ENTRY</a></div><div class="ttdeci">@ MISSING_NAT_ENTRY</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:183</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a31b676ab1908f304a511e155b867375f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a31b676ab1908f304a511e155b867375f">inet::sctp::Sctp::getMaxInitRetrans</a></div><div class="ttdeci">int getMaxInitRetrans()</div><div class="ttdef"><b>Definition:</b> Sctp.h:255</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a0152b28825f0ed61145f42f5edd71903"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0152b28825f0ed61145f42f5edd71903">inet::sctp::SctpStateVariables::initReceived</a></div><div class="ttdeci">bool initReceived</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:566</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a6e8bbf5b52cdf31a408b4dd38045950d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a6e8bbf5b52cdf31a408b4dd38045950d">inet::sctp::Sctp::getInterfaceId</a></div><div class="ttdeci">int getInterfaceId()</div><div class="ttdef"><b>Definition:</b> Sctp.h:273</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent_html_a33ca7a18e93a64040585a8165ab83a49"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a33ca7a18e93a64040585a8165ab83a49">inet::sctp::SctpAssociation::BytesToBeSent::bytesToSend</a></div><div class="ttdeci">uint32_t bytesToSend</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:875</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdac026306800eda6fb439a5ce8162137f3"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdac026306800eda6fb439a5ce8162137f3">inet::SCTP_C_ACCEPT_SOCKET_ID</a></div><div class="ttdeci">@ SCTP_C_ACCEPT_SOCKET_ID</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:153</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae55963ef0a9559608905cb27d254e79f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae55963ef0a9559608905cb27d254e79f">inet::sctp::SctpAssociation::processInitArrived</a></div><div class="ttdeci">bool processInitArrived(SctpInitChunk *initChunk, int32_t sport, int32_t dport)</div><div class="ttdoc">Process incoming SCTP packets.</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:532</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a19f8fbdbbe120b9c5cf7311946796db5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a19f8fbdbbe120b9c5cf7311946796db5">inet::sctp::SctpAssociation::streamScheduler</a></div><div class="ttdeci">int32_t streamScheduler(SctpPathVariables *path, bool peek)</div><div class="ttdoc">Dealing with streams.</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:115</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5e6b940e850aef95dea41f32f7ded313a01d96d99802e13c09ec03af90234ec98"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313a01d96d99802e13c09ec03af90234ec98">inet::sctp::SctpStateVariables::CBSV_SenderOnly</a></div><div class="ttdeci">@ CBSV_SenderOnly</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:707</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a40bbf25c0272b05ab7496045e87df3db"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40bbf25c0272b05ab7496045e87df3db">inet::sctp::SctpStateVariables::resetPending</a></div><div class="ttdeci">bool resetPending</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:579</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a30c6382a4c5d5ca7e759536f5e50c8a2"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a30c6382a4c5d5ca7e759536f5e50c8a2">inet::sctp::SCTP_E_RCV_SHUTDOWN_ACK</a></div><div class="ttdeci">@ SCTP_E_RCV_SHUTDOWN_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:74</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6dca1bc3fd5a1010c101cfa468f58641"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6dca1bc3fd5a1010c101cfa468f58641">inet::sctp::SctpAssociation::ift</a></div><div class="ttdeci">IInterfaceTable * ift</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:928</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a0218b85f6c331356ae501d0b901307b7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a0218b85f6c331356ae501d0b901307b7">inet::sctp::Sctp::getNagle</a></div><div class="ttdeci">int getNagle()</div><div class="ttdef"><b>Definition:</b> Sctp.h:264</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daee7919c3f3e77cc5a0d7f016b4bbafc9">inet::sctp::ADD_OUTGOING</a></div><div class="ttdeci">@ ADD_OUTGOING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:146</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6e066debc44c806a5befa80f8d948d2e">inet::sctp::ASCONF</a></div><div class="ttdeci">@ ASCONF</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:121</div></div>
<div class="ttc" id="a_sctp_association_8h_html_ad0253f70ce80e86b5da3240da37f4334"><div class="ttname"><a href="_sctp_association_8h.html#ad0253f70ce80e86b5da3240da37f4334">SCTP_TIMEOUT_INIT_REXMIT</a></div><div class="ttdeci">#define SCTP_TIMEOUT_INIT_REXMIT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:237</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa76162a98d1d0e4e81ea5605b90443c7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa76162a98d1d0e4e81ea5605b90443c7">inet::sctp::SctpStateVariables::lastMsgWasFragment</a></div><div class="ttdeci">bool lastMsgWasFragment</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:654</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a93963ce93bbe330057484baf2fad59bf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a93963ce93bbe330057484baf2fad59bf">inet::sctp::SctpAssociation::sendOnAllPaths</a></div><div class="ttdeci">void sendOnAllPaths(SctpPathVariables *firstPath)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:269</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aafcd32b5bde60f82815cecfab6bbf672"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aafcd32b5bde60f82815cecfab6bbf672">inet::sctp::SctpAssociation::addOutStreams</a></div><div class="ttdeci">void addOutStreams(uint32_t outStreams)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:94</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a758c3dc1fd68c44879b2442e42368a83"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a758c3dc1fd68c44879b2442e42368a83">inet::sctp::SctpAssociation::process_RCV_Message</a></div><div class="ttdeci">bool process_RCV_Message(SctpHeader *sctpmsg, const L3Address &amp;src, const L3Address &amp;dest)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:67</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4ae612848e92da44ea7835e51ecc2b29"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4ae612848e92da44ea7835e51ecc2b29">inet::sctp::SctpAssociation::sackFrequency</a></div><div class="ttdeci">uint32_t sackFrequency</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:940</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab62ce1f7ed76bb1bf4efecfabfbf3491"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab62ce1f7ed76bb1bf4efecfabfbf3491">inet::sctp::SctpAssociation::createAuthChunk</a></div><div class="ttdeci">SctpAuthenticationChunk * createAuthChunk()</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:210</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a899e0c5a9422a556e99f7ad0aea9ab8e"><div class="ttname"><a href="_sctp_association_8h.html#a899e0c5a9422a556e99f7ad0aea9ab8e">SCTP_TIMEOUT_INIT_REXMIT_MAX</a></div><div class="ttdeci">#define SCTP_TIMEOUT_INIT_REXMIT_MAX</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:238</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2dc54802e19d5f8c2b2489f17c491819"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2dc54802e19d5f8c2b2489f17c491819">inet::sctp::SctpStateVariables::queuedSentBytes</a></div><div class="ttdeci">uint64_t queuedSentBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:613</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_af28532e63452a06ecdcea527ec79310e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#af28532e63452a06ecdcea527ec79310e">inet::sctp::SctpGapList::updateGapList</a></div><div class="ttdeci">bool updateGapList(const uint32_t receivedTsn, bool &amp;newChunkReceived, bool tsnIsRevokable=true)</div><div class="ttdef"><b>Definition:</b> SctpGapList.cc:356</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda6c1c367443e3751b12e0ddcecf0710ef"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda6c1c367443e3751b12e0ddcecf0710ef">inet::SCTP_C_RESET_ASSOC</a></div><div class="ttdeci">@ SCTP_C_RESET_ASSOC</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:145</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a9767ce44ef6719fda5bf62ec3e7f1144a1b2a469bc942e91a34bf08f5b333233c"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a1b2a469bc942e91a34bf08f5b333233c">inet::sctp::UNSUPPORTED_HMAC</a></div><div class="ttdeci">@ UNSUPPORTED_HMAC</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:182</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a90a028138343eab7ef1ace94d1c1b97b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90a028138343eab7ef1ace94d1c1b97b">inet::sctp::SctpStateVariables::initialPeerMsgRwnd</a></div><div class="ttdeci">uint32_t initialPeerMsgRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:828</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24af84be6972e9615e8b9f01480ea5afbaa">inet::sctp::SctpStateVariables::CCCV_CMTRPv1</a></div><div class="ttdeci">@ CCCV_CMTRPv1</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:749</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a536d27b13572880de90e411ef460e449"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a536d27b13572880de90e411ef460e449">inet::sctp::SctpAssociation::localAddressList</a></div><div class="ttdeci">AddressVector localAddressList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:930</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4f6a0d284775239f1399c88ae5745cf0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4f6a0d284775239f1399c88ae5745cf0">inet::sctp::SctpAssociation::sendStreams</a></div><div class="ttdeci">SctpSendStreamMap sendStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:959</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a748f73a78c42a3ceb40f4e40e5da7040"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a748f73a78c42a3ceb40f4e40e5da7040">inet::sctp::Sctp::assocStatMap</a></div><div class="ttdeci">AssocStatMap assocStatMap</div><div class="ttdef"><b>Definition:</b> Sctp.h:160</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87eacbf7496746c94739e2b59e494433428c"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eacbf7496746c94739e2b59e494433428c">inet::Ipv4Address::LOOPBACK</a></div><div class="ttdeci">@ LOOPBACK</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:76</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a8bf09bd16505af81a8a97c847e2e4928"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a8bf09bd16505af81a8a97c847e2e4928">inet::sctp::SctpGapList::getNumGaps</a></div><div class="ttdeci">uint32_t getNumGaps(const GapType type) const</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:100</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a9812393b37f092cf98d8517d3992b941"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a9812393b37f092cf98d8517d3992b941">inet::sctp::SCTP_E_TIMEOUT_INIT_TIMER</a></div><div class="ttdeci">@ SCTP_E_TIMEOUT_INIT_TIMER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:77</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af92417386541efe77342e7974fa428d2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af92417386541efe77342e7974fa428d2">inet::sctp::SctpAssociation::statisticsNumRevokableGapBlocksStored</a></div><div class="ttdeci">cOutVector * statisticsNumRevokableGapBlocksStored</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:977</div></div>
<div class="ttc" id="aclassinet_1_1_network_interface_html_af37d527247bf3ee8eacedb9dc25ebdbf"><div class="ttname"><a href="classinet_1_1_network_interface.html#af37d527247bf3ee8eacedb9dc25ebdbf">inet::NetworkInterface::findProtocolData</a></div><div class="ttdeci">const T * findProtocolData() const</div><div class="ttdoc">Returns the protocol data for the provided type or returns nullptr if no such protocol data is found.</div><div class="ttdef"><b>Definition:</b> NetworkInterface.h:299</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2209b3cd6c994a4561609adacc459314"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2209b3cd6c994a4561609adacc459314">inet::sctp::SctpAssociation::updateFastRecoveryStatus</a></div><div class="ttdeci">void updateFastRecoveryStatus(uint32_t lastTsnAck)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:578</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa82041ee1233507596042670fa0016763">inet::sctp::ABORT</a></div><div class="ttdeci">@ ABORT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:108</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab5a9c6759c51b9fe512fc0d7ffd793c1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab5a9c6759c51b9fe512fc0d7ffd793c1">inet::sctp::SctpAssociation::pmDataIsSentOn</a></div><div class="ttdeci">void pmDataIsSentOn(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2728</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac06ffc5eaca1ea3d7f3aa3129708fa9d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac06ffc5eaca1ea3d7f3aa3129708fa9d">inet::sctp::SctpStateVariables::numAddedOutStreams</a></div><div class="ttdeci">uint16_t numAddedOutStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:661</div></div>
<div class="ttc" id="aclassinet_1_1_l3_address_html_afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf"><div class="ttname"><a href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680aa88433697d71dc8f099cdf8437c35ebf">inet::L3Address::IPv4</a></div><div class="ttdeci">@ IPv4</div><div class="ttdef"><b>Definition:</b> L3Address.h:35</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a95baf21442b94f1cb338c943a9a54f18"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a95baf21442b94f1cb338c943a9a54f18">inet::sctp::SctpStateVariables::rpScaleBlockingTimeout</a></div><div class="ttdeci">bool rpScaleBlockingTimeout</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:758</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac0661ec442f2253970c1889d9debf3bd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac0661ec442f2253970c1889d9debf3bd">inet::sctp::SctpAssociation::isToBeAccepted</a></div><div class="ttdeci">bool isToBeAccepted() const</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1205</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a685f1682f68294dbb12e7953e02748a0"><div class="ttname"><a href="_sctp_association_8h.html#a685f1682f68294dbb12e7953e02748a0">SCTP_INIT_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_INIT_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:204</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aebc76f53db82e20817ddeadb5f90de0f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aebc76f53db82e20817ddeadb5f90de0f">inet::sctp::SctpAssociation::sendCookieAck</a></div><div class="ttdeci">void sendCookieAck(const L3Address &amp;dest)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1083</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac6a5d1aedf77cb2ba209fb0fd9584234"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac6a5d1aedf77cb2ba209fb0fd9584234">inet::sctp::SctpAssociation::process_OPEN_PASSIVE</a></div><div class="ttdeci">void process_OPEN_PASSIVE(SctpEventCode &amp;event, SctpCommandReq *sctpCommand, cMessage *msg)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:83</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4c2422fd17d4a8a31d429d52ecfbf621"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4c2422fd17d4a8a31d429d52ecfbf621">inet::sctp::SctpAssociation::recalculateOLIABasis</a></div><div class="ttdeci">void recalculateOLIABasis()</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:192</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab25b76a00912c97e3e28333d424f3a6a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab25b76a00912c97e3e28333d424f3a6a">inet::sctp::SctpStateVariables::asconfOutstanding</a></div><div class="ttdeci">bool asconfOutstanding</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:770</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a23cddb88654fff78ad0ac0f9cef36b2a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a23cddb88654fff78ad0ac0f9cef36b2a">inet::sctp::SctpStateVariables::ssLastDataChunkSizeSet</a></div><div class="ttdeci">bool ssLastDataChunkSizeSet</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:843</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae0afcaab320fc691c1a249f6cdc590e9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae0afcaab320fc691c1a249f6cdc590e9">inet::sctp::SctpAssociation::tsnGe</a></div><div class="ttdeci">static bool tsnGe(const uint32_t tsn1, const uint32_t tsn2)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1075</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0c09cc4a87fde8083748d7f353a39154"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0c09cc4a87fde8083748d7f353a39154">inet::sctp::SctpAssociation::pathMapSmallestLastTransmission</a></div><div class="ttdeci">static bool pathMapSmallestLastTransmission(const SctpPathVariables *left, const SctpPathVariables *right)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:148</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab412792a78fcfad8c859d66dbb0ae11e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab412792a78fcfad8c859d66dbb0ae11e">inet::sctp::SctpStateVariables::outgoingSackSeqNum</a></div><div class="ttdeci">uint32_t outgoingSackSeqNum</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:763</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a267185aa24a41da2593f26beadf099e7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a267185aa24a41da2593f26beadf099e7">inet::sctp::SctpAssociation::pushUlp</a></div><div class="ttdeci">void pushUlp()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1952</div></div>
<div class="ttc" id="a_sctp_8h_html_acfec864ec21a35e2576fd58b23169805"><div class="ttname"><a href="_sctp_8h.html#acfec864ec21a35e2576fd58b23169805">SCTP_UDP_PORT</a></div><div class="ttdeci">#define SCTP_UDP_PORT</div><div class="ttdef"><b>Definition:</b> Sctp.h:31</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9a01fb2d81e0d9b3fe15ddb1f7164ba2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9a01fb2d81e0d9b3fe15ddb1f7164ba2">inet::sctp::SctpAssociation::advRwnd</a></div><div class="ttdeci">cOutVector * advRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:945</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af9553ef6fb59111b5fcf4e3808834692"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af9553ef6fb59111b5fcf4e3808834692">inet::sctp::SctpAssociation::cwndUpdateBytesAcked</a></div><div class="ttdeci">void cwndUpdateBytesAcked(SctpPathVariables *path, uint32_t ackedBytes, bool ctsnaAdvanced)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:605</div></div>
<div class="ttc" id="anamespaceinet_1_1utils_html_a3e3ef67928a638b7e734578e246ba60b"><div class="ttname"><a href="namespaceinet_1_1utils.html#a3e3ef67928a638b7e734578e246ba60b">inet::utils::createOne</a></div><div class="ttdeci">cObject * createOne(const char *className, const char *defaultNamespace)</div><div class="ttdoc">Like cObjectFactory::createOne(), except it starts searching for the class in the given namespace.</div><div class="ttdef"><b>Definition:</b> INETUtils.cc:147</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a411562221e1e9a9875b4156cf6374379"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a411562221e1e9a9875b4156cf6374379">inet::sctp::SctpStateVariables::gapListOptimizationVariant</a></div><div class="ttdeci">uint32_t gapListOptimizationVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:674</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_afe7cd57ff1aad606556c59f7e18f93d2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#afe7cd57ff1aad606556c59f7e18f93d2">inet::sctp::SctpStateVariables::peerKeyVector</a></div><div class="ttdeci">uint8_t peerKeyVector[512]</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:816</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_path_variables_html_a7b38d2c01b6aa96561236c953dfb47e9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_path_variables.html#a7b38d2c01b6aa96561236c953dfb47e9">inet::sctp::SctpPathVariables::primaryPathCandidate</a></div><div class="ttdeci">bool primaryPathCandidate</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:281</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_a33f512fff08e79fda7557d1af4cd67c2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#a33f512fff08e79fda7557d1af4cd67c2">inet::sctp::SctpQueue::getSizeOfFirstChunk</a></div><div class="ttdeci">uint32_t getSizeOfFirstChunk(const L3Address &amp;remoteAddress)</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:224</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_algorithm_html_a04118fcb524502c1bc0fd938724e459b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_algorithm.html#a04118fcb524502c1bc0fd938724e459b">inet::sctp::SctpAlgorithm::initialize</a></div><div class="ttdeci">virtual void initialize()</div><div class="ttdef"><b>Definition:</b> SctpAlgorithm.h:48</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6cc5f43afac5711e681c53c90d48e9f6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6cc5f43afac5711e681c53c90d48e9f6">inet::sctp::SctpStateVariables::sendResponse</a></div><div class="ttdeci">uint16_t sendResponse</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:632</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a9767ce44ef6719fda5bf62ec3e7f1144a8c68e5692275f6033ad1d8ba63ebaaad"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a9767ce44ef6719fda5bf62ec3e7f1144a8c68e5692275f6033ad1d8ba63ebaaad">inet::sctp::INVALID_STREAM_IDENTIFIER</a></div><div class="ttdeci">@ INVALID_STREAM_IDENTIFIER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:180</div></div>
<div class="ttc" id="aclassinet_1_1_l3_address_html_ad9066a0c0be577b31aacb7d72b058795"><div class="ttname"><a href="classinet_1_1_l3_address.html#ad9066a0c0be577b31aacb7d72b058795">inet::L3Address::isUnspecified</a></div><div class="ttdeci">bool isUnspecified() const</div><div class="ttdef"><b>Definition:</b> L3Address.cc:138</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a2943808e0e877389c98f73b8543ecb16"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a2943808e0e877389c98f73b8543ecb16">inet::sctp::SctpStateVariables::MBV_AggressiveMaxBurst</a></div><div class="ttdeci">@ MBV_AggressiveMaxBurst</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:688</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5bbcc0605de9d3d46a0961298d2b0ff9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5bbcc0605de9d3d46a0961298d2b0ff9">inet::sctp::SctpStateVariables::peerAuth</a></div><div class="ttdeci">bool peerAuth</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:810</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5158df85f55fda561f51b2b60dfb8f4d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5158df85f55fda561f51b2b60dfb8f4d">inet::sctp::SctpAssociation::moveChunkToOtherPath</a></div><div class="ttdeci">void moveChunkToOtherPath(SctpDataVariables *chunk, SctpPathVariables *newPath)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3895</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a972213a4f4ca2c659b3d9a1f8bed6f4b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a972213a4f4ca2c659b3d9a1f8bed6f4b">inet::sctp::SctpAssociation::initAssociation</a></div><div class="ttdeci">void initAssociation(SctpOpenReq *openCmd)</div><div class="ttdoc">Utility: creates send/receive queues and sctpAlgorithm.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:508</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1b5e7fc8edd65e27a45a25f7003b13b0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1b5e7fc8edd65e27a45a25f7003b13b0">inet::sctp::SctpStateVariables::initialPrimaryPath</a></div><div class="ttdeci">L3Address initialPrimaryPath</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:594</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_af25727334af162eb6311ccde898edf54"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#af25727334af162eb6311ccde898edf54">inet::sctp::SctpGapList::tsnInGapList</a></div><div class="ttdeci">bool tsnInGapList(const uint32_t tsn) const</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:113</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1624d250b3f22c47c0d09b04ccd674d0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1624d250b3f22c47c0d09b04ccd674d0">inet::sctp::SctpAssociation::statisticsTotalSSthresh</a></div><div class="ttdeci">cOutVector * statisticsTotalSSthresh</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:967</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a84e4cdc3d3cb5afb8e8d7ff23b41870a"><div class="ttname"><a href="_sctp_association_8h.html#a84e4cdc3d3cb5afb8e8d7ff23b41870a">SCTP_ADD_IP_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_ADD_IP_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:222</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2e6b45a275b5b900c2c501f951c495dd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2e6b45a275b5b900c2c501f951c495dd">inet::sctp::SctpStateVariables::expectedStreamResetSequenceNumber</a></div><div class="ttdeci">uint32_t expectedStreamResetSequenceNumber</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:783</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda55d98a3165e2822df8a529a354e3238f"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda55d98a3165e2822df8a529a354e3238f">inet::SCTP_C_RECEIVE</a></div><div class="ttdeci">@ SCTP_C_RECEIVE</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:136</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5f74bc3426c565c3515c12bb4110dadb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f74bc3426c565c3515c12bb4110dadb">inet::sctp::SctpStateVariables::cmtUseDAC</a></div><div class="ttdeci">bool cmtUseDAC</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:729</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5219bd06f24b927174cbed3148aa6058"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5219bd06f24b927174cbed3148aa6058">inet::sctp::SctpStateVariables::cmtSmartReneging</a></div><div class="ttdeci">bool cmtSmartReneging</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:726</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a236ec76236fba9eee5b262bb4c270b88"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a236ec76236fba9eee5b262bb4c270b88">inet::sctp::SctpStateVariables::asconfChunk</a></div><div class="ttdeci">SctpAsconfChunk * asconfChunk</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:771</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af146523cc6a220c634b8e29924e446dd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af146523cc6a220c634b8e29924e446dd">inet::sctp::SctpAssociation::outboundStreams</a></div><div class="ttdeci">uint32_t outboundStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:934</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2397deb375d3da825a02c3962772b3de"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2397deb375d3da825a02c3962772b3de">inet::sctp::SctpStateVariables::ssPriorityMap</a></div><div class="ttdeci">std::map&lt; uint16_t, uint32_t &gt; ssPriorityMap</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:845</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1ac86bda582e97cea3531d33de119bfe32"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac86bda582e97cea3531d33de119bfe32">inet::SCTP_I_DATA</a></div><div class="ttdeci">@ SCTP_I_DATA</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:197</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a21b03eb88dc2d16feb420085909f66b1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a21b03eb88dc2d16feb420085909f66b1">inet::sctp::SctpAssociation::updateCounters</a></div><div class="ttdeci">int32_t updateCounters(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3704</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_abd7b1dad02570bd8bebe2a87175f94d8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#abd7b1dad02570bd8bebe2a87175f94d8">inet::sctp::SctpStateVariables::stopSending</a></div><div class="ttdeci">bool stopSending</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:587</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a91bf14261e7d93cfdb4f2276ba1f55a8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91bf14261e7d93cfdb4f2276ba1f55a8">inet::sctp::SctpStateVariables::cmtSmartFastRTX</a></div><div class="ttdeci">bool cmtSmartFastRTX</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:725</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_afd36d0627e26925acd433b1dd1fdd2bc"><div class="ttname"><a href="_i_udp-gates_8txt.html#afd36d0627e26925acd433b1dd1fdd2bc">PacketProtocolTag</a></div><div class="ttdeci">removed DscpReq Ipv4ControlInfo Ipv6ControlInfo up L3AddressInd DispatchProtocolReq L4PortInd Ipv4ControlInfo Ipv6ControlInfo down PacketProtocolTag</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:25</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions_html_a8c2bc71488fbd0df4381f4f11ddb16da"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a8c2bc71488fbd0df4381f4f11ddb16da">inet::sctp::SctpAssociation::SSFunctions::ssAddInStreams</a></div><div class="ttdeci">void(SctpAssociation::* ssAddInStreams)(uint32_t inStreams)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1290</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aba698b93dfd336e1911e8a478fa9ebb0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aba698b93dfd336e1911e8a478fa9ebb0">inet::sctp::SctpStateVariables::highSpeedCC</a></div><div class="ttdeci">bool highSpeedCC</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:743</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abf21656cc54419f3e8e6e303cea55f5f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abf21656cc54419f3e8e6e303cea55f5f">inet::sctp::SctpAssociation::processCookieAckArrived</a></div><div class="ttdeci">bool processCookieAckArrived()</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:890</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a61247836483b3253faed1a703b51d37b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a61247836483b3253faed1a703b51d37b">inet::sctp::SctpStateVariables::padding</a></div><div class="ttdeci">bool padding</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:822</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ae3e63420ed3719c2184786882d744b78"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3e63420ed3719c2184786882d744b78">inet::sctp::SctpStateVariables::resetOutStreams</a></div><div class="ttdeci">std::list&lt; uint16_t &gt; resetOutStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:790</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a7f22059ff6b1b5932b624677b918d9c6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7f22059ff6b1b5932b624677b918d9c6">inet::sctp::SctpGapList::setInitialCumAckTsn</a></div><div class="ttdeci">void setInitialCumAckTsn(const uint32_t cumAckTsn)</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:73</div></div>
<div class="ttc" id="a_sctp_association_8h_html_af1816a9d22c3f780777d311d6b8cf839"><div class="ttname"><a href="_sctp_association_8h.html#af1816a9d22c3f780777d311d6b8cf839">SCTP_SSN_TSN_RESET_REQUEST_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_SSN_TSN_RESET_REQUEST_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:218</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_ac341cc931a601436459672aaa2c27436"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#ac341cc931a601436459672aaa2c27436">inet::sctp::SctpQueue::getChunkFast</a></div><div class="ttdeci">SctpDataVariables * getChunkFast(const uint32_t tsn, bool &amp;firstTime)</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:121</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda01fd609688085ab357d444956c958da3"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda01fd609688085ab357d444956c958da3">inet::SCTP_C_ABORT</a></div><div class="ttdeci">@ SCTP_C_ABORT</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:134</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5fa53336ad9e16cd7d912e48a04a53a9fce"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa53336ad9e16cd7d912e48a04a53a9fce">inet::sctp::ERROR_DELETE_LAST_IP_ADDRESS</a></div><div class="ttdeci">@ ERROR_DELETE_LAST_IP_ADDRESS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:166</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa0fa6add3be942204fa124799dcf84e5f">inet::sctp::SHUTDOWN</a></div><div class="ttdeci">@ SHUTDOWN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:109</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a239745cfba75a46f1178c80e7d41571c">inet::sctp::SCTP_E_RCV_ABORT</a></div><div class="ttdeci">@ SCTP_E_RCV_ABORT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:69</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3aaaa40715dbf584b92f9d1bd984dd1505">inet::sctp::SCTP_E_CLOSE</a></div><div class="ttdeci">@ SCTP_E_CLOSE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:66</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42535e29cca5ac4be1bbd2950fc95740">inet::sctp::NOTHING_TO_DO</a></div><div class="ttdeci">@ NOTHING_TO_DO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:134</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2f2373779306343efcef24027fc2ad43"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2f2373779306343efcef24027fc2ad43">inet::sctp::SctpAssociation::SctpPathVariables</a></div><div class="ttdeci">friend class SctpPathVariables</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:856</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064dabab99d4f2829ffb45516472323358a54"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabab99d4f2829ffb45516472323358a54">inet::sctp::PERFORMED_WITH_OPTION</a></div><div class="ttdeci">@ PERFORMED_WITH_OPTION</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:154</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aac7908d9ee178d444be609632456705e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aac7908d9ee178d444be609632456705e">inet::sctp::SctpAssociation::fragmentOutboundDataMsgs</a></div><div class="ttdeci">void fragmentOutboundDataMsgs()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2428</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da49d2481bd61baef54d20e24f18b1035b"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da49d2481bd61baef54d20e24f18b1035b">inet::sctp::SSN_TSN_RESET_REQUEST_PARAMETER</a></div><div class="ttdeci">@ SSN_TSN_RESET_REQUEST_PARAMETER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:149</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_path_variables_html_a782bbeb20946f3aca18fc3575166655d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_path_variables.html#a782bbeb20946f3aca18fc3575166655d">inet::sctp::SctpPathVariables::vectorPathReceivedTsn</a></div><div class="ttdeci">cOutVector * vectorPathReceivedTsn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:394</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adb61c1febb0d9f4b1d539c716e31c893"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adb61c1febb0d9f4b1d539c716e31c893">inet::sctp::SctpAssociation::listening</a></div><div class="ttdeci">bool listening</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:901</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a20824834eb617dde35385bb715df3ebe"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20824834eb617dde35385bb715df3ebe">inet::sctp::SctpStateVariables::getPrimaryPathIndex</a></div><div class="ttdeci">const L3Address &amp; getPrimaryPathIndex() const</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:541</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a51b29effaca42ae02a7a9c8060db0f0b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a51b29effaca42ae02a7a9c8060db0f0b">inet::sctp::SctpStateVariables::numGapReports</a></div><div class="ttdeci">uint32_t numGapReports</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:593</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_af49baa7c4d8aefa3d97f5e9e3e376baf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#af49baa7c4d8aefa3d97f5e9e3e376baf">inet::sctp::SctpStateVariables::lastTransmission</a></div><div class="ttdeci">simtime_t lastTransmission</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:611</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a236f4e781733c6a58dcc311ea9b07be9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a236f4e781733c6a58dcc311ea9b07be9">inet::sctp::SctpAssociation::statisticsPeerRwnd</a></div><div class="ttdeci">cOutVector * statisticsPeerRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:974</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5faa9f826ff3ec07403856a679034f6fda3"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5faa9f826ff3ec07403856a679034f6fda3">inet::sctp::SUCCESS_INDICATION</a></div><div class="ttdeci">@ SUCCESS_INDICATION</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:165</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_shutdown_chunk_html_a9f5240f3060fd00798bb487fe8e3ac6f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_shutdown_chunk.html#a9f5240f3060fd00798bb487fe8e3ac6f">inet::sctp::SctpShutdownChunk::dup</a></div><div class="ttdeci">virtual SctpShutdownChunk * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader_m.h:1323</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a2c663e078f689c02c0d2e88f87bf3c70"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a2c663e078f689c02c0d2e88f87bf3c70">inet::sctp::Sctp::addLocalAddressToAllRemoteAddresses</a></div><div class="ttdeci">void addLocalAddressToAllRemoteAddresses(SctpAssociation *assoc, L3Address address, std::vector&lt; L3Address &gt; remAddresses)</div><div class="ttdef"><b>Definition:</b> Sctp.cc:704</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_algorithm_html_a714945e09714a86e441a84fb9d138189"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_algorithm.html#a714945e09714a86e441a84fb9d138189">inet::sctp::SctpAlgorithm::sendCommandInvoked</a></div><div class="ttdeci">virtual void sendCommandInvoked(SctpPathVariables *path)=0</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da9d94e51ef18eba548474b2fbb6b79a15"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9d94e51ef18eba548474b2fbb6b79a15">inet::sctp::REQUEST_IN_PROGRESS</a></div><div class="ttdeci">@ REQUEST_IN_PROGRESS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:138</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9ac508d3b527b24a06247b42a580c9d0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9ac508d3b527b24a06247b42a580c9d0">inet::sctp::SctpAssociation::peekAbandonedChunk</a></div><div class="ttdeci">SctpDataVariables * peekAbandonedChunk(const SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2380</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab11d47c00a91f6879c0852e110ef9cc2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab11d47c00a91f6879c0852e110ef9cc2">inet::sctp::SctpStateVariables::assocThroughput</a></div><div class="ttdeci">uint32_t assocThroughput</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:840</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a32261db46fc12453ad0cc633a3b22480"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32261db46fc12453ad0cc633a3b22480">inet::sctp::SctpStateVariables::messagesToPush</a></div><div class="ttdeci">uint32_t messagesToPush</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:623</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a21891e43647af15564361a0915fd54e3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a21891e43647af15564361a0915fd54e3">inet::sctp::SctpAssociation::process_TIMEOUT_ASCONF</a></div><div class="ttdeci">void process_TIMEOUT_ASCONF(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3742</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_ad8dede12465316eed6ef53a8816cbf68"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#ad8dede12465316eed6ef53a8816cbf68">inet::sctp::Sctp::setRtoMax</a></div><div class="ttdeci">void setRtoMax(double rtoMax)</div><div class="ttdef"><b>Definition:</b> Sctp.h:271</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa24144a310184ce1241a14c1ecaf63f31">inet::sctp::SCTP_S_SHUTDOWN_SENT</a></div><div class="ttdeci">@ SCTP_S_SHUTDOWN_SENT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:52</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a621532d30547db24e0ac8fd99def2c96"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a621532d30547db24e0ac8fd99def2c96">inet::sctp::SctpStateVariables::peerAllowsChunks</a></div><div class="ttdeci">bool peerAllowsChunks</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:827</div></div>
<div class="ttc" id="aclassinet_1_1_ipv6_address_html_aefe51e29a45bdb7502a5410e07c0c669a871bef210ccddd8ebd0de85332a7d95c"><div class="ttname"><a href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669a871bef210ccddd8ebd0de85332a7d95c">inet::Ipv6Address::MULTICAST</a></div><div class="ttdeci">@ MULTICAST</div><div class="ttdef"><b>Definition:</b> Ipv6Address.h:45</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1ac09e2e069a9d5f8ba91f6bd37617b104"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac09e2e069a9d5f8ba91f6bd37617b104">inet::SCTP_I_ESTABLISHED</a></div><div class="ttdeci">@ SCTP_I_ESTABLISHED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:199</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab81cdc03f4a43d45de3518b76b28abf7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab81cdc03f4a43d45de3518b76b28abf7">inet::sctp::SctpAssociation::handleChunkReportedAsAcked</a></div><div class="ttdeci">void handleChunkReportedAsAcked(uint32_t &amp;highestNewAck, simtime_t &amp;rttEstimation, SctpDataVariables *myChunk, SctpPathVariables *sackPath, const bool sackIsNonRevokable)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:1586</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3ffc7538d312f71e5d62e669225b372e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3ffc7538d312f71e5d62e669225b372e">inet::sctp::SctpAssociation::numberOfRemoteAddresses</a></div><div class="ttdeci">uint32_t numberOfRemoteAddresses</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:932</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a91480c6a04ee34f58bf9de28ccce2cac"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a91480c6a04ee34f58bf9de28ccce2cac">inet::sctp::SctpStateVariables::allowCMT</a></div><div class="ttdeci">bool allowCMT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:694</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a2f4edf7c4a68638cc2cf474e38aa20f7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a2f4edf7c4a68638cc2cf474e38aa20f7">inet::sctp::Sctp::setRtoInitial</a></div><div class="ttdeci">void setRtoInitial(double rtoInitial)</div><div class="ttdef"><b>Definition:</b> Sctp.h:269</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3833b2f5171b26f7c78f515806549548"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3833b2f5171b26f7c78f515806549548">inet::sctp::SctpAssociation::putInDeliveryQ</a></div><div class="ttdeci">void putInDeliveryQ(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1912</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0d6e069b19f8d9bd54621bb1f9df0a35"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0d6e069b19f8d9bd54621bb1f9df0a35">inet::sctp::SctpAssociation::T5_ShutdownGuardTimer</a></div><div class="ttdeci">cMessage * T5_ShutdownGuardTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:912</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaae08b3e5fb1672f0be11578e7f5cd03c0">inet::sctp::ASCONF_ACK</a></div><div class="ttdeci">@ ASCONF_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:117</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a00c78aa9db419fb12075715da0e895e2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a00c78aa9db419fb12075715da0e895e2">inet::sctp::SctpStateVariables::findPeerRequestNum</a></div><div class="ttdeci">bool findPeerRequestNum(uint32_t num)</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:505</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3abc6e81851678c76b64b9a173a3a8d540">inet::sctp::SCTP_E_RCV_VALID_COOKIE_ECHO</a></div><div class="ttdeci">@ SCTP_E_RCV_VALID_COOKIE_ECHO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:70</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a71e1d29c67cfa5e07426a22715d83349">inet::sctp::SctpStateVariables::CCCV_CMTRP_Test1</a></div><div class="ttdeci">@ CCCV_CMTRP_Test1</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:753</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_af43635c67e05cef61299c057676a27d4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#af43635c67e05cef61299c057676a27d4">inet::sctp::SctpStateVariables::cmtChunkReschedulingThreshold</a></div><div class="ttdeci">double cmtChunkReschedulingThreshold</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:722</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_afd8daa4de352b3ccfd7b39a947e2c297"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#afd8daa4de352b3ccfd7b39a947e2c297">inet::sctp::SctpAssociation::processOutAndResponseArrived</a></div><div class="ttdeci">SctpEventCode processOutAndResponseArrived(SctpOutgoingSsnResetRequestParameter *outRequestParam, SctpStreamResetResponseParameter *responseParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2757</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions_html_a745a9b53006f2637e74c28c44c702a7e"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a745a9b53006f2637e74c28c44c702a7e">inet::sctp::SctpAssociation::SSFunctions::ssUsableStreams</a></div><div class="ttdeci">int32_t(SctpAssociation::* ssUsableStreams)()</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1293</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a3c9dc85de1408803d7cdbb7c6ac0db7ca46e115ee4b3b2bebcad8d559cb3bbd95"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca46e115ee4b3b2bebcad8d559cb3bbd95">inet::sctp::SctpStateVariables::CCRV_None</a></div><div class="ttdeci">@ CCRV_None</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:715</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a251f25750d719b8232738dbf541291bb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a251f25750d719b8232738dbf541291bb">inet::sctp::SctpAssociation::sendShutdownAck</a></div><div class="ttdeci">void sendShutdownAck(const L3Address &amp;dest)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1107</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1values_html_a108df471d310062a178144ec45653798"><div class="ttname"><a href="namespaceinet_1_1units_1_1values.html#a108df471d310062a178144ec45653798">inet::units::values::s</a></div><div class="ttdeci">value&lt; double, units::s &gt; s</div><div class="ttdef"><b>Definition:</b> Units.h:1235</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a74d66adeb2de6c4ee1d056435316a6d7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a74d66adeb2de6c4ee1d056435316a6d7">inet::sctp::SctpStateVariables::streamsToReset</a></div><div class="ttdeci">std::list&lt; uint16_t &gt; streamsToReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:793</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ac248d90be39c398d316ba7bc0649b53a"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ac248d90be39c398d316ba7bc0649b53a">inet::sctp::SCTP_E_ACCEPT_SOCKET_ID</a></div><div class="ttdeci">@ SCTP_E_ACCEPT_SOCKET_ID</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:98</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a5cd94d6b80cfc4869b11f345c9de4d93"><div class="ttname"><a href="_sctp_association_8h.html#a5cd94d6b80cfc4869b11f345c9de4d93">SCTP_COMMON_HEADER</a></div><div class="ttdeci">#define SCTP_COMMON_HEADER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:203</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_acf0f7da85be8176cb9c15c5457360a20"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#acf0f7da85be8176cb9c15c5457360a20">inet::sctp::SctpAssociation::loadPacket</a></div><div class="ttdeci">void loadPacket(SctpPathVariables *pathVar, Ptr&lt; SctpHeader &gt; *sctpMsg, uint16_t *chunksAdded, uint16_t *dataChunksAdded, bool *authAdded)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:83</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1units_html_af52f6a778cd03659324d02848f8aaa33"><div class="ttname"><a href="namespaceinet_1_1units_1_1units.html#af52f6a778cd03659324d02848f8aaa33">inet::units::units::B</a></div><div class="ttdeci">intscale&lt; b, 1, 8 &gt; B</div><div class="ttdef"><b>Definition:</b> Units.h:1168</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ace89dca4ebfabfa3160ce2c2c9e18e88"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ace89dca4ebfabfa3160ce2c2c9e18e88">inet::sctp::SctpAssociation::choosePathForRetransmission</a></div><div class="ttdeci">SctpPathVariables * choosePathForRetransmission()</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:231</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87eaa75e82b3af26a506620ad7c9f3c8af44"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eaa75e82b3af26a506620ad7c9f3c8af44">inet::Ipv4Address::BROADCAST</a></div><div class="ttdeci">@ BROADCAST</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:78</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_ab17d7618f344517419348720e5d617b0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#ab17d7618f344517419348720e5d617b0">inet::sctp::SctpQueue::checkAndInsertChunk</a></div><div class="ttdeci">bool checkAndInsertChunk(const uint32_t key, SctpDataVariables *chunk)</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:39</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af28d79f5f20c4c8f2476455045740004"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af28d79f5f20c4c8f2476455045740004">inet::sctp::SctpAssociation::cumTsnAck</a></div><div class="ttdeci">cOutVector * cumTsnAck</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:946</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2ee9122668da0778c804ee1943728071"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2ee9122668da0778c804ee1943728071">inet::sctp::SctpAssociation::fairTimer</a></div><div class="ttdeci">bool fairTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:918</div></div>
<div class="ttc" id="aclassinet_1_1_i_routing_table_html_ac58e47cf1dbf907fa0432ed0028c7fff"><div class="ttname"><a href="classinet_1_1_i_routing_table.html#ac58e47cf1dbf907fa0432ed0028c7fff">inet::IRoutingTable::getOutputInterfaceForDestination</a></div><div class="ttdeci">virtual NetworkInterface * getOutputInterfaceForDestination(const L3Address &amp;dest) const =0</div><div class="ttdoc">Convenience function based on findBestMatchingRoute().</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a9f64badb66ee3fd75a2430a110f34f87"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9f64badb66ee3fd75a2430a110f34f87">inet::sctp::SctpStateVariables::cmtSlowPathRTTUpdate</a></div><div class="ttdeci">bool cmtSlowPathRTTUpdate</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:727</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a3a1a9fc1680d3becacc29a22dc81fc62"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a3a1a9fc1680d3becacc29a22dc81fc62">inet::sctp::Sctp::crcMode</a></div><div class="ttdeci">CrcMode crcMode</div><div class="ttdef"><b>Definition:</b> Sctp.h:206</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a14ea0282200225bc44289185f5bdc91a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a14ea0282200225bc44289185f5bdc91a">inet::sctp::SctpAssociation::retransmissionQ</a></div><div class="ttdeci">SctpQueue * retransmissionQ</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:958</div></div>
<div class="ttc" id="a_sctp_association_8h_html_af2bfa081c6dcf4411e925e156155fff1"><div class="ttname"><a href="_sctp_association_8h.html#af2bfa081c6dcf4411e925e156155fff1">SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_OUTGOING_RESET_REQUEST_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:216</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_path_variables_html_a4d8d172128eead28926035855605dbb9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_path_variables.html#a4d8d172128eead28926035855605dbb9">inet::sctp::SctpPathVariables::activePath</a></div><div class="ttdeci">bool activePath</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:278</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda87ed3b0b287e0613037c53b54c8bfdac"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda87ed3b0b287e0613037c53b54c8bfdac">inet::SCTP_C_SEND_ORDERED</a></div><div class="ttdeci">@ SCTP_C_SEND_ORDERED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:137</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5a9b44631a365fd3d4a8beb844fb35c73d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a9b44631a365fd3d4a8beb844fb35c73d">inet::sctp::PATH_MAP_TO_PATH</a></div><div class="ttdeci">@ PATH_MAP_TO_PATH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:200</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1f12f7d2ca30cc30e15bae5fec41822a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1f12f7d2ca30cc30e15bae5fec41822a">inet::sctp::SctpAssociation::retransmitAsconf</a></div><div class="ttdeci">void retransmitAsconf()</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:158</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a47020d2c77d51aca356dce24fee4ed78"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47020d2c77d51aca356dce24fee4ed78">inet::sctp::SctpStateVariables::sizeKeyVector</a></div><div class="ttdeci">uint32_t sizeKeyVector</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:815</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acfc5fc93f2e3e10d0a6a9d25c16a957e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acfc5fc93f2e3e10d0a6a9d25c16a957e">inet::sctp::SctpStateVariables::streamResetSequenceNumber</a></div><div class="ttdeci">uint32_t streamResetSequenceNumber</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:782</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af93dfe0405bd90fefb8e385fcb6471b5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af93dfe0405bd90fefb8e385fcb6471b5">inet::sctp::SctpAssociation::typeInOwnChunkList</a></div><div class="ttdeci">bool typeInOwnChunkList(uint16_t type)</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:287</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a790979ee47faf670a15f7bca44f0a88f"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a790979ee47faf670a15f7bca44f0a88f">inet::SCTP_I_CONNECTION_RESET</a></div><div class="ttdeci">@ SCTP_I_CONNECTION_RESET</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:203</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a34c6101299ca6658c48834e679883867"><div class="ttname"><a href="_sctp_association_8h.html#a34c6101299ca6658c48834e679883867">ADD_PADDING</a></div><div class="ttdeci">#define ADD_PADDING(x)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:252</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5a301bcf628dec5ad6b443e660dce336a6"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a301bcf628dec5ad6b443e660dce336a6">inet::sctp::PRIORITY</a></div><div class="ttdeci">@ PRIORITY</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:197</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a7d78c14307263b403b73da4009a90daf"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7d78c14307263b403b73da4009a90daf">inet::sctp::SCTP_E_RCV_INIT_ACK</a></div><div class="ttdeci">@ SCTP_E_RCV_INIT_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:71</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da1a32e77bc165d91a2e36aeeffafa0f77">inet::sctp::STREAM_RESET_RESPONSE_PARAMETER</a></div><div class="ttdeci">@ STREAM_RESET_RESPONSE_PARAMETER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:150</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5c6799293e10156c3b6a2cbed30fa931"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5c6799293e10156c3b6a2cbed30fa931">inet::sctp::SctpAssociation::processAsconfArrived</a></div><div class="ttdeci">SctpEventCode processAsconfArrived(SctpAsconfChunk *asconfChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3170</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9aaeb7eb0852411ee287c201c2629505"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9aaeb7eb0852411ee287c201c2629505">inet::sctp::SctpAssociation::sctpAlgorithm</a></div><div class="ttdeci">SctpAlgorithm * sctpAlgorithm</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:961</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_html_afa299d576eaf56838cd8462ae362a771"><div class="ttname"><a href="classinet_1_1_protocol.html#afa299d576eaf56838cd8462ae362a771">inet::Protocol::udp</a></div><div class="ttdeci">static const Protocol udp</div><div class="ttdef"><b>Definition:</b> Protocol.h:117</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa2d9dde04457cd20eaa66b7da11a5c909"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa2d9dde04457cd20eaa66b7da11a5c909">inet::sctp::SHUTDOWN_ACK</a></div><div class="ttdeci">@ SHUTDOWN_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:110</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aeaeb74282eb3e681606fb6fe5a5064cf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aeaeb74282eb3e681606fb6fe5a5064cf">inet::sctp::SctpAssociation::getNextAddress</a></div><div class="ttdeci">const L3Address &amp; getNextAddress(const SctpPathVariables *oldPath) const</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1220</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a16c4e8cb1c0a81d76e880add678aed1f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a16c4e8cb1c0a81d76e880add678aed1f">inet::sctp::SctpAssociation::fsm</a></div><div class="ttdeci">cFSM * fsm</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:954</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_queue_counter_html_a3c17ef40c0f3083b5d91a586379a3d67"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#a3c17ef40c0f3083b5d91a586379a3d67">inet::sctp::SctpAssociation::QueueCounter::bookedTransQ</a></div><div class="ttdeci">CounterMap bookedTransQ</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:868</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a787384414534b12fdf3053011c3a267c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a787384414534b12fdf3053011c3a267c">inet::sctp::SctpAssociation::remotePort</a></div><div class="ttdeci">uint16_t remotePort</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:905</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda3ec64cfc3dc178de53f0d04dbeb97851"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda3ec64cfc3dc178de53f0d04dbeb97851">inet::SCTP_C_QUEUE_BYTES_LIMIT</a></div><div class="ttdeci">@ SCTP_C_QUEUE_BYTES_LIMIT</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:140</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a564753009f1815d4b34f23485f7538a9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a564753009f1815d4b34f23485f7538a9">inet::sctp::SctpAssociation::process_ASSOCIATE</a></div><div class="ttdeci">void process_ASSOCIATE(SctpEventCode &amp;event, SctpCommandReq *sctpCommand, cMessage *msg)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:27</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a4bc1e2f07559f2f4be3c2bbd079247a0a9d1baba3f8225cf159988b9930af975e"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0a9d1baba3f8225cf159988b9930af975e">inet::sctp::PR_TTL</a></div><div class="ttdeci">@ PR_TTL</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:127</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aece48727b9d9e191872e5dd84215f850"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aece48727b9d9e191872e5dd84215f850">inet::sctp::SctpStateVariables::lastTsnReceived</a></div><div class="ttdeci">uint32_t lastTsnReceived</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:606</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a66c6e9fd11becfe164ad0882bf2d5a3f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a66c6e9fd11becfe164ad0882bf2d5a3f">inet::sctp::SctpStateVariables::dupList</a></div><div class="ttdeci">std::list&lt; uint32_t &gt; dupList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:598</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a98be62c7ab237a7fb1537b9b3b2ff0c7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a98be62c7ab237a7fb1537b9b3b2ff0c7">inet::sctp::SctpStateVariables::strictCwndBooking</a></div><div class="ttdeci">bool strictCwndBooking</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:734</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa84c87b11a0f704ebb66354638b6e0c36">inet::sctp::INIT</a></div><div class="ttdeci">@ INIT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:103</div></div>
<div class="ttc" id="a_changes-20051129_8txt_html_a974896d9568f55fd56da7b21422ba4df"><div class="ttname"><a href="_changes-20051129_8txt.html#a974896d9568f55fd56da7b21422ba4df">if</a></div><div class="ttdeci">if(cwndVector) cwndVector -&gt; record(state-&gt;snd_cwnd)</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1aeea0b34cfe78c702d3e0f7065dec3a56"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aeea0b34cfe78c702d3e0f7065dec3a56">inet::SCTP_I_SHUTDOWN_RECEIVED</a></div><div class="ttdeci">@ SCTP_I_SHUTDOWN_RECEIVED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:209</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab8130c36c0dbd49dd8700e58b1361413"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab8130c36c0dbd49dd8700e58b1361413">inet::sctp::SctpAssociation::initCcParameters</a></div><div class="ttdeci">void initCcParameters(SctpPathVariables *path)</div><div class="ttdoc">SctpCcFunctions.</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:397</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a954e3b53fb5a8a1b228d1c489416ce97"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a954e3b53fb5a8a1b228d1c489416ce97">inet::sctp::SctpAssociation::initInboundStreams</a></div><div class="ttdeci">uint32_t initInboundStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:935</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdaeec02eb1d8486459c966f9782b24c5fa"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdaeec02eb1d8486459c966f9782b24c5fa">inet::SCTP_C_NO_OUTSTANDING</a></div><div class="ttdeci">@ SCTP_C_NO_OUTSTANDING</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:143</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a414c27350b973d536c88333c15d35079"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a414c27350b973d536c88333c15d35079">inet::sctp::SctpStateVariables::initRexmitTimeout</a></div><div class="ttdeci">simtime_t initRexmitTimeout</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:640</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6bb86dde6ecb7441d0372825fcaebd29"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6bb86dde6ecb7441d0372825fcaebd29">inet::sctp::SctpStateVariables::bufferedMessages</a></div><div class="ttdeci">uint32_t bufferedMessages</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:831</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2bb59804a3cc82c3e9621fb6eed5f579"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2bb59804a3cc82c3e9621fb6eed5f579">inet::sctp::SctpAssociation::T2_ShutdownTimer</a></div><div class="ttdeci">cMessage * T2_ShutdownTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:911</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab965a1aacd6125cbc03c56aea8394eed"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab965a1aacd6125cbc03c56aea8394eed">inet::sctp::SctpAssociation::getSortedPathMap</a></div><div class="ttdeci">std::vector&lt; SctpPathVariables * &gt; getSortedPathMap()</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:121</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab66fa8ead131f80178540999123493bb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab66fa8ead131f80178540999123493bb">inet::sctp::SctpAssociation::assocBestPaths</a></div><div class="ttdeci">SctpPathCollection assocBestPaths</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:891</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a83298b0154764da12c49c90fea2ea11a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a83298b0154764da12c49c90fea2ea11a">inet::sctp::SctpAssociation::sendToApp</a></div><div class="ttdeci">void sendToApp(cMessage *msg)</div><div class="ttdoc">Utility: sends packet to application.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:501</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a4bc1e2f07559f2f4be3c2bbd079247a0a86aa7905ff31733e5431f577bc3771ee"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0a86aa7905ff31733e5431f577bc3771ee">inet::sctp::PR_PRIO</a></div><div class="ttdeci">@ PR_PRIO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:129</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae396b2ec388b4c116f327df91e981fa2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae396b2ec388b4c116f327df91e981fa2">inet::sctp::SctpAssociation::bytes</a></div><div class="ttdeci">BytesToBeSent bytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:952</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a4c7679960000a1b643a11a592d4bae58"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a4c7679960000a1b643a11a592d4bae58">inet::SCTP_I_PEER_CLOSED</a></div><div class="ttdeci">@ SCTP_I_PEER_CLOSED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:200</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a93bf48f842d1b6f71b71b7552aa49e4e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a93bf48f842d1b6f71b71b7552aa49e4e">inet::sctp::SctpAssociation::compareRandom</a></div><div class="ttdeci">bool compareRandom()</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:226</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdab694e16feea5cac24c59c66a9a66df07"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdab694e16feea5cac24c59c66a9a66df07">inet::SCTP_C_ASSOCIATE</a></div><div class="ttdeci">@ SCTP_C_ASSOCIATE</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:130</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac33f00c88f903d411242bc71ed01fcdb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac33f00c88f903d411242bc71ed01fcdb">inet::sctp::SctpAssociation::chunkToInt</a></div><div class="ttdeci">static uint16_t chunkToInt(const char *type)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:237</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a80aa9468729c1d93fcdf73784e6a3ecf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80aa9468729c1d93fcdf73784e6a3ecf">inet::sctp::SctpStateVariables::localMsgRwnd</a></div><div class="ttdeci">uint32_t localMsgRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:829</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab39593aedb35db4899de57772116e96a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab39593aedb35db4899de57772116e96a">inet::sctp::SctpAssociation::sendPacketDrop</a></div><div class="ttdeci">void sendPacketDrop(const bool flag)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1243</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a97e7673c4faf6f500d3ddd4bb9f0b20b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a97e7673c4faf6f500d3ddd4bb9f0b20b">inet::sctp::SctpStateVariables::cmtBufferSplitVariant</a></div><div class="ttdeci">BufferSplitVariant cmtBufferSplitVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:711</div></div>
<div class="ttc" id="anamespaceinet_html_a76bc5c89148708a4d99dba04bd76f6ca"><div class="ttname"><a href="namespaceinet.html#a76bc5c89148708a4d99dba04bd76f6ca">inet::insertTransportProtocolHeader</a></div><div class="ttdeci">void insertTransportProtocolHeader(Packet *packet, const Protocol &amp;protocol, const Ptr&lt; TransportHeaderBase &gt; &amp;header)</div><div class="ttdef"><b>Definition:</b> L4Tools.cc:77</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad27831e3305624d4d4ab806a4260d82a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad27831e3305624d4d4ab806a4260d82a">inet::sctp::SctpAssociation::FairStopTimer</a></div><div class="ttdeci">cMessage * FairStopTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:922</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a32e1086f7dc43a20174dfc9e6903625e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a32e1086f7dc43a20174dfc9e6903625e">inet::sctp::SctpAssociation::streamSchedulerFCFS</a></div><div class="ttdeci">int32_t streamSchedulerFCFS(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:428</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aadd435f60ca7f9bc380f6667afd6dcb3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aadd435f60ca7f9bc380f6667afd6dcb3">inet::sctp::SctpAssociation::unorderedQueueEmptyOfStream</a></div><div class="ttdeci">bool unorderedQueueEmptyOfStream(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:90</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2ff59bb83c21a642dc733e1c6355a62c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2ff59bb83c21a642dc733e1c6355a62c">inet::sctp::SctpStateVariables::cookieChunk</a></div><div class="ttdeci">SctpCookieEchoChunk * cookieChunk</div><div class="ttdoc">pointer to the cookie chunk data structure (for retransmissions)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:644</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a89d1e5ac795c5b90d021198fbf153dc2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a89d1e5ac795c5b90d021198fbf153dc2">inet::sctp::SctpStateVariables::stopReading</a></div><div class="ttdeci">bool stopReading</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:588</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daeb96f23a9b0155b031799551a3380786">inet::sctp::DEFERRED</a></div><div class="ttdeci">@ DEFERRED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:140</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a719c4d87ccd9f895d77351754d47d4ad"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a719c4d87ccd9f895d77351754d47d4ad">inet::sctp::SctpAssociation::chunkReschedulingControl</a></div><div class="ttdeci">void chunkReschedulingControl(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:330</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a8275718c0c53580427cebef83643b601"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a8275718c0c53580427cebef83643b601">inet::sctp::Sctp::setRtoMin</a></div><div class="ttdeci">void setRtoMin(double rtoMin)</div><div class="ttdef"><b>Definition:</b> Sctp.h:270</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7c7837d52fa05d93bc699e3ae648757e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7c7837d52fa05d93bc699e3ae648757e">inet::sctp::SctpAssociation::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:903</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a3aeb03eaba88c9681ecb920f24c689d2"><div class="ttname"><a href="_sctp_association_8h.html#a3aeb03eaba88c9681ecb920f24c689d2">SCTP_COOKIE_LENGTH</a></div><div class="ttdeci">#define SCTP_COOKIE_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:232</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8aedbb1eceb04bbb44e5ccc2500670f3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8aedbb1eceb04bbb44e5ccc2500670f3">inet::sctp::SctpAssociation::ssModule</a></div><div class="ttdeci">uint16_t ssModule</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1296</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24afb1604ade56d4c9b4669ba10d8695e01">inet::sctp::SctpStateVariables::CCCV_CMT_OLIA</a></div><div class="ttdeci">@ CCCV_CMT_OLIA</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:752</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_aad67a8054e2a5d1783b8c7b312c47b39"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#aad67a8054e2a5d1783b8c7b312c47b39">inet::sctp::SctpAssociation::CCFunctions::ccUpdateMaxBurst</a></div><div class="ttdeci">void(SctpAssociation::* ccUpdateMaxBurst)(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:884</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_afcd780b77f039682d53332d8f0fe4225"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#afcd780b77f039682d53332d8f0fe4225">inet::sctp::SctpStateVariables::peerRequestType</a></div><div class="ttdeci">uint16_t peerRequestType</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:798</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a94e89f0ebdec7349f5fac48e40a7cd5fa18343c8d8e6c68549fde3d0973218469"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a94e89f0ebdec7349f5fac48e40a7cd5fa18343c8d8e6c68549fde3d0973218469">inet::sctp::ERROR_DELETE_SOURCE_ADDRESS</a></div><div class="ttdeci">@ ERROR_DELETE_SOURCE_ADDRESS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:167</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5e6b940e850aef95dea41f32f7ded313adadee70e72b1c8898213cc754eca0dcb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313adadee70e72b1c8898213cc754eca0dcb">inet::sctp::SctpStateVariables::CBSV_None</a></div><div class="ttdeci">@ CBSV_None</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:706</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a46c91449b399efe7c36b0f7025e52eee"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a46c91449b399efe7c36b0f7025e52eee">inet::sctp::SctpAssociation::processResetResponseArrived</a></div><div class="ttdeci">void processResetResponseArrived(SctpStreamResetResponseParameter *responseParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2518</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a219a12e64f7c8f1da09e39a37f57803c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a219a12e64f7c8f1da09e39a37f57803c">inet::sctp::SctpStateVariables::resetInfo</a></div><div class="ttdeci">SctpResetReq * resetInfo</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:797</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5c60d1b8136a43b085fa1dca0262cf1e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5c60d1b8136a43b085fa1dca0262cf1e">inet::sctp::SctpAssociation::stopTimers</a></div><div class="ttdeci">void stopTimers()</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3659</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_1_1_assoc_stat_html_a8bf23fc0cd8aed4f5058051f6a7bc392"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_1_1_assoc_stat.html#a8bf23fc0cd8aed4f5058051f6a7bc392">inet::sctp::Sctp::AssocStat::numFastRtx</a></div><div class="ttdeci">uint32_t numFastRtx</div><div class="ttdef"><b>Definition:</b> Sctp.h:130</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a79ee1ed58791cd6e1129b7fc8ebbac6e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a79ee1ed58791cd6e1129b7fc8ebbac6e">inet::sctp::SctpAssociation::sendStreamResetRequest</a></div><div class="ttdeci">void sendStreamResetRequest(SctpResetReq *info)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:512</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_a48fbb6195197e37d9387106612812aa0"><div class="ttname"><a href="_i_udp-gates_8txt.html#a48fbb6195197e37d9387106612812aa0">type</a></div><div class="ttdeci">removed type</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:7</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_a18ac22edfbdcfb6fde6863fc329c5e2e"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#a18ac22edfbdcfb6fde6863fc329c5e2e">inet::sctp::SctpAssociation::CCFunctions::ccUpdateBytesAcked</a></div><div class="ttdeci">void(SctpAssociation::* ccUpdateBytesAcked)(SctpPathVariables *path, const uint32_t ackedBytes, const bool ctsnaAdvanced)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:885</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aad3430cc8dfc8a168ee6542215199f29"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aad3430cc8dfc8a168ee6542215199f29">inet::sctp::SctpAssociation::chunkHasBeenAcked</a></div><div class="ttdeci">bool chunkHasBeenAcked(const SctpDataVariables *chunk) const</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1450</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a961124aea1654c5c8c384898fa856eba"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a961124aea1654c5c8c384898fa856eba">inet::sctp::SctpAssociation::process_SEND</a></div><div class="ttdeci">void process_SEND(SctpEventCode &amp;event, SctpCommandReq *sctpCommand, cMessage *msg)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:126</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acabb7f59ac03ea07168cd0b19dd88e35"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acabb7f59ac03ea07168cd0b19dd88e35">inet::sctp::SctpStateVariables::lastTsnAck</a></div><div class="ttdeci">uint32_t lastTsnAck</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:604</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4542d799de5fe5e9822357fa52575f6d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4542d799de5fe5e9822357fa52575f6d">inet::sctp::SctpAssociation::handleChunkReportedAsMissing</a></div><div class="ttdeci">void handleChunkReportedAsMissing(const SctpSackChunk *sackChunk, const uint32_t highestNewAck, SctpDataVariables *myChunk, SctpPathVariables *sackPath)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:1688</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a9da70ecf5e5a2632b264df02da2379f9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a9da70ecf5e5a2632b264df02da2379f9">inet::sctp::Sctp::removeRemoteAddressFromAllAssociations</a></div><div class="ttdeci">void removeRemoteAddressFromAllAssociations(SctpAssociation *assoc, L3Address address, std::vector&lt; L3Address &gt; locAddresses)</div><div class="ttdef"><b>Definition:</b> Sctp.cc:758</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a7d70fa5fb91c20b6da325883940d349f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7d70fa5fb91c20b6da325883940d349f">inet::sctp::SctpStateVariables::cmtCUCVariant</a></div><div class="ttdeci">CUCVariant cmtCUCVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:703</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a557ff655e14942284308ed1832ab61b1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a557ff655e14942284308ed1832ab61b1">inet::sctp::SctpGapList::removeFromGapList</a></div><div class="ttdeci">void removeFromGapList(const uint32_t removedTsn)</div><div class="ttdef"><b>Definition:</b> SctpGapList.cc:348</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda42601c1d54b267b993596568486b40c1"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda42601c1d54b267b993596568486b40c1">inet::SCTP_C_QUEUE_MSGS_LIMIT</a></div><div class="ttdeci">@ SCTP_C_QUEUE_MSGS_LIMIT</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:141</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a9c6ffb07a102ad9c69467cc83a375e1d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9c6ffb07a102ad9c69467cc83a375e1d">inet::sctp::SctpStateVariables::swsLimit</a></div><div class="ttdeci">uint32_t swsLimit</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:653</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8366ea5ede4bdb6b86a68e179e437821"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8366ea5ede4bdb6b86a68e179e437821">inet::sctp::SctpAssociation::sendInitAck</a></div><div class="ttdeci">void sendInitAck(SctpInitChunk *initchunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:772</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a45c54b3cf6287b3ae245c6c2080e6555"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a45c54b3cf6287b3ae245c6c2080e6555">inet::sctp::SctpStateVariables::fragPoint</a></div><div class="ttdeci">uint32_t fragPoint</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:618</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_af793d2b24e030f93df4c6c7928ba7ad6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#af793d2b24e030f93df4c6c7928ba7ad6">inet::sctp::SctpStateVariables::getNumRequestsNotPerformed</a></div><div class="ttdeci">uint16_t getNumRequestsNotPerformed()</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:540</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a93ba6306d538f42833980406ab02c7eb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a93ba6306d538f42833980406ab02c7eb">inet::sctp::SctpAssociation::makeRoomForTsn</a></div><div class="ttdeci">bool makeRoomForTsn(const uint32_t tsn, const uint32_t length, const bool uBit)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2154</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abeb4ef5900ac3d0f78ea3b40e177c55b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abeb4ef5900ac3d0f78ea3b40e177c55b">inet::sctp::SctpAssociation::makeVarFromMsg</a></div><div class="ttdeci">SctpDataVariables * makeVarFromMsg(SctpDataChunk *datachunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2245</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a57e6b5eada23a24f7e1ef9a7c451d034"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a57e6b5eada23a24f7e1ef9a7c451d034">inet::sctp::SctpStateVariables::cmtSmartT3Reset</a></div><div class="ttdeci">bool cmtSmartT3Reset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:724</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea855bba1158f64732ded07b23dc39d6ea"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea855bba1158f64732ded07b23dc39d6ea">inet::Ipv4Address::RESERVED</a></div><div class="ttdeci">@ RESERVED</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:83</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry_html_a8c4222189fec0791551a4a790bfb222b"><div class="ttname"><a href="structinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry.html#a8c4222189fec0791551a4a790bfb222b">inet::sctp::HighSpeedCwndAdjustmentEntry::increaseFactor</a></div><div class="ttdeci">double increaseFactor</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:33</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae7cb4e1207e6f6fc4765a77ca177ce65"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae7cb4e1207e6f6fc4765a77ca177ce65">inet::sctp::SctpAssociation::typeInChunkList</a></div><div class="ttdeci">bool typeInChunkList(uint16_t type)</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:277</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5b63221b321be5ea8cfd43f89ec9654d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b63221b321be5ea8cfd43f89ec9654d">inet::sctp::SctpStateVariables::rpMinCwnd</a></div><div class="ttdeci">uint32_t rpMinCwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:759</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a9d5db6b670a371d3a3a1b28c51358216"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9d5db6b670a371d3a3a1b28c51358216">inet::sctp::SctpStateVariables::lastThroughputTime</a></div><div class="ttdeci">simtime_t lastThroughputTime</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:837</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af43f95b0c78e4354d6a8ce48ef61363b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af43f95b0c78e4354d6a8ce48ef61363b">inet::sctp::SctpAssociation::createForwardTsnChunk</a></div><div class="ttdeci">SctpForwardTsnChunk * createForwardTsnChunk(const L3Address &amp;pid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1349</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2b0f4c73581b4bf47d1855b361a2debf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b0f4c73581b4bf47d1855b361a2debf">inet::sctp::SctpStateVariables::peerTieTag</a></div><div class="ttdeci">uint8_t peerTieTag[32]</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:627</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a98a59db4aaf7f9d0d8a5127de2c97a37"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a98a59db4aaf7f9d0d8a5127de2c97a37">inet::sctp::Sctp::getMaxInitRetransTimeout</a></div><div class="ttdeci">int getMaxInitRetransTimeout()</div><div class="ttdef"><b>Definition:</b> Sctp.h:256</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a16072b0899c7e175dbe261538668acf4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a16072b0899c7e175dbe261538668acf4">inet::sctp::SctpAssociation::statisticsTotalBandwidth</a></div><div class="ttdeci">cOutVector * statisticsTotalBandwidth</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:969</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa7770ad5df5a4d7714f09232cfadd5b5b">inet::sctp::SCTP_S_COOKIE_ECHOED</a></div><div class="ttdeci">@ SCTP_S_COOKIE_ECHOED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:49</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9035fccfd5964567bad11699c2d65727"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9035fccfd5964567bad11699c2d65727">inet::sctp::SctpAssociation::status</a></div><div class="ttdeci">int32_t status</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:937</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent_html_a5dc2430fb77d460bb8c0e52fced91724"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_bytes_to_be_sent.html#a5dc2430fb77d460bb8c0e52fced91724">inet::sctp::SctpAssociation::BytesToBeSent::packet</a></div><div class="ttdeci">bool packet</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:874</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aaa5106db3c93b3475c32a2e82a533de5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aaa5106db3c93b3475c32a2e82a533de5">inet::sctp::SctpAssociation::resetExpectedSsns</a></div><div class="ttdeci">void resetExpectedSsns()</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:884</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3af6811b1e92009e65a2a114c6a8a35625"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3af6811b1e92009e65a2a114c6a8a35625">inet::sctp::SCTP_E_RESET_ASSOC</a></div><div class="ttdeci">@ SCTP_E_RESET_ASSOC</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:92</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8313b1d723431c43b4585e18d572f595"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8313b1d723431c43b4585e18d572f595">inet::sctp::SctpAssociation::calculateRcvBuffer</a></div><div class="ttdeci">void calculateRcvBuffer()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:47</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad3776409de1d71ba9fc2d10a5db7b029"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad3776409de1d71ba9fc2d10a5db7b029">inet::sctp::SctpAssociation::increaseOutstandingBytes</a></div><div class="ttdeci">void increaseOutstandingBytes(SctpDataVariables *chunk, SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:20</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af56f988b0970d1227523ebeded0190e7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af56f988b0970d1227523ebeded0190e7">inet::sctp::SctpAssociation::rpPathBlockingControl</a></div><div class="ttdeci">int32_t rpPathBlockingControl(SctpPathVariables *path, double reduction)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:410</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a33073b078bcbd03b6bb4974e3c8683ab"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a33073b078bcbd03b6bb4974e3c8683ab">inet::sctp::SctpStateVariables::rpPathBlocking</a></div><div class="ttdeci">bool rpPathBlocking</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:757</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a83567bad02a1f257dc2288f7ffc1d838"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a83567bad02a1f257dc2288f7ffc1d838">inet::sctp::SctpAssociation::sendInit</a></div><div class="ttdeci">void sendInit()</div><div class="ttdoc">Methods for creating and sending chunks.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:554</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5cd1ddd11ffdb397d447cd3bf78f8613"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5cd1ddd11ffdb397d447cd3bf78f8613">inet::sctp::SctpAssociation::statisticsNumDuplicatesStored</a></div><div class="ttdeci">cOutVector * statisticsNumDuplicatesStored</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:979</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acea0ee9f89f72fd0f11c51cef608fc5e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acea0ee9f89f72fd0f11c51cef608fc5e">inet::sctp::SctpStateVariables::initialWindow</a></div><div class="ttdeci">uint32_t initialWindow</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:692</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda1a6df3a0e981b5fc96ca8fe175a5f6ba"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda1a6df3a0e981b5fc96ca8fe175a5f6ba">inet::SCTP_C_SET_RTO_INFO</a></div><div class="ttdeci">@ SCTP_C_SET_RTO_INFO</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:152</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aeb41dad3db96d468718481d5399c547e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aeb41dad3db96d468718481d5399c547e">inet::sctp::SctpAssociation::processSsnTsnResetRequestArrived</a></div><div class="ttdeci">void processSsnTsnResetRequestArrived(SctpSsnTsnResetRequestParameter *requestParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2482</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a014598d12578c9f9b812a1ea70cc6f07aad0b1eedd882ee330560e88df6849798"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07aad0b1eedd882ee330560e88df6849798">inet::sctp::SctpStateVariables::CUCV_PseudoCumAck</a></div><div class="ttdeci">@ CUCV_PseudoCumAck</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:700</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ad61d73d8afc5ebe8ffc4b6d93ae474a5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad61d73d8afc5ebe8ffc4b6d93ae474a5">inet::sctp::SctpStateVariables::sackAllowed</a></div><div class="ttdeci">bool sackAllowed</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:576</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a2bdefab637a75a6d4735f095f8faae57"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a2bdefab637a75a6d4735f095f8faae57">inet::sctp::SctpGapList::resetGaps</a></div><div class="ttdeci">void resetGaps(const uint32_t newCumAck)</div><div class="ttdef"><b>Definition:</b> SctpGapList.cc:384</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621aa0d1fcdefa1d913dea7b2987b5ca199d">inet::sctp::SctpGapList::GT_Revokable</a></div><div class="ttdeci">@ GT_Revokable</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:96</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a86f722902b25fef157dd25bb990a44a4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a86f722902b25fef157dd25bb990a44a4">inet::sctp::SctpAssociation::rt</a></div><div class="ttdeci">IRoutingTable * rt</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:927</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24a36f7fdd08a2b84255933f7dd4f61c5fc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a36f7fdd08a2b84255933f7dd4f61c5fc">inet::sctp::SctpStateVariables::CCCV_Off</a></div><div class="ttdeci">@ CCCV_Off</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:747</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac927e9ea951fffed8a06e6009e4803f5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac927e9ea951fffed8a06e6009e4803f5">inet::sctp::SctpAssociation::sackPeriod</a></div><div class="ttdeci">double sackPeriod</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:941</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da42247e50a11a7c1309555c5049aec6d1">inet::sctp::OUTGOING_RESET_REQUEST_PARAMETER</a></div><div class="ttdeci">@ OUTGOING_RESET_REQUEST_PARAMETER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:147</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad552ceea574093dc66cae3ac856e8e94"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad552ceea574093dc66cae3ac856e8e94">inet::sctp::SctpAssociation::processSackArrived</a></div><div class="ttdeci">SctpEventCode processSackArrived(SctpSackChunk *sackChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:974</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5a08b3ce97e68554e774bee48dd48518"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5a08b3ce97e68554e774bee48dd48518">inet::sctp::SctpAssociation::statisticsNumNonRevokableGapBlocksSent</a></div><div class="ttdeci">cOutVector * statisticsNumNonRevokableGapBlocksSent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:981</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_af1650a0eb535a1e48aae550d69e82afc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#af1650a0eb535a1e48aae550d69e82afc">inet::sctp::SctpStateVariables::findPeerStreamToReset</a></div><div class="ttdeci">bool findPeerStreamToReset(uint16_t sn)</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:510</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a1f784fc31da89ec5b88212cf8cfbe15f">inet::sctp::SCTP_E_ABORT</a></div><div class="ttdeci">@ SCTP_E_ABORT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:64</div></div>
<div class="ttc" id="anamespaceinet_1_1units_1_1values_html_a02f32b4417da580f5e348f2c3cfb40a7"><div class="ttname"><a href="namespaceinet_1_1units_1_1values.html#a02f32b4417da580f5e348f2c3cfb40a7">inet::units::values::b</a></div><div class="ttdeci">value&lt; int64_t, units::b &gt; b</div><div class="ttdef"><b>Definition:</b> Units.h:1241</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1d3596a56e6f10abf61a916eb5378963"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1d3596a56e6f10abf61a916eb5378963">inet::sctp::SctpStateVariables::lastTsnBeforeReset</a></div><div class="ttdeci">uint32_t lastTsnBeforeReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:787</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_abd2e2c5d3d13b828e80c175a6081e8a2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#abd2e2c5d3d13b828e80c175a6081e8a2">inet::sctp::Sctp::getEnableHeartbeats</a></div><div class="ttdeci">bool getEnableHeartbeats()</div><div class="ttdef"><b>Definition:</b> Sctp.h:265</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_aeb35bb2eec8ea84e199422a73240c5b1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#aeb35bb2eec8ea84e199422a73240c5b1">inet::sctp::Sctp::removeAssociation</a></div><div class="ttdeci">void removeAssociation(SctpAssociation *assoc)</div><div class="ttdef"><b>Definition:</b> Sctp.cc:846</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4f3a0079e12c18b14f6fec63a582a4e1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4f3a0079e12c18b14f6fec63a582a4e1">inet::sctp::SctpAssociation::getAllTransQ</a></div><div class="ttdeci">uint32_t getAllTransQ()</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:1476</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3dc44ea09120834825153b8a262df804"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3dc44ea09120834825153b8a262df804">inet::sctp::SctpAssociation::process_PRIMARY</a></div><div class="ttdeci">void process_PRIMARY(SctpEventCode &amp;event, SctpCommandReq *sctpCommand)</div><div class="ttdef"><b>Definition:</b> SctpAssociationEventProc.cc:325</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a096ad48a9dc5dcbd73658c5cadbf3636"><div class="ttname"><a href="_sctp_association_8h.html#a096ad48a9dc5dcbd73658c5cadbf3636">SCTP_SHUTDOWN_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_SHUTDOWN_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:212</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a30b7c32ee0e22d85f5985d01ff58237c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a30b7c32ee0e22d85f5985d01ff58237c">inet::sctp::SctpAssociation::sendToIP</a></div><div class="ttdeci">void sendToIP(Packet *pkt, const Ptr&lt; SctpHeader &gt; &amp;sctpmsg, L3Address dest)</div><div class="ttdoc">Utility: adds control info to message and sends it to IP.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:360</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a629095d26023c82ba649f49119ed6520"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a629095d26023c82ba649f49119ed6520">inet::sctp::SctpAssociation::tsnIsDuplicate</a></div><div class="ttdeci">bool tsnIsDuplicate(const uint32_t tsn) const</div><div class="ttdoc">Methods dealing with the handling of TSNs</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2234</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abe98501af00cb108c954aef24941903a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abe98501af00cb108c954aef24941903a">inet::sctp::SctpAssociation::sendShutdownComplete</a></div><div class="ttdeci">void sendShutdownComplete()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1135</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ad10fd4116da2104b0712bd5fc4fd8734"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad10fd4116da2104b0712bd5fc4fd8734">inet::sctp::SctpStateVariables::pushMessagesLeft</a></div><div class="ttdeci">int32_t pushMessagesLeft</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:624</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a837cf14a7cd29aea6dea62e0b9e969ea"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a837cf14a7cd29aea6dea62e0b9e969ea">inet::sctp::SctpStateVariables::MBV_MaxBurst</a></div><div class="ttdeci">@ MBV_MaxBurst</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:687</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5b1872bbfb9a69f59f398774a99c79de"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5b1872bbfb9a69f59f398774a99c79de">inet::sctp::SctpStateVariables::chunksAdded</a></div><div class="ttdeci">uint16_t chunksAdded</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:658</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea47afd644b4e51a8502a11ebd182c2833"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea47afd644b4e51a8502a11ebd182c2833">inet::Ipv4Address::MULTICAST</a></div><div class="ttdeci">@ MULTICAST</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:77</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aed02b058f6da8f4ea649dbc9ad1f8e95"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aed02b058f6da8f4ea649dbc9ad1f8e95">inet::sctp::SctpAssociation::SCTP_UINT16_GT</a></div><div class="ttdeci">static bool SCTP_UINT16_GT(uint16_t a, uint16_t b)</div><div class="ttdoc">Compare TSNs.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1059</div></div>
<div class="ttc" id="a_sctp_association_8h_html_adf7452edbaf15112920d12e92d14dfd9"><div class="ttname"><a href="_sctp_association_8h.html#adf7452edbaf15112920d12e92d14dfd9">SCTP_HEARTBEAT_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_HEARTBEAT_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:208</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1392697b6c24b4ca0341b389734963c4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1392697b6c24b4ca0341b389734963c4">inet::sctp::SctpStateVariables::stopOldData</a></div><div class="ttdeci">bool stopOldData</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:582</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a0b5df3678b7a5b47e792d6a7c1572bfe"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a0b5df3678b7a5b47e792d6a7c1572bfe">inet::sctp::Sctp::sctpVTagMap</a></div><div class="ttdeci">SctpVTagMap sctpVTagMap</div><div class="ttdef"><b>Definition:</b> Sctp.h:162</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1ac517ec43854d6a1906516c90cac01672"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ac517ec43854d6a1906516c90cac01672">inet::SCTP_I_DATA_NOTIFICATION</a></div><div class="ttdeci">@ SCTP_I_DATA_NOTIFICATION</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:198</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a4bc1e2f07559f2f4be3c2bbd079247a0aa47c2b0c1d0a86d4969d8bcdc86f0ae5"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a4bc1e2f07559f2f4be3c2bbd079247a0aa47c2b0c1d0a86d4969d8bcdc86f0ae5">inet::sctp::PR_RTX</a></div><div class="ttdeci">@ PR_RTX</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:128</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_cookie_echo_chunk_html_a60b2d59179a37b03c433b85f0eef74fb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a60b2d59179a37b03c433b85f0eef74fb">inet::sctp::SctpCookieEchoChunk::getStateCookie</a></div><div class="ttdeci">virtual const SctpCookie * getStateCookie() const</div></div>
<div class="ttc" id="a_sctp_association_8h_html_aad0be78d1352b9d9fa6a695ed18c9d65"><div class="ttname"><a href="_sctp_association_8h.html#aad0be78d1352b9d9fa6a695ed18c9d65">SCTP_DATA_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_DATA_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:205</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a2383950ff71160db077c713351a3baff"><div class="ttname"><a href="_sctp_association_8h.html#a2383950ff71160db077c713351a3baff">SCTP_ABORT_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_ABORT_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:209</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a48a7351ee8009c150be94f8197d635bbafd2ab23c48540ba3cf57b8f0f7d8caab"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a48a7351ee8009c150be94f8197d635bbafd2ab23c48540ba3cf57b8f0f7d8caab">inet::sctp::HMAC_ALGO</a></div><div class="ttdeci">@ HMAC_ALGO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:176</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da6eb4b01bf32973ca5ede1d222347c5c1">inet::sctp::NO_RESET</a></div><div class="ttdeci">@ NO_RESET</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:139</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1accea7f9a4fec30b52a2599297e5b875c"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1accea7f9a4fec30b52a2599297e5b875c">inet::SCTP_I_STATUS</a></div><div class="ttdeci">@ SCTP_I_STATUS</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:205</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1939cb287be0149ad2e2207b5104388f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1939cb287be0149ad2e2207b5104388f">inet::sctp::SctpAssociation::performStateTransition</a></div><div class="ttdeci">bool performStateTransition(const SctpEventCode &amp;event)</div><div class="ttdoc">Implemements the pure SCTP state machine.</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:1176</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da9edd9d7b7779d0ccae00fdb7d934968d">inet::sctp::ADD_INCOMING_STREAMS_REQUEST_PARAMETER</a></div><div class="ttdeci">@ ADD_INCOMING_STREAMS_REQUEST_PARAMETER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:152</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae866902d586ffe74c8a5507bd854646a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae866902d586ffe74c8a5507bd854646a">inet::sctp::SctpAssociation::sendCookieEcho</a></div><div class="ttdeci">void sendCookieEcho(SctpInitAckChunk *initackchunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:952</div></div>
<div class="ttc" id="a_sctp_association_8h_html_ae43ec40df0b4b94ce78e31785f7e0079"><div class="ttname"><a href="_sctp_association_8h.html#ae43ec40df0b4b94ce78e31785f7e0079">SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_ADD_STREAMS_REQUEST_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:220</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea9b6bb99ed4cc992e7c483b61a1c06273"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea9b6bb99ed4cc992e7c483b61a1c06273">inet::Ipv4Address::LINKLOCAL</a></div><div class="ttdeci">@ LINKLOCAL</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:84</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a63a0a5f034c3429b541106eb681fba0c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a63a0a5f034c3429b541106eb681fba0c">inet::sctp::SctpAssociation::getPath</a></div><div class="ttdeci">SctpPathVariables * getPath(const L3Address &amp;pathId) const</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1047</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a68f9fb895f08751065ae1c973f901ab3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a68f9fb895f08751065ae1c973f901ab3">inet::sctp::SctpStateVariables::requestsOverlap</a></div><div class="ttdeci">bool requestsOverlap</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:781</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac348cbc64e540c6d58cc6a1eacb0c791"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac348cbc64e540c6d58cc6a1eacb0c791">inet::sctp::SctpStateVariables::corrIdNum</a></div><div class="ttdeci">uint32_t corrIdNum</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:769</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6d50ef5dd10f9a335470bb3ea0cd7fe4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6d50ef5dd10f9a335470bb3ea0cd7fe4">inet::sctp::SctpStateVariables::sendHeartbeatsOnActivePaths</a></div><div class="ttdeci">bool sendHeartbeatsOnActivePaths</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:656</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abf68ee076b69c50a91fc6fc51ccaabf2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abf68ee076b69c50a91fc6fc51ccaabf2">inet::sctp::SctpAssociation::retransmitShutdown</a></div><div class="ttdeci">void retransmitShutdown()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1215</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6930ba8b878e053d838cbe9f034fafd1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6930ba8b878e053d838cbe9f034fafd1">inet::sctp::SctpAssociation::processInAndOutResetRequestArrived</a></div><div class="ttdeci">SctpEventCode processInAndOutResetRequestArrived(SctpIncomingSsnResetRequestParameter *inRequestParam, SctpOutgoingSsnResetRequestParameter *outRequestParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2634</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a77904d8418e0d3b4be7555aeab4c930a"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a77904d8418e0d3b4be7555aeab4c930a">inet::sctp::max</a></div><div class="ttdeci">double max(const double a, const double b)</div><div class="ttdoc">Returns the maximum of a and b.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:266</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa8e11a59958d8504aef83d56ee5221ff1">inet::sctp::SCTP_S_SHUTDOWN_ACK_SENT</a></div><div class="ttdeci">@ SCTP_S_SHUTDOWN_ACK_SENT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:54</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa305df64433746964b2cb9eea9b18fd4f">inet::sctp::SCTP_S_COOKIE_WAIT</a></div><div class="ttdeci">@ SCTP_S_COOKIE_WAIT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:48</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a294612afcb62d33531f390a08f0c3209"><div class="ttname"><a href="_sctp_association_8h.html#a294612afcb62d33531f390a08f0c3209">IP_HEADER_LENGTH</a></div><div class="ttdeci">#define IP_HEADER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:227</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a28351538202fc5cdb48f3efe87c2d0d0"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a28351538202fc5cdb48f3efe87c2d0d0">inet::sctp::SCTP_E_TIMEOUT_RTX_TIMER</a></div><div class="ttdeci">@ SCTP_E_TIMEOUT_RTX_TIMER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:79</div></div>
<div class="ttc" id="anamespaceinet_1_1physicallayer_html_ab2efa56aa3bcc6b59af7ce2efdcfc9d8"><div class="ttname"><a href="namespaceinet_1_1physicallayer.html#ab2efa56aa3bcc6b59af7ce2efdcfc9d8">inet::physicallayer::k</a></div><div class="ttdeci">const double k</div><div class="ttdef"><b>Definition:</b> Qam1024Modulation.cc:14</div></div>
<div class="ttc" id="a_sctp_association_8h_html_af821f523922706412959f419b5b74e8b"><div class="ttname"><a href="_sctp_association_8h.html#af821f523922706412959f419b5b74e8b">SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_STREAM_RESET_RESPONSE_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:219</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a21ae85cee62fcc31ac16a5cdc8f16475"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a21ae85cee62fcc31ac16a5cdc8f16475">inet::sctp::SctpStateVariables::checkSackSeqNumber</a></div><div class="ttdeci">bool checkSackSeqNumber</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:762</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1aa2e3e0e0f4503da528a9c8ee98e410fc"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1aa2e3e0e0f4503da528a9c8ee98e410fc">inet::SCTP_I_TIMED_OUT</a></div><div class="ttdeci">@ SCTP_I_TIMED_OUT</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:204</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a03c90350c07fd882609d1cd61310fa33"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a03c90350c07fd882609d1cd61310fa33">inet::sctp::SctpStateVariables::bytesRcvd</a></div><div class="ttdeci">uint64_t bytesRcvd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:620</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa273b464507f2a55e419c294d76219764">inet::sctp::ERRORTYPE</a></div><div class="ttdeci">@ ERRORTYPE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:111</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a0787ad146854283b81ec9adac5186cb1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0787ad146854283b81ec9adac5186cb1">inet::sctp::SCTP_E_PRIMARY</a></div><div class="ttdeci">@ SCTP_E_PRIMARY</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:84</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af4aa5766d652096e69b8fe388f0bc0e0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af4aa5766d652096e69b8fe388f0bc0e0">inet::sctp::SctpAssociation::sendShutdown</a></div><div class="ttdeci">void sendShutdown()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1181</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6ce35f3ac010bf94dafc5fd34d4757eb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6ce35f3ac010bf94dafc5fd34d4757eb">inet::sctp::SctpAssociation::pmRttMeasurement</a></div><div class="ttdeci">void pmRttMeasurement(SctpPathVariables *path, const simtime_t &amp;rttEstimation)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2836</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa335931741a930f24d5191e6e755712b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa335931741a930f24d5191e6e755712b">inet::sctp::SctpStateVariables::newChunkReceived</a></div><div class="ttdeci">bool newChunkReceived</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:568</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a43fbefcbc251615ea84b5cae69a71cc8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a43fbefcbc251615ea84b5cae69a71cc8">inet::sctp::SctpAssociation::stateName</a></div><div class="ttdeci">static const char * stateName(int32_t state)</div><div class="ttdoc">Utility: returns name of SCTP_S_xxx constants.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:139</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6ee907fe53fd5728decf7d58279026cc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6ee907fe53fd5728decf7d58279026cc">inet::sctp::SctpAssociation::remoteAddressList</a></div><div class="ttdeci">AddressVector remoteAddressList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:931</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5201fc1d70ab947f093cd75e6bcba5cd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5201fc1d70ab947f093cd75e6bcba5cd">inet::sctp::SctpAssociation::SctpAssociation</a></div><div class="ttdeci">SctpAssociation(Sctp *mod, int32_t appGateIndex, int32_t assocId, IRoutingTable *rt, IInterfaceTable *ift)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:555</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6ed0635b01501635db5054c901ea44d2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ed0635b01501635db5054c901ea44d2">inet::sctp::SctpStateVariables::queuedReceivedBytes</a></div><div class="ttdeci">uint64_t queuedReceivedBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:615</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a7cf324ed36e5f4bbc2928deccb27a621a2138cf30a61cf62a7b71d6ee449d7634">inet::sctp::SctpGapList::GT_NonRevokable</a></div><div class="ttdeci">@ GT_NonRevokable</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:97</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a08b787c705fa8a4192a5d63a83922be7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a08b787c705fa8a4192a5d63a83922be7">inet::sctp::SctpAssociation::storePacket</a></div><div class="ttdeci">void storePacket(SctpPathVariables *pathVar, const Ptr&lt; SctpHeader &gt; &amp;sctpMsg, uint16_t chunksAdded, uint16_t dataChunksAdded, bool authAdded)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:45</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa5ba88e3adf7b3e9a5e0b58c6b8b7e8b7">inet::sctp::DATA</a></div><div class="ttdeci">@ DATA</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:102</div></div>
<div class="ttc" id="a_i_n_e_t_defs_8h_html_ae5b816f7de3c5248c812bdb6920f4e06"><div class="ttname"><a href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a></div><div class="ttdeci">#define PK(msg)</div><div class="ttdef"><b>Definition:</b> INETDefs.h:89</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2b7826e2d7bade29584ddc3429c591eb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2b7826e2d7bade29584ddc3429c591eb">inet::sctp::SctpStateVariables::sendBuffer</a></div><div class="ttdeci">uint64_t sendBuffer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:649</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a54791556912daeb9e144d61e9ff6c7e6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a54791556912daeb9e144d61e9ff6c7e6">inet::sctp::Sctp::auth</a></div><div class="ttdeci">bool auth</div><div class="ttdef"><b>Definition:</b> Sctp.h:200</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a883c12c834ad3808324d3267b3e35ce0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a883c12c834ad3808324d3267b3e35ce0">inet::sctp::SctpAssociation::nonRenegablyAckChunk</a></div><div class="ttdeci">void nonRenegablyAckChunk(SctpDataVariables *chunk, SctpPathVariables *sackPath, simtime_t &amp;rttEstimation, Sctp::AssocStat *assocStat)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:1851</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_algorithm_html_a9a45b0c5160f0153c674656428af82f9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_algorithm.html#a9a45b0c5160f0153c674656428af82f9">inet::sctp::SctpAlgorithm::createStateVariables</a></div><div class="ttdeci">virtual SctpStateVariables * createStateVariables()=0</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a49f266cb67d617c8426fd5b40641e43b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a49f266cb67d617c8426fd5b40641e43b">inet::sctp::SctpAssociation::process_TIMEOUT_HEARTBEAT_INTERVAL</a></div><div class="ttdeci">void process_TIMEOUT_HEARTBEAT_INTERVAL(SctpPathVariables *path, bool force)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3595</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_af7c5d006bcc944d3e5e2690dc0d54f51"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#af7c5d006bcc944d3e5e2690dc0d54f51">inet::sctp::SctpAssociation::statisticsRevokableGapBlocksInLastSACK</a></div><div class="ttdeci">cOutVector * statisticsRevokableGapBlocksInLastSACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:971</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a936abd346f681d532b796c1672be6dc5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a936abd346f681d532b796c1672be6dc5">inet::sctp::SctpAssociation::resetSsns</a></div><div class="ttdeci">void resetSsns()</div><div class="ttdoc">Methods for Stream Reset.</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:914</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a7ce523a3d4cee654d29ad3b2b343fa29"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7ce523a3d4cee654d29ad3b2b343fa29">inet::sctp::SctpStateVariables::cmtUseSFR</a></div><div class="ttdeci">bool cmtUseSFR</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:728</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a671d0b2ecf457870bf9e85155c66249f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a671d0b2ecf457870bf9e85155c66249f">inet::sctp::SctpAssociation::createSack</a></div><div class="ttdeci">SctpSackChunk * createSack()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1537</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daab9fc7b26edcaf109fa741252e193267">inet::sctp::INCOMING_RESET_REQUEST_PARAMETER</a></div><div class="ttdeci">@ INCOMING_RESET_REQUEST_PARAMETER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:148</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cda6e72bf5712709ddd77bdc5bddfdad282"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cda6e72bf5712709ddd77bdc5bddfdad282">inet::SCTP_C_SET_STREAM_PRIO</a></div><div class="ttdeci">@ SCTP_C_SET_STREAM_PRIO</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:149</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a62dd10077d0e91db3d5bb8fff1eedffa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a62dd10077d0e91db3d5bb8fff1eedffa">inet::sctp::SctpAssociation::ssFunctions</a></div><div class="ttdeci">SSFunctions ssFunctions</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1295</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a90372394cb50a5c205e524a4e06b5de1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a90372394cb50a5c205e524a4e06b5de1">inet::sctp::SctpStateVariables::ssStreamToPathMap</a></div><div class="ttdeci">std::map&lt; uint16_t, int32_t &gt; ssStreamToPathMap</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:847</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_abf5a6b9433f4d8bec76de5db5c244ae8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf5a6b9433f4d8bec76de5db5c244ae8">inet::sctp::SctpStateVariables::packetsInTotalBurst</a></div><div class="ttdeci">uint32_t packetsInTotalBurst</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:610</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a56e72a0f9ec877eefe4ba27bae5b01fb"><div class="ttname"><a href="_sctp_association_8h.html#a56e72a0f9ec877eefe4ba27bae5b01fb">SCTP_AUTH_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_AUTH_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:224</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a95505dbe77048c3d69d9709effed157aa60398b6864718bed43ddda3c08a0faa1">inet::sctp::SCTP_S_CLOSED</a></div><div class="ttdeci">@ SCTP_S_CLOSED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:47</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_queue_counter_html_ac8f16ad4b83c3f678afed14feeb80261"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_queue_counter.html#ac8f16ad4b83c3f678afed14feeb80261">inet::sctp::SctpAssociation::QueueCounter::roomSumSendStreams</a></div><div class="ttdeci">uint64_t roomSumSendStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:864</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_af0303ce5c31a7740e2b04d2fcca008bd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#af0303ce5c31a7740e2b04d2fcca008bd">inet::sctp::SctpStateVariables::cmtRetransmissionVariant</a></div><div class="ttdeci">const char * cmtRetransmissionVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:696</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a3c9dc85de1408803d7cdbb7c6ac0db7ca2a6d484a06d45dabbde3235c877684f2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3c9dc85de1408803d7cdbb7c6ac0db7ca2a6d484a06d45dabbde3235c877684f2">inet::sctp::SctpStateVariables::CCRV_SenderOnly</a></div><div class="ttdeci">@ CCRV_SenderOnly</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:716</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac711d44079c2382e1e65ee66c4db3ec1ab256f9ad5db5814a2f1289205ae5b25a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1ab256f9ad5db5814a2f1289205ae5b25a">inet::sctp::SctpStateVariables::CSP_Standard</a></div><div class="ttdeci">@ CSP_Standard</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:736</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a4c168e63cf66b601306b7537de63f226"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a4c168e63cf66b601306b7537de63f226">inet::sctp::Sctp::addForkedAssociation</a></div><div class="ttdeci">void addForkedAssociation(SctpAssociation *assoc, SctpAssociation *newAssoc, L3Address localAddr, L3Address remoteAddr, int32_t localPort, int32_t remotePort)</div><div class="ttdoc">Update assocs socket pair, and register newAssoc (which'll keep LISTENing).</div><div class="ttdef"><b>Definition:</b> Sctp.cc:805</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a0258784a9204403a37fc32f6d2a4dc5e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0258784a9204403a37fc32f6d2a4dc5e">inet::sctp::SctpStateVariables::maxBurstVariant</a></div><div class="ttdeci">MBVariant maxBurstVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:691</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9234fd278812cffd86d7cde1132f83c6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9234fd278812cffd86d7cde1132f83c6">inet::sctp::SctpAssociation::StartAddIP</a></div><div class="ttdeci">cMessage * StartAddIP</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:915</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ae3f63b702f8e3bebc195afc21227c681"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ae3f63b702f8e3bebc195afc21227c681">inet::sctp::SCTP_E_TIMEOUT_SHUTDOWN_TIMER</a></div><div class="ttdeci">@ SCTP_E_TIMEOUT_SHUTDOWN_TIMER</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:78</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_abc4c8d00da563828a6b03b196f2e14f5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc4c8d00da563828a6b03b196f2e14f5">inet::sctp::SctpStateVariables::findTypeInRequests</a></div><div class="ttdeci">RequestData * findTypeInRequests(uint16_t type)</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:530</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6192008619b0baa09e8da5413e521143"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6192008619b0baa09e8da5413e521143">inet::sctp::SctpStateVariables::queuedDroppableBytes</a></div><div class="ttdeci">uint64_t queuedDroppableBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:614</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a8c5909b8985ca30b11ad2bfda0927b5d"><div class="ttname"><a href="_sctp_association_8h.html#a8c5909b8985ca30b11ad2bfda0927b5d">SCTP_SUPPORTED_EXTENSIONS_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_SUPPORTED_EXTENSIONS_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:221</div></div>
<div class="ttc" id="aclassinet_1_1_l3_address_html_afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d"><div class="ttname"><a href="classinet_1_1_l3_address.html#afebabbfae40f455493cbabf6351ff680acc2446c8796cd7600e94e6855278e67d">inet::L3Address::IPv6</a></div><div class="ttdeci">@ IPv6</div><div class="ttdef"><b>Definition:</b> L3Address.h:36</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a98c597c43e317d082f8bbb9900eb067f"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a98c597c43e317d082f8bbb9900eb067f">inet::sctp::SCTP_E_DELIVERED</a></div><div class="ttdeci">@ SCTP_E_DELIVERED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:85</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa0b7009628fae83ef262494a6e732db9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa0b7009628fae83ef262494a6e732db9">inet::sctp::SctpAssociation::orderedQueueEmptyOfStream</a></div><div class="ttdeci">bool orderedQueueEmptyOfStream(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:83</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac765d1b46bcd0d9be48831a061835955"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac765d1b46bcd0d9be48831a061835955">inet::sctp::SctpAssociation::sendAddOutgoingStreamsRequest</a></div><div class="ttdeci">void sendAddOutgoingStreamsRequest(uint16_t numStreams)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:645</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a2d22a4ca3db8d254e2cf52bd25c7c6a9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a2d22a4ca3db8d254e2cf52bd25c7c6a9">inet::sctp::SctpStateVariables::outstandingMessages</a></div><div class="ttdeci">uint32_t outstandingMessages</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:832</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8a3ad873109cd043a2619c6be00c8233"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8a3ad873109cd043a2619c6be00c8233">inet::sctp::SctpAssociation::statisticsNonRevokableGapBlocksInLastSACK</a></div><div class="ttdeci">cOutVector * statisticsNonRevokableGapBlocksInLastSACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:972</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab89da8dda4ccd636c2665609d71907d7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab89da8dda4ccd636c2665609d71907d7">inet::sctp::SctpStateVariables::sctpMsg</a></div><div class="ttdeci">Ptr&lt; SctpHeader &gt; sctpMsg</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:657</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a31d8497337df5b1fac236d614bf2a247"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a31d8497337df5b1fac236d614bf2a247">inet::sctp::Sctp::getAssocStat</a></div><div class="ttdeci">AssocStat * getAssocStat(uint32_t assocId)</div><div class="ttdef"><b>Definition:</b> Sctp.h:216</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3e048d4cdc6a8ac17d0b8f86f890722c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3e048d4cdc6a8ac17d0b8f86f890722c">inet::sctp::SctpAssociation::fd</a></div><div class="ttdeci">int32_t fd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:900</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a43c22e660283ae80de22e1e9bb2189b1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a43c22e660283ae80de22e1e9bb2189b1">inet::sctp::SctpStateVariables::keyVector</a></div><div class="ttdeci">uint8_t keyVector[512]</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:814</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a014598d12578c9f9b812a1ea70cc6f07a05748460ece8cd7e7d24f3e12b48c36e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07a05748460ece8cd7e7d24f3e12b48c36e">inet::sctp::SctpStateVariables::CUCV_Normal</a></div><div class="ttdeci">@ CUCV_Normal</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:699</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab1421b50b8372772a4feef53b3dcf431"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab1421b50b8372772a4feef53b3dcf431">inet::sctp::SctpStateVariables::stopReceiving</a></div><div class="ttdeci">bool stopReceiving</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:581</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa4b3d1f04425f39e64105036056b32f76">inet::sctp::RE_CONFIG</a></div><div class="ttdeci">@ RE_CONFIG</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:119</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8458bae94d9b82f388bf659b8f57b7ac"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8458bae94d9b82f388bf659b8f57b7ac">inet::sctp::SctpAssociation::EndToEndDelay</a></div><div class="ttdeci">cOutVector * EndToEndDelay</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:917</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a51a10fe095262a5aa1e69605953062f2"><div class="ttname"><a href="_sctp_association_8h.html#a51a10fe095262a5aa1e69605953062f2">SCTP_COMPRESSED_NRSACK_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_COMPRESSED_NRSACK_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:235</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adfb9d42dbbe581d2be1759ad0aae5ed5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adfb9d42dbbe581d2be1759ad0aae5ed5">inet::sctp::SctpAssociation::streamIsPending</a></div><div class="ttdeci">bool streamIsPending(int32_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:31</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a389a404401020a301aececf06fc21b03"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a389a404401020a301aececf06fc21b03">inet::sctp::SctpStateVariables::bundleReset</a></div><div class="ttdeci">bool bundleReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:777</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_accf7b18030fea3ce33a811310a802377"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#accf7b18030fea3ce33a811310a802377">inet::sctp::SctpAssociation::statisticsNumNonRevokableGapBlocksStored</a></div><div class="ttdeci">cOutVector * statisticsNumNonRevokableGapBlocksStored</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:978</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac48641d700b304aaa014d3f8df79c60d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac48641d700b304aaa014d3f8df79c60d">inet::sctp::SctpAssociation::tsnWasReneged</a></div><div class="ttdeci">void tsnWasReneged(SctpDataVariables *chunk, const SctpPathVariables *sackPath, const int type)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:909</div></div>
<div class="ttc" id="a_sctp_association_util_8cc_html_a60cc06bef97da802b8522d258ac4fe89"><div class="ttname"><a href="_sctp_association_util_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a></div><div class="ttdeci">#define CASE(x)</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_af77b919b07997dcfbed269e6f51276db"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#af77b919b07997dcfbed269e6f51276db">inet::sctp::SctpStateVariables::cmtChunkReschedulingVariant</a></div><div class="ttdeci">ChunkReschedulingVariant cmtChunkReschedulingVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:721</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa163ad9813bfd9aaecb78bf02497abf0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa163ad9813bfd9aaecb78bf02497abf0">inet::sctp::SctpStateVariables::fragInProgress</a></div><div class="ttdeci">bool fragInProgress</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:591</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a336c300ad9556c913ba84df2d94ff620"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a336c300ad9556c913ba84df2d94ff620">inet::sctp::SctpAssociation::eventName</a></div><div class="ttdeci">static const char * eventName(int32_t event)</div><div class="ttdoc">Utility: returns name of SCTP_E_xxx constants.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:158</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a88bd7e4840bd44578dcecac4d4268b12"><div class="ttname"><a href="_sctp_association_8h.html#a88bd7e4840bd44578dcecac4d4268b12">SCTP_TSN_GE</a></div><div class="ttdeci">#define SCTP_TSN_GE(a, b)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1072</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5a0545623a8aa70bc90513939c7d6b6771"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5a0545623a8aa70bc90513939c7d6b6771">inet::sctp::FAIR_BANDWITH_PACKET</a></div><div class="ttdeci">@ FAIR_BANDWITH_PACKET</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:196</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_afed920dae03831eb537fac4218a4a87f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#afed920dae03831eb537fac4218a4a87f">inet::sctp::SctpAssociation::advMsgRwnd</a></div><div class="ttdeci">cOutVector * advMsgRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:916</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a8d469a35851882c7bb88d622816f6ae6"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a8d469a35851882c7bb88d622816f6ae6">inet::SCTP_I_ABORT</a></div><div class="ttdeci">@ SCTP_I_ABORT</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:206</div></div>
<div class="ttc" id="aclassinet_1_1_protocol_html_abcd1641c2f65bad95090b53ab6824df7"><div class="ttname"><a href="classinet_1_1_protocol.html#abcd1641c2f65bad95090b53ab6824df7">inet::Protocol::sctp</a></div><div class="ttdeci">static const Protocol sctp</div><div class="ttdef"><b>Definition:</b> Protocol.h:108</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0f1da52aa6603f012204dffdda824ef8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0f1da52aa6603f012204dffdda824ef8">inet::sctp::SctpAssociation::getAddressLevel</a></div><div class="ttdeci">static int getAddressLevel(const L3Address &amp;addr)</div><div class="ttdoc">Utility: return IPv4 or IPv6 address level.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2895</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab08df2d221b88342403d06207996cdd7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab08df2d221b88342403d06207996cdd7">inet::sctp::SctpAssociation::sendOnPath</a></div><div class="ttdeci">void sendOnPath(SctpPathVariables *pathId, const bool firstPass=true)</div><div class="ttdoc">Utility: Send data from sendQueue.</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:659</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1c51ce1114c9f7193aad84d6d5b96bd6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1c51ce1114c9f7193aad84d6d5b96bd6">inet::sctp::SctpStateVariables::advancedPeerAckPoint</a></div><div class="ttdeci">uint32_t advancedPeerAckPoint</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:825</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions_html_acc8004232bfe2cd64a6a0994a44dd2c7"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_c_c_functions.html#acc8004232bfe2cd64a6a0994a44dd2c7">inet::sctp::SctpAssociation::CCFunctions::ccUpdateBeforeSack</a></div><div class="ttdeci">void(SctpAssociation::* ccUpdateBeforeSack)()</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:880</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acc31b50a7ed3b9eabdd54beeff27cf7f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acc31b50a7ed3b9eabdd54beeff27cf7f">inet::sctp::SctpStateVariables::tellArwnd</a></div><div class="ttdeci">bool tellArwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:835</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6ea79ccb3c0196e57909e54ea15bb459a781f2f08d6d3e3ca5a6e71ec9c170057"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459a781f2f08d6d3e3ca5a6e71ec9c170057">inet::sctp::SctpStateVariables::GLOV_None</a></div><div class="ttdeci">@ GLOV_None</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:669</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae7701b0a949f20e920b70f84f67597a5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae7701b0a949f20e920b70f84f67597a5">inet::sctp::SctpAssociation::ackChunk</a></div><div class="ttdeci">void ackChunk(SctpDataVariables *chunk, SctpPathVariables *sackPath)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1439</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a34c7c7c047d941065871d33ce7f97bc3"><div class="ttname"><a href="_sctp_association_8h.html#a34c7c7c047d941065871d33ce7f97bc3">SCTP_DEFAULT_INBOUND_STREAMS</a></div><div class="ttdeci">#define SCTP_DEFAULT_INBOUND_STREAMS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:229</div></div>
<div class="ttc" id="aclassinet_1_1_i_interface_table_html_a39b2f2f3355257ccce4b5d929bd504e6"><div class="ttname"><a href="classinet_1_1_i_interface_table.html#a39b2f2f3355257ccce4b5d929bd504e6">inet::IInterfaceTable::getNumInterfaces</a></div><div class="ttdeci">virtual int getNumInterfaces() const =0</div><div class="ttdoc">Returns the number of interfaces.</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ad2d7d8c78d6c419c8d3af12e23c82409"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad2d7d8c78d6c419c8d3af12e23c82409">inet::sctp::SctpStateVariables::packetBytes</a></div><div class="ttdeci">uint32_t packetBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:660</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_data_variables_html_a4493f6ca0cc1005125a362c7a8c16bbb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_data_variables.html#a4493f6ca0cc1005125a362c7a8c16bbb">inet::sctp::SctpDataVariables::userData</a></div><div class="ttdeci">cPacket * userData</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:473</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a952d6d101b9800f5daafa6d3ce3fd71a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a952d6d101b9800f5daafa6d3ce3fd71a">inet::sctp::SctpStateVariables::firstPeerRequest</a></div><div class="ttdeci">bool firstPeerRequest</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:779</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac25473db514f81df4ff09e11ee1220f0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac25473db514f81df4ff09e11ee1220f0">inet::sctp::SctpAssociation::makeSsnTsnResetParameter</a></div><div class="ttdeci">SctpParameter * makeSsnTsnResetParameter(uint32_t srsn)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:398</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a7a09751b39d45620f1e8baa9f85973cc">inet::sctp::SctpStateVariables::MBV_CongestionWindowLimitingTempCwnd</a></div><div class="ttdeci">@ MBV_CongestionWindowLimitingTempCwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:686</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a1d9c913a95b558c7af403e318dd49867"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a1d9c913a95b558c7af403e318dd49867">inet::SCTP_I_SEND_MSG</a></div><div class="ttdeci">@ SCTP_I_SEND_MSG</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:208</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8e4f8d0a02ff10700bcca64cca35da74"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8e4f8d0a02ff10700bcca64cca35da74">inet::sctp::SctpAssociation::pathStreamSchedulerMapToPath</a></div><div class="ttdeci">int32_t pathStreamSchedulerMapToPath(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:522</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a26dc7033ffc0543aecd5bc65cb64b394"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a26dc7033ffc0543aecd5bc65cb64b394">inet::sctp::SctpAssociation::pathMapLargestSpace</a></div><div class="ttdeci">static bool pathMapLargestSpace(const SctpPathVariables *left, const SctpPathVariables *right)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:158</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a942626695ccf642eadafaa7795c440a4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a942626695ccf642eadafaa7795c440a4">inet::sctp::SctpStateVariables::nrSack</a></div><div class="ttdeci">bool nrSack</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:666</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7ebf58de4176fcced85f9a6e427f6dd9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7ebf58de4176fcced85f9a6e427f6dd9">inet::sctp::SctpAssociation::receiveStreams</a></div><div class="ttdeci">SctpReceiveStreamMap receiveStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:960</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da986cdff005018f921ce8edd4da5ca761">inet::sctp::SSN_TSN</a></div><div class="ttdeci">@ SSN_TSN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:144</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a40d9d80eb55520e8576cfb8ddc8e0df4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a40d9d80eb55520e8576cfb8ddc8e0df4">inet::sctp::SctpStateVariables::nagleEnabled</a></div><div class="ttdeci">bool nagleEnabled</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:575</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a1dee97405fa022b09cb20207f45f8285"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a1dee97405fa022b09cb20207f45f8285">inet::sctp::Sctp::pktdrop</a></div><div class="ttdeci">bool pktdrop</div><div class="ttdef"><b>Definition:</b> Sctp.h:202</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aa54a8d4c5dfa691153e9d497d3a3d4a4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aa54a8d4c5dfa691153e9d497d3a3d4a4">inet::sctp::SctpStateVariables::smartOverfullSACKHandling</a></div><div class="ttdeci">bool smartOverfullSACKHandling</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:675</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_adacf7b13d2678bea8b938da65103eab4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#adacf7b13d2678bea8b938da65103eab4">inet::sctp::SctpAssociation::assocMaxWndPaths</a></div><div class="ttdeci">SctpPathCollection assocMaxWndPaths</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:892</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a76c431145759442b35919279005fe7dc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a76c431145759442b35919279005fe7dc">inet::sctp::SctpAssociation::pathStatusIndication</a></div><div class="ttdeci">void pathStatusIndication(const SctpPathVariables *path, bool status)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2821</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb2989f08da7c4bf3a1a9e623df6b962"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb2989f08da7c4bf3a1a9e623df6b962">inet::sctp::SctpStateVariables::cmtBufferSplittingUsesOSB</a></div><div class="ttdeci">bool cmtBufferSplittingUsesOSB</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:712</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a45e10ab1204a49d216a4c2f4a8826848"><div class="ttname"><a href="_sctp_association_8h.html#a45e10ab1204a49d216a4c2f4a8826848">SHUTDOWN_GUARD_TIMEOUT</a></div><div class="ttdeci">#define SHUTDOWN_GUARD_TIMEOUT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:256</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a85997d16b38fa49c025a4b95e2de7c2f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a85997d16b38fa49c025a4b95e2de7c2f">inet::sctp::SctpAssociation::cloneAssociation</a></div><div class="ttdeci">SctpAssociation * cloneAssociation()</div><div class="ttdoc">Utility: clone a listening association.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:304</div></div>
<div class="ttc" id="a_i_udp-gates_8txt_html_ab8c9d651bf37a01429c913ffe2587273"><div class="ttname"><a href="_i_udp-gates_8txt.html#ab8c9d651bf37a01429c913ffe2587273">tags</a></div><div class="ttdeci">* tags</div><div class="ttdef"><b>Definition:</b> IUdp-gates.txt:3</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_abec69d2ae66e927c510a5e027513c9ab"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#abec69d2ae66e927c510a5e027513c9ab">inet::sctp::SctpQueue::removeMsg</a></div><div class="ttdeci">void removeMsg(const uint32_t key)</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:145</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a8ac2d8b60c937d4917f387c4fc57f4df"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8ac2d8b60c937d4917f387c4fc57f4df">inet::sctp::SctpStateVariables::localAddresses</a></div><div class="ttdeci">AddressVector localAddresses</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:597</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa6de9288f88e7ebe46a2ce6aa63f9fd32">inet::sctp::COOKIE_ECHO</a></div><div class="ttdeci">@ COOKIE_ECHO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:112</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a682c30b47f3f3aaea043f036f1dd1324"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a682c30b47f3f3aaea043f036f1dd1324">inet::sctp::SCTP_E_SEND_ASCONF</a></div><div class="ttdeci">@ SCTP_E_SEND_ASCONF</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:94</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a5ad88d3ba6b0fcfa0e174ccb785332c9"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a5ad88d3ba6b0fcfa0e174ccb785332c9">inet::sctp::Sctp::sackNow</a></div><div class="ttdeci">bool sackNow</div><div class="ttdef"><b>Definition:</b> Sctp.h:203</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ae3db1c2b9015c808a8d543ce14f74f47"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae3db1c2b9015c808a8d543ce14f74f47">inet::sctp::SctpStateVariables::cmtUseFRC</a></div><div class="ttdeci">bool cmtUseFRC</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:730</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a500d73c4d72bf19677b30c790d7f6516"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a500d73c4d72bf19677b30c790d7f6516">inet::sctp::SctpStateVariables::peerStreamsToReset</a></div><div class="ttdeci">std::list&lt; uint16_t &gt; peerStreamsToReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:794</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a1329661e652fe4fe97c301a7e0827b2b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a1329661e652fe4fe97c301a7e0827b2b">inet::sctp::SctpGapList::forwardCumAckTsn</a></div><div class="ttdeci">void forwardCumAckTsn(const uint32_t cumAckTsn)</div><div class="ttdef"><b>Definition:</b> SctpGapList.cc:328</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0d87578f8d2521830059af456a19d960"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0d87578f8d2521830059af456a19d960">inet::sctp::SctpAssociation::sendOutgoingResetRequest</a></div><div class="ttdeci">void sendOutgoingResetRequest(SctpIncomingSsnResetRequestParameter *requestParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:116</div></div>
<div class="ttc" id="aclassinet_1_1_sctp_reset_req_html_ab618fcbd111f5b54e169f0cf4d00185b"><div class="ttname"><a href="classinet_1_1_sctp_reset_req.html#ab618fcbd111f5b54e169f0cf4d00185b">inet::SctpResetReq::dup</a></div><div class="ttdeci">virtual SctpResetReq * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:760</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6ea79ccb3c0196e57909e54ea15bb459a57c861b58ae0953bd536e402cda4ef80"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6ea79ccb3c0196e57909e54ea15bb459a57c861b58ae0953bd536e402cda4ef80">inet::sctp::SctpStateVariables::GLOV_Shrunken</a></div><div class="ttdeci">@ GLOV_Shrunken</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:672</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2e858590a9f56076717e3022d26a519d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2e858590a9f56076717e3022d26a519d">inet::sctp::SctpAssociation::tsnLe</a></div><div class="ttdeci">static bool tsnLe(const uint32_t tsn1, const uint32_t tsn2)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1077</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry_html_a3d08dd7a6ad280ea8be666902bafd7e5"><div class="ttname"><a href="structinet_1_1sctp_1_1_high_speed_cwnd_adjustment_entry.html#a3d08dd7a6ad280ea8be666902bafd7e5">inet::sctp::HighSpeedCwndAdjustmentEntry::decreaseFactor</a></div><div class="ttdeci">double decreaseFactor</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:34</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a726ea0dfa526eeef342f3581d2b2241a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a726ea0dfa526eeef342f3581d2b2241a">inet::sctp::SctpStateVariables::blockingTsnsMoved</a></div><div class="ttdeci">unsigned int blockingTsnsMoved</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:733</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a0b9267eac3e5b7099b73291e431fef49"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a0b9267eac3e5b7099b73291e431fef49">inet::sctp::Sctp::updateSockPair</a></div><div class="ttdeci">void updateSockPair(SctpAssociation *assoc, L3Address localAddr, L3Address remoteAddr, int32_t localPort, int32_t remotePort)</div><div class="ttdoc">To be called from SctpAssociation when socket pair changes.</div><div class="ttdef"><b>Definition:</b> Sctp.cc:642</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa0147c72a22719d686e80a07a84f8a27"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa0147c72a22719d686e80a07a84f8a27">inet::sctp::SctpAssociation::renegablyAckChunk</a></div><div class="ttdeci">void renegablyAckChunk(SctpDataVariables *chunk, SctpPathVariables *sackPath)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:1953</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a0fa059a2fa4f153171f1d65573152740"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a0fa059a2fa4f153171f1d65573152740">inet::sctp::Sctp::removeLocalAddressFromAllRemoteAddresses</a></div><div class="ttdeci">void removeLocalAddressFromAllRemoteAddresses(SctpAssociation *assoc, L3Address address, std::vector&lt; L3Address &gt; remAddresses)</div><div class="ttdef"><b>Definition:</b> Sctp.cc:735</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6626b27b6dcefecac6e46fdfdc6e0b45"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6626b27b6dcefecac6e46fdfdc6e0b45">inet::sctp::SctpAssociation::process_TIMEOUT_HEARTBEAT</a></div><div class="ttdeci">void process_TIMEOUT_HEARTBEAT(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3613</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7647c63e441930c1c74b78d2404ae37f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7647c63e441930c1c74b78d2404ae37f">inet::sctp::SctpAssociation::processInitAckArrived</a></div><div class="ttdeci">bool processInitAckArrived(SctpInitAckChunk *initAckChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:730</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a9a6164811faafd189e6ee3c60889b636"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a9a6164811faafd189e6ee3c60889b636">inet::sctp::SCTP_E_ADD_STREAMS</a></div><div class="ttdeci">@ SCTP_E_ADD_STREAMS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:93</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a21ad5bb505f90e3f59872dbd229d1ce4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a21ad5bb505f90e3f59872dbd229d1ce4">inet::sctp::SctpStateVariables::msgNum</a></div><div class="ttdeci">uint32_t msgNum</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:619</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae1d844370f18f3038dd5de4f235a4c55"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae1d844370f18f3038dd5de4f235a4c55">inet::sctp::SctpAssociation::getFragInProgressOfStream</a></div><div class="ttdeci">bool getFragInProgressOfStream(uint16_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:97</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa9ca9fd24dce3e6859e2aecb58ff9ded"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa9ca9fd24dce3e6859e2aecb58ff9ded">inet::sctp::SctpAssociation::streamSchedulerRandom</a></div><div class="ttdeci">int32_t streamSchedulerRandom(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:220</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1ae1fb17584b08943d327d6a016d942005">inet::SCTP_I_ABANDONED</a></div><div class="ttdeci">@ SCTP_I_ABANDONED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:212</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a082281ac2be3ad913a84068e6246b2aa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a082281ac2be3ad913a84068e6246b2aa">inet::sctp::SctpStateVariables::errorCount</a></div><div class="ttdeci">uint32_t errorCount</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:599</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ad35a598f6ff288f4cb1e419c9df6721c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad35a598f6ff288f4cb1e419c9df6721c">inet::sctp::SctpStateVariables::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:562</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac8e352a9a6ced4f8c1b4417973337aa6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac8e352a9a6ced4f8c1b4417973337aa6">inet::sctp::SctpStateVariables::localTieTag</a></div><div class="ttdeci">uint8_t localTieTag[32]</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:626</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a5f8211f50dea40fa08f410e3631eb1fe"><div class="ttname"><a href="_sctp_association_8h.html#a5f8211f50dea40fa08f410e3631eb1fe">SACK_DELAY</a></div><div class="ttdeci">#define SACK_DELAY</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:239</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a289a62ea3ed76b275dfd68447798c805"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a289a62ea3ed76b275dfd68447798c805">inet::sctp::SctpAssociation::process_TIMEOUT_RESET</a></div><div class="ttdeci">void process_TIMEOUT_RESET(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3682</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a47a57a0799efef0ecdb1542bffd7d613"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47a57a0799efef0ecdb1542bffd7d613">inet::sctp::SctpStateVariables::shutdownAckChunk</a></div><div class="ttdeci">SctpShutdownAckChunk * shutdownAckChunk</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:647</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4cf077a6e243219375473c2540a5150a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4cf077a6e243219375473c2540a5150a">inet::sctp::SctpStateVariables::lastDataSourcePath</a></div><div class="ttdeci">SctpPathVariables * lastDataSourcePath</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:596</div></div>
<div class="ttc" id="aclassinet_1_1_l3_address_html_aa2465c1940dc58da2f91a7d1f053115c"><div class="ttname"><a href="classinet_1_1_l3_address.html#aa2465c1940dc58da2f91a7d1f053115c">inet::L3Address::toIpv4</a></div><div class="ttdeci">Ipv4Address toIpv4() const</div><div class="ttdef"><b>Definition:</b> L3Address.h:70</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae044aa8f7fed216881b9ad6f28234c4b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae044aa8f7fed216881b9ad6f28234c4b">inet::sctp::SctpAssociation::makeOutgoingStreamResetParameter</a></div><div class="ttdeci">SctpParameter * makeOutgoingStreamResetParameter(uint32_t srsn, SctpResetReq *info)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:322</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_aecb688d526335dbec44d4c11051fc4d0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#aecb688d526335dbec44d4c11051fc4d0">inet::sctp::SctpStateVariables::peerTsnAfterReset</a></div><div class="ttdeci">uint32_t peerTsnAfterReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:786</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5c2d80b4e5e9d423675aa4401197fd72"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5c2d80b4e5e9d423675aa4401197fd72">inet::sctp::SctpAssociation::assocCollectedPaths</a></div><div class="ttdeci">SctpPathCollection assocCollectedPaths</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:893</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa70c4b8e13105602441b496cdc646d4e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa70c4b8e13105602441b496cdc646d4e">inet::sctp::SctpAssociation::T1_InitTimer</a></div><div class="ttdeci">cMessage * T1_InitTimer</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:910</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a559ca890f0914b78aec859490e47d4e2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a559ca890f0914b78aec859490e47d4e2">inet::sctp::SctpStateVariables::numResetRequests</a></div><div class="ttdeci">uint16_t numResetRequests</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:634</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_data_variables_html_a95310b32522cb3f2b624a3ef4193f6c1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_data_variables.html#a95310b32522cb3f2b624a3ef4193f6c1">inet::sctp::SctpDataVariables::tsn</a></div><div class="ttdeci">uint32_t tsn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:479</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_cookie_echo_chunk_html_a190918d5c419d8351a16edae24bfc2f4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_cookie_echo_chunk.html#a190918d5c419d8351a16edae24bfc2f4">inet::sctp::SctpCookieEchoChunk::dup</a></div><div class="ttdeci">virtual SctpCookieEchoChunk * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader_m.h:611</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a93bf4bcc71a962f2ecbac689bc160652"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a93bf4bcc71a962f2ecbac689bc160652">inet::sctp::SctpStateVariables::initialPeerRwnd</a></div><div class="ttdeci">uint64_t initialPeerRwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:601</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions_html_a05dcaf520b961dd107bdea40b34bbf79"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a05dcaf520b961dd107bdea40b34bbf79">inet::sctp::SctpAssociation::SSFunctions::ssInitStreams</a></div><div class="ttdeci">void(SctpAssociation::* ssInitStreams)(uint32_t inStreams, uint32_t outStreams)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1289</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064dabfd3d6f1c70c199fa5cd7b8bd243c15f">inet::sctp::RESET_OUTGOING</a></div><div class="ttdeci">@ RESET_OUTGOING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:141</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3b17b3c35f7f3bae659ff5d2e0e27cdd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3b17b3c35f7f3bae659ff5d2e0e27cdd">inet::sctp::SctpAssociation::pmStartPathManagement</a></div><div class="ttdeci">void pmStartPathManagement()</div><div class="ttdoc">Flow control.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2749</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aedf4c710b1edb56aaf81297675ac58ac"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aedf4c710b1edb56aaf81297675ac58ac">inet::sctp::SctpAssociation::process_TIMEOUT_SHUTDOWN</a></div><div class="ttdeci">void process_TIMEOUT_SHUTDOWN(SctpEventCode &amp;event)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3573</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5a4600f537d78d186cb74ffa96516233"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5a4600f537d78d186cb74ffa96516233">inet::sctp::SctpAssociation::statisticsQueuedSentBytes</a></div><div class="ttdeci">cOutVector * statisticsQueuedSentBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:966</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ab90bd52e82f6c7d01002b5310bf4a12b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ab90bd52e82f6c7d01002b5310bf4a12b">inet::sctp::SctpAssociation::StartTesting</a></div><div class="ttdeci">cMessage * StartTesting</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:914</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a8fcfc809e7604283fa50f5cea405e2aa"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a8fcfc809e7604283fa50f5cea405e2aa">inet::sctp::SctpStateVariables::getPrimaryPath</a></div><div class="ttdeci">SctpPathVariables * getPrimaryPath() const</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:549</div></div>
<div class="ttc" id="a_sctp_association_8h_html_aee9e5129c64e3a5dfbda76dd06c62a23"><div class="ttname"><a href="_sctp_association_8h.html#aee9e5129c64e3a5dfbda76dd06c62a23">SCTP_COOKIE_ACK_LENGTH</a></div><div class="ttdeci">#define SCTP_COOKIE_ACK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:210</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a0562a0798eb7e67f35692e5d35b11656"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0562a0798eb7e67f35692e5d35b11656">inet::sctp::SctpStateVariables::findRequestNum</a></div><div class="ttdeci">bool findRequestNum(uint32_t num)</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:500</div></div>
<div class="ttc" id="a_sctp_association_8h_html_ad4c0ed05112e2eae28cc210916cd3fdd"><div class="ttname"><a href="_sctp_association_8h.html#ad4c0ed05112e2eae28cc210916cd3fdd">SCTP_SACK_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_SACK_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:206</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0b8ea419a00850aa746035070522a1e5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0b8ea419a00850aa746035070522a1e5">inet::sctp::SctpAssociation::updateHighSpeedCCThresholdIdx</a></div><div class="ttdeci">void updateHighSpeedCCThresholdIdx(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:113</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a442e1bb8f48787c67e7133763be6fd19"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a442e1bb8f48787c67e7133763be6fd19">inet::sctp::SctpStateVariables::peerRequests</a></div><div class="ttdeci">std::map&lt; uint32_t, RequestData &gt; peerRequests</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:796</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a183fcc19b3165489433d1f320058d16b"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a183fcc19b3165489433d1f320058d16b">inet::sctp::AddressVector</a></div><div class="ttdeci">std::vector&lt; L3Address &gt; AddressVector</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:42</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_a16cf9d6f7732e655d4b23fb0ff33d094"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#a16cf9d6f7732e655d4b23fb0ff33d094">inet::sctp::SctpGapList::getCumAckTsn</a></div><div class="ttdeci">uint32_t getCumAckTsn() const</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:79</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a2d82d70c6d7ee846e74cd7f310ce8e3a"><div class="ttname"><a href="_sctp_association_8h.html#a2d82d70c6d7ee846e74cd7f310ce8e3a">SHA_LENGTH</a></div><div class="ttdeci">#define SHA_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:226</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a014598d12578c9f9b812a1ea70cc6f07a3418849d513b7d8b4c6879cf89d83eb7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a014598d12578c9f9b812a1ea70cc6f07a3418849d513b7d8b4c6879cf89d83eb7">inet::sctp::SctpStateVariables::CUCV_PseudoCumAckV2</a></div><div class="ttdeci">@ CUCV_PseudoCumAckV2</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:701</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_acafefd1e384d0251f18c2eb434255f39"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#acafefd1e384d0251f18c2eb434255f39">inet::sctp::Sctp::assocList</a></div><div class="ttdeci">std::list&lt; SctpAssociation * &gt; assocList</div><div class="ttdef"><b>Definition:</b> Sctp.h:169</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a0228bc8dbd910182b23beee0a5b077b2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0228bc8dbd910182b23beee0a5b077b2">inet::sctp::SctpStateVariables::highestTsnAcked</a></div><div class="ttdeci">uint32_t highestTsnAcked</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:605</div></div>
<div class="ttc" id="aclassinet_1_1_i_interface_table_html_a405c8eb436b41dd83ad2b72c380e853d"><div class="ttname"><a href="classinet_1_1_i_interface_table.html#a405c8eb436b41dd83ad2b72c380e853d">inet::IInterfaceTable::getInterface</a></div><div class="ttdeci">virtual NetworkInterface * getInterface(int pos) const =0</div><div class="ttdoc">Returns the NetworkInterface specified by an index 0..numInterfaces-1.</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a6f0c28ebd0e945046ac8fb42fbd83263"><div class="ttname"><a href="_sctp_association_8h.html#a6f0c28ebd0e945046ac8fb42fbd83263">SCTP_INCOMING_RESET_REQUEST_PARAMETER_LENGTH</a></div><div class="ttdeci">#define SCTP_INCOMING_RESET_REQUEST_PARAMETER_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:217</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa9e4a01a088cb289c1db3ed8d4268bc3b">inet::sctp::HEARTBEAT</a></div><div class="ttdeci">@ HEARTBEAT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:106</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a4361b816d6c6bbb111f9f8aecdda0519"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a4361b816d6c6bbb111f9f8aecdda0519">inet::sctp::Sctp::setSocketOptions</a></div><div class="ttdeci">void setSocketOptions(SocketOptions *options)</div><div class="ttdef"><b>Definition:</b> Sctp.h:254</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_afabfd8aa8a0e718208eb6301d023b7d8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#afabfd8aa8a0e718208eb6301d023b7d8">inet::sctp::SctpAssociation::resetSsn</a></div><div class="ttdeci">void resetSsn(uint16_t id)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:922</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa5b2e2571b843377fea7551411879be7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa5b2e2571b843377fea7551411879be7">inet::sctp::SctpAssociation::sendHMacError</a></div><div class="ttdeci">void sendHMacError(const uint16_t id)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1897</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a114000f03440234fd4816c4399605967"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a114000f03440234fd4816c4399605967">inet::sctp::SctpAssociation::scheduleTimeout</a></div><div class="ttdeci">void scheduleTimeout(cMessage *msg, const simtime_t &amp;timeout)</div><div class="ttdoc">Utility: start a timer.</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1185</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a506475262b5e897e580f5091363506a3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a506475262b5e897e580f5091363506a3">inet::sctp::SctpAssociation::retransmitInit</a></div><div class="ttdeci">void retransmitInit()</div><div class="ttdoc">Retransmitting chunks.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:756</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a50c5bede27c9440db7f7b538d357d811"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a50c5bede27c9440db7f7b538d357d811">inet::sctp::Sctp::getAssocMaxRtx</a></div><div class="ttdeci">int getAssocMaxRtx()</div><div class="ttdef"><b>Definition:</b> Sctp.h:267</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a7f97dc39958f4bb6dc8a1493f9cfe530"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7f97dc39958f4bb6dc8a1493f9cfe530">inet::sctp::SctpStateVariables::shutdownChunk</a></div><div class="ttdeci">SctpShutdownChunk * shutdownChunk</div><div class="ttdoc">pointer to the resetChunk (for retransmission)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:646</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a47737a6ee0a6aaf9eb2239d25aa95de7"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a47737a6ee0a6aaf9eb2239d25aa95de7">inet::sctp::SctpAssociation::cwndUpdateAfterRtxTimeout</a></div><div class="ttdeci">void cwndUpdateAfterRtxTimeout(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:830</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa836c4576b0c85086ef2ee86281ce132d">inet::sctp::INIT_ACK</a></div><div class="ttdeci">@ INIT_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:104</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ae4017911a90bb9b1b64382b8b41e1d39"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ae4017911a90bb9b1b64382b8b41e1d39">inet::sctp::SctpStateVariables::incomingRequest</a></div><div class="ttdeci">SctpParameter * incomingRequest</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:789</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a625c4793d60b30bc8ac0c85a76850797"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a625c4793d60b30bc8ac0c85a76850797">inet::sctp::SCTP_E_DUP_RECEIVED</a></div><div class="ttdeci">@ SCTP_E_DUP_RECEIVED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:83</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87eaeb32ff43fcbfee46ad8ccbd31589ad9e"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eaeb32ff43fcbfee46ad8ccbd31589ad9e">inet::Ipv4Address::TEST_NET</a></div><div class="ttdeci">@ TEST_NET</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:80</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ab63af511683389d52c86429bc24127fe"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab63af511683389d52c86429bc24127fe">inet::sctp::SCTP_E_SET_STREAM_PRIO</a></div><div class="ttdeci">@ SCTP_E_SET_STREAM_PRIO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:95</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a3d3bee8a96a297f04702966666d8d80c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a3d3bee8a96a297f04702966666d8d80c">inet::sctp::SctpAssociation::addAuthChunkIfNecessary</a></div><div class="ttdeci">bool addAuthChunkIfNecessary(Ptr&lt; SctpHeader &gt; sctpMsg, uint16_t chunkType, bool authAdded)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1485</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aab11f706525a1dbf7ceb17b1869ddeeb"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aab11f706525a1dbf7ceb17b1869ddeeb">inet::sctp::SctpAssociation::createSuccessIndication</a></div><div class="ttdeci">SctpSuccessIndication * createSuccessIndication(uint32_t correlationId)</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:297</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1a7ec283674f20293cd859a528775108"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1a7ec283674f20293cd859a528775108">inet::sctp::SctpAssociation::sendAsconf</a></div><div class="ttdeci">void sendAsconf(const char *type, bool remote=false)</div><div class="ttdoc">Methods for Add-IP and AUTH.</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:15</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae60672b64c91c97a3db140c2adb3ee1a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae60672b64c91c97a3db140c2adb3ee1a">inet::sctp::SctpAssociation::dacPacketsRcvd</a></div><div class="ttdeci">uint8_t dacPacketsRcvd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:924</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a7fbf555d28b43b3e2d6bb3e4afdd49e7"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a7fbf555d28b43b3e2d6bb3e4afdd49e7">inet::sctp::SCTP_E_SEND_SHUTDOWN_ACK</a></div><div class="ttdeci">@ SCTP_E_SEND_SHUTDOWN_ACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:89</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a20dece4ecfcd9c8bf68736ccec2d9006"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a20dece4ecfcd9c8bf68736ccec2d9006">inet::sctp::SctpStateVariables::outstandingBytes</a></div><div class="ttdeci">uint64_t outstandingBytes</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:612</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a0673c78aa8200a369e19b12a4201db67"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a0673c78aa8200a369e19b12a4201db67">inet::sctp::SCTP_E_ACCEPT</a></div><div class="ttdeci">@ SCTP_E_ACCEPT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:96</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a3222b1bcda3a07b8393b8487d1b21e09">inet::sctp::SctpStateVariables::CCCV_CMT</a></div><div class="ttdeci">@ CCCV_CMT</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:748</div></div>
<div class="ttc" id="a_sctp_association_8h_html_af91683bf2748f5b5b7fe6cbddfde21d9"><div class="ttname"><a href="_sctp_association_8h.html#af91683bf2748f5b5b7fe6cbddfde21d9">SCTP_NRSACK_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_NRSACK_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:207</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aad57c66ee81d1210374193ffec8f5969"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aad57c66ee81d1210374193ffec8f5969">inet::sctp::SctpAssociation::statisticsArwndInLastSACK</a></div><div class="ttdeci">cOutVector * statisticsArwndInLastSACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:973</div></div>
<div class="ttc" id="anamespaceinet_html_a9ad30be62e792f35add531d609e18d1f"><div class="ttname"><a href="namespaceinet.html#a9ad30be62e792f35add531d609e18d1f">inet::uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> INETDefs.h:55</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa839ab5ee8b4435d790cd54974720ecae">inet::sctp::SACK</a></div><div class="ttdeci">@ SACK</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:105</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a32210e52f265b878933c31261897629e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a32210e52f265b878933c31261897629e">inet::sctp::SctpAssociation::processCookieEchoArrived</a></div><div class="ttdeci">bool processCookieEchoArrived(SctpCookieEchoChunk *cookieEcho, L3Address addr)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:814</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a15d11aaf672ea8e4970304f031c4a165"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a15d11aaf672ea8e4970304f031c4a165">inet::sctp::SCTP_E_OPEN_PASSIVE</a></div><div class="ttdeci">@ SCTP_E_OPEN_PASSIVE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:63</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a0ea48175d9a696392e0dd42a85569b90"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a0ea48175d9a696392e0dd42a85569b90">inet::sctp::SctpStateVariables::queuedMessages</a></div><div class="ttdeci">uint64_t queuedMessages</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:628</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a54d2511db0c09de0f3c270b24feae688"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a54d2511db0c09de0f3c270b24feae688">inet::sctp::SctpAssociation::numUsableStreams</a></div><div class="ttdeci">int32_t numUsableStreams()</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:163</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5aea885fc61dcba97af9c55ee5561cb7b5"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5aea885fc61dcba97af9c55ee5561cb7b5">inet::sctp::FCFS</a></div><div class="ttdeci">@ FCFS</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:198</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_abced8b1ff845a1373389b2ca27788261"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#abced8b1ff845a1373389b2ca27788261">inet::sctp::SctpStateVariables::localRequestType</a></div><div class="ttdeci">uint16_t localRequestType</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:799</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a251287095e9ff3a090be53936579d215"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a251287095e9ff3a090be53936579d215">inet::sctp::SctpStateVariables::sendQueueLimit</a></div><div class="ttdeci">uint64_t sendQueueLimit</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:648</div></div>
<div class="ttc" id="a_sctp_association_8h_html_ad1963dfab19884e93c14d1527c1e0535"><div class="ttname"><a href="_sctp_association_8h.html#ad1963dfab19884e93c14d1527c1e0535">SCTP_SHUTDOWN_ACK_LENGTH</a></div><div class="ttdeci">#define SCTP_SHUTDOWN_ACK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:213</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a92758e2d52e28676021a9129a6478d3b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a92758e2d52e28676021a9129a6478d3b">inet::sctp::SctpStateVariables::setPrimaryPath</a></div><div class="ttdeci">void setPrimaryPath(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:536</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24a1fb9cb76a83de8b4f6c214b2ed315aec">inet::sctp::SctpStateVariables::CCCV_CMTRP_Test2</a></div><div class="ttdeci">@ CCCV_CMTRP_Test2</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:754</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a6219cf62b57619d766de46430862cabd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a6219cf62b57619d766de46430862cabd">inet::sctp::Sctp::addLocalAddress</a></div><div class="ttdeci">void addLocalAddress(SctpAssociation *assoc, L3Address address)</div><div class="ttdef"><b>Definition:</b> Sctp.cc:677</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4b30b8b8b9928ac338052bd41310d1f6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4b30b8b8b9928ac338052bd41310d1f6">inet::sctp::SctpStateVariables::resetDeferred</a></div><div class="ttdeci">bool resetDeferred</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:776</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a56fd22ad54a0ee87c07af43bad02b439"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a56fd22ad54a0ee87c07af43bad02b439">inet::sctp::SctpStateVariables::peerStreamReset</a></div><div class="ttdeci">bool peerStreamReset</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:775</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aff0abf9c17d61e526240ca2c913a5b53"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aff0abf9c17d61e526240ca2c913a5b53">inet::sctp::SctpAssociation::addPath</a></div><div class="ttdeci">void addPath(const L3Address &amp;addr)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2113</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a63e3925a09bb31ca572aeafacf853e85"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a63e3925a09bb31ca572aeafacf853e85">inet::sctp::SctpAssociation::makeAddStreamsRequestParameter</a></div><div class="ttdeci">SctpParameter * makeAddStreamsRequestParameter(uint32_t srsn, SctpResetReq *info)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:376</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a29e541b64dbb33df29d39fa29cbe610e"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a29e541b64dbb33df29d39fa29cbe610e">inet::sctp::SctpStateVariables::numRequests</a></div><div class="ttdeci">uint32_t numRequests</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:621</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3add5ae9bf14ff1d4ef3b33f4eddad0af1">inet::sctp::SCTP_E_IGNORE</a></div><div class="ttdeci">@ SCTP_E_IGNORE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:81</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ad050b4bf09fbe9fd05723ac53e82b474"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ad050b4bf09fbe9fd05723ac53e82b474">inet::sctp::SctpStateVariables::chunkList</a></div><div class="ttdeci">std::vector&lt; uint16_t &gt; chunkList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:812</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdac326e8263fb2ab730dc9be7771f3522c"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdac326e8263fb2ab730dc9be7771f3522c">inet::SCTP_C_ACCEPT</a></div><div class="ttdeci">@ SCTP_C_ACCEPT</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:151</div></div>
<div class="ttc" id="aclassinet_1_1_l3_address_html_ab167fd946a699f428afd5f8dcea2e79e"><div class="ttname"><a href="classinet_1_1_l3_address.html#ab167fd946a699f428afd5f8dcea2e79e">inet::L3Address::getType</a></div><div class="ttdeci">AddressType getType() const</div><div class="ttdef"><b>Definition:</b> L3Address.cc:51</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4754b772f1b1f9936dd3112e0c8cb1ea"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4754b772f1b1f9936dd3112e0c8cb1ea">inet::sctp::SctpStateVariables::numMsgsReq</a></div><div class="ttdeci">std::vector&lt; int32_t &gt; numMsgsReq</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:636</div></div>
<div class="ttc" id="a_sctp_association_8h_html_adb68f34f312f494d7fbbc8437224d791"><div class="ttname"><a href="_sctp_association_8h.html#adb68f34f312f494d7fbbc8437224d791">SCTP_PKTDROP_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_PKTDROP_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:225</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac322b5814c746b8f0a719570d87046ae"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac322b5814c746b8f0a719570d87046ae">inet::sctp::SctpAssociation::sendStreamPresent</a></div><div class="ttdeci">bool sendStreamPresent(uint32_t sid)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:929</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a392c811b3a0c1badba65447d28444d68">inet::sctp::SCTP_E_SEND</a></div><div class="ttdeci">@ SCTP_E_SEND</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:67</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a7407ddfc7a56a3b33d19f70b6b1ad5dc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a7407ddfc7a56a3b33d19f70b6b1ad5dc">inet::sctp::SctpStateVariables::throughputInterval</a></div><div class="ttdeci">double throughputInterval</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:841</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5a95064033a253b58188c6a03b54d9ef"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5a95064033a253b58188c6a03b54d9ef">inet::sctp::SctpAssociation::processIncomingResetRequestArrived</a></div><div class="ttdeci">void processIncomingResetRequestArrived(SctpIncomingSsnResetRequestParameter *requestParam)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2391</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad7690d70f39aa4fc970d20b645b0bf5a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad7690d70f39aa4fc970d20b645b0bf5a">inet::sctp::SctpAssociation::printAssocBrief</a></div><div class="ttdeci">void printAssocBrief()</div><div class="ttdoc">Utility: prints local/remote addr/port and app gate index/assocId.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:287</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_asconf_chunk_html_aa8b8a45419cc82422f292720af9a457c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_asconf_chunk.html#aa8b8a45419cc82422f292720af9a457c">inet::sctp::SctpAsconfChunk::dup</a></div><div class="ttdeci">virtual SctpAsconfChunk * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader.h:177</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a720071c5578949be78b0ab8ce7aa1a33"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a720071c5578949be78b0ab8ce7aa1a33">inet::sctp::SctpStateVariables::incomingRequestSet</a></div><div class="ttdeci">bool incomingRequestSet</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:592</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a94538502214166b2f026f57a6962cdbc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a94538502214166b2f026f57a6962cdbc">inet::sctp::SctpStateVariables::peerRequestSn</a></div><div class="ttdeci">uint32_t peerRequestSn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:784</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac711d44079c2382e1e65ee66c4db3ec1aabb4379aa688f18f996524985ecaf51b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1aabb4379aa688f18f996524985ecaf51b">inet::sctp::SctpStateVariables::CSP_RoundRobin</a></div><div class="ttdeci">@ CSP_RoundRobin</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:738</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a28b3cdd236064d09bc2985c1d8774090"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a28b3cdd236064d09bc2985c1d8774090">inet::sctp::SctpAssociation::initStreams</a></div><div class="ttdeci">void initStreams(uint32_t inStreams, uint32_t outStreams)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:58</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaa944c4eb5d1659d5ae21ff5e9eb070027"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaa944c4eb5d1659d5ae21ff5e9eb070027">inet::sctp::IFORWARD_TSN</a></div><div class="ttdeci">@ IFORWARD_TSN</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:122</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4bc265636cab7afd76a358d1857f9bda"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4bc265636cab7afd76a358d1857f9bda">inet::sctp::SctpAssociation::getNextPath</a></div><div class="ttdeci">SctpPathVariables * getNextPath(const SctpPathVariables *oldPath) const</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2671</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a52aaab9c64b3ea45ac5d0e9452bd40e8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a52aaab9c64b3ea45ac5d0e9452bd40e8">inet::sctp::SctpAssociation::sendSACKviaSelectedPath</a></div><div class="ttdeci">void sendSACKviaSelectedPath(const Ptr&lt; SctpHeader &gt; &amp;sctpMsg)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:499</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac04574b7f00810703e57f3091f182f5a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac04574b7f00810703e57f3091f182f5a">inet::sctp::SctpAssociation::disposeOf</a></div><div class="ttdeci">void disposeOf(SctpHeader *sctpmsg)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2880</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a804a4dca88ee4c4db458bf5213da8639"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a804a4dca88ee4c4db458bf5213da8639">inet::sctp::SctpStateVariables::swsMsgInvoked</a></div><div class="ttdeci">bool swsMsgInvoked</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:836</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#acb3a7c29d21a1fa7868302caafb22f24ab63ad42a89661b0064fe33800949d32d">inet::sctp::SctpStateVariables::CCCV_CMT_LIA</a></div><div class="ttdeci">@ CCCV_CMT_LIA</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:751</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a8969c04b236568c7e1f2f5af2a17e902"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a8969c04b236568c7e1f2f5af2a17e902">inet::sctp::SctpAssociation::createAsconfAckChunk</a></div><div class="ttdeci">SctpAsconfAckChunk * createAsconfAckChunk(uint32_t serialNumber)</div><div class="ttdef"><b>Definition:</b> SctpAssociationAddIp.cc:201</div></div>
<div class="ttc" id="aclassinet_1_1_ipv6_address_html_aefe51e29a45bdb7502a5410e07c0c669afbb8f8548bd12dab1f30125bc7397d9c"><div class="ttname"><a href="classinet_1_1_ipv6_address.html#aefe51e29a45bdb7502a5410e07c0c669afbb8f8548bd12dab1f30125bc7397d9c">inet::Ipv6Address::GLOBAL</a></div><div class="ttdeci">@ GLOBAL</div><div class="ttdef"><b>Definition:</b> Ipv6Address.h:48</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a75b6da6585d1e5930765289159ce7669"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a75b6da6585d1e5930765289159ce7669">inet::sctp::SctpStateVariables::resetRequested</a></div><div class="ttdeci">bool resetRequested</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:580</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a47ff5d38deaba8dffba7320824fa8dc8"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a47ff5d38deaba8dffba7320824fa8dc8">inet::sctp::SctpStateVariables::reactivatePrimaryPath</a></div><div class="ttdeci">bool reactivatePrimaryPath</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:578</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_queue_html_aa4549eb518fe3ebbfaa7dfaa4e3badec"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_queue.html#aa4549eb518fe3ebbfaa7dfaa4e3badec">inet::sctp::SctpQueue::getQueueSize</a></div><div class="ttdeci">uint32_t getQueueSize() const</div><div class="ttdef"><b>Definition:</b> SctpQueue.cc:49</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5000f66996be269bb00476d0bd48fa7a1bb004d64bb574b03e1d0a9a6b98178a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5000f66996be269bb00476d0bd48fa7a1bb004d64bb574b03e1d0a9a6b98178a">inet::sctp::SctpStateVariables::MBV_UseItOrLoseItTempCwnd</a></div><div class="ttdeci">@ MBV_UseItOrLoseItTempCwnd</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:685</div></div>
<div class="ttc" id="aclassinet_1_1_sctp_reset_req_html_a2ab591e827ef9eb5a869444bb972a0fd"><div class="ttname"><a href="classinet_1_1_sctp_reset_req.html#a2ab591e827ef9eb5a869444bb972a0fd">inet::SctpResetReq::getRequestType</a></div><div class="ttdeci">virtual unsigned short getRequestType() const</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad8a6c9be16faf0c5806ea30a92216dd3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad8a6c9be16faf0c5806ea30a92216dd3">inet::sctp::SctpAssociation::sendAddInAndOutStreamsRequest</a></div><div class="ttdeci">void sendAddInAndOutStreamsRequest(SctpResetReq *info)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:697</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a32d10933c0677d4faed7d61fb7289365"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a32d10933c0677d4faed7d61fb7289365">inet::sctp::SctpStateVariables::ackPointAdvanced</a></div><div class="ttdeci">bool ackPointAdvanced</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:564</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87ea1689e51c53d1e8da1e300af2cdf367bc"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87ea1689e51c53d1e8da1e300af2cdf367bc">inet::Ipv4Address::PRIVATE_NETWORK</a></div><div class="ttdeci">@ PRIVATE_NETWORK</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:85</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdae85e2568e855de4b367b2d52d91bc615"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdae85e2568e855de4b367b2d52d91bc615">inet::SCTP_C_CLOSE</a></div><div class="ttdeci">@ SCTP_C_CLOSE</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:133</div></div>
<div class="ttc" id="a_sctp_association_8h_html_a24fbb320a654205e2ac75840a8936af4"><div class="ttname"><a href="_sctp_association_8h.html#a24fbb320a654205e2ac75840a8936af4">SCTP_TSN_GT</a></div><div class="ttdeci">#define SCTP_TSN_GT(a, b)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1071</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_afc130170fc4618e11bdeb6c896bc0825"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#afc130170fc4618e11bdeb6c896bc0825">inet::sctp::SctpAssociation::getSsnOfStream</a></div><div class="ttdeci">uint32_t getSsnOfStream(uint16_t id)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:908</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad252b794638b8e7116ced2c85f061d59"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad252b794638b8e7116ced2c85f061d59">inet::sctp::SctpAssociation::sendAbort</a></div><div class="ttdeci">void sendAbort(uint16_t tBit=0)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1153</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a44bb72f907584ed68920b2eabe578c3f"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a44bb72f907584ed68920b2eabe578c3f">inet::SCTP_I_ADDRESS_ADDED</a></div><div class="ttdeci">@ SCTP_I_ADDRESS_ADDED</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:216</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a90469da524c287360891576ecfb3193b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a90469da524c287360891576ecfb3193b">inet::sctp::SctpAssociation::processDataArrived</a></div><div class="ttdeci">SctpEventCode processDataArrived(SctpDataChunk *dataChunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2109</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a6428ad61e8f55afecf09d1019f3e3f1a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a6428ad61e8f55afecf09d1019f3e3f1a">inet::sctp::SctpStateVariables::bytesToAddPerPeerChunk</a></div><div class="ttdeci">uint32_t bytesToAddPerPeerChunk</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:834</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a008a32e777ea3990bfdf3aa794a1d962"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a008a32e777ea3990bfdf3aa794a1d962">inet::sctp::Sctp::getSackFrequency</a></div><div class="ttdeci">int getSackFrequency()</div><div class="ttdef"><b>Definition:</b> Sctp.h:260</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2773237df3ef1f849f77d092f2c9af8a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2773237df3ef1f849f77d092f2c9af8a">inet::sctp::SctpAssociation::state</a></div><div class="ttdeci">SctpStateVariables * state</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:951</div></div>
<div class="ttc" id="a_sctp_association_8h_html_acb5717d07693e115a7c76c2081ce7045"><div class="ttname"><a href="_sctp_association_8h.html#acb5717d07693e115a7c76c2081ce7045">SCTP_STREAM_RESET_CHUNK_LENGTH</a></div><div class="ttdeci">#define SCTP_STREAM_RESET_CHUNK_LENGTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:215</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abd022f11a996e8ef5e87ff2e75bec902"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abd022f11a996e8ef5e87ff2e75bec902">inet::sctp::SctpAssociation::stopTimer</a></div><div class="ttdeci">void stopTimer(cMessage *timer)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3667</div></div>
<div class="ttc" id="astructinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions_html_a9dde564a0530372b18bf5385dd3b8ccc"><div class="ttname"><a href="structinet_1_1sctp_1_1_sctp_association_1_1_s_s_functions.html#a9dde564a0530372b18bf5385dd3b8ccc">inet::sctp::SctpAssociation::SSFunctions::ssAddOutStreams</a></div><div class="ttdeci">void(SctpAssociation::* ssAddOutStreams)(uint32_t outStreams)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1291</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064daa9f16884db48ba73e2b7329f716652af">inet::sctp::RESET_BOTH</a></div><div class="ttdeci">@ RESET_BOTH</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:143</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6ef650f8ed8fd7da37a0a29a01e0ec9d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6ef650f8ed8fd7da37a0a29a01e0ec9d">inet::sctp::SctpAssociation::putInTransmissionQ</a></div><div class="ttdeci">void putInTransmissionQ(uint32_t tsn, SctpDataVariables *chunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2951</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_afc83b96266e49ce77859ae958ec08898"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#afc83b96266e49ce77859ae958ec08898">inet::sctp::SctpAssociation::advancePeerTsn</a></div><div class="ttdeci">void advancePeerTsn()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2279</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5e6b940e850aef95dea41f32f7ded313ad52b0f810609841a78d204ab903ec2e1">inet::sctp::SctpStateVariables::CBSV_BothSides</a></div><div class="ttdeci">@ CBSV_BothSides</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:709</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_init_chunk_html_ac3ca6295a81372c2ec57b6c32ab66311"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_init_chunk.html#ac3ca6295a81372c2ec57b6c32ab66311">inet::sctp::SctpInitChunk::dup</a></div><div class="ttdeci">virtual SctpInitChunk * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader_m.h:318</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a5f134c96ca120472e237d3670baac965"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a5f134c96ca120472e237d3670baac965">inet::sctp::SctpStateVariables::fork</a></div><div class="ttdeci">bool fork</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:563</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87eac3caaf425bba1f707a2e358d69581e90"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eac3caaf425bba1f707a2e358d69581e90">inet::Ipv4Address::IPv6_TO_IPv4_RELAY</a></div><div class="ttdeci">@ IPv6_TO_IPv4_RELAY</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:81</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4583a4c7e14e661158573ddab926bd90"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4583a4c7e14e661158573ddab926bd90">inet::sctp::SctpAssociation::statisticsNumDuplicatesSent</a></div><div class="ttdeci">cOutVector * statisticsNumDuplicatesSent</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:982</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a72e72ec5808ecc8c9e3bd676f782e727"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a72e72ec5808ecc8c9e3bd676f782e727">inet::sctp::SCTP_E_SET_RTO_INFO</a></div><div class="ttdeci">@ SCTP_E_SET_RTO_INFO</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:97</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_add1ff5aa34261f37e084653a9d93616d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#add1ff5aa34261f37e084653a9d93616d">inet::sctp::SctpStateVariables::numAddedInStreams</a></div><div class="ttdeci">uint16_t numAddedInStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:662</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a975d83452a110dab5c981723226e200d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a975d83452a110dab5c981723226e200d">inet::sctp::SctpStateVariables::peerChunkList</a></div><div class="ttdeci">std::vector&lt; uint16_t &gt; peerChunkList</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:813</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9e3191e6fae3f979f4c79cd0f461d1cd"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9e3191e6fae3f979f4c79cd0f461d1cd">inet::sctp::SctpAssociation::ccFunctions</a></div><div class="ttdeci">CCFunctions ccFunctions</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:942</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a80dbb4274b11f8e230ffa450e2f830d3"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a80dbb4274b11f8e230ffa450e2f830d3">inet::sctp::SctpStateVariables::bytesToAddPerRcvdChunk</a></div><div class="ttdeci">uint32_t bytesToAddPerRcvdChunk</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:833</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a175427b9e2787f8d70aecc580a10d7a6"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a175427b9e2787f8d70aecc580a10d7a6">inet::sctp::SctpAssociation::sendAvailableIndicationToApp</a></div><div class="ttdeci">void sendAvailableIndicationToApp()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:452</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_abd9cc508e0dd71bf0f66d37eb2a5c162"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#abd9cc508e0dd71bf0f66d37eb2a5c162">inet::sctp::SctpAssociation::process_TIMEOUT_RTX</a></div><div class="ttdeci">void process_TIMEOUT_RTX(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:3757</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a48232ae51c90adad9da8d3fb28a65b56"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a48232ae51c90adad9da8d3fb28a65b56">inet::sctp::SctpAssociation::unackChunk</a></div><div class="ttdeci">void unackChunk(SctpDataVariables *chunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1445</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3819883fb3c3f1751c40d1ab6b09dadaabefba696cf4ee4b46e4be1a8b5b409b0">inet::sctp::SHUTDOWN_COMPLETE</a></div><div class="ttdeci">@ SHUTDOWN_COMPLETE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:114</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a9f10b326e3abde82edf74c4ac320fbf0"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a9f10b326e3abde82edf74c4ac320fbf0">inet::sctp::SctpAssociation::cwndUpdateMaxBurst</a></div><div class="ttdeci">void cwndUpdateMaxBurst(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:922</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a06fb41ade00324770a55c712c676a972"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a06fb41ade00324770a55c712c676a972">inet::sctp::SctpAssociation::inboundStreams</a></div><div class="ttdeci">uint32_t inboundStreams</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:933</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a4333912695504ed7796c6c892f9306ad"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a4333912695504ed7796c6c892f9306ad">inet::sctp::SctpStateVariables::prMethod</a></div><div class="ttdeci">uint32_t prMethod</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:826</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a3f8863732ce05eb907b01c9013be47a5"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a3f8863732ce05eb907b01c9013be47a5">inet::sctp::SctpStateVariables::cmtSackPath</a></div><div class="ttdeci">CSackPath cmtSackPath</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:741</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3ab4b5e84e646985a9faa2a4f88e031b16"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3ab4b5e84e646985a9faa2a4f88e031b16">inet::sctp::SCTP_E_ASSOCIATE</a></div><div class="ttdeci">@ SCTP_E_ASSOCIATE</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:62</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a9c11fe74997665241e487dfb1c44c37cafac00649f05c1b7c3963d629cbcfc178"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a9c11fe74997665241e487dfb1c44c37cafac00649f05c1b7c3963d629cbcfc178">inet::sctp::RFC4960</a></div><div class="ttdeci">@ RFC4960</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:187</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a60ceac8641cc0555e6e1f55d16e5ee6f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a60ceac8641cc0555e6e1f55d16e5ee6f">inet::sctp::SctpAssociation::setFragInProgressOfStream</a></div><div class="ttdeci">void setFragInProgressOfStream(uint16_t sid, bool frag)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:104</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_aee106701df8812314b9f92b54a22b75b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#aee106701df8812314b9f92b54a22b75b">inet::sctp::Sctp::getMaxBurst</a></div><div class="ttdeci">int getMaxBurst()</div><div class="ttdef"><b>Definition:</b> Sctp.h:262</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a4f51ecb152ced3414123f380ff78f8f2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a4f51ecb152ced3414123f380ff78f8f2">inet::sctp::SctpAssociation::cucProcessGapReports</a></div><div class="ttdeci">void cucProcessGapReports(const SctpDataVariables *chunk, SctpPathVariables *path, const bool isAcked)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:935</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a9a7d4d5b34032bf42aea077c4db0e26f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9a7d4d5b34032bf42aea077c4db0e26f">inet::sctp::SctpStateVariables::waitForResponse</a></div><div class="ttdeci">bool waitForResponse</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:778</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a819a5646d77f74d5478f498de24e35cc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a819a5646d77f74d5478f498de24e35cc">inet::sctp::SctpAssociation::transmissionQ</a></div><div class="ttdeci">SctpQueue * transmissionQ</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:957</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad7a727e9a42d2e6ac5d9bf512f868c99"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad7a727e9a42d2e6ac5d9bf512f868c99">inet::sctp::SctpAssociation::initPeerTsn</a></div><div class="ttdeci">uint32_t initPeerTsn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:939</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_parameter_html_abfa8b35f8b3f581246eaf4b9649c961c"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_parameter.html#abfa8b35f8b3f581246eaf4b9649c961c">inet::sctp::SctpParameter::dup</a></div><div class="ttdeci">virtual SctpParameter * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader_m.h:1503</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da5eda71c034f5348f154f47dd65ce3f47">inet::sctp::PERFORMED</a></div><div class="ttdeci">@ PERFORMED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:135</div></div>
<div class="ttc" id="anamespaceinet_html_afa2cbc698a7f3cbd0f837d5b97a82733"><div class="ttname"><a href="namespaceinet.html#afa2cbc698a7f3cbd0f837d5b97a82733">inet::containsKey</a></div><div class="ttdeci">bool containsKey(const std::map&lt; K, V, _C &gt; &amp;m, const Tk &amp;a)</div><div class="ttdef"><b>Definition:</b> stlutils.h:80</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ad478b5cc5a0084beed3779a4a92299cf"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ad478b5cc5a0084beed3779a4a92299cf">inet::sctp::SctpAssociation::timeForSack</a></div><div class="ttdeci">void timeForSack(bool &amp;sackOnly, bool &amp;sackWithData)</div><div class="ttdef"><b>Definition:</b> SctpAssociationSendAll.cc:247</div></div>
<div class="ttc" id="anamespaceinet_html_a24afae8838c34d6823d049501ae04da1a70f41bbd71811f67358edaf004db7df2"><div class="ttname"><a href="namespaceinet.html#a24afae8838c34d6823d049501ae04da1a70f41bbd71811f67358edaf004db7df2">inet::SCTP_I_AVAILABLE</a></div><div class="ttdeci">@ SCTP_I_AVAILABLE</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:218</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a35810f2e01a572bdcb22683982c82f07"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a35810f2e01a572bdcb22683982c82f07">inet::sctp::SctpAssociation::chunkMustBeAbandoned</a></div><div class="ttdeci">bool chunkMustBeAbandoned(SctpDataVariables *chunk, SctpPathVariables *sackPath)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2343</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0f38ebd5aa8b7ebb8d0808c1a362dcd2"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0f38ebd5aa8b7ebb8d0808c1a362dcd2">inet::sctp::SctpAssociation::decreaseOutstandingBytes</a></div><div class="ttdeci">void decreaseOutstandingBytes(SctpDataVariables *chunk)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:34</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a1785c891ea6c30071b085376e41dfbfc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a1785c891ea6c30071b085376e41dfbfc">inet::sctp::SctpStateVariables::queueLimit</a></div><div class="ttdeci">uint32_t queueLimit</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:630</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_abc85f60b58bd0784e87c3673a4390142"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#abc85f60b58bd0784e87c3673a4390142">inet::sctp::SctpStateVariables::asconfSn</a></div><div class="ttdeci">uint32_t asconfSn</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:767</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a247c72421e476d8de2313051657de157"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a247c72421e476d8de2313051657de157">inet::sctp::SctpAssociation::processHeartbeatAckArrived</a></div><div class="ttdeci">SctpEventCode processHeartbeatAckArrived(SctpHeartbeatAckChunk *heartbeatack, SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2271</div></div>
<div class="ttc" id="anamespaceinet_1_1utils_html_a5bf993b2576999e290895d1d0d984c43"><div class="ttname"><a href="namespaceinet_1_1utils.html#a5bf993b2576999e290895d1d0d984c43">inet::utils::for</a></div><div class="ttdeci">for(int index=0;index&lt; array-&gt;size();index++)</div><div class="ttdef"><b>Definition:</b> NedFunctions.cc:229</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ac711d44079c2382e1e65ee66c4db3ec1a3118a4dd17fa10a72a5c917f5fb6a0d1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ac711d44079c2382e1e65ee66c4db3ec1a3118a4dd17fa10a72a5c917f5fb6a0d1">inet::sctp::SctpStateVariables::CSP_Primary</a></div><div class="ttdeci">@ CSP_Primary</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:737</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_cookie_html_aee89cd45be9f6fcefe77a0fa24d2d881"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_cookie.html#aee89cd45be9f6fcefe77a0fa24d2d881">inet::sctp::SctpCookie::dup</a></div><div class="ttdeci">virtual SctpCookie * dup() const override</div><div class="ttdef"><b>Definition:</b> SctpHeader_m.h:678</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a0646b9287b80ba925613fda20a230153"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a0646b9287b80ba925613fda20a230153">inet::sctp::SctpAssociation::getOutboundDataChunk</a></div><div class="ttdeci">SctpDataVariables * getOutboundDataChunk(const SctpPathVariables *path, int32_t availableSpace, int32_t availableCwnd)</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2301</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7554bab1415649f0631d48598a2d5971"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7554bab1415649f0631d48598a2d5971">inet::sctp::SctpAssociation::streamSchedulerFairBandwidth</a></div><div class="ttdeci">int32_t streamSchedulerFairBandwidth(SctpPathVariables *path, bool peek)</div><div class="ttdef"><b>Definition:</b> SctpSsFunctions.cc:318</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ae44c9b5aec6af8d342ff43ec266778e1"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ae44c9b5aec6af8d342ff43ec266778e1">inet::sctp::SctpAssociation::cwndUpdateAfterSack</a></div><div class="ttdeci">void cwndUpdateAfterSack()</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:433</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_ab5677ec1953f9bfe945be11c19e45c26"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#ab5677ec1953f9bfe945be11c19e45c26">inet::sctp::SctpStateVariables::cmtCCVariant</a></div><div class="ttdeci">CCCVariant cmtCCVariant</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:756</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_afdb9708f28afc2d835955f9005f5823f"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#afdb9708f28afc2d835955f9005f5823f">inet::sctp::SctpStateVariables::cmtSendAllComparisonFunction</a></div><div class="ttdeci">bool(* cmtSendAllComparisonFunction)(const SctpPathVariables *left, const SctpPathVariables *right)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:695</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_gap_list_html_ab403e43cd59a722d6c82c11b952d9a12"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_gap_list.html#ab403e43cd59a722d6c82c11b952d9a12">inet::sctp::SctpGapList::getHighestTsnReceived</a></div><div class="ttdeci">uint32_t getHighestTsnReceived() const</div><div class="ttdef"><b>Definition:</b> SctpGapList.h:84</div></div>
<div class="ttc" id="anamespaceinet_html_a5634c284e79ddafd840d4fd70b5cc5cdae938f7487c0b3e0598414cf643fb30dd"><div class="ttname"><a href="namespaceinet.html#a5634c284e79ddafd840d4fd70b5cc5cdae938f7487c0b3e0598414cf643fb30dd">inet::SCTP_C_ADD_STREAMS</a></div><div class="ttdeci">@ SCTP_C_ADD_STREAMS</div><div class="ttdef"><b>Definition:</b> SctpCommand_m.h:146</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_abf7015563f00c79740dcf347b716cc8a"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#abf7015563f00c79740dcf347b716cc8a">inet::sctp::SctpStateVariables::peerWindowFull</a></div><div class="ttdeci">bool peerWindowFull</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:585</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_state_variables_html_a9899b92f12ecce712b5afb351bddaede"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_state_variables.html#a9899b92f12ecce712b5afb351bddaede">inet::sctp::SctpStateVariables::assocPmtu</a></div><div class="ttdeci">uint32_t assocPmtu</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:617</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a42546b5c6e9e891b91c177a564ed4c00"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a42546b5c6e9e891b91c177a564ed4c00">inet::sctp::SctpAssociation::checkStreamsToReset</a></div><div class="ttdeci">void checkStreamsToReset()</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:53</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_html_a4a66566d533bfd1d9d74f8b79af722fc"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp.html#a4a66566d533bfd1d9d74f8b79af722fc">inet::sctp::Sctp::getEphemeralPort</a></div><div class="ttdeci">uint16_t getEphemeralPort()</div><div class="ttdoc">To be called from SctpAssociation: reserves an ephemeral port for the connection.</div><div class="ttdef"><b>Definition:</b> Sctp.cc:634</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a1a19f9cabb3b28a8f91db2f9f8e6f452"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a1a19f9cabb3b28a8f91db2f9f8e6f452">inet::sctp::SctpAssociation::sendDoubleStreamResetResponse</a></div><div class="ttdeci">void sendDoubleStreamResetResponse(uint32_t insrrsn, uint16_t inresult, uint32_t outsrrsn, uint16_t outresult)</div><div class="ttdef"><b>Definition:</b> SctpAssociationStreamReset.cc:842</div></div>
<div class="ttc" id="aclassinet_1_1_ipv4_address_html_a9f197be78568f7d910cadc1c890cc87eae0778b975e58be2ad8019dcc9be8c8e2"><div class="ttname"><a href="classinet_1_1_ipv4_address.html#a9f197be78568f7d910cadc1c890cc87eae0778b975e58be2ad8019dcc9be8c8e2">inet::Ipv4Address::THIS_NETWORK</a></div><div class="ttdeci">@ THIS_NETWORK</div><div class="ttdef"><b>Definition:</b> Ipv4Address.h:75</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_aa7b5ed15f14dc77be9ff82d36441b6e4"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#aa7b5ed15f14dc77be9ff82d36441b6e4">inet::sctp::SctpAssociation::recordCwndUpdate</a></div><div class="ttdeci">void recordCwndUpdate(SctpPathVariables *path)</div><div class="ttdef"><b>Definition:</b> SctpCcFunctions.cc:354</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a3a3024cb6830b2e2795fefdf6d270fd5af75793c64c8e4054e6069f2d512c347a"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a3a3024cb6830b2e2795fefdf6d270fd5af75793c64c8e4054e6069f2d512c347a">inet::sctp::RANDOM_SCHEDULE_PACKET</a></div><div class="ttdeci">@ RANDOM_SCHEDULE_PACKET</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:194</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a7890a87d2af9232c6051db88278da9ef"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a7890a87d2af9232c6051db88278da9ef">inet::sctp::SctpAssociation::getOutstandingBytes</a></div><div class="ttdeci">int32_t getOutstandingBytes() const</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:2799</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a036a501e7d631014af2a7f0b20ac5561"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a036a501e7d631014af2a7f0b20ac5561">inet::sctp::SctpAssociation::sendEstabIndicationToApp</a></div><div class="ttdeci">void sendEstabIndicationToApp()</div><div class="ttdoc">Utility: sends SCTP_I_ESTABLISHED indication with SctpConnectInfo to application.</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:472</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a695795e5dd058362df7aa9cc4a38064da34b23cba5c6361a1719150c1b90c1818">inet::sctp::DENIED</a></div><div class="ttdeci">@ DENIED</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:136</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_ac28a5fcc0328621d1c9c40026e61041b"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#ac28a5fcc0328621d1c9c40026e61041b">inet::sctp::SctpAssociation::scheduleSack</a></div><div class="ttdeci">void scheduleSack()</div><div class="ttdef"><b>Definition:</b> SctpAssociationUtil.cc:1324</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a5167a2a56783c9a301133fd5ae9a0b5d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a5167a2a56783c9a301133fd5ae9a0b5d">inet::sctp::SctpAssociation::dequeueAckedChunks</a></div><div class="ttdeci">void dequeueAckedChunks(const uint32_t tsna, SctpPathVariables *path, simtime_t &amp;rttEstimation)</div><div class="ttdef"><b>Definition:</b> SctpAssociationRcvMessage.cc:2028</div></div>
<div class="ttc" id="anamespaceinet_1_1sctp_html_a32e4214dfc25cdd5f35e989e912233c3a91cd08ad34c4800733b7cc105f863c92"><div class="ttname"><a href="namespaceinet_1_1sctp.html#a32e4214dfc25cdd5f35e989e912233c3a91cd08ad34c4800733b7cc105f863c92">inet::sctp::SCTP_E_STOP_SENDING</a></div><div class="ttdeci">@ SCTP_E_STOP_SENDING</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:90</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a6f14c356e8ffcd4040418218063f1856"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a6f14c356e8ffcd4040418218063f1856">inet::sctp::SctpAssociation::tsnLt</a></div><div class="ttdeci">static bool tsnLt(const uint32_t tsn1, const uint32_t tsn2)</div><div class="ttdef"><b>Definition:</b> SctpAssociation.h:1078</div></div>
<div class="ttc" id="aclassinet_1_1sctp_1_1_sctp_association_html_a2c42b73f2cb213158ed95d798a49532d"><div class="ttname"><a href="classinet_1_1sctp_1_1_sctp_association.html#a2c42b73f2cb213158ed95d798a49532d">inet::sctp::SctpAssociation::removePath</a></div><div class="ttdeci">void removePath()</div><div class="ttdef"><b>Definition:</b> SctpAssociationBase.cc:1801</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinet.html">inet</a></li><li class="navelem"><a class="el" href="namespaceinet_1_1sctp.html">sctp</a></li><li class="navelem"><a class="el" href="classinet_1_1sctp_1_1_sctp_association.html">SctpAssociation</a></li>
    <li class="footer">Generated on Sun Apr 10 2022 21:00:43 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
