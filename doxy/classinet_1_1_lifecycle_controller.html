<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>INET Framework for OMNeT++/OMNEST: inet::LifecycleController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="opp.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classinet_1_1_lifecycle_controller.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classinet_1_1_lifecycle_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inet::LifecycleController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages operations like shutdown/restart, suspend/resume, crash/recover and similar operations for nodes (routers, hosts, etc), interfaces, and protocols.  
 <a href="classinet_1_1_lifecycle_controller.html#details">More...</a></p>

<p><code>#include &lt;LifecycleController.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inet::LifecycleController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinet_1_1_lifecycle_controller.png" usemap="#inet::LifecycleController_map" alt=""/>
  <map id="inet::LifecycleController_map" name="inet::LifecycleController_map">
<area href="classinet_1_1power_1_1_simple_cc_battery.html" alt="inet::power::SimpleCcBattery" shape="rect" coords="0,56,244,80"/>
<area href="classinet_1_1power_1_1_simple_ep_energy_management.html" alt="inet::power::SimpleEpEnergyManagement" shape="rect" coords="254,56,498,80"/>
<area href="classinet_1_1power_1_1_simple_ep_energy_storage.html" title="This class implements a simple total power integrating energy storage." alt="inet::power::SimpleEpEnergyStorage" shape="rect" coords="508,56,752,80"/>
<area href="classinet_1_1_scenario_manager.html" title="Scenario Manager (experimental) which executes a script specified in XML." alt="inet::ScenarioManager" shape="rect" coords="762,56,1006,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a42453a02488f3a5e34f4d32a1cad3404"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a42453a02488f3a5e34f4d32a1cad3404">LifecycleController</a> ()</td></tr>
<tr class="separator:a42453a02488f3a5e34f4d32a1cad3404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42dd949ae2cdacc9e160fa01aaf398e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#af42dd949ae2cdacc9e160fa01aaf398e">~LifecycleController</a> ()</td></tr>
<tr class="separator:af42dd949ae2cdacc9e160fa01aaf398e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ad32fc577038680291dfe9b98efcab"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">initiateOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, <a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *completionCallback=nullptr)</td></tr>
<tr class="memdesc:af3ad32fc577038680291dfe9b98efcab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an operation.  <a href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">More...</a><br /></td></tr>
<tr class="separator:af3ad32fc577038680291dfe9b98efcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a01ced5500f11293fdac668c7c960e036"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a01ced5500f11293fdac668c7c960e036">resumeOperation</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation)</td></tr>
<tr class="separator:a01ced5500f11293fdac668c7c960e036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72baa37abc2852188d2fc63200c46347"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a72baa37abc2852188d2fc63200c46347">doOneStage</a> (<a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *operation, cModule *submodule)</td></tr>
<tr class="separator:a72baa37abc2852188d2fc63200c46347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95debaebc45a7601377c0d759c2643b8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a95debaebc45a7601377c0d759c2643b8">moduleOperationStageCompleted</a> (<a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a> *callback)</td></tr>
<tr class="separator:a95debaebc45a7601377c0d759c2643b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9d91e63be3108394191bf315f0dc7749"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a> = nullptr</td></tr>
<tr class="separator:a9d91e63be3108394191bf315f0dc7749"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages operations like shutdown/restart, suspend/resume, crash/recover and similar operations for nodes (routers, hosts, etc), interfaces, and protocols. </p>
<p>Overview and usage are described in the NED file, you are advised to read that first. The rest of this documentation concentrates on the C++ API.</p>
<p>Operations are represented by C++ class derived from <a class="el" href="classinet_1_1_lifecycle_operation.html" title="Base class for operations used by the ILifecycle interface.">LifecycleOperation</a>. Simple modules that wish to participate in an operation need to implement the <a class="el" href="classinet_1_1_i_lifecycle.html" title="Interface to be implemented by modules that want to support failure/recovery, shutdown/restart,...">ILifecycle</a> interface (C++ class).</p>
<p>An operation is initiated by calling the <code>initiateStateChange(cModule *module, <a class="el" href="classinet_1_1_lifecycle_operation.html" title="Base class for operations used by the ILifecycle interface.">LifecycleOperation</a> *operation)</code> method of this class. (This is often done from a <a class="el" href="classinet_1_1_scenario_manager.html" title="Scenario Manager (experimental) which executes a script specified in XML.">ScenarioManager</a> script). This method applies the operation to the given module (usually a host, router or network interface compound module).</p>
<p>Operations may have multiple stages (think multi-stage initialization), where each stage may take nonzero simulation time. The number of stages are defined by the operation (its getNumStages() method). Within a stage, the submodule tree is traversed, and initiateStateChange() is invoked on each module that implements <a class="el" href="classinet_1_1_i_lifecycle.html" title="Interface to be implemented by modules that want to support failure/recovery, shutdown/restart,...">ILifecycle</a>.</p>
<p>Operations may take nonzero simulation time. A module that needs nonzero simulation time to complete a stage (e.g. it wants to close TCP connections or model finite shutdown/reboot time) can signal that in the return value of initiateStateChange(). When it is done, it can signal that to <a class="el" href="classinet_1_1_lifecycle_controller.html" title="Manages operations like shutdown/restart, suspend/resume, crash/recover and similar operations for no...">LifecycleController</a> by invoking the callback passed to it in initiateStateChange(). <a class="el" href="classinet_1_1_lifecycle_controller.html" title="Manages operations like shutdown/restart, suspend/resume, crash/recover and similar operations for no...">LifecycleController</a> only regards the stage as completed (and goes on to the next stage) when all participating modules have indicated that they are done.</p>
<p>Operations can be nested, that is, it's possible to initiate another operation while one is underway.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classinet_1_1_i_lifecycle.html" title="Interface to be implemented by modules that want to support failure/recovery, shutdown/restart,...">ILifecycle</a>, <a class="el" href="classinet_1_1_lifecycle_operation.html" title="Base class for operations used by the ILifecycle interface.">LifecycleOperation</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a42453a02488f3a5e34f4d32a1cad3404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42453a02488f3a5e34f4d32a1cad3404">&#9670;&nbsp;</a></span>LifecycleController()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inet::LifecycleController::LifecycleController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;: <a class="code" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a>(<span class="keyword">nullptr</span>) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af42dd949ae2cdacc9e160fa01aaf398e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42dd949ae2cdacc9e160fa01aaf398e">&#9670;&nbsp;</a></span>~LifecycleController()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual inet::LifecycleController::~LifecycleController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{ <span class="keyword">delete</span> <a class="code" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a72baa37abc2852188d2fc63200c46347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72baa37abc2852188d2fc63200c46347">&#9670;&nbsp;</a></span>doOneStage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::LifecycleController::doOneStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>submodule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    ILifecycle *subject = <span class="keyword">dynamic_cast&lt;</span>ILifecycle *<span class="keyword">&gt;</span>(submodule);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (subject) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        Callback *callback = <a class="code" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a> ? <a class="code" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a> : <span class="keyword">new</span> Callback();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordtype">bool</span> done = subject-&gt;handleOperationStage(operation, callback);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">if</span> (!done) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            callback-&gt;init(<span class="keyword">this</span>, operation, submodule);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            operation-&gt;pendingList.push_back(callback);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <a class="code" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <a class="code" href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">spareCallback</a> = callback;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">for</span> (cModule::SubmoduleIterator i(submodule); !i.end(); i++) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        cModule *child = *i;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="classinet_1_1_lifecycle_controller.html#a72baa37abc2852188d2fc63200c46347">doOneStage</a>(operation, child);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_lifecycle_controller.html#a01ced5500f11293fdac668c7c960e036">resumeOperation()</a>.</p>

</div>
</div>
<a id="af3ad32fc577038680291dfe9b98efcab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ad32fc577038680291dfe9b98efcab">&#9670;&nbsp;</a></span>initiateOperation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::LifecycleController::initiateOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinet_1_1_i_done_callback.html">IDoneCallback</a> *&#160;</td>
          <td class="paramname"><em>completionCallback</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiate an operation. </p>
<p>See the class documentation and <a class="el" href="classinet_1_1_i_lifecycle.html" title="Interface to be implemented by modules that want to support failure/recovery, shutdown/restart,...">ILifecycle</a> for details. The target module will be taken from the operation object.</p>
<p>The return value indicates whether the operation has been completed inside the call (true), or is pending because it will take several events and likely nonzero simulation time to complete (false). In the latter case, and if you provided a completionCallback as parameter, you will be notified via the callback when the operation completes. </p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    ASSERT(getSimulation()-&gt;getContextModule() == check_and_cast&lt;cComponent *&gt;(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    operation-&gt;currentStage = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    operation-&gt;operationCompletionCallback = completionCallback;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    operation-&gt;insideInitiateOperation = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinet_1_1_lifecycle_controller.html#a01ced5500f11293fdac668c7c960e036">resumeOperation</a>(operation);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_management.html#a520c3c258cee505d4460c86c2397cc06">inet::power::SimpleEpEnergyManagement::executeNodeOperation()</a>, <a class="el" href="classinet_1_1power_1_1_simple_cc_battery.html#ae1622e64b83615d1ac33cd174282192c">inet::power::SimpleCcBattery::executeNodeOperation()</a>, <a class="el" href="classinet_1_1power_1_1_simple_ep_energy_storage.html#a8688bbc8381f0b6359a0845d13551755">inet::power::SimpleEpEnergyStorage::executeNodeOperation()</a>, and <a class="el" href="classinet_1_1_scenario_manager.html#a4cb3dca13d3f8ee3fd3f0aaf9b94d7a0">inet::ScenarioManager::processLifecycleCommand()</a>.</p>

</div>
</div>
<a id="a95debaebc45a7601377c0d759c2643b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95debaebc45a7601377c0d759c2643b8">&#9670;&nbsp;</a></span>moduleOperationStageCompleted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inet::LifecycleController::moduleOperationStageCompleted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    omnetpp::cMethodCallContextSwitcher __ctx(check_and_cast&lt;cComponent *&gt;(<span class="keyword">this</span>)); __ctx.methodCall(__FUNCTION__);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#ifdef INET_WITH_SELFDOC</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="_self_doc_8h.html#aeca102218f04adfe4ee9f7206c90c7a2">__Enter_Method_SelfDoc</a>(__FUNCTION__);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    LifecycleOperation *operation = callback-&gt;operation;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    std::string moduleFullPath = callback-&gt;module-&gt;getFullPath();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="namespaceinet.html#aab5bb7bfc72cd66cd25ec7f5ddae4563">vector_delete_element</a>(operation-&gt;pendingList, (IDoneCallback *)callback);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    EV &lt;&lt; <span class="stringliteral">&quot;Module &quot;</span> &lt;&lt; moduleFullPath &lt;&lt; <span class="stringliteral">&quot; completed stage &quot;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;       &lt;&lt; operation-&gt;currentStage &lt;&lt; <span class="stringliteral">&quot; of operation &quot;</span> &lt;&lt; operation-&gt;getClassName() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;       &lt;&lt; operation-&gt;pendingList.size() &lt;&lt; <span class="stringliteral">&quot; more module(s) pending&quot;</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;       &lt;&lt; (operation-&gt;pendingList.empty() ? <span class="stringliteral">&quot;, stage completed&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; endl;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (operation-&gt;pendingList.empty()) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        operation-&gt;currentStage++;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        operation-&gt;insideInitiateOperation = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="classinet_1_1_lifecycle_controller.html#a01ced5500f11293fdac668c7c960e036">resumeOperation</a>(operation);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a01ced5500f11293fdac668c7c960e036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ced5500f11293fdac668c7c960e036">&#9670;&nbsp;</a></span>resumeOperation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inet::LifecycleController::resumeOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinet_1_1_lifecycle_operation.html">LifecycleOperation</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">int</span> numStages = operation-&gt;getNumStages();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">while</span> (operation-&gt;currentStage &lt; numStages) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        EV &lt;&lt; <span class="stringliteral">&quot;Doing stage &quot;</span> &lt;&lt; operation-&gt;currentStage &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; operation-&gt;getNumStages()</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; of operation &quot;</span> &lt;&lt; operation-&gt;getClassName() &lt;&lt; <span class="stringliteral">&quot; on &quot;</span> &lt;&lt; operation-&gt;rootModule-&gt;getFullPath() &lt;&lt; endl;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="classinet_1_1_lifecycle_controller.html#a72baa37abc2852188d2fc63200c46347">doOneStage</a>(operation, operation-&gt;rootModule);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span> (operation-&gt;pendingList.empty())</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            operation-&gt;currentStage++;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// pending</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// done: invoke callback (unless we are still under initiateOperation())</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (operation-&gt;operationCompletionCallback &amp;&amp; !operation-&gt;insideInitiateOperation)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        operation-&gt;operationCompletionCallback-&gt;invoke();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">delete</span> operation;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// done</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classinet_1_1_lifecycle_controller.html#af3ad32fc577038680291dfe9b98efcab">initiateOperation()</a>, and <a class="el" href="classinet_1_1_lifecycle_controller.html#a95debaebc45a7601377c0d759c2643b8">moduleOperationStageCompleted()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9d91e63be3108394191bf315f0dc7749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d91e63be3108394191bf315f0dc7749">&#9670;&nbsp;</a></span>spareCallback</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinet_1_1_lifecycle_controller_1_1_callback.html">Callback</a>* inet::LifecycleController::spareCallback = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classinet_1_1_lifecycle_controller.html#a72baa37abc2852188d2fc63200c46347">doOneStage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_lifecycle_controller_8h.html">LifecycleController.h</a></li>
<li><a class="el" href="_lifecycle_controller_8cc.html">LifecycleController.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassinet_1_1_lifecycle_controller_html_a9d91e63be3108394191bf315f0dc7749"><div class="ttname"><a href="classinet_1_1_lifecycle_controller.html#a9d91e63be3108394191bf315f0dc7749">inet::LifecycleController::spareCallback</a></div><div class="ttdeci">Callback * spareCallback</div><div class="ttdef"><b>Definition:</b> LifecycleController.h:66</div></div>
<div class="ttc" id="aclassinet_1_1_lifecycle_controller_html_a72baa37abc2852188d2fc63200c46347"><div class="ttname"><a href="classinet_1_1_lifecycle_controller.html#a72baa37abc2852188d2fc63200c46347">inet::LifecycleController::doOneStage</a></div><div class="ttdeci">virtual void doOneStage(LifecycleOperation *operation, cModule *submodule)</div><div class="ttdef"><b>Definition:</b> LifecycleController.cc:75</div></div>
<div class="ttc" id="aclassinet_1_1_lifecycle_controller_html_a01ced5500f11293fdac668c7c960e036"><div class="ttname"><a href="classinet_1_1_lifecycle_controller.html#a01ced5500f11293fdac668c7c960e036">inet::LifecycleController::resumeOperation</a></div><div class="ttdeci">virtual bool resumeOperation(LifecycleOperation *operation)</div><div class="ttdef"><b>Definition:</b> LifecycleController.cc:55</div></div>
<div class="ttc" id="a_self_doc_8h_html_aeca102218f04adfe4ee9f7206c90c7a2"><div class="ttname"><a href="_self_doc_8h.html#aeca102218f04adfe4ee9f7206c90c7a2">__Enter_Method_SelfDoc</a></div><div class="ttdeci">#define __Enter_Method_SelfDoc(...)</div><div class="ttdef"><b>Definition:</b> SelfDoc.h:56</div></div>
<div class="ttc" id="anamespaceinet_html_aab5bb7bfc72cd66cd25ec7f5ddae4563"><div class="ttname"><a href="namespaceinet.html#aab5bb7bfc72cd66cd25ec7f5ddae4563">inet::vector_delete_element</a></div><div class="ttdeci">void vector_delete_element(std::vector&lt; T * &gt; &amp;v, T *p)</div><div class="ttdef"><b>Definition:</b> LifecycleController.cc:38</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinet.html">inet</a></li><li class="navelem"><a class="el" href="classinet_1_1_lifecycle_controller.html">LifecycleController</a></li>
    <li class="footer">Generated on Sun Apr 10 2022 21:00:23 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
