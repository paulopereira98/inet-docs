<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="OMNeT++ NED doc generator"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
<link rel="stylesheet" href="material-icons.css">
<link rel="stylesheet" href="material.blue-light_blue.min.css">
<link rel="stylesheet" href="style.css" type="text/css" />

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<title>PimDm</title>
</head>
<body>

<div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div id="top" class="mdl-layout__header-row">
      <span class="mdl-layout-title">PimDm</span>
      <div class="mdl-layout-spacer"></div>
<!--
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
        <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" id="search" />
          <label class="mdl-textfield__label" for="search">Enter your query...</label>
        </div>
      </div>
      <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons">code</i>
      </button>
      <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
        <i class="material-icons">more_vert</i>
      </button>
      <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
        <li class="mdl-menu__item">OMNeT++ Website</li>
      </ul>
-->
    </div>
  </header>

  <div class="drawer mdl-layout__drawer">
    <nav id="side-nav" class="mdl-navigation">
      <div id="nav-tree">
        <div id="nav-tree-contents">
          <div id="nav-sync" class="sync"></div>
        </div>
      </div>
    </nav>
  </div>
  <script type="text/javascript">
  $(document).ready(function(){initNavTree(location.pathname.split("/").slice(-1).toString(),'');});
  </script>

  <main class="mdl-layout__content">
    <div id="doc-content">

    <p>Package: <a class="reference-ned" href="packages.html#inet_routing_pim_modes">inet.routing.pim.modes</a></p>
<h2 class="comptitle" style="float: left;">PimDm</h2>
<span class="mdl-chip" style="float: right; margin-top: 6pt; background-color: #ff000040;">
    <span class="mdl-chip__text">simple module</span>
</span><div style="clear: both;"/>
<p><a class="reference-cpp" href="../doxy/classinet_1_1_pim_dm.html">C++ definition</a></p>

<p>Implementation of PIM-DM protocol (RFC 3973).</p>
<p>PIM-DM is a multicast routing protocol which is designed
for networks where the receivers are densely distributed.
PIM-DM initially floods the multicast datagrams to all areas
of the network. If some areas of the network does not have
group members, then they will be pruned off the forwarding tree.</p>
<p>The prune state of a branch must be confirmed periodically,
otherwise the forwarding restarts automatically. The router
can also cancel the prune by sending a Graft message.</p>
<p>The module must access the ~<a href="inet.routing.pim.tables.PimInterfaceTable.html">PimInterfaceTable</a> and ~<a href="inet.routing.pim.tables.PimNeighborTable.html">PimNeighborTable</a>
modules, their path is given as the 'pimInterfaceTableModule' and
'pimNeighborTableModule' parameters.</p>
<p>Other parameters are timer values from the specification.
They should not be modified except for testing purposes.</p>
<img src="inet.routing.pim.modes.PimDm-type.svg" ismap="yes" usemap="#type-diagram"/><map name="type-diagram">
<area shape="rect" href="inet.routing.pim.modes.PimDm.html" title="PimDm" alt="PimDm" coords="0,31,93,71">
</map>
<h3 class="subtitle">Used in compound modules</h3>
<table class="typestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="description">Description</th>
   </tr>
   <tr>
      <td><a class="reference-ned" href="inet.routing.pim.Pim.html">Pim</a></td>
      <td><i>compound&nbsp;module</i></td>
      <td><i>(no description)</i></td>
   </tr>
</table>
<h3 class="subtitle">Parameters</h3>
<table class="paramstable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="defaultvalue">Default value</th>
      <th class="description">Description</th>
   </tr>
   <tr class="local">
      <td>interfaceTableModule</td>
      <td>string</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>routingTableModule</td>
      <td>string</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>pimInterfaceTableModule</td>
      <td>string</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>pimNeighborTableModule</td>
      <td>string</td>
      <td></td>
      <td>
</td>
   </tr>
   <tr class="local">
      <td>triggeredHelloDelay</td>
      <td>double</td>
      <td>uniform(0s,5s)</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>helloPeriod</td>
      <td>double</td>
      <td>30s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>holdTime</td>
      <td>double</td>
      <td>3.5 * helloPeriod</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>pruneInterval</td>
      <td>double</td>
      <td>180s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>pruneLimitInterval</td>
      <td>double</td>
      <td>210s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>overrideInterval</td>
      <td>double</td>
      <td>2.5s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>propagationDelay</td>
      <td>double</td>
      <td>0.5s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>graftRetryInterval</td>
      <td>double</td>
      <td>3s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>sourceActiveInterval</td>
      <td>double</td>
      <td>210s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>stateRefreshInterval</td>
      <td>double</td>
      <td>60s</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>assertTime</td>
      <td>double</td>
      <td>180s</td>
      <td>
</td>
   </tr>
</table>
<h3 class="subtitle">Properties</h3>
<table class="propertiestable">
   <tr>
      <th class="name">Name</th>
      <th class="value">Value</th>
      <th class="description">Description</th>
   </tr>
   <tr>
      <td>display</td>
      <td>i=block/network2</td>
      <td></td>
   </tr>
</table>
<h3 class="subtitle">Gates</h3>
<table class="gatestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Direction</th>
      <th class="gatesize">Size</th>
      <th class="description">Description</th>
   </tr>
   <tr class="local">
      <td>ipIn</td>
      <td>input</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>ipOut</td>
      <td>output</td>
      <td></td>
      <td></td>
   </tr>
</table>
<h3 class="subtitle">Signals</h3>
<table class="signalstable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="unit">Unit</th>
   </tr>
   <tr class="local">
      <td>sentHelloPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>sentJoinPrunePk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>rcvdStateRefreshPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>rcvdHelloPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>rcvdJoinPrunePk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>sentGraftPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>rcvdGraftPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>sentAssertPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>sentGraftAckPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>rcvdAssertPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>rcvdGraftAckPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>sentStateRefreshPk</td>
      <td>cPacket</td>
      <td></td>
   </tr>
</table>
<h3 class="subtitle">Source code</h3>
<pre class="src">
<span style="color: #808080; font-style: italic; ">//
// Implementation of PIM-DM protocol (RFC 3973).
//
// PIM-DM is a multicast routing protocol which is designed
// for networks where the receivers are densely distributed.
// PIM-DM initially floods the multicast datagrams to all areas
// of the network. If some areas of the network does not have
// group members, then they will be pruned off the forwarding tree.
//
// The prune state of a branch must be confirmed periodically,
// otherwise the forwarding restarts automatically. The router
// can also cancel the prune by sending a Graft message.
//
// The module must access the ~PimInterfaceTable and ~PimNeighborTable
// modules, their path is given as the 'pimInterfaceTableModule' and
// 'pimNeighborTableModule' parameters.
//
// Other parameters are timer values from the specification.
// They should not be modified except for testing purposes.
//
</span><span style="color: #800000; font-weight: bold; ">simple</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">PimDm</span><span style="color: #3d3d3d; ">
{
    </span><span style="color: #800000; font-weight: bold; ">parameters</span><span style="color: #3d3d3d; ">:
        </span><span style="color: #3d3d3d; font-weight: bold; ">@display</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">&quot;i=block/network2&quot;</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">interfaceTableModule</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">routingTableModule</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">pimInterfaceTableModule</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">pimNeighborTableModule</span><span style="color: #3d3d3d; ">;

        </span><span style="color: #000080; font-weight: bold; ">volatile</span><span style="color: #3d3d3d; "> </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">triggeredHelloDelay</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800080; ">uniform</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">0</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">,</span><span style="color: #008000; ">5</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">helloPeriod</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">30</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">holdTime</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">3</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">5</span><span style="color: #3d3d3d; "> * </span><span style="color: #3d3d3d; ">helloPeriod</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">pruneInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">180</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">pruneLimitInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">210</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">overrideInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">2</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">5</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">propagationDelay</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">0</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">5</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">graftRetryInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">3</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">sourceActiveInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">210</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">stateRefreshInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">60</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">assertTime</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #008000; ">180</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">;

        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">sentHelloPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">rcvdHelloPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">sentGraftPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">rcvdGraftPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">sentGraftAckPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">rcvdGraftAckPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">sentJoinPrunePk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">rcvdJoinPrunePk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">sentAssertPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">rcvdAssertPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">sentStateRefreshPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #3d3d3d; font-weight: bold; ">@signal</span><span style="color: #3d3d3d; ">[</span><span style="color: #3d3d3d; ">rcvdStateRefreshPk</span><span style="color: #3d3d3d; ">](</span><span style="color: #3d3d3d; ">type</span><span style="color: #3d3d3d; ">=</span><span style="color: #3d3d3d; ">cPacket</span><span style="color: #3d3d3d; ">);

    </span><span style="color: #800000; font-weight: bold; ">gates</span><span style="color: #3d3d3d; ">:
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">ipIn</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">ipOut</span><span style="color: #3d3d3d; ">;
}

</span></pre>
File: <a href="src-inet-routing-pim-modes-PimDm.ned.html">src/inet/routing/pim/modes/PimDm.ned</a>
<hr><p class="footer"><a href="http://creativecommons.org/licenses/by-sa/3.0" target="_top"><img src="by-sa.svg"></a> This documentation is released under the <a href="http://creativecommons.org/licenses/by-sa/3.0" target="_top">Creative Commons license</a></p>


    </div><!-- doc-content -->
  </main>
</div>

<script type="text/javascript" src="material.min.js"></script>
</body>
</html>
