<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="OMNeT++ NED doc generator"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
<link rel="stylesheet" href="material-icons.css">
<link rel="stylesheet" href="material.blue-light_blue.min.css">
<link rel="stylesheet" href="style.css" type="text/css" />

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<title>SimpleVoipSender</title>
</head>
<body>

<div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div id="top" class="mdl-layout__header-row">
      <span class="mdl-layout-title">SimpleVoipSender</span>
      <div class="mdl-layout-spacer"></div>
<!--
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
        <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" id="search" />
          <label class="mdl-textfield__label" for="search">Enter your query...</label>
        </div>
      </div>
      <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons">code</i>
      </button>
      <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
        <i class="material-icons">more_vert</i>
      </button>
      <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
        <li class="mdl-menu__item">OMNeT++ Website</li>
      </ul>
-->
    </div>
  </header>

  <div class="drawer mdl-layout__drawer">
    <nav id="side-nav" class="mdl-navigation">
      <div id="nav-tree">
        <div id="nav-tree-contents">
          <div id="nav-sync" class="sync"></div>
        </div>
      </div>
    </nav>
  </div>
  <script type="text/javascript">
  $(document).ready(function(){initNavTree(location.pathname.split("/").slice(-1).toString(),'');});
  </script>

  <main class="mdl-layout__content">
    <div id="doc-content">

    <p>Package: <a class="reference-ned" href="packages.html#inet_applications_voip">inet.applications.voip</a></p>
<h2 class="comptitle" style="float: left;">SimpleVoipSender</h2>
<span class="mdl-chip" style="float: right; margin-top: 6pt; background-color: #ff000040;">
    <span class="mdl-chip__text">simple module</span>
</span><div style="clear: both;"/>
<p><a class="reference-cpp" href="../doxy/classinet_1_1_simple_voip_sender.html">C++ definition</a></p>

<p>Implements a simple VoIP source. It is a constant bitrate source, with
talkspurt support added. Packets do not contain actual voice data.
Connection setup/teardown is not modelled. The peer must be a
~<a href="inet.applications.voip.SimpleVoipReceiver.html">SimpleVoipReceiver</a>.</p>
<p>The source alternates between two states: talk and silence. The length
the module spends in each state are controlled by the talkspurtDuration and
silenceDuration parameters. In talk state, the module acts as a CBR source,
and sends packets of size talkPacketSize every packetizationInterval seconds
to the destination over UDP. Silence is implicit: in silence state, no packets
are sent, and there is no explicit signalling of silence either.</p>
<p>Packets are of type <a href="src-inet-applications-voip-SimpleVoipPacket.html">SimpleVoipPacket</a>. In addition to packet ID and timestamp,
packets also contain a talkspurt ID and the total number of packets in the
talkspurt to facilitate statistics at the receiver side. (It allows the receiver
to detect loss of packets at the end of a talkspurt; a full talkspurt can still
be lost unnoticed.)</p>
<p>The destination address/port, the local port, start and stop times can be
set via parameters.</p>
<p>&lt;<a href="src-inet-common-b.html">b</a>&gt;Author:&lt;/<a href="src-inet-common-b.html">b</a>&gt;: Adriano</p>
<img src="inet.applications.voip.SimpleVoipSender-type.svg" ismap="yes" usemap="#type-diagram"/><map name="type-diagram">
<area shape="rect" href="inet.applications.voip.SimpleVoipSender.html" title="SimpleVoipSender" alt="SimpleVoipSender" coords="0,31,168,71">
</map>
<h3 class="subtitle">Inheritance diagram</h3>
<p>The following diagram shows inheritance relationships for this type.
Unresolved types are missing from the diagram.</p>
<object type="image/svg+xml" data="inet.applications.voip.SimpleVoipSender-inheritance.svg"></object>
<h3 class="subtitle">Parameters</h3>
<table class="paramstable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="defaultvalue">Default value</th>
      <th class="description">Description</th>
   </tr>
   <tr class="local">
      <td>localPort</td>
      <td>int</td>
      <td>-1</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>destPort</td>
      <td>int</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>destAddress</td>
      <td>string</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>talkPacketSize</td>
      <td>int</td>
      <td>40B</td>
      <td>
<p>size of talk packets in bytes</p>
</td>
   </tr>
   <tr class="local">
      <td>talkspurtDuration</td>
      <td>double</td>
      <td>weibull(1.423s, 0.824s)</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>silenceDuration</td>
      <td>double</td>
      <td>weibull(0.899s, 1.089s)</td>
      <td></td>
   </tr>
   <tr class="local">
      <td>packetizationInterval</td>
      <td>double</td>
      <td>20ms</td>
      <td>
<p>interval between sending voice packets</p>
</td>
   </tr>
   <tr class="local">
      <td>startTime</td>
      <td>double</td>
      <td>0s</td>
      <td>
<p>time of start sending</p>
</td>
   </tr>
   <tr class="local">
      <td>stopTime</td>
      <td>double</td>
      <td>-1s</td>
      <td>
<p>time of end of sending, -1 means forever</p>
</td>
   </tr>
</table>
<h3 class="subtitle">Properties</h3>
<table class="propertiestable">
   <tr>
      <th class="name">Name</th>
      <th class="value">Value</th>
      <th class="description">Description</th>
   </tr>
   <tr>
      <td>display</td>
      <td>i=block/source</td>
      <td></td>
   </tr>
</table>
<h3 class="subtitle">Gates</h3>
<table class="gatestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Direction</th>
      <th class="gatesize">Size</th>
      <th class="description">Description</th>
   </tr>
   <tr class="local">
      <td>socketIn</td>
      <td>input</td>
      <td></td>
      <td></td>
   </tr>
   <tr class="local">
      <td>socketOut</td>
      <td>output</td>
      <td></td>
      <td></td>
   </tr>
</table>
<h3 class="subtitle">Source code</h3>
<pre class="src">
<span style="color: #808080; font-style: italic; ">//
// Implements a simple VoIP source. It is a constant bitrate source, with
// talkspurt support added. Packets do not contain actual voice data.
// Connection setup/teardown is not modelled. The peer must be a
// ~SimpleVoipReceiver.
//
// The source alternates between two states: talk and silence. The length
// the module spends in each state are controlled by the talkspurtDuration and
// silenceDuration parameters. In talk state, the module acts as a CBR source,
// and sends packets of size talkPacketSize every packetizationInterval seconds
// to the destination over UDP. Silence is implicit: in silence state, no packets
// are sent, and there is no explicit signalling of silence either.
//
// Packets are of type SimpleVoipPacket. In addition to packet ID and timestamp,
// packets also contain a talkspurt ID and the total number of packets in the
// talkspurt to facilitate statistics at the receiver side. (It allows the receiver
// to detect loss of packets at the end of a talkspurt; a full talkspurt can still
// be lost unnoticed.)
//
// The destination address/port, the local port, start and stop times can be
// set via parameters.
//
// </span><span style="color: #000080; ">@author</span><span style="color: #808080; font-style: italic; ">: Adriano
//
</span><span style="color: #800000; font-weight: bold; ">simple</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">SimpleVoipSender</span><span style="color: #3d3d3d; "> </span><span style="color: #800000; font-weight: bold; ">like</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">IApp</span><span style="color: #3d3d3d; ">
{
    </span><span style="color: #800000; font-weight: bold; ">parameters</span><span style="color: #3d3d3d; ">:
        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">localPort</span><span style="color: #3d3d3d; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(-</span><span style="color: #008000; ">1</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">destPort</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">destAddress</span><span style="color: #3d3d3d; ">;
        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">talkPacketSize</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">B</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">40</span><span style="color: #3d3d3d; ">B</span><span style="color: #3d3d3d; ">);     </span><span style="color: #808080; font-style: italic; ">// size of talk packets in bytes
</span><span style="color: #3d3d3d; ">        </span><span style="color: #000080; font-weight: bold; ">volatile</span><span style="color: #3d3d3d; "> </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">talkspurtDuration</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(</span><span style="color: #800080; ">weibull</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">1</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">423</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">, </span><span style="color: #008000; ">0</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">824</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">));
        </span><span style="color: #000080; font-weight: bold; ">volatile</span><span style="color: #3d3d3d; "> </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">silenceDuration</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(</span><span style="color: #800080; ">weibull</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">0</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">899</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">, </span><span style="color: #008000; ">1</span><span style="color: #3d3d3d; ">.</span><span style="color: #008000; ">089</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">));
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">packetizationInterval</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">20</span><span style="color: #3d3d3d; ">ms</span><span style="color: #3d3d3d; ">);   </span><span style="color: #808080; font-style: italic; ">// interval between sending voice packets
</span><span style="color: #3d3d3d; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">startTime</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">0</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">);   </span><span style="color: #808080; font-style: italic; ">// time of start sending
</span><span style="color: #3d3d3d; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">stopTime</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@unit</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #3d3d3d; ">(-</span><span style="color: #008000; ">1</span><span style="color: #3d3d3d; ">s</span><span style="color: #3d3d3d; ">);  </span><span style="color: #808080; font-style: italic; ">// time of end of sending, -1 means forever
</span><span style="color: #3d3d3d; ">
        </span><span style="color: #3d3d3d; font-weight: bold; ">@display</span><span style="color: #3d3d3d; ">(</span><span style="color: #008000; ">&quot;i=block/source&quot;</span><span style="color: #3d3d3d; ">);
    </span><span style="color: #800000; font-weight: bold; ">gates</span><span style="color: #3d3d3d; ">:
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">socketIn</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@labels</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">UdpControlInfo</span><span style="color: #3d3d3d; ">/</span><span style="color: #3d3d3d; ">up</span><span style="color: #3d3d3d; ">);
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; ">socketOut</span><span style="color: #3d3d3d; "> </span><span style="color: #3d3d3d; font-weight: bold; ">@labels</span><span style="color: #3d3d3d; ">(</span><span style="color: #3d3d3d; ">UdpControlInfo</span><span style="color: #3d3d3d; ">/</span><span style="color: #3d3d3d; ">down</span><span style="color: #3d3d3d; ">);
}

</span></pre>
File: <a href="src-inet-applications-voip-SimpleVoipSender.ned.html">src/inet/applications/voip/SimpleVoipSender.ned</a>
<hr><p class="footer"><a href="http://creativecommons.org/licenses/by-sa/3.0" target="_top"><img src="by-sa.svg"></a> This documentation is released under the <a href="http://creativecommons.org/licenses/by-sa/3.0" target="_top">Creative Commons license</a></p>


    </div><!-- doc-content -->
  </main>
</div>

<script type="text/javascript" src="material.min.js"></script>
</body>
</html>
